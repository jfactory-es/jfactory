/*!
 * jFactory v1.7.4
 * https://github.com/jfactory-es/jfactory
 *
 * Copyright (c) 2019, StÃ©phane Plazis
 * https://github.com/jfactory-es/jfactory/blob/master/LICENSE.txt
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("lodash"),t=require("jquery");const r=env("JFACTORY_ENV_CLI")??function isNode(){return"object"==typeof process&&"object"==typeof process.versions&&process.versions.node}(),a=env("JFACTORY_ENV_LOG")??(!r||false),s=env("JFACTORY_ENV_TRACE")??(!r||false),i=env("JFACTORY_ENV_BOOT")??!0,o=env,n=function cfg(e,t){void 0===c[e]?(c[e]=Object.assign({},t,globalThis[e]),delete globalThis[e]):void 0!==t&&(c[e]=!1!==t&&Object.assign(c[e],t));return c[e]},c={};function env(e){let t=globalThis[e];return delete globalThis[e],t}const l=t,u=e.isString,p=e.isNumber,d=e.isPlainObject,m=e.defaultsDeep,y=e.lowerFirst,v=e.get,f=e.template,g=e.camelCase,NOOP=()=>{},helper_setFunctionName=(e,t)=>Object.defineProperty(t,"name",{value:e}),$=document.createElement("a"),helper_url_abs=e=>($.href=e,$.href),helper_isNative=function(e){return"function"==typeof e&&-1!==Function.prototype.toString.call(e).indexOf("[native code]")};function helper_useragent(e){return globalThis.navigator&&globalThis.navigator.userAgent&&globalThis.navigator.userAgent.indexOf(e+"/")>0}const helper_deferred=()=>new Deferred;class Deferred{constructor(){this._done=[],this._fail=[]}execute(e){for(let t of e)t();this.fulfilled=!0}resolve(){this.execute(this._done)}reject(){this.execute(this._fail)}done(e){this.fulfilled?e():this._done.push(e)}fail(e){this.fulfilled?e():this._fail.push(e)}}const b={name:"fetch",test:()=>fetch,info:"https://developer.mozilla.org/docs/Web/API/Fetch_API/Using_Fetch"},E={name:"Request",test:()=>Request,info:"https://developer.mozilla.org/docs/Web/API/Request"},F={name:"AbortController/AbortSignal",test:()=>(new AbortController).signal,info:"https://developer.mozilla.org/docs/Web/API/AbortController, https://developer.mozilla.org/docs/Web/API/AbortSignal"},T={name:"MutationObserver",test:()=>MutationObserver,info:"https://developer.mozilla.org/docs/Web/API/MutationObserver"};let S={};function jFactoryCompat_require(...e){for(let t of e)S[t.name]=t}function jFactoryCompat_run(){for(let[e,t]of Object.entries(S)){let r;try{r=Boolean(t.test())}catch(e){}r||console.warn(`jFactory may require the support of "${e}", ${t.info}`)}S=null}function jFactoryBootstrap(e){if(!_){if(e&&!i)return;console.log("jFactory v1.7.4 running in development mode; performances will be affected"),!a&&console.log("jFactory: logs disabled"),jFactoryCompat_run(),function init(){if(A){for(let e of A)e();A=null}}(),_=!0}}let A=[];let J,_=!1;function jFactoryBootstrap_expected(){if(!_)throw new Error("jFactoryBootstrap() must be called before using jFactory")}function jFactoryBootstrap_onBoot(e){if(_)throw new Error("jFactoryBootstrap() already called");A.push(e)}class JFactoryTrace{constructor(e="JFactoryTrace",t=!0,r=1/0){let a;r&&(a=Error.stackTraceLimit,Error.stackTraceLimit=r),this.source=new Error,this.omitAboveFunctionName=e,this.omitSelf=t,r&&(Error.stackTraceLimit=a),this.init()}init(){this.printable=this.source,this.asyncPrintable=Promise.resolve(this.printable)}static createErrorFromStack(e){let t=new Error;return t.name="JFactoryTrace",t.stack=e,t}}class JFactoryTrace_LIB_STACKTRACE extends JFactoryTrace{init(){let h=e=>{this.printable=this.constructor.createErrorFromStack(this.createStackFromTraceFrames(this.filterTraceFrames(e)))};h(StackTrace.getSync(this.source,R.libOptions)),R.useSourcemap?this.asyncPrintable=StackTrace.fromError(this.source,R.libOptions).then(h):this.asyncPrintable=Promise.resolve(this.printable)}filterTraceFrames(e){if(this.omitAboveFunctionName){let t=e.findIndex((e=>e.functionName&&e.functionName.endsWith(this.omitAboveFunctionName)));t>0&&(this.omitSelf&&t++,e=e.slice(t))}return e}createStackFromTraceFrames(e){for(let t of Object.values(O.formatters))if(t.test())return t.format(e);return this.source.stack}}J=s?{captureTraceSource:(e,t,r)=>new(R.tracer||JFactoryTrace)(e,t,r),attachTrace(e,t,r=R.keys[0],a=R.keys[1],s=R.label){"object"!=typeof t&&(t=this.captureTraceSource(t||"attachTrace",!t));Object.defineProperty(e,r,{get:()=>console.log(t.printable)||s||"The stack has been printed in the console"}),Object.defineProperty(e,a,{value:t})},formatters:{webkit:{test:()=>helper_useragent("Chrome"),format:e=>"Error (generated by JFactoryTrace)\n"+e.map((e=>{let t="\tat ",r=e.fileName+":"+e.lineNumber+":"+e.columnNumber;return e.functionName?t+=e.functionName+" ("+r+")":t+=r,t})).join("\n")},firefox:{test:()=>helper_useragent("Gecko"),format:e=>e.map((e=>(e.functionName??"<anonymous>")+"@"+e.fileName+":"+e.lineNumber+":"+e.columnNumber)).join("\n")}}}:{captureTraceSource:NOOP,attachTrace:NOOP};const O=J,R=n("JFACTORY_CFG_JFactoryTrace");s&&(R.keys=["$dev_traceLog","$dev_traceSource"],"object"==typeof StackTrace&&(R.tracer=JFactoryTrace_LIB_STACKTRACE,R.useSourcemap=!1),jFactoryBootstrap_onBoot((function(){R.tracer===JFactoryTrace_LIB_STACKTRACE&&console.log("JFactoryTrace: Stacktrace.js support enabled; performances will be affected")})));class JFactoryError extends Error{constructor(e="unspecified error",t=null){t=Object.assign(Object.create(null),t),super(e=JFactoryError.toPrintable(e,t)),this.$data=Object.assign(Object.create(null),t)}toString(){return this.message}*[Symbol.iterator](){yield this.message,yield this.$data}static getId(e){return e[I.keys.find((t=>{let r=v(e,t);return r||0===r}))]}static toPrintableData(e){const t={};let r;for(let[a,s]of Object.entries(e)){switch(typeof s){case"function":s=s.name+"()";break;case"object":if(null===s){s="null";break}if(s instanceof Error){s=s.toString();break}if(void 0!==(r=JFactoryError.getId(s)))s='"'+r+'"';else if(helper_isNative(s.toString))try{r=JSON.stringify(s),s=r.length>I.jsonMax?r.substring(0,I.jsonMax)+"[...]":r}catch(e){s="[object "+s.constructor.name+"]"}else s=s.toString();break;case"string":s='"'+s+'"';break;default:s=String(s)}t[a]=s}return t}static toPrintable(e,t){const r=[];for(let a of e.split(";")){let e,s=I.reg_placeholder;if(s.lastIndex=0,e=s.exec(a)){do{if(e[1]&&e[1]in t){r.push(a.trim());break}}while(null!==(e=s.exec(a)))}else r.push(a.trim())}return y(f(r.join("; "))(JFactoryError.toPrintableData(t)))}static factory(e,t){let r={[e]:class extends JFactoryError{constructor(e,r){super(t,e),O.attachTrace(this.$data,r)}}}[e];return r.prototype.name="Error JFACTORY_ERR_"+e,r}}const x=JFactoryError.factory,P=x("INVALID_VALUE","invalid value for ${target}; Reason: ${reason}; Given: ${given}"),j=x("INVALID_CALL","invalid call ${target}; Reason: ${reason}; Owner: ${owner}"),w=x("PROMISE_EXPIRED","expired promise ${target}; Reason: ${reason}"),C=x("REQUEST_ERROR","error requesting ${target}; Reason: ${reason}; Owner: ${owner}"),L=x("KEY_DUPLICATED","duplicated key for ${target}; Given: ${given}"),N=x("KEY_MISSING","missing key for ${target}; Given: ${given}"),I=n("JFACTORY_CFG_JFactoryError",{reg_placeholder:/\${([^}]+)}/g,jsonMax:40,keys:["$.about.name","$dev_name","$name","name","id"]});function JFactoryExpect(e,t){if(jFactoryBootstrap_expected(),!new.target)return new JFactoryExpect(e,t);this.label=e,this.value=t}const M=function jFactoryThrow(e,t,r){throw new P({target:e,reason:r,given:t})},B={notUndefined:(e,t)=>(void 0===t&&M(e,t,"cannot be undefined"),!0),notEmptyString:(e,t)=>(""===t&&M(e,t,"cannot be empty string"),!0),notFalsy:(e,t)=>(t||M(e,t,'cannot be a falsy value (undefined, null, NaN, 0, "")'),!0),validSpaces:(e,t)=>(t.replace&&t.replace(/\s+/g," ").trim()===t||M(e,t,"invalid space delimiters"),!0),matchReg:(e,t,r)=>(r.test(t)||M(e,t,'string "'+t+'" must match '+r),!0),type(e,t,...r){let a,s=!1;for(let i of r){null===i?a="Null":"name"in i&&(a=i.name);let r=B["type"+a];if(r)try{s=r(e,t)}catch(e){}else s=t instanceof i;if(s)break}return s||M(e,t,"must be an instance of ["+r.map((e=>e.name)).join(", ")+"]"),!0},typeNull:(e,t)=>(null!==t&&M(e,t,"must be null"),!0),typeBoolean:(e,t)=>(!0!==t&&!1!==t&&M(e,t,"must be a boolean"),!0),typeString:(e,t)=>(u(t)||M(e,t,"must be a string"),!0),typeNumber:(e,t)=>(p(t)||M(e,t,"must be a number"),!0),typeFunction:(e,t)=>("function"!=typeof t&&M(e,t,"must be a function"),!0),typePlainObject:(e,t)=>(d(t)||M(e,t,"must be a plain object"),!0),equal(e,t,...r){let a=!1;for(let e of r)if(a=t===e)break;return a||M(e,t,"must be one of ["+r+"]"),!0},equalIn:(e,t,r)=>(Array.isArray(r)||(r=Object.values(r)),r.includes(t)||M(e,t,"must be one from ["+r.join(", ")+"]"),!0),properties(e,t,r){for(let a of Object.getOwnPropertyNames(t))JFactoryExpect(e+', property name "'+a+'"',a).equalIn(r);return!0},writable:(e,t,r)=>(Object.getOwnPropertyDescriptor(t,r).writable||M(e,t,"must be writable"),!0),notWritable:(e,t,r)=>(Object.getOwnPropertyDescriptor(t,r).writable&&M(e,t,"must not be writable"),!0),enumerable:(e,t,r)=>(Object.prototype.propertyIsEnumerable.call(t,r)||M(e,t,"must be enumerable"),!0),notEnumerable:(e,t,r)=>(Object.prototype.propertyIsEnumerable.call(t,r)&&M(e,t,"must not be enumerable"),!0),configurable:(e,t,r)=>(Object.getOwnPropertyDescriptor(t,r).configurable||M(e,t,"must be configurable"),!0),notConfigurable:(e,t,r)=>(Object.getOwnPropertyDescriptor(t,r).configurable&&M(e,t,"must not be configurable"),!0),reservedProperty:(e,t,r)=>(r in t&&M(e,t,"is a reserved property"),!0)};jFactoryBootstrap_onBoot((function(){Object.assign(JFactoryExpect,B);for(const e of Object.getOwnPropertyNames(B))JFactoryExpect.prototype[e]=function callStatic(...t){return JFactoryExpect[e](this.label,this.value,...t),this}}));class JFactoryObject{static createDescriptors(e=JFactoryObject.DESCRIPTORS_PROTOTYPE){let t=JFactoryObject.create(e,!0,!0),r=Object.create(null);return r.NONE=t(),r.WRITABLE=t({writable:!0}),r.ENUMERABLE=t({enumerable:!0}),r.CONFIGURABLE=t({configurable:!0}),r.CONFIGURABLE_WRITABLE=r.WRITABLE_CONFIGURABLE=t({writable:!0,configurable:!0}),r.CONFIGURABLE_ENUMERABLE=r.ENUMERABLE_CONFIGURABLE=t({enumerable:!0,configurable:!0}),r.ENUMERABLE_WRITABLE=r.WRITABLE_ENUMERABLE=t({writable:!0,enumerable:!0}),r.WRITABLE_ENUMERABLE_CONFIGURABLE=r.WRITABLE_CONFIGURABLE_ENUMERABLE=r.ENUMERABLE_CONFIGURABLE_WRITABLE=r.ENUMERABLE_WRITABLE_CONFIGURABLE=r.CONFIGURABLE_WRITABLE_ENUMERABLE=r.CONFIGURABLE_ENUMERABLE_WRITABLE=t({writable:!0,enumerable:!0,configurable:!0}),r.READONLY=t({writable:!1,enumerable:!1,configurable:!1}),r}static assign(e,t,r,a){let s={};switch(typeof t){case"string":case"symbol":if(!a)throw new Error("missing descriptor argument; use Object.assign instead");(a=Object.create(a)).value=r,Object.defineProperty(e,t,a);break;case"object":if([r,a]=[t,r],!a)throw new Error("missing descriptor argument; use Object.assign instead");for(let e of Object.getOwnPropertyNames(r))s[e]=Object.create(a),s[e].value=r[e];for(let e of Object.getOwnPropertySymbols(r))s[e]=Object.create(a),s[e].value=r[e];Object.defineProperties(e,s);break;default:throw new Error("invalid property argument")}return e}static create(e,t=!1,r=!1){return function create(a){return t?Object.assign(r?Object.create(null):{},e,a):Object.assign(Object.create(r?Object.assign(Object.create(null),e):e),a)}}static disinherit(e){return Object.assign(Object.create(null),e)}}JFactoryObject.DESCRIPTORS_PROTOTYPE={writable:!1,enumerable:!1,configurable:!1},jFactoryBootstrap_onBoot((function(){JFactoryObject.descriptors=JFactoryObject.createDescriptors()}));const moduleGenId=()=>++moduleGenId.uid;moduleGenId.uid=0;class JFactoryAbout{constructor(e,t={}){let r,a;JFactoryExpect("JFactoryAbout(owner)",e).type(Object),JFactoryExpect("JFactoryAbout(about)",t).typePlainObject().reservedProperty("uid").reservedProperty("fingerprint"),"name"in t&&JFactoryExpect("JFactoryAbout(about.name)",t.name).typeString().notEmptyString();let s=moduleGenId();t.name?(r=t.name,delete t.name,a="jFactory_"+g(r.toLowerCase())+"_"+s):(delete t.name,r=`[${e.constructor.name}#${s}]`,a="jFactory_"+e.constructor.name+"_"+s),JFactoryObject.assign(this,{uid:s,name:r,fingerprint:a},JFactoryObject.descriptors.ENUMERABLE),Object.assign(this,t),JFactoryExpect("JFactoryAbout.name",this.name).matchReg(/^[\w[\]#]+$/),JFactoryExpect("JFactoryAbout.fingerprint",this.fingerprint).matchReg(/^[\w]+$/)}}const moduleGenId$1=()=>++moduleGenId$1.uid;moduleGenId$1.uid=0;class JFactoryPromise extends Promise{constructor({name:e,config:t,traceSource:r},a){jFactoryBootstrap_expected(),1===arguments.length&&([e,t,a]=[null,null,arguments[0]]);const s=moduleGenId$1();let i,o;t={...JFactoryPromise.DEFAULT_CONFIG,...t},JFactoryExpect("name",e=e||"unnamed").type(String,Number).matchReg(/^[^. ]+$/),JFactoryExpect("config",t).typePlainObject(),JFactoryExpect("executor",a).typeFunction(),super(((e,t)=>{i=e,o=t}));const n=new JFactoryPromiseChain(this,s,e,t);Object.defineProperties(this,{$chain:{enumerable:!0,writable:!0,value:n},$type:{writable:!0,value:"promise"},$value:{writable:!0,value:void 0},$isSettled:{writable:!0,value:!1},$isRejected:{writable:!0,value:null},$isFulfilled:{writable:!0,value:null},$isExpired:{writable:!0,value:!1},$isAborted:{writable:!0,value:!1}}),Object.defineProperties(this,{$dev_name:{configurable:!0,value:e+"["+s+":0]"},$dev_path:{writable:!0,value:new JFactoryPromisePath(this)},$dev_position:{writable:!0,value:0}}),helper_isNative(a)||Object.defineProperties(this,{$dev_source:{value:a}}),O.attachTrace(this,r);const tryAutoComplete=()=>{if(!this.$chain.isPending)try{this.$chainComplete("auto-completed")}catch(e){console.error(e)}},onResolve=e=>{if(!this.$isSettled){if(e===this)return void onReject(new TypeError("Chaining cycle detected for promise "+this.$dev_name));let t;if(null!==e&&("object"==typeof e||"function"==typeof e))try{t=e.then}catch(e){return void onReject(e)}if("function"==typeof t){let r=!1,resolvePromise=function(e){r||(r=!0,onResolve(e))},rejectPromise=function(e){r||(r=!0,onReject(e))};try{t.call(e,resolvePromise,rejectPromise)}catch(e){r||onReject(e)}}else this.$isRejected=!1,this.$isFulfilled=!0,this.$isExpired&&(e=this.$chain.errorExpired),i(e),onSettle(e)}},onReject=e=>{this.$isSettled||(this.$isRejected=!0,this.$isFulfilled=!1,o(e),onSettle(e))},onSettle=e=>{this.$value=e,this.$isSettled=!0,this.$chain.chainMap.set(this,!0),this.$chain.chainConfig.chainAutoComplete&&(1!==this.$chain.chainMap.size||this.$isExpired?tryAutoComplete():this.then(tryAutoComplete))};let c=t.chainAutoComplete;Object.defineProperty(t,"chainAutoComplete",{get:()=>c,set:e=>{c!==e&&(c=e,e&&tryAutoComplete())}}),n.chainMap.set(this,!1),Object.defineProperties(this,{__resolve__:{value:onResolve},__reject__:{value:onReject}});try{a(onResolve,onReject)}catch(e){onReject(e)}}then(e,t,r){let a,s,i,o=r||(helper_isNative(e)&&!e.name.startsWith("bound ")&&helper_isNative(t)&&!t.name.startsWith("bound ")?"await":void 0===e?"catch":"then");e&&"function"==typeof e&&(a=function(r){return"await"===o?i.$isAborted?t(i.$chain.errorExpired):e(r):i.$isExpired?void 0:(i.$isSettled,e(r))}),t&&"function"==typeof t&&(s=function(e){return i.$isSettled,t(e)}),i=Object.assign(super.then(a,s),this),moduleGenId$1.uid--,i.$type=o,Object.defineProperties(i,{__onFulfilled__:{value:e},__onRejected__:{value:t}});{i.$dev_position=this.$chain.chainMap.size;let r="";e&&e.name&&(r+=e.name),t&&t.name&&(r+=","+t.name),Object.defineProperties(i,{$dev_name:{value:this.$chain.chainName+"["+this.$chain.chainId+":"+this.$dev_position+"]."+i.$type+(r?"("+r+")":"")+"["+i.$chain.chainId+":"+i.$dev_position+"]"},$dev_path:{value:new JFactoryPromisePath(this.$dev_path,i)}})}return i.$chain.chainMap.set(i,!1),this.$isExpired&&JFactoryPromise.setExpired(i,this.$isAborted,!0),i}static resolve(e,t){return 1===arguments.length&&([e,t]=[{},e]),e||(e={}),t instanceof this&&1===arguments.length?t:new this(e,(function(e){e(t)}))}static reject(e,t){return 1===arguments.length&&([e,t]=[{},e]),e||(e={}),new this(e,(function(e,r){r(t)}))}$thenIfExpired(e){return this.then((t=>this.$chain.chainRoot.$isExpired?e(t):t),void 0,"$thenIfExpired")}$chainAbort(e="$chainAbort()"){return this.$chain.complete(e,!0),this}$chainComplete(e="$chainComplete()"){if(this.$chain.isPending)throw new j({target:this,reason:"Trying to complete a pending chain. Use $chainAbort() if you want to stop it."});return this.$chain.complete(e,!1),this}$chainAutoComplete(){return this.$chain.chainConfig.chainAutoComplete=!0,this}static setExpired(e,t,r){if(e.$isExpired=!0,!e.$isSettled){if("$thenIfExpired"===e.$type)e.__onFulfilled__(e.$chain.chainRoot.$chain.errorExpired);else if(t)e.$isAborted=!0;/*!silent;*/else if(!r)throw new j({target:e,reason:"promise must be aborted or settled before setting it to expired."});e.__resolve__()}}}JFactoryPromise.DEFAULT_CONFIG={chainAutoComplete:!1};class JFactoryPromiseChain{constructor(e,t,r,a){Object.defineProperties(this,{chainConfig:{value:a},chainRoot:{value:e},chainId:{value:t},chainName:{value:r},chainMap:{value:new Map},isCompleted:{value:!1,configurable:!0},data:{value:{}},__deferred__:{value:helper_deferred()}})}get isPending(){return Array.from(this.chainMap.values()).includes(!1)}then(e){return this.__deferred__.done(e),this}complete(e="chain.complete()",t){let r=this.chainRoot;if(!r.$isExpired){r.$chain.errorExpired=new w({target:r,reason:e});let a=this.chainMap;for(let e of a.keys())JFactoryPromise.setExpired(e,t);Object.defineProperty(this,"isCompleted",{value:!0}),this.__deferred__.resolve()}return this}}class JFactoryPromisePath extends Array{constructor(){super();for(let e of arguments)Array.isArray(e)?this.push(...e):this.push(e)}get printable(){return this.map(((e,t)=>0===t?e.$dev_name:e.$dev_name.split(".")[1])).join(".")}toString(){return this.printable}}class JFactoryPromiseSync extends Promise{constructor(e){let t={$isSettled:!1,$isRejected:null,$value:void 0};super(((r,a)=>{let s=!1,onResolve=e=>{e instanceof Promise?JFactoryPromiseSync.resolve(e).then(onResolve,onReject):s||(s=!0,t.$isSettled=!0,t.$isRejected=!1,t.$value=e,r(e))},onReject=e=>{s||(s=!0,t.$isSettled=!0,t.$isRejected=!0,t.$value=e,a(e))};try{e(onResolve,onReject)}catch(e){onReject(e)}})),Object.assign(this,t),t=this}then(e,t){if(this.$isSettled){let r=this.$value;try{if(this.$isRejected){if(super.then(void 0,(()=>null)),!t||"function"!=typeof t)return JFactoryPromiseSync.reject(r);r=t(r)}else e&&"function"==typeof e&&(r=e(r))}catch(e){return JFactoryPromiseSync.reject(e)}return JFactoryPromiseSync.resolve(r)}return super.then(e,t)}static resolve(e){return e instanceof JFactoryPromiseSync?e:new JFactoryPromiseSync(e instanceof Promise?e.then.bind(e):t=>t(e))}}class JFactoryFunctionComposer{constructor(){this.handlers=Object.create(null)}*[Symbol.iterator](e=[]){e.length||(e=Object.keys(this.handlers)),e.length||(e=["default"]);for(let t of e)t in this.handlers&&(yield*this.handlers[t])}first(e,t){return 1===arguments.length&&([e,t]=["default",e]),(this.handlers[e]||(this.handlers[e]=[])).unshift(t),this}last(e,t){return 1===arguments.length&&([e,t]=["default",e]),(this.handlers[e]||(this.handlers[e]=[])).push(t),this}compose(...e){let t=this,composite=function(){let r={canceled:!1,parameters:Array.from(arguments),result:void 0},a=t[Symbol.iterator](e),s=a.next();return JFactoryFunctionComposer.composite_iterator(this,r,s,a)};return composite.composer=t,composite}static composite_iterator(e,t,r,a){let s,i;for(;!t.canceled&&!r.done;)if(s=r.value,i=e?s.call(e,t,...t.parameters):s(t,...t.parameters),r=a.next(),i instanceof Promise){if(!r.done||i.constructor===Promise)return i.then(helper_setFunctionName([s.name,"[compositeAsyncHandler]"].filter(Boolean).join(" "),(function(s){return t.result=s,JFactoryFunctionComposer.composite_iterator(e,t,r,a)})));t.result=i}else t.result=i;return t.result}}class JFactoryFunctionExpirable{constructor(e){this.originalHandler=e,this.expiredCalls=0,this.composer=new JFactoryFunctionComposer;let t,r=this.composer.compose("conditions"),a=this;this.isExpired=e=>t||r.call(e)||!1,this.setExpired=e=>t=e?e instanceof Error?e:new j({target:this.originalHandler,reason:"manually expired"}):Boolean(this.expiredCalls=0),this.addExpireCondition=function(e){this.composer.last("conditions",(function(t){let done=function(r){return JFactoryExpect("JFactoryFunctionExpirable.addExpireCondition(), result",r).type(Boolean,Error),a.setExpired(!!r&&((t.canceled=!0)&&(r instanceof Error?r:new j({target:a.originalHandler,reason:"conditionally expired",condition:e}))))},r=e.apply(this,t.parameters);return r instanceof Promise?r.then(done):done(r)}))}}compose(){let e=this,composite=function(){let t=e.isExpired(this),r=e.constructor.call.bind(void 0,e,this,arguments);return t instanceof Promise?t.then(r):r(t)};return Object.assign(composite,{expirable:this,isExpired:e=>this.isExpired(e),setExpired:e=>this.setExpired(e),addExpireCondition:e=>(this.addExpireCondition(e),composite)})}static call(e,t,r,a){return a?e.onExpired(a):e.onNotExpired(t,r)}onExpired(e){return this.expiredCalls<JFactoryFunctionExpirable.MaxWarningExpiration&&(this.expiredCalls++,a&&console.warn(...new j({...e.$data,reason:e.$data.reason+"; expiredCalls="+this.expiredCalls+(this.expiredCalls===JFactoryFunctionExpirable.MaxWarningExpiration?"; Max Warning Exceeded":"")}))),e}onNotExpired(e,t){return this.originalHandler.apply(e,t)}}JFactoryFunctionExpirable.MaxWarningExpiration=10;class JFactoryFunctionConditional{constructor(e){this.originalHandler=e,this.composer=new JFactoryFunctionComposer,this.composer.first("original",helper_setFunctionName([e.name,"[condition]"].filter(Boolean).join(" "),(function(t){return e.apply(this,t.parameters)})))}compose(){let e=this.composer.compose("conditions","original");return Object.assign(e,{conditional:this,addCondition:t=>(this.addCondition(t),e)})}addCondition(e){this.composer.last("conditions",(function(t){let handle=function(e){JFactoryExpect("JFactoryFunctionConditional.addCondition(), result",e).typeBoolean(),!e&&(t.canceled=!0)},r=e.apply(this,t.parameters);return r instanceof Promise?r.then(handle):handle(r)}))}}function jFactoryFunctionWrappable(e){return new JFactoryFunctionWrappable(e).compose()}class JFactoryFunctionWrappable{constructor(e){this.originalHandler=e,this.composer=new JFactoryFunctionComposer,this.composer.first("original",helper_setFunctionName([e.name,"[wrapped]"].filter(Boolean).join(" "),(function(t){return e.apply(this,t.parameters)})))}compose(){let e=this.composer.compose("before","original","after");return Object.assign(e,{wrappable:this,beforeAll:t=>(this.beforeAll(t),e),justBefore:t=>(this.justBefore(t),e),justAfter:t=>(this.justAfter(t),e),afterAll:t=>(this.afterAll(t),e)})}beforeAll(e){this.composer.first("before",e)}justBefore(e){this.composer.last("before",e)}justAfter(e){this.composer.first("after",e)}afterAll(e){this.composer.last("after",e)}}class JFactoryEvents{constructor(){Object.defineProperties(this,{registry:{value:l(Object.create(null))},handlers:{value:new WeakMap},onListenerUpdate:{value:null,writable:!0},onObserverUpdate:{value:null,writable:!0}})}on({events:e,handler:t,target:r,selector:a}){JFactoryEvents.validateSelector(e),JFactoryExpect("JFactoryEvents.on({handler})",t).typeFunction(),r&&JFactoryExpect("JFactoryEvents.on({target})",r).type(String,l,HTMLElement),a&&JFactoryExpect("JFactoryEvents.on({selector})",r).typeString();let s=this.handlers.get(t);r?(s||this.handlers.set(t,!0),a?l(r).on(e,a,t):l(r).on(e,t),this.onListenerUpdate&&this.onListenerUpdate(arguments)):(s||(this.handlers.set(t,s=function(e,{data:r,stack:a}){a.push((()=>t(e,r)))}),s.originalHandler=t),this.registry.on(e,s),this.onObserverUpdate&&this.onObserverUpdate(arguments))}off({events:e,handler:t,target:r,selector:a}){if(void 0!==e&&(JFactoryEvents.validateSelector(e),t&&JFactoryExpect("JFactoryEvents.off({handler})",t).typeFunction(),r&&JFactoryExpect("JFactoryEvents.off({target})",r).type(String,l,HTMLElement),a&&JFactoryExpect("JFactoryEvents.off({selector})",r).typeString()),r)a?l(r).off(e,a,t):l(r).off(e,t);else{if(l("*").off(e,t),t&&!(t=this.handlers.get(t)))throw new P({target:"handler",reason:"not registered",given:t});this.registry.off(e,t)}this.onObserverUpdate&&this.onObserverUpdate(arguments),this.onListenerUpdate&&this.onListenerUpdate(arguments)}triggerParallel({events:e,data:t,target:r}){JFactoryEvents.validateSelector(e),r&&JFactoryExpect("JFactoryEvents.triggerParallel({target})",r).type(String,l,HTMLElement);const a=[],s=[];if(e=e.split(" "),r)for(let s of e)l(r).trigger(s,{data:t,stack:a});else for(let r of e)this.registry.triggerHandler(r,{data:t,stack:a});for(let e of a){let t=e();t instanceof Promise&&!t.$isSettled&&s.push(t)}return s.length?Promise.all(s):JFactoryPromiseSync.resolve()}triggerSeries({events:e,data:t,target:r}){return JFactoryEvents.validateSelector(e),r&&JFactoryExpect("JFactoryEvents.triggerSeries({target})",r).type(String,l,HTMLElement),new JFactoryPromiseSync((async a=>{const s=[];if(e=e.split(" "),r)for(let a of e)l(r).trigger(a,{data:t,stack:s});else for(let r of e)this.registry.triggerHandler(r,{data:t,stack:s});for(let e of s){let t=e();t instanceof Promise&&!t.$isSettled&&await t}a()}))}}class JFactoryEventsManager extends JFactoryEvents{constructor(e){super(),Object.defineProperties(this,{parent:{value:e},affiliateRules:{value:(new JFactoryFunctionComposer).compose()}}),this.affiliateAddRule(JFactoryEventsManager.rule_namespace)}affiliate(e="",t="",r){let a=new JFactoryEventSelectorParser(e);for(let e of a.events)this.affiliateRules(e,t,r);return a.toString()}affiliateAddRule(e){this.affiliateRules.composer.last(e)}static rule_namespace(e,t,r){r=r.split(".");for(let e of r)e&&t.addNamespace(e)}on(e,t,r,a,s){switch(arguments.length){case 2:[a,t]=[t];break;case 3:"function"==typeof arguments[2]?[a,r]=[r]:[a,s,t,r]=[t,r];break;case 4:"object"==typeof arguments[3]&&([s,a,r]=[a,r])}e=this.affiliate(e,this.parent.$.about.fingerprint,s),void 0===t?super.on({events:e,handler:a}):super.on({events:e,target:t,selector:r,handler:a})}off(e,t,r,a,s){const i=arguments.length;switch(i){case 1:"object"==typeof arguments[0]&&([s,e]=[e]);break;case 2:"function"==typeof arguments[1]?[a,t]=[t]:d(arguments[1])&&([s,t]=[t]);break;case 3:"function"==typeof arguments[2]?[a,r]=[r]:"function"==typeof arguments[1]&&([a,s,t,r]=[t,r]);break;case 4:"object"==typeof arguments[3]&&([s,a,r]=[a,r])}e=this.affiliate(e,this.parent.$.about.fingerprint,s),i<2?super.off({events:e}):t?super.off({events:e,target:t,selector:r,handler:a}):super.off({events:e,handler:a})}trigger(e,t,r){switch(arguments.length){case 2:"object"!=typeof t||t.jquery||([r,t]=[t])}return t?super.triggerSeries({events:e,target:t,data:r}):super.triggerSeries({events:e,data:r})}triggerParallel(e,t,r){switch(arguments.length){case 2:"object"!=typeof t||t.jquery||([r,t]=[t])}return t?super.triggerParallel({events:e,target:t,data:r}):super.triggerParallel({events:e,data:r})}getDomListeners(e){let t=new Map;for(let r of l("*")){let a=l._data(r,"events");if(a)for(let s of Object.values(a))for(let a of s){let s;if(new JFactoryEventSelector(a.namespace).hasNamespace(e)){(s=t.get(r))||t.set(r,s={}),(s[a.type]||(s[a.type]=[])).push({selector:a.selector||null,handler:a.handler,namespace:a.namespace})}}}return t}getObservers(){let e=new Map,t=this.registry._events;if(!t){let e=Object.values(this.registry)[0],r=Object.getOwnPropertyNames(e).find((e=>0===e.indexOf("jQuery")));e&&r&&(t=this.registry._events=e[r].events)}if(t)for(let[r,a]of Object.entries(t)){let t=e.get(r);t||(t=[],e.set(r,t));for(let e of a)t.push({handler:e.handler.originalHandler,namespace:e.namespace})}return e}}class JFactoryEventSelectorParser{constructor(e){JFactoryEvents.validateSelector(e),this.events=e.split(" ").map((e=>new JFactoryEventSelector(e)))}toString(){let e=[];for(let t of this.events)e.push(t.toString());return e.join(" ")}}class JFactoryEventSelector{constructor(e){let[t,...r]=e.split(".");this.event=t,this.namespace=new Set(r)}hasNamespace(e){Array.isArray(e)||(e=[e]);for(let t of e){if(!/^[\w:]+$/.test(t))throw new P({target:"namespace",reason:"must be alphanumeric, underscore and colon characters",given:t});if(t&&this.namespace.has(t))return t}return!1}addNamespace(e){if(!/^[\w:]+$/.test(e))throw new P({target:"namespace",reason:"must be alphanumeric, underscore and colon characters",given:e});this.namespace.add(e)}deleteNamespace(e){if(!/^[\w:]+$/.test(e))throw new P({target:"namespace",reason:"must be alphanumeric, underscore and colon characters",given:e});this.namespace.delete(e)}toString(){return this.namespace.size?this.event+"."+Array.from(this.namespace.values()).join("."):this.event}}JFactoryEvents.validateSelector=function(e){JFactoryExpect("JFactoryEvents.validateSelector(selector)",e).notUndefined().validSpaces();for(let[t,r]of e.split(" ").map((e=>e.split("."))).map((e=>[e.shift(),e.join(".")])))t&&JFactoryEvents.validateEvent(t),r&&JFactoryEvents.validateNamespace(r);return!0},JFactoryEvents.validateEvent=function(e){if(JFactoryExpect("JFactoryEvents.validateEvent(event)",e).notUndefined().notEmptyString().validSpaces(),!/^[\w:]+$/.test(e))throw new P({target:"JFactoryEvents.validateEvent(event)",reason:"must be alphanumeric, underscore and colon characters",given:e});return!0},JFactoryEvents.validateNamespace=function(e){if(JFactoryExpect("JFactoryEvents.validateNamespace(namespace)",e).notUndefined().notEmptyString().validSpaces(),!/^[\w:.]+$/.test(e))throw new P({target:"JFactoryEvents.validateNamespace(namespace)",reason:"must be alphanumeric, underscore, dot and colon characters",given:e});return!0};class JFactoryFetch extends JFactoryPromise{constructor(e,t,r={}){if("function"==typeof e)super(e);else{"string"==typeof e&&([e,t,r]=[{},arguments[0],arguments[1]]);let a=new Request(t,r);super(e,((s,i)=>{let o=fetch(a).then((e=>{if(this.$chain.fetchResponse=e,!e.ok)throw Error(e.status+":"+e.statusText);return e}));r.$typeText?o=o.then((e=>e.text())).then((e=>this.$chain.responseText=e)):r.$typeJSON&&(o=o.then((e=>e.json())).then((e=>this.$chain.responseJSON=e))),o=o.catch((s=>{throw new C({reason:s.message||s,target:this.$chain.fetchResponse&&this.$chain.fetchResponse.url||t,owner:this,fetchOptions:r,fetchRequest:a,fetchResponse:this.$chain.fetchResponse||null},e.traceSource)})),o.then(s,i)})),this.$chain.fetchOptions=r,this.$chain.fetchRequest=a;let s=r.abortController||new AbortController;r.signal=s.signal,this.$chain.fetchAbortController=s}}$chainAbort(e="request aborted"){return super.$chainAbort(e),this.$chain.fetchAbortController.abort(),this}}jFactoryCompat_require(b,E,F);const k=Symbol();class JFactoryLogger{constructor(e){e&&JFactoryExpect("JFactoryLogger(options)",e).properties(Object.getOwnPropertyNames(JFactoryLogger.DEFAULT_CONFIG)),m(this,e,U),this.installAccessor("log"),this.installAccessor("warn"),this.installAccessor("error")}get enabled(){return this[k]&&(!this.parentLogger||this.parentLogger.enabled)}set enabled(e){e?this.enable():this.disable()}enable(){!0!==this[k]&&(this[k]=!0)}disable(){!1!==this[k]&&(this[k]=!1)}disallow(e,t=this.label){this.filters[t]||(this.filters[t]={}),this.filters[t][e]=!0}allow(e,t=this.label){this.filters[t]&&delete this.filters[t][e]}installAccessor(e,t=e,r=this){JFactoryExpect("JFactoryLogger(nativeName)",e).equalIn(["log","warn","error"]),Object.defineProperties(r,{[t]:{get:this.accessor.bind(this,e),configurable:!0}})}accessor(e){return this[k]&&this.condition(e)&&this.formatter[e](this)||NOOP}createSubLogger(e){let t=new JFactoryLogger({enabled:this.enabled,label:this.label+"."+e,styles_css:this.styles_css,styles_cli:this.styles_cli,console:this.console,formatter:this.formatter});return t.parentLogger=this,t.condition.addCondition((()=>this.enabled)),t.filters=this.filters,t}}JFactoryLogger.FORMATTER_NATIVE={log:e=>e.console.log.bind(e.console,e.label+">"),warn:e=>e.console.warn.bind(e.console,e.label+">"),error:e=>e.console.error.bind(e.console,e.label+">")},JFactoryLogger.FORMATTER_CLI={log:e=>e.console.log.bind(e.console,e.styles_cli.label,e.label+">"),warn:e=>e.console.warn.bind(e.console,e.styles_cli.label,e.label+">"),error:e=>e.console.error.bind(e.console,e.styles_cli.label,e.label+">")},JFactoryLogger.FORMATTER_BROWSER={log:e=>e.console.log.bind(e.console,"%c"+e.label+">",e.styles_css.label),warn:e=>e.console.warn.bind(e.console,"%c"+e.label+">",e.styles_css.label),error:e=>e.console.error.bind(e.console,"%c"+e.label+">",e.styles_css.label)},JFactoryLogger.DEFAULT_CONDITION=function(e){return JFactoryExpect("JFactoryLogger.condition(nativeName)",e).equalIn(["log","warn","error"]),JFactoryExpect("JFactoryLogger.enabled",this.enabled).equal(!0),!(this.filters[this.label]&&this.filters[this.label][e])},JFactoryLogger.DEFAULT_CONFIG={label:"",enabled:!0,parentLogger:null,condition:JFactoryLogger.DEFAULT_CONDITION,formatter:r?JFactoryLogger.FORMATTER_CLI:JFactoryLogger.FORMATTER_BROWSER,console:console,filters:{},styles_cli:{label:"[1;30m%s[0m"},styles_css:{label:"color: gray"}};const U=n("JFACTORY_CFG_JFactoryLogger",JFactoryLogger.DEFAULT_CONFIG);class JFactoryTime extends Date{toString(){return this.toLocaleTimeString()+", "+this.getUTCMilliseconds()+"ms ("+this.valueOf()+")"}$toDurationString(){let e=this.getUTCHours(),t=this.getUTCMinutes(),r=this.getUTCSeconds(),a=this.getUTCMilliseconds(),s=[];return e&&s.push(e+"h"),t&&s.push(t+"min"),r&&s.push(r+"s"),s.push(a+"ms"),1===s.length?s[0]:s.join(",")+" ("+this.valueOf()+")"}}class JFactoryTimeTrace extends Date{constructor(){super(),this.elapsed=null,Object.defineProperties(this,{t1:{value:null,writable:!0},t0:{value:new JFactoryTime}})}end(){this.t1=new JFactoryTime,this.elapsed=new JFactoryTime(this.t1-this.t0).$toDurationString()}toString(){return this.elapsed}}class JFactoryTraits{constructor(e,t,r={}){this.callerInstance=e,this.callerConstructor=t,this.options=r}use(e,...t){JFactoryExpect("JFactoryTraits(trait)",e).typeFunction();let{callerInstance:r,callerConstructor:s}=this,i=JFactoryTraits.CACHE.get(r);if(i){if(i.has(e))return a&&console.warn(`${e.name} already called on`,r),this;i.add(e)}else JFactoryTraits.CACHE.set(r,new WeakSet([e]));!s.JFactoryTrait&&(s.JFactoryTrait=new WeakSet),s.JFactoryTrait.has(e)||(s.JFactoryTrait.add(e),this.export(e.prototype,s.prototype),this.export(e,s,!0));let o=new e(r,...t);return o.trait_constructor&&o.trait_constructor.apply(r,t),this}export(e,t,r){let a=Object.getOwnPropertyDescriptors(e);for(let s of Object.keys(a)){let i=JFactoryTraits.getPrefix(s);if(JFactoryTraits.getTarget(s,t,i)){let i=a[s],o=(this.options.parser||JFactoryTraits.defaultParser)(s,i,e,t,r);o&&(({propertyName:s,propertyDescriptor:i}=o),Object.defineProperty(t,s,i))}}}static defaultParser(e,t,r,s,i){let o=t.value;return i?null:e in s?(a&&console.warn(`${s.constructor.name}> skipping export of existing property "${e}"`,o),null):"object"==typeof o?(a&&console.warn(`${s.constructor.name}> skipping export of shared object "${e}"`,o),null):{propertyName:e,propertyDescriptor:t}}static getPrefix(e){let t=e.split("_");return t.length>1?t[0]:null}static getTarget(e,t,r){return JFactoryTraits.EXCLUDES.includes(e)||"trait"===r?null:t}}function jFactoryTraits(e,t){return new JFactoryTraits(e,t,{parser(e,t){let r=JFactoryTraits.defaultParser(...arguments);if(r){({propertyName:e,propertyDescriptor:t}=r);let a=t.value;if("function"==typeof a)switch(a.name){case"$install":case"$uninstall":case"$enable":case"$disable":case"$state":break;default:t.value=jFactoryFunctionWrappable(a).beforeAll((function(){if(!this.$.states.enabled&&"PHASE_NONE"===this.$.service.phase){let e=new j({owner:this,target:a,reason:"component disabled"});throw this.$logErr(...e),e}}))}return{propertyName:e,propertyDescriptor:t}}}})}JFactoryTraits.CACHE=new WeakMap,JFactoryTraits.EXCLUDES=["constructor","prototype","length","size"];class JFactoryCoreObject{constructor(e){JFactoryCoreObject.inject(this,JFactoryCoreObject,e)}static inject(e,t,r){jFactoryTraits(e,t).use(jFactory.TraitCore).use(jFactory.TraitAbout,{name:r}).use(jFactory.TraitLog).use(jFactory.TraitEvents).use(jFactory.TraitState).use(jFactory.TraitService).use(jFactory.TraitTask)}}class JFactoryComponent extends JFactoryCoreObject{constructor(e){super(e),JFactoryComponent.inject(this,JFactoryComponent)}static inject(e,t){jFactoryTraits(e,t).use(jFactory.TraitFetch).use(jFactory.TraitDOM).use(jFactory.TraitCSS).use(jFactory.TraitMutation).use(jFactory.TraitTimeout).use(jFactory.TraitInterval).use(jFactory.TraitLibVue).use(jFactory.TraitLibReact)}}const jFactory=(e,t)=>Object.assign(new JFactoryComponent(e),t);class TraitCore{trait_constructor(){const e=this;class SubMap extends Map{constructor(...e){super(...e),Object.defineProperty(this,"id_autoinc",{value:0,writable:!0})}$registerSync(t,r){let a=Object.defineProperties({},{$value:{value:r},$phaseRemove:{value:TraitService.getContextualRemovePhase(e)}});return this.set(t,a),a}$registerAsync(t,r,a){let s=e.$task(r,a.$chain);return a.$chain.then((()=>{s.$chainAutoComplete()})),s.$chain.then((()=>{a.$chain.isCompleted||a.$chainAbort("aborted by task")})),Object.defineProperty(a,"$phaseRemove",{value:s.$phaseRemove}),this.set(t,a),s}$id_resolve(e){if(e.indexOf("?")>=0){let t=++this.id_autoinc;e=e.replace(/\?/g,t)}return e}}const t=Object.assign(Object.create(null),{[TraitCore.SYMBOL_PRIVATE]:Object.create(null),assign:function(e,t,r){JFactoryObject.assign(this,e,t,r)},createSubMap:()=>new SubMap});Object.defineProperty(this,"$",{value:Object.create(t)}),this.$.assign({tasks:null,requests:null},JFactoryObject.descriptors.ENUMERABLE_WRITABLE)}}TraitCore.SYMBOL_PRIVATE=Symbol("_");class TraitAbout{trait_constructor(e){JFactoryObject.assign(this.$,"about",new JFactoryAbout(this,e),JFactoryObject.descriptors.READONLY)}}class TraitLog{trait_constructor(){let e=Object.assign({label:this.$.about.name},a||{enabled:!1}),t=new JFactoryLogger(e);Object.defineProperty(this.$,"logger",{value:t}),t.installAccessor("log","$log",this),t.installAccessor("warn","$logWarn",this),t.installAccessor("error","$logErr",this)}}class TraitTask{trait_constructor(){this.$.assign("tasks",this.$.createSubMap(),JFactoryObject.descriptors.ENUMERABLE)}$task(e,t){if(JFactoryExpect("$task(id)",e=this.$.tasks.$id_resolve(e)).typeString(),JFactoryExpect("$task(executorOrValue)",t).notUndefined(),this.$.tasks.has(e))throw new L({target:"$task(id)",given:e});let r,a;return r="function"==typeof t?new JFactoryPromise({name:e,owner:this},t):JFactoryPromise.resolve({name:e,owner:this},t),r.$phaseRemove=TraitService.getContextualRemovePhase(this),a=new JFactoryTimeTrace,r.$taskMetrics={$dev_timing:a},r.$chain.then((()=>{a.end(),this.$.tasks.get(e)&&this.$taskRemove(e)})),this.$.tasks.set(e,r),r}$taskRemove(e,t){if(JFactoryExpect("$taskRemove(id)",e).typeString(),t&&JFactoryExpect("$taskRemove(reason)",t).typeString(),!this.$.tasks.has(e))throw new N({target:"$taskRemove(id)",given:e});this.$.tasks.get(e)._called,this.$.tasks.get(e)._called=!0;let r=this.$.tasks.get(e);this.$.tasks.delete(e),r.$chainAbort(t||"$taskRemove()")}$taskRemoveAll(e){JFactoryExpect("$taskRemoveAll(removePhase)",e).equalIn(TraitService.PHASES);let t=this.$.tasks;if(t.size)for(const[r,a]of t)a.$phaseRemove===e&&this.$taskRemove(r,"$taskRemoveAll("+e+")")}$taskPromiseAll(e=!1){let t=[];if(this.$.tasks.size)for(let r of this.$.tasks.values())e&&(r.$chain.chainConfig.chainAutoComplete=!0),r.$chain.isPending&&t.push(r.$chain);return t.length?Promise.all(t):JFactoryPromiseSync.resolve()}}class TraitEvents{trait_constructor(){assignPrivate(this,"events",{custom:new JFactoryEventsManager(this),kernel:new JFactoryEventsManager(this)},JFactoryObject.descriptors.NONE);let e=this.$[TraitCore.SYMBOL_PRIVATE].events.custom;Object.defineProperties(this.$,{listeners:{get:e.getDomListeners.bind(e,this.$.about.fingerprint),enumerable:!0},observers:{get:e.getObservers.bind(e),enumerable:!0}})}$on(){this.$[TraitCore.SYMBOL_PRIVATE].events.custom.on(...arguments)}$off(){this.$[TraitCore.SYMBOL_PRIVATE].events.custom.off(...arguments)}$trigger(){return this.$[TraitCore.SYMBOL_PRIVATE].events.custom.trigger(...arguments)}$triggerParallel(){return this.$[TraitCore.SYMBOL_PRIVATE].events.custom.triggerParallel(...arguments)}$notify(e,t){return this.$trigger(e,t).then((()=>this.$[TraitCore.SYMBOL_PRIVATE].events.kernel.trigger(e,t)))}}class TraitState{trait_constructor(){const e=Object.create(null),t=Object.create(null),r=this.$[TraitCore.SYMBOL_PRIVATE].events.kernel;assignPrivate(this,{states:e,stateRoutes:t},JFactoryObject.descriptors.READONLY),JFactoryObject.assign(this.$,"states",new Proxy(e,{set:(e,t,r)=>this.$state(t,r),get:(t,r)=>e[r]}),JFactoryObject.descriptors.READONLY),r.on("beforeStateChange",((e,r)=>{let a;if(t[r.key]&&t[r.key].before&&(a=t[r.key].before(r.val)))return this.$notify(a)})),r.on("afterStateChange",((e,r)=>{let a;if(t[r.key]&&t[r.key].after&&(a=t[r.key].after(r.val)))return this.$notify(a)}))}$state(e,t,r=!0){return JFactoryExpect("$state(key)",e).typeString(),JFactoryExpect("$state(notify)",r).typeBoolean(),new JFactoryPromiseSync((async a=>{let s,i=this.$[TraitCore.SYMBOL_PRIVATE].states,o=i[e];e in i&&o===t||(s=r&&this.$notify("beforeStateChange",{key:e,val:t,previousVal:o}),s&&JFactoryExpect("beforeStateChange result",s).type(JFactoryPromiseSync),s&&!s.$isSettled&&(i[e]=s,await s),void 0===t?delete i[e]:i[e]=t,s=r&&this.$notify("afterStateChange",{key:e,val:t,previousVal:o}),s&&JFactoryExpect("afterStateChange result",s).type(JFactoryPromiseSync)),s?s.then(a):a()}))}}class TraitService{trait_constructor(){JFactoryObject.assign(this.$,"service",Object.create(null),JFactoryObject.descriptors.READONLY),this.$.service.phase=TraitService.PHASE.NONE,this.$.service.phaseQueue=JFactoryPromise.resolve({name:"phaseQueue"},null),this.$.service.phaseTask=null,this.$.service.phaseMap={install:new Set,enable:new Set,disable:new Set,uninstall:new Set},this.$state("installed",!1,!1),this.$state("enabled",!1,!1),assignPrivateMember(this,"stateRoutes",{installed:{after:e=>e?"install":"uninstall"},enabled:{after:e=>e?"enable":"disable"}},JFactoryObject.descriptors.NONE);let e=this.$[TraitCore.SYMBOL_PRIVATE].events.custom,t=this.$[TraitCore.SYMBOL_PRIVATE].events.kernel;e.affiliateAddRule(((e,t,r,a)=>TraitService.setEventNamespaceRemovePhase(this,t,a)));let phaseResolve=e=>{this.$.tasks.size&&this.$taskRemoveAll(this.$.service.phase);let t=JFactoryPromiseSync.resolve();return e&&(t=t.then((()=>e.call(this))).then((()=>this.$taskPromiseAll(!0)))),t.catch((e=>{e instanceof w||this.$logErr("unhandled promise rejection in "+this.$.service.phase+";",...e instanceof JFactoryError?e:[e])}))};t.on("install",(()=>phaseResolve(this.onInstall))),t.on("enable",(()=>phaseResolve(this.onEnable))),t.on("disable",(()=>phaseResolve(this.onDisable))),t.on("uninstall",(()=>phaseResolve(this.onUninstall))),t.on("disable",(()=>this.$off({removal:TraitService.PHASE.DISABLE}))),t.on("uninstall",(()=>this.$off({removal:TraitService.PHASE.UNINSTALL})))}$install(e){let t;const r=new JFactoryPromise({name:"install",config:{chainAutoComplete:!0}},(e=>t=e)).then((()=>{if(!this.$.states.installed)return this.$.service.phase=TraitService.PHASE.INSTALL,this.$state("installed",!0)}));return this.$.service.phaseMap.install.add(r),r.$chain.then((()=>{this.$.service.phaseTask=null,this.$.service.phaseMap.install.delete(r),this.$.service.phase=TraitService.PHASE.NONE})),this.$.service.phaseQueue=this.$.service.phaseQueue.then((()=>(this.$.service.phaseTask=r,t(),r.$chain))),e?this.$enable():r}$enable(){let e;const t=new JFactoryPromise({name:"enable",config:{chainAutoComplete:!0}},(t=>e=t)).then((()=>{if(this.$.states.installed&&!this.$.states.enabled)return this.$.service.phase=TraitService.PHASE.ENABLE,this.$state("enabled",!0)}));return this.$.service.phaseMap.enable.add(t),t.$chain.then((()=>{this.$.service.phaseTask=null,this.$.service.phaseMap.enable.delete(t),this.$.service.phase=TraitService.PHASE.NONE})),this.$.service.phaseQueue=this.$.service.phaseQueue.then((()=>(this.$.service.phaseTask=t,e(),t.$chain))),t}$disable(){let e;const t=new JFactoryPromise({name:"disable",config:{chainAutoComplete:!0}},(t=>e=t)).then((()=>{if(this.$.states.enabled)return this.$.service.phase=TraitService.PHASE.DISABLE,this.$state("enabled",!1)}));this.$.service.phaseMap.disable.add(t),t.$chain.then((()=>{this.$.service.phaseTask=null,this.$.service.phaseMap.disable.delete(t),this.$.service.phase=TraitService.PHASE.NONE}));for(let[e,t]of this.$.service.phaseMap.enable.entries())t===this.$.service.phaseTask&&TraitService.phaseKill(this),t.$chainAbort(),this.$.service.phaseMap.enable.delete(e);return this.$.service.phaseQueue=this.$.service.phaseQueue.then((()=>(this.$.service.phaseTask=t,e(),t.$chain))),t}$uninstall(){let e;const t=new JFactoryPromise({name:"uninstall",config:{chainAutoComplete:!0}},(t=>e=t)).then((()=>{if(this.$.states.installed)return this.$.service.phase=TraitService.PHASE.UNINSTALL,this.$state("installed",!1)}));this.$.service.phaseMap.uninstall.add(t),t.$chain.then((()=>{this.$.service.phaseTask=null,this.$.service.phaseMap.uninstall.delete(t),this.$.service.phase=TraitService.PHASE.NONE}));for(let[e,t]of this.$.service.phaseMap.install.entries())t===this.$.service.phaseTask&&TraitService.phaseKill(this),t.$chainAbort(),this.$.service.phaseMap.install.delete(e);return this.$disable(),this.$.service.phaseQueue=this.$.service.phaseQueue.then((()=>(this.$.service.phaseTask=t,e(),t.$chain))),t}static phaseKill(e){e.$.tasks.size&&e.$taskRemoveAll(TraitService.getContextualRemovePhase(e)),e.$.service.phase=TraitService.PHASE.NONE}static getContextualRemovePhase(e){return TraitService.PHASE_REVERT[e.$.service.phase]}static setEventNamespaceRemovePhase(e,t,r){let a=t.hasNamespace(TraitService.PHASES),s=r&&r.removal;s||(s=TraitService.getContextualRemovePhase(e)),"uninstall"===t.event&&s===TraitService.PHASE.DISABLE&&(s=TraitService.PHASE.UNINSTALL),a!==s&&(t.deleteNamespace(a),t.addNamespace(s)),t.addNamespace(s)}}function assignPrivate(e,t,r,a){JFactoryObject.assign(e.$[TraitCore.SYMBOL_PRIVATE],t,r,a)}function assignPrivateMember(e,t,r,a){JFactoryObject.assign(e.$[TraitCore.SYMBOL_PRIVATE][t],r,a)}TraitService.PHASE={NONE:"PHASE_NONE",INSTALL:"PHASE_INSTALL",ENABLE:"PHASE_ENABLE",DISABLE:"PHASE_DISABLE",UNINSTALL:"PHASE_UNINSTALL"},TraitService.PHASE_REVERT={[TraitService.PHASE.INSTALL]:TraitService.PHASE.UNINSTALL,[TraitService.PHASE.UNINSTALL]:TraitService.PHASE.INSTALL,[TraitService.PHASE.DISABLE]:TraitService.PHASE.ENABLE,[TraitService.PHASE.ENABLE]:TraitService.PHASE.DISABLE,[TraitService.PHASE.NONE]:TraitService.PHASE.DISABLE},TraitService.PHASES=Object.values(TraitService.PHASE),jFactory.PHASE=JFactoryObject.disinherit(TraitService.PHASE),jFactory.TraitCore=TraitCore,jFactory.TraitAbout=TraitAbout,jFactory.TraitLog=TraitLog,jFactory.TraitEvents=TraitEvents,jFactory.TraitState=TraitState,jFactory.TraitService=TraitService,jFactory.TraitTask=TraitTask;class TraitFetch{trait_constructor(){const e=this.$[TraitCore.SYMBOL_PRIVATE].events.kernel;e.on("disable",(()=>this.$fetchRemoveAll(TraitService.PHASE.DISABLE))),e.on("uninstall",(()=>this.$fetchRemoveAll(TraitService.PHASE.UNINSTALL))),this.$.assign("requests",this.$.createSubMap(),JFactoryObject.descriptors.ENUMERABLE)}$fetch(e,t,r={}){if(JFactoryExpect("$fetch(id)",e=this.$.requests.$id_resolve(e)).typeString(),JFactoryExpect("$fetch(url)",t).typeString(),JFactoryExpect("$fetch(fetchOptions)",r).typePlainObject(),this.$.requests.has(e))throw new L({target:"$fetch(id)",given:e});let a=new JFactoryFetch({name:e,traceSource:O.captureTraceSource("$fetch"),config:{chainAutoComplete:!0}},t,r);return this.$.requests.$registerAsync(e,'$fetch("'+e+'")',a),a.$chain.then((()=>{this.$.requests.has(e)&&this.$fetchRemove(e)})),a}$fetchText(e,t,r={}){return this.$fetch(e,t,{...r,$typeText:!0})}$fetchJSON(e,t,r={}){return this.$fetch(e,t,{...r,$typeJSON:!0})}$fetchRemove(e,t){if(JFactoryExpect("$fetchRemove(id)",e).typeString(),t&&JFactoryExpect("$fetchRemove(reason)",t).typeString(),!this.$.requests.has(e))throw new N({target:"$fetchRemove(id)",given:e});this.$.requests.get(e)._debug_remove_called,this.$.requests.get(e)._debug_remove_called=!0;let r=this.$.requests.get(e);this.$.requests.delete(e),r.$chainAbort(t||"$fetchRemove()")}$fetchRemoveAll(e){JFactoryExpect("removePhase",e).equalIn(TraitService.PHASES);let t=this.$.requests;if(t.size)for(const[r,a]of t)a.$phaseRemove===e&&this.$fetchRemove(r,"$fetchRemoveAll("+e+")")}}class TraitTimeout{trait_constructor(){const e=this.$[TraitCore.SYMBOL_PRIVATE].events.kernel;e.on("disable",(()=>this.$timeoutRemoveAll(TraitService.PHASE.DISABLE))),e.on("uninstall",(()=>this.$timeoutRemoveAll(TraitService.PHASE.UNINSTALL))),this.$.assign("timeouts",this.$.createSubMap(),JFactoryObject.descriptors.ENUMERABLE)}$timeout(e,t,r=null,...a){if(JFactoryExpect("id",e=this.$.timeouts.$id_resolve(e)).typeString(),JFactoryExpect("delay",t).typeNumber(),JFactoryExpect("handler",r).type(Function,null),this.$.timeouts.has(e))throw new L({target:"$timeout(id)",given:e});let s,i=new JFactoryPromise({name:e,traceSource:O.captureTraceSource("$timeout"),config:{chainAutoComplete:!0}},(e=>{s=setTimeout((()=>{i.$isExpired||e(r?r(...a):void 0)}),t)}));return i.$chain.data.timer=s,this.$.timeouts.$registerAsync(e,'$timeout("'+e+'")',i),i.$chain.then((()=>{this.$.timeouts.has(e)&&this.$timeoutRemove(e)})),i}$timeoutRemove(e,t){if(JFactoryExpect("$timeoutRemove(id)",e).typeString(),t&&JFactoryExpect("$timeoutRemove(reason)",t).typeString(),!this.$.timeouts.has(e))throw new N({target:"$timeoutRemove(id)",given:e});this.$.timeouts.get(e)._debug_remove_called,this.$.timeouts.get(e)._debug_remove_called=!0;let r=this.$.timeouts.get(e);clearTimeout(r.$chain.data.timer),this.$.timeouts.delete(e),r.$chainAbort(t||"$timeoutRemove()")}$timeoutRemoveAll(e){JFactoryExpect("removePhase",e).equalIn(TraitService.PHASES);let t=this.$.timeouts;if(t.size)for(const[r,a]of t)a.$phaseRemove===e&&this.$timeoutRemove(r,"$timeoutRemoveAll()")}}class TraitInterval{trait_constructor(){const e=this.$[TraitCore.SYMBOL_PRIVATE].events.kernel;e.on("disable",(()=>this.$intervalRemoveAll(TraitService.PHASE.DISABLE))),e.on("uninstall",(()=>this.$intervalRemoveAll(TraitService.PHASE.UNINSTALL))),this.$.assign("timeints",this.$.createSubMap(),JFactoryObject.descriptors.ENUMERABLE)}$interval(e,t,r,...a){if(JFactoryExpect("id",e=this.$.timeints.$id_resolve(e)).typeString(),JFactoryExpect("handler",r).typeFunction(),JFactoryExpect("delay",t).typeNumber(),this.$.timeints.has(e))throw new L({target:"$interval(id)",given:e});let s=setInterval(r,t,...a);this.$.timeints.$registerSync(e,s)}$intervalRemove(e){if(JFactoryExpect("$intervalRemove(id)",e).typeString(),!this.$.timeints.has(e))throw new N({target:"$intervalRemove(id)",given:e});this.$.timeints.get(e)._debug_remove_called,this.$.timeints.get(e)._debug_remove_called=!0,clearInterval(this.$.timeints.get(e).$value),this.$.timeints.delete(e)}$intervalRemoveAll(e){JFactoryExpect("removePhase",e).equalIn(TraitService.PHASES);let t=this.$.timeints;if(t.size)for(const[r,a]of t)a.$phaseRemove===e&&this.$intervalRemove(r)}}jFactoryCompat_require(T);class TraitMutation{trait_constructor(){const e=this.$[TraitCore.SYMBOL_PRIVATE].events.kernel;e.on("disable",(()=>this.$mutationRemoveAll(TraitService.PHASE.DISABLE))),e.on("uninstall",(()=>this.$mutationRemoveAll(TraitService.PHASE.UNINSTALL))),this.$.assign("mutations",this.$.createSubMap(),JFactoryObject.descriptors.ENUMERABLE)}$mutation(e,t,r,a){if(JFactoryExpect("id",e=this.$.mutations.$id_resolve(e)).typeString(),JFactoryExpect("parent",t).type(HTMLElement,Document),JFactoryExpect("config",r).typePlainObject(),JFactoryExpect("handler",a).typeFunction(),this.$.mutations.has(e))throw new L({target:"$mutation(id)",given:e});let s=new MutationObserver(a);s.observe(t,r),this.$.mutations.$registerSync(e,s)}$mutationRemove(e,t){if(JFactoryExpect("$mutationRemove(id)",e).typeString(),t&&JFactoryExpect("$mutationRemove(reason)",t).typeString(),!this.$.mutations.has(e))throw new N({target:"$mutationRemove(id)",given:e});this.$.mutations.get(e)._debug_remove_called,this.$.mutations.get(e)._debug_remove_called=!0,this.$.mutations.get(e).$value.disconnect(),this.$.mutations.delete(e)}$mutationRemoveAll(e){JFactoryExpect("removePhase",e).equalIn(TraitService.PHASES);let t=this.$.mutations;if(t.size)for(const[r,a]of t)a.$phaseRemove===e&&this.$mutationRemove(r)}}class TraitDOM{trait_constructor(){const e=this.$[TraitCore.SYMBOL_PRIVATE].events.kernel;e.on("disable",(()=>this.$domRemoveAll(TraitService.PHASE.DISABLE))),e.on("uninstall",(()=>this.$domRemoveAll(TraitService.PHASE.UNINSTALL))),this.$.assign("dom",this.$.createSubMap(),JFactoryObject.descriptors.ENUMERABLE)}$dom(e,t,r){let a;if(JFactoryExpect("id",e=this.$.dom.$id_resolve(e)).typeString(),JFactoryExpect("jQueryArgument",t).type(String,Object),r&&JFactoryExpect("appendTo",r).type(String,Object),"#"===e[0]&&(e=e.substring(1),a=!0),this.$.dom.has(e))throw new L({target:"$dom(id)",given:e});let s=l(t);if("TEMPLATE"===s[0].tagName&&(s=l(l(s[0]).html())),a){if(s[0].nodeType!==Node.ELEMENT_NODE)throw new P({target:"$dom(#id)",given:s,reason:"cannot set the dom id: the first element of the selection isn't an ELEMENT_NODE"});s[0].id=e}return r&&s.appendTo(r),this.$.dom.$registerSync(e,s).$value}$domFetch(e,t,r,a){let s;if(r&&!d(r)&&([r,a]=[{},r]),JFactoryExpect("id",e=this.$.dom.$id_resolve(e)).typeString(),JFactoryExpect("url",t).typeString(),a&&JFactoryExpect("appendTo",a).type(String,Object),r&&JFactoryExpect("fetchOptions",r).type(Object),"#"===e[0]&&(e=e.substring(1),s=!0),this.$.dom.has(e))throw new L({target:"$domFetch(id)",given:e});let i=this.$fetchText('$domFetch("'+e+'")',t,r).then((t=>{let r=l(t);return s&&(r[0].id=e),a&&r.appendTo(a),r}));return this.$.dom.$registerAsync(e,'$domFetch("'+e+'")',i),i}$domRemove(e,t){if(JFactoryExpect("$domRemove(id)",e).typeString(),t&&JFactoryExpect("$domRemove(reason)",t).typeString(),!this.$.dom.has(e))throw new N({target:"$domRemove(id)",given:e});this.$.dom.get(e)._debug_remove_called,this.$.dom.get(e)._debug_remove_called=!0;let r=this.$.dom.get(e),a=r.$value;a instanceof l&&a.remove(),r instanceof JFactoryFetch&&r.$chainAbort(t||"$domRemove()"),this.$.dom.delete(e)}$domRemoveAll(e){JFactoryExpect("removePhase",e).equalIn(TraitService.PHASES);let t=this.$.dom;if(t.size)for(const[r,a]of t)a.$phaseRemove===e&&this.$domRemove(r)}}class TraitCSS{trait_constructor(){const e=this.$[TraitCore.SYMBOL_PRIVATE].events.kernel;e.on("disable",(()=>this.$cssRemoveAll(TraitService.PHASE.DISABLE))),e.on("uninstall",(()=>this.$cssRemoveAll(TraitService.PHASE.UNINSTALL))),this.$.assign("css",this.$.createSubMap(),JFactoryObject.descriptors.ENUMERABLE)}$css(e,t){let r;if(JFactoryExpect("id",e=this.$.css.$id_resolve(e)).typeString(),JFactoryExpect("css",t).typeString(),"#"===e[0]&&(e=e.substring(1),r=!0),this.$.css.has(e))throw new L({target:"$css(id)",given:e});return this.$.css.$registerSync(e,l("<style>").attr(r?{id:e}:{}).html(t).appendTo("head")).$value}$cssFetch(e,t,r="head"){let a;if(JFactoryExpect("id",e=this.$.css.$id_resolve(e)).typeString(),JFactoryExpect("url",t).typeString(),"#"===e[0]&&(e=e.substring(1),a=!0),this.$.css.has(e))throw new L({target:"$cssFetch(id)",given:e});t=helper_url_abs(t);let s=l(r).find(`link[href="${t}"]`)[0];if(s){s.dataset.usage=parseInt(s.dataset.usage)+1;let t=l(s),r=JFactoryPromise.resolve({name:e,config:{chainAutoComplete:!0},traceSource:O.captureTraceSource("$cssFetch")},t);return r.$chain.data.dom=t,this.$.css.$registerAsync(e,'$cssFetch("'+e+'")',r),r}{let s,i=new JFactoryPromise({name:e,config:{chainAutoComplete:!0},traceSource:O.captureTraceSource("$cssFetch")},(i=>s=l("<link>",{id:a?e:"",rel:"stylesheet",type:"text/css","data-usage":"1"}).appendTo(r).on("load",(()=>i(s))).attr("href",t)));return i.$chain.data.dom=s,this.$.css.$registerAsync(e,'$cssFetch("'+e+'")',i),i}}$cssRemove(e,t){if(JFactoryExpect("$cssRemove(id)",e).typeString(),t&&JFactoryExpect("$cssRemove(reason)",t).typeString(),!this.$.css.has(e))throw new N({target:"$cssRemove(id)",given:e});this.$.css.get(e)._debug_remove_called,this.$.css.get(e)._debug_remove_called=!0;let r=this.$.css.get(e),a=r.$chain&&r.$chain.data.dom||r.$value;if(a instanceof l){let e=parseInt(a[0].dataset.usage)-1;e?a[0].dataset.usage=e:a.remove()}r instanceof JFactoryPromise&&r.$chainAbort(t||"$cssRemove()"),this.$.css.delete(e)}$cssRemoveAll(e){JFactoryExpect("removePhase",e).equalIn(TraitService.PHASES);let t=this.$.css;if(t.size)for(const[r,a]of t)a.$phaseRemove===e&&this.$cssRemove(r)}}class TraitLibVue{trait_constructor(){const e=this.$[TraitCore.SYMBOL_PRIVATE].events.kernel;e.on("disable",(()=>this.$vueRemoveAll(TraitService.PHASE.DISABLE))),e.on("uninstall",(()=>this.$vueRemoveAll(TraitService.PHASE.UNINSTALL))),this.$.assign("vue",this.$.createSubMap(),JFactoryObject.descriptors.ENUMERABLE)}$vue(e,t){if(JFactoryExpect("id",e=this.$.vue.$id_resolve(e)).typeString(),JFactoryExpect("vue",t).type(Object),this.$.vue.has(e))throw new L({target:"$vue(id)",given:e});return this.$.vue.$registerSync(e,t).$value}$vueRemove(e){if(JFactoryExpect("$vueRemove(id)",e).typeString(),!this.$.vue.has(e))throw new N({target:"$vueRemove(id)",given:e});this.$.vue.get(e)._debug_remove_called,this.$.vue.get(e)._debug_remove_called=!0;let t=this.$.vue.get(e);l(t.$value.$el).remove(),t.$value.$destroy(),this.$.vue.delete(e)}$vueRemoveAll(e){JFactoryExpect("removePhase",e).equalIn(TraitService.PHASES);let t=this.$.vue;if(t.size)for(const[r,a]of t)a.$phaseRemove===e&&this.$vueRemove(r)}}class TraitLibReact{trait_constructor(){const e=this.$[TraitCore.SYMBOL_PRIVATE].events.kernel;e.on("disable",(()=>this.$reactRemoveAll(TraitService.PHASE.DISABLE))),e.on("uninstall",(()=>this.$reactRemoveAll(TraitService.PHASE.UNINSTALL))),this.$.assign("react",this.$.createSubMap(),JFactoryObject.descriptors.ENUMERABLE)}$react(e,t,r,...a){if(e=this.$.react.$id_resolve(e),!jFactory.ReactDOM)throw new Error("jFactory.ReactDOM=ReactDOM must be set before using the React Trait");if(JFactoryExpect("id",e).typeString(),JFactoryExpect("container",t).type(HTMLElement,l),this.$.react.has(e))throw new L({target:"$react(id)",given:e});t=l(t)[0];let s=jFactory.ReactDOM.render(r,t,...a);return this.$.react.$registerSync(e,{container:t,view:s}).$value.view}$reactRemove(e){if(JFactoryExpect("$reactRemove(id)",e).typeString(),!this.$.react.has(e))throw new N({target:"$reactRemove(id)",given:e});this.$.react.get(e)._debug_remove_called,this.$.react.get(e)._debug_remove_called=!0;let t=this.$.react.get(e).$value.container;t&&(jFactory.ReactDOM.unmountComponentAtNode(t)||this.$logWarn("unmountComponentAtNode failed to unmount",t),l(t).remove()),this.$.react.delete(e)}$reactRemoveAll(e){JFactoryExpect("removePhase",e).equalIn(TraitService.PHASES);let t=this.$.react;if(t.size)for(const[r,a]of t)a.$phaseRemove===e&&this.$reactRemove(r)}}jFactory.TraitFetch=TraitFetch,jFactory.TraitTimeout=TraitTimeout,jFactory.TraitInterval=TraitInterval,jFactory.TraitMutation=TraitMutation,jFactory.TraitDOM=TraitDOM,jFactory.TraitCSS=TraitCSS,jFactory.TraitLibVue=TraitLibVue,jFactory.TraitLibReact=TraitLibReact,jFactoryBootstrap(!0),exports.JFACTORY_BOOT=i,exports.JFACTORY_CFG=c,exports.JFACTORY_CLI=r,exports.JFACTORY_COMPAT_AbortController=F,exports.JFACTORY_COMPAT_MutationObserver=T,exports.JFACTORY_COMPAT_Request=E,exports.JFACTORY_COMPAT_fetch=b,exports.JFACTORY_DEBUG=false,exports.JFACTORY_DEV=!0,exports.JFACTORY_ERR_INVALID_CALL=j,exports.JFACTORY_ERR_INVALID_VALUE=P,exports.JFACTORY_ERR_KEY_DUPLICATED=L,exports.JFACTORY_ERR_KEY_MISSING=N,exports.JFACTORY_ERR_PROMISE_EXPIRED=w,exports.JFACTORY_ERR_REQUEST_ERROR=C,exports.JFACTORY_LOG=a,exports.JFACTORY_TRACE=s,exports.JFACTORY_VER="v1.7.4",exports.JFactoryAbout=JFactoryAbout,exports.JFactoryComponent=JFactoryComponent,exports.JFactoryCoreObject=JFactoryCoreObject,exports.JFactoryError=JFactoryError,exports.JFactoryEventSelector=JFactoryEventSelector,exports.JFactoryEventSelectorParser=JFactoryEventSelectorParser,exports.JFactoryEvents=JFactoryEvents,exports.JFactoryEventsManager=JFactoryEventsManager,exports.JFactoryExpect=JFactoryExpect,exports.JFactoryFetch=JFactoryFetch,exports.JFactoryFunctionComposer=JFactoryFunctionComposer,exports.JFactoryFunctionConditional=JFactoryFunctionConditional,exports.JFactoryFunctionExpirable=JFactoryFunctionExpirable,exports.JFactoryFunctionWrappable=JFactoryFunctionWrappable,exports.JFactoryLogger=JFactoryLogger,exports.JFactoryObject=JFactoryObject,exports.JFactoryPromise=JFactoryPromise,exports.JFactoryPromiseChain=JFactoryPromiseChain,exports.JFactoryPromisePath=JFactoryPromisePath,exports.JFactoryPromiseSync=JFactoryPromiseSync,exports.JFactoryTime=JFactoryTime,exports.JFactoryTimeTrace=JFactoryTimeTrace,exports.JFactoryTrace=JFactoryTrace,exports.JFactoryTrace_LIB_STACKTRACE=JFactoryTrace_LIB_STACKTRACE,exports.JFactoryTraits=JFactoryTraits,exports.NOOP=NOOP,exports.TraitAbout=TraitAbout,exports.TraitCSS=TraitCSS,exports.TraitCore=TraitCore,exports.TraitDOM=TraitDOM,exports.TraitEvents=TraitEvents,exports.TraitFetch=TraitFetch,exports.TraitInterval=TraitInterval,exports.TraitLibReact=TraitLibReact,exports.TraitLibVue=TraitLibVue,exports.TraitLog=TraitLog,exports.TraitMutation=TraitMutation,exports.TraitService=TraitService,exports.TraitState=TraitState,exports.TraitTask=TraitTask,exports.TraitTimeout=TraitTimeout,exports.assignPrivate=assignPrivate,exports.assignPrivateMember=assignPrivateMember,exports.helper_camelCase=g,exports.helper_defaultsDeep=m,exports.helper_deferred=helper_deferred,exports.helper_get=v,exports.helper_isNative=helper_isNative,exports.helper_isNumber=p,exports.helper_isPlainObject=d,exports.helper_isString=u,exports.helper_lowerFirst=y,exports.helper_setFunctionName=helper_setFunctionName,exports.helper_template=f,exports.helper_url_abs=helper_url_abs,exports.helper_useragent=helper_useragent,exports.jFactory=jFactory,exports.jFactoryBootstrap=jFactoryBootstrap,exports.jFactoryBootstrap_expected=jFactoryBootstrap_expected,exports.jFactoryBootstrap_onBoot=jFactoryBootstrap_onBoot,exports.jFactoryCfg=n,exports.jFactoryCompat_require=jFactoryCompat_require,exports.jFactoryCompat_run=jFactoryCompat_run,exports.jFactoryEnv=o,exports.jFactoryFunctionConditional=function jFactoryFunctionConditional(e){return new JFactoryFunctionConditional(e).compose()},exports.jFactoryFunctionExpirable=function jFactoryFunctionExpirable(e){return new JFactoryFunctionExpirable(e).compose()},exports.jFactoryFunctionWrappable=jFactoryFunctionWrappable,exports.jFactoryTrace=O,exports.jFactoryTraits=jFactoryTraits,exports.jQuery=l;
//# sourceMappingURL=jFactory-devel.cjs.js.map
