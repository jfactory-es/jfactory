"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("lodash"),t=require("jquery");
/*!
 * jFactory, Copyright (c) 2019, StÃ©phane Plazis
 * https://github.com/jfactory-es/jfactory/blob/master/LICENSE.txt
 */
const s="undefined"!=typeof process&&process.versions&&process.versions.node,r={TraitLog:!s||false,JFactoryError:{keys:["$.about.name","$dev_name","$name","name","id"]},JFactoryTrace:!s&&{keys:["$dev_traceLog","$dev_traceSource"],libOptions:{offline:Boolean(globalThis.chrome),filter:function(e){return e.lineNumber}}},jFactoryDev:{requireCompatibility:{globalThis:{test:()=>globalThis,info:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/globalThis"},fetch:{test:()=>fetch,info:"https://developer.mozilla.org/docs/Web/API/Fetch_API/Using_Fetch"},Request:{test:()=>Request,info:"https://developer.mozilla.org/docs/Web/API/Request"},"AbortController, AbortSignal":{test:()=>(new AbortController).signal,info:"https://developer.mozilla.org/docs/Web/API/AbortController, https://developer.mozilla.org/docs/Web/API/AbortSignal"},MutationObserver:{test:()=>MutationObserver,info:"https://developer.mozilla.org/docs/Web/API/MutationObserver"}}}},i={seq:[],init(){if(this.seq){let e=this.seq;delete this.seq;for(let t of e)t();delete globalThis.jFactoryOverride}},onInit(e){this.seq.push(e)}};function a(){console.log("jFactory is running in development mode; performances will be affected");for(let[e,t]of Object.entries(r.jFactoryDev.requireCompatibility)){let s;try{s=Boolean(t.test())}catch(e){}s||console.warn(`jFactory may require the support of "${e}", ${t.info}`)}}function n(){!r.TraitLog&&console.warn("jFactory logs disabled")}i.onInit(a),i.onInit(n);const o=t,l=e.isNative,c=e.isString,h=e.isNumber,u=e.isPlainObject,p=e.defaultsDeep,d=e.lowerFirst,m=e.get,$=e.template,f=e.camelCase,g=()=>{},v=(e,t)=>Object.defineProperty(t,"name",{value:e}),b=e=>(b.a.href=e,b.a.href);b.a=document.createElement("a");class E{constructor({label:e,stackTraceLimit:t,keys:s,libOptions:r}={}){this.label=e||"The stack has been printed in the console",this.stackTraceLimit=t||1/0,this.keys=s||["stackLog","stackSource"],this.libOptions=r||{}}captureTraceSource(e,t){let s;this.stackTraceLimit&&(s=Error.stackTraceLimit,Error.stackTraceLimit=this.stackTraceLimit),e||(e="captureTraceSource",t=!0);let r={source:new Error,omitAboveFunctionName:e,omitSelf:t};return this.stackTraceLimit&&(Error.stackTraceLimit=s),r}attachTrace(e,t){"object"!=typeof t&&(t=this.captureTraceSource(t||"attachTrace",!t));let s=t.source;this.toPrintableTrace(t).then(e=>s=e);let r=()=>console.log(s)||this.label;Object.defineProperty(e,this.keys[0],{enumerable:!1,configurable:!0,get:()=>r()}),Object.defineProperty(e,this.keys[1],{enumerable:!1,configurable:!0,get:()=>t})}toPrintableTrace(e){return Promise.resolve(e.source)}}class A extends E{constructor(e){super(e)}toPrintableTrace(e){return StackTrace.fromError(e.source,this.libOptions).then(t=>{if(e.omitAboveFunctionName){let s=t.findIndex(t=>t.functionName&&t.functionName.endsWith(e.omitAboveFunctionName));s>0&&(e.omitSelf&&s++,t=t.slice(s))}return t=t.filter(this.libOptions.filter),this.formatTraceFrames(t)})}formatTraceFrames(e){let t,s;return this.libOptions.offline&&window.chrome?(t="Error\n",s="\tat "):(t="",s=""),t+e.map(e=>s+e.toString()).join("\n")}}const y={};i.onInit((function(){let e=r.JFactoryTrace;if(e&&!1!==e.use){let t;t="function"==typeof e.use?e.use:"object"==typeof StackTrace?A:E,t===A&&console.warn("jFactory: Stack trace enabled; Performance will be affected"),y.tracer=new t(e)}else y.tracer={captureTraceSource:g,attachTrace:g}}));class S extends Error{constructor(e="unspecified error",t=null){t=Object.assign(Object.create(null),t),super(e=S.toPrintable(e,t)),this.$data=Object.assign(Object.create(null),t)}toString(){return this.message}*[Symbol.iterator](){yield this.message,yield this.$data}static getId(e){return e[(r.JFactoryError.keys||S.DEFAULT_KEYS).find(t=>{let s=m(e,t);return s||0===s})]}static toPrintableData(e){const t={};let s;for(let[r,i]of Object.entries(e)){switch(typeof i){case"function":i=i.name+"()";break;case"object":if(null===i){i="null";break}if(i instanceof Error){i=i.toString();break}if(void 0!==(s=S.getId(i)))i='"'+s+'"';else if(l(i.toString))try{s=JSON.stringify(i),i=s.length>S.JSON_MAX?s.substring(0,S.JSON_MAX)+"[...]":s}catch(e){i="[object "+i.constructor.name+"]"}else i=i.toString();break;case"string":i='"'+i+'"';break;default:i=String(i)}t[r]=i}return t}static toPrintable(e,t){const s=[];for(let r of e.split(";")){let e,i=S.RE_PLACEHOLDER;if(i.lastIndex=0,e=i.exec(r)){do{if(e[1]&&e[1]in t){s.push(r.trim());break}}while(null!==(e=i.exec(r)))}else s.push(r.trim())}return d($(s.join("; "))(S.toPrintableData(t)))}}S.JSON_MAX=40,S.DEFAULT_KEYS=["name","id"],S.RE_PLACEHOLDER=/\${([^}]+)}/g;let _=new Proxy(S,{set:function(e,t,s){let{template:r}=s;if(e[t])throw new Error("already declared");return e[t]=class extends S{constructor(e,t){super(r,e),y.tracer.attachTrace(this.$data,t)}},e[t].prototype.name="Error jFactoryError."+t,!0}});function R(e,t){if(!new.target)return new R(e,t);this.label=e,this.value=t}_.INVALID_VALUE={template:"invalid value for ${target}; Reason: ${reason}; Given: ${given}"},_.INVALID_CALL={template:"invalid call ${target}; Reason: ${reason}; Owner: ${owner}"},_.PROMISE_EXPIRED={template:"expired promise ${target}; Reason: ${reason}"},_.REQUEST_ERROR={template:"error requesting ${target}; Reason: ${reason}; Owner: ${owner}"},_.KEY_DUPLICATED={template:"duplicated key for ${target}; Given: ${given}"},_.KEY_MISSING={template:"missing key for ${target}; Given: ${given}"};const L=function(e,t,s){throw new _.INVALID_VALUE({target:e,reason:s,given:t})},T={notUndefined:(e,t)=>(void 0===t&&L(e,t,"cannot be undefined"),!0),notEmptyString:(e,t)=>(""===t&&L(e,t,"cannot be empty string"),!0),notFalsy:(e,t)=>(t||L(e,t,'cannot be a falsy value (undefined, null, NaN, 0, "")'),!0),validSpaces:(e,t)=>(t.replace&&t.replace(/\s+/g," ").trim()===t||L(e,t,"invalid space delimiters"),!0),matchReg:(e,t,s)=>(s.test(t)||L(e,t,'string "'+t+'" must match '+s),!0),type(e,t,...s){let r,i=!1;for(let a of s){null===a?r="Null":"name"in a&&(r=a.name);let s=T["type"+r];if(s)try{i=s(e,t)}catch(e){}else i=t instanceof a;if(i)break}return i||L(e,t,"must be an instance of ["+s.map(e=>e.name).join(", ")+"]"),!0},typeNull:(e,t)=>(null!==t&&L(e,t,"must be null"),!0),typeBoolean:(e,t)=>(!0!==t&&!1!==t&&L(e,t,"must be a boolean"),!0),typeString:(e,t)=>(c(t)||L(e,t,"must be a string"),!0),typeNumber:(e,t)=>(h(t)||L(e,t,"must be a number"),!0),typeFunction:(e,t)=>("function"!=typeof t&&L(e,t,"must be a function"),!0),typePlainObject:(e,t)=>(u(t)||L(e,t,"must be a plain object"),!0),equal(e,t,...s){let r=!1;for(let e of s)if(r=t===e)break;return r||L(e,t,"must be one of ["+s+"]"),!0},equalIn:(e,t,s)=>(Array.isArray(s)||(s=Object.values(s)),s.includes(t)||L(e,t,"must be one from ["+s.join(", ")+"]"),!0),properties(e,t,s){for(let r of Object.getOwnPropertyNames(t))R(e+', property name "'+r+'"',r).equalIn(s);return!0},writable:(e,t,s)=>(Object.getOwnPropertyDescriptor(t,s).writable||L(e,t,"must be writable"),!0),notWritable:(e,t,s)=>(Object.getOwnPropertyDescriptor(t,s).writable&&L(e,t,"must not be writable"),!0),enumerable:(e,t,s)=>(Object.prototype.propertyIsEnumerable.call(t,s)||L(e,t,"must be enumerable"),!0),notEnumerable:(e,t,s)=>(Object.prototype.propertyIsEnumerable.call(t,s)&&L(e,t,"must not be enumerable"),!0),configurable:(e,t,s)=>(Object.getOwnPropertyDescriptor(t,s).configurable||L(e,t,"must be configurable"),!0),notConfigurable:(e,t,s)=>(Object.getOwnPropertyDescriptor(t,s).configurable&&L(e,t,"must not be configurable"),!0),reservedProperty:(e,t,s)=>(s in t&&L(e,t,"is a reserved property"),!0)};i.onInit((function(){Object.assign(R,T);for(const e of Object.getOwnPropertyNames(T))R.prototype[e]=function(...t){return R[e](this.label,this.value,...t),this}}));class O{constructor(e,t,s={}){this.callerInstance=e,this.callerConstructor=t,this.options=s}use(e,...t){R("JFactoryTraits(trait)",e).typeFunction();let{callerInstance:s,callerConstructor:i}=this,a=O.CACHE.get(s);if(a){if(a.has(e))return r.TraitLog&&console.warn(e.name+" already called on",s),this;a.add(e)}else O.CACHE.set(s,new WeakSet([e]));!i.JFactoryTrait&&(i.JFactoryTrait=new WeakSet),i.JFactoryTrait.has(e)||(i.JFactoryTrait.add(e),this.export(e.prototype,i.prototype),this.export(e,i,!0));let n=new e(s,...t);return n.trait_constructor&&n.trait_constructor.apply(s,t),this}export(e,t,s){let r=Object.getOwnPropertyDescriptors(e);for(let i of Object.keys(r)){let a=O.getPrefix(i);if(O.getTarget(i,t,a)){let a=r[i],n=(this.options.parser||O.defaultParser)(i,a,e,t,s);n&&(({propertyName:i,propertyDescriptor:a}=n),Object.defineProperty(t,i,a))}}}static defaultParser(e,t,s,i,a){let n=t.value;return a?null:e in i?(r.TraitLog&&console.warn(`${i.constructor.name}> skipping export of existing property "${e}"`,n),null):"object"==typeof n?(r.TraitLog&&console.warn(`${i.constructor.name}> skipping export of shared object "${e}"`,n),null):{propertyName:e,propertyDescriptor:t}}static getPrefix(e){let t=e.split("_");return t.length>1?t[0]:null}static getTarget(e,t,s){return O.EXCLUDES.includes(e)||"trait"===s?null:t}}O.CACHE=new WeakMap,O.EXCLUDES=["constructor","prototype","length","size"];class w{constructor(){this.handlers=Object.create(null)}*[Symbol.iterator](e=[]){e.length||(e=Object.keys(this.handlers)),e.length||(e=["default"]);for(let t of e)t in this.handlers&&(yield*this.handlers[t])}first(e,t){return 1===arguments.length&&([e,t]=["default",e]),(this.handlers[e]||(this.handlers[e]=[])).unshift(t),this}last(e,t){return 1===arguments.length&&([e,t]=["default",e]),(this.handlers[e]||(this.handlers[e]=[])).push(t),this}compose(...e){let t=this,s=function(){let s={canceled:!1,parameters:Array.from(arguments),result:void 0},r=t[Symbol.iterator](e),i=r.next();return w.composite_iterator(this,s,i,r)};return s.composer=t,s}static composite_iterator(e,t,s,r){let i,a;for(;!t.canceled&&!s.done;)if(i=s.value,a=e?i.call(e,t,...t.parameters):i(t,...t.parameters),s=r.next(),a instanceof Promise){if(!s.done||a.constructor===Promise)return a.then(v([i.name,"[compositeAsyncHandler]"].filter(Boolean).join(" "),(function(i){return t.result=i,w.composite_iterator(e,t,s,r)})));t.result=a}else t.result=a;return t.result}}class P{constructor(e){this.originalHandler=e,this.expiredCalls=0,this.composer=new w;let t,s=this.composer.compose("conditions"),r=this;this.isExpired=e=>t||s.call(e)||!1,this.setExpired=e=>t=e?e instanceof Error?e:new _.INVALID_CALL({target:this.originalHandler,reason:"manually expired"}):Boolean(this.expiredCalls=0),this.addExpireCondition=function(e){this.composer.last("conditions",(function(t){let s=function(s){return R("JFactoryFunctionExpirable.addExpireCondition(), result",s).type(Boolean,Error),r.setExpired(!!s&&((t.canceled=!0)&&(s instanceof Error?s:new _.INVALID_CALL({target:r.originalHandler,reason:"conditionally expired",condition:e}))))},i=e.apply(this,t.parameters);return i instanceof Promise?i.then(s):s(i)}))}}compose(){let e=this,t=function(){let t=e.isExpired(this),s=e.constructor.call.bind(void 0,e,this,arguments);return t instanceof Promise?t.then(s):s(t)};return Object.assign(t,{expirable:this,isExpired:e=>this.isExpired(e),setExpired:e=>this.setExpired(e),addExpireCondition:e=>(this.addExpireCondition(e),t)})}static call(e,t,s,r){return r?e.onExpired(r):e.onNotExpired(t,s)}onExpired(e){return this.expiredCalls<P.MaxWarningExpiration&&(this.expiredCalls++,r.TraitLog&&console.warn(...new _.INVALID_CALL({...e.$data,reason:e.$data.reason+"; expiredCalls="+this.expiredCalls+(this.expiredCalls===P.MaxWarningExpiration?"; Max Warning Exceeded":"")}))),e}onNotExpired(e,t){return this.originalHandler.apply(e,t)}}function I(e){return new N(e).compose()}P.MaxWarningExpiration=10;class N{constructor(e){this.originalHandler=e,this.composer=new w,this.composer.first("original",v([e.name,"[condition]"].filter(Boolean).join(" "),(function(t){return e.apply(this,t.parameters)})))}compose(){let e=this.composer.compose("conditions","original");return Object.assign(e,{conditional:this,addCondition:t=>(this.addCondition(t),e)})}addCondition(e){this.composer.last("conditions",(function(t){let s=function(e){R("JFactoryFunctionConditional.addCondition(), result",e).typeBoolean(),!e&&(t.canceled=!0)},r=e.apply(this,t.parameters);return r instanceof Promise?r.then(s):s(r)}))}}function j(e){return new F(e).compose()}class F{constructor(e){this.originalHandler=e,this.composer=new w,this.composer.first("original",v([e.name,"[wrapped]"].filter(Boolean).join(" "),(function(t){return e.apply(this,t.parameters)})))}compose(){let e=this.composer.compose("before","original","after");return Object.assign(e,{wrappable:this,beforeAll:t=>(this.beforeAll(t),e),justBefore:t=>(this.justBefore(t),e),justAfter:t=>(this.justAfter(t),e),afterAll:t=>(this.afterAll(t),e)})}beforeAll(e){this.composer.first("before",e)}justBefore(e){this.composer.last("before",e)}justAfter(e){this.composer.first("after",e)}afterAll(e){this.composer.last("after",e)}}function C(e,t){return new O(e,t,{parser(e,t){let s=O.defaultParser(...arguments);if(s){({propertyName:e,propertyDescriptor:t}=s);let r=t.value;if("function"==typeof r)switch(r.name){case"$install":case"$uninstall":case"$enable":case"$disable":case"$state":break;default:t.value=j(r).beforeAll((function(){if(!this.$.states.enabled&&"PHASE_NONE"===this.$.service.phase){let e=new _.INVALID_CALL({owner:this,target:r,reason:"component disabled"});throw this.$logErr(...e),e}}))}return{propertyName:e,propertyDescriptor:t}}}})}class M{constructor(e){M.inject(this,M,e)}static inject(e,t,s){C(e,t).use(D.TraitCore).use(D.TraitAbout,{name:s}).use(D.TraitLog).use(D.TraitEvents).use(D.TraitState).use(D.TraitService).use(D.TraitTask)}}class k extends M{constructor(e){super(e),k.inject(this,k)}static inject(e,t){C(e,t).use(D.TraitFetch).use(D.TraitDOM).use(D.TraitCSS).use(D.TraitMutation).use(D.TraitTimeout).use(D.TraitInterval).use(D.TraitLibVue).use(D.TraitLibReact)}}const D=(e,t)=>Object.assign(new k(e),t);class U{static createDescriptors(e=U.DESCRIPTORS_PROTOTYPE){let t=U.create(e,!0,!0),s=Object.create(null);return s.NONE=t(),s.WRITABLE=t({writable:!0}),s.ENUMERABLE=t({enumerable:!0}),s.CONFIGURABLE=t({configurable:!0}),s.CONFIGURABLE_WRITABLE=s.WRITABLE_CONFIGURABLE=t({writable:!0,configurable:!0}),s.CONFIGURABLE_ENUMERABLE=s.ENUMERABLE_CONFIGURABLE=t({enumerable:!0,configurable:!0}),s.ENUMERABLE_WRITABLE=s.WRITABLE_ENUMERABLE=t({writable:!0,enumerable:!0}),s.WRITABLE_ENUMERABLE_CONFIGURABLE=s.WRITABLE_CONFIGURABLE_ENUMERABLE=s.ENUMERABLE_CONFIGURABLE_WRITABLE=s.ENUMERABLE_WRITABLE_CONFIGURABLE=s.CONFIGURABLE_WRITABLE_ENUMERABLE=s.CONFIGURABLE_ENUMERABLE_WRITABLE=t({writable:!0,enumerable:!0,configurable:!0}),s.READONLY=t({writable:!1,enumerable:!1,configurable:!1}),s}static assign(e,t,s,r){let i={};switch(typeof t){case"string":case"symbol":if(!r)throw new Error("missing descriptor argument; use Object.assign instead");(r=Object.create(r)).value=s,Object.defineProperty(e,t,r);break;case"object":if([s,r]=[t,s],!r)throw new Error("missing descriptor argument; use Object.assign instead");for(let e of Object.getOwnPropertyNames(s))i[e]=Object.create(r),i[e].value=s[e];for(let e of Object.getOwnPropertySymbols(s))i[e]=Object.create(r),i[e].value=s[e];Object.defineProperties(e,i);break;default:throw new Error("invalid property argument")}return e}static create(e,t=!1,s=!1){return function(r){return t?Object.assign(s?Object.create(null):{},e,r):Object.assign(Object.create(s?Object.assign(Object.create(null),e):e),r)}}static disinherit(e){return Object.assign(Object.create(null),e)}}U.DESCRIPTORS_PROTOTYPE={writable:!1,enumerable:!1,configurable:!1},i.onInit((function(){U.descriptors=U.createDescriptors()}));const B=()=>++B.uid;B.uid=0;class H{constructor(e,t={}){let s,r;R("JFactoryAbout(owner)",e).type(Object),R("JFactoryAbout(about)",t).typePlainObject().reservedProperty("uid").reservedProperty("fingerprint"),"name"in t&&R("JFactoryAbout(about.name)",t.name).typeString().notEmptyString();let i=B();t.name?(s=t.name,delete t.name,r="jFactory_"+f(s.toLowerCase())+"_"+i):(delete t.name,s=`[${e.constructor.name}#${i}]`,r="jFactory_"+e.constructor.name+"_"+i),U.assign(this,{uid:i,name:s,fingerprint:r},U.descriptors.ENUMERABLE),Object.assign(this,t),R("JFactoryAbout.name",this.name).matchReg(/^[\w[\]#]+$/),R("JFactoryAbout.fingerprint",this.fingerprint).matchReg(/^[\w]+$/)}}const J=()=>++J.uid;J.uid=0;class V extends Promise{constructor({name:e,config:t,traceSource:s},r){1===arguments.length&&([e,t,r]=[null,null,arguments[0]]);const i=J();let a,n;t={...V.DEFAULT_CONFIG,...t},R("name",e=e||"unnamed").type(String,Number).matchReg(/^[^. ]+$/),R("config",t).typePlainObject(),R("executor",r).typeFunction(),super((e,t)=>{a=e,n=t});const o=new Y(this,i,e,t);Object.defineProperties(this,{$chain:{enumerable:!0,writable:!0,value:o},$type:{writable:!0,value:"promise"},$value:{writable:!0,value:void 0},$isSettled:{writable:!0,value:!1},$isRejected:{writable:!0,value:null},$isFulfilled:{writable:!0,value:null},$isExpired:{writable:!0,value:!1},$isAborted:{writable:!0,value:!1}}),Object.defineProperties(this,{$dev_name:{configurable:!0,value:e+"["+i+":0]"},$dev_path:{writable:!0,value:new q(this)},$dev_position:{writable:!0,value:0}}),l(r)||Object.defineProperties(this,{$dev_source:{value:r}}),y.tracer.attachTrace(this,s);const c=()=>{if(!this.$chain.isPending)try{this.$chainComplete("auto-completed")}catch(e){console.error(e)}},h=e=>{if(!this.$isSettled){if(e===this)return void u(new TypeError("Chaining cycle detected for promise "+this.$dev_name));let t;if(null!==e&&("object"==typeof e||"function"==typeof x))try{t=e.then}catch(e){return void u(e)}if("function"==typeof t){let s=!1,r=function(e){s||(s=!0,h(e))},i=function(e){s||(s=!0,u(e))};try{t.call(e,r,i)}catch(e){s||u(e)}}else this.$isRejected=!1,this.$isFulfilled=!0,this.$isExpired&&(e=this.$chain.errorExpired),a(e),p(e)}},u=e=>{this.$isSettled||(this.$isRejected=!0,this.$isFulfilled=!1,n(e),p(e))},p=e=>{this.$value=e,this.$isSettled=!0,this.$chain.chainMap.set(this,!0),this.$chain.chainConfig.chainAutoComplete&&(1!==this.$chain.chainMap.size||this.$isExpired?c():this.then(c))};let d=t.chainAutoComplete;Object.defineProperty(t,"chainAutoComplete",{get:()=>d,set:e=>{d!==e&&(d=e,e&&c())}}),o.chainMap.set(this,!1),Object.defineProperties(this,{__resolve__:{value:h},__reject__:{value:u}});try{r(h,u)}catch(e){u(e)}}then(e,t,s){let r,i,a,n=l(e)&&!e.name.startsWith("bound ");e&&"function"==typeof e&&(r=function(s){return"await"===o?a.$isAborted?t(a.$chain.errorExpired):e(s):a.$isExpired?void 0:(a.$isSettled,e(s))}),t&&"function"==typeof t&&(i=function(e){return a.$isSettled,t(e)});let o=s||(n?"await":void 0===e?"catch":"then");a=Object.assign(super.then(r,i),this),J.uid--,a.$type=o;{a.$dev_position=this.$chain.chainMap.size;let s="";e&&e.name&&(s+=e.name),t&&t.name&&(s+=","+t.name),Object.defineProperties(a,{$dev_name:{value:this.$chain.chainName+"["+this.$chain.chainId+":"+this.$dev_position+"]."+a.$type+(s?"("+s+")":"")+"["+a.$chain.chainId+":"+a.$dev_position+"]"},$dev_path:{value:new q(this.$dev_path,a)},$dev_onFulfilled:{value:e},$dev_onRejected:{value:t}})}return a.$chain.chainMap.set(a,!1),this.$isExpired&&V.setExpired(a,!0,!this.$isAborted,this.$chain.errorExpired),a}$catchExpired(e){return this.then(t=>this.$chain.chainRoot.$isExpired?e(t):t,void 0,"$catchExpired")}static resolve(e,t){return 1===arguments.length&&([e,t]=[{},e]),e||(e={}),t instanceof this&&1===arguments.length?t:new this(e,(function(e){e(t)}))}static reject(e,t){return 1===arguments.length&&([e,t]=[{},e]),e||(e={}),new this(e,(function(e,s){s(t)}))}$toPromise(){return Promise.resolve(this)}$chainAbort(e="$chainAbort()"){return this.$chain.complete(e,!0),this}$chainComplete(e="$chainComplete()"){try{this.$chain.complete(e,!1)}catch(e){throw e instanceof _.INVALID_CALL?new _.INVALID_CALL({target:e.$data.target,reason:"Trying to complete a pending chain. Use $chainAbort() if you want to stop it."}):e}return this}$chainAutoComplete(){return this.$chain.chainConfig.chainAutoComplete=!0,this}static setExpired(e,t,s,r){if(!e.$isSettled){if(!t)throw new _.INVALID_CALL({target:e,reason:"promise must be aborted or settled before setting it to expired."});e.$isAborted=!s,e.__resolve__(r)}e.$isExpired=!0}}V.DEFAULT_CONFIG={chainAutoComplete:!1};class Y{constructor(e,t,s,r){Object.defineProperties(this,{chainConfig:{value:r},chainRoot:{value:e},chainId:{value:t},chainName:{value:s},chainMap:{value:new Map},isCompleted:{value:!1,configurable:!0},data:{value:{}},__deferred__:{value:o.Deferred()}})}get isPending(){return Array.from(this.chainMap.values()).includes(!1)}then(e){return this.__deferred__.done(e),this}complete(e="chain.complete()",t){let s=this.chainRoot;if(!s.$isExpired){let r=s.$chain.errorExpired=new _.PROMISE_EXPIRED({target:s,reason:e}),i=this.chainMap;for(let e of i.keys())V.setExpired(e,t,!1,r);Object.defineProperty(this,"isCompleted",{value:!0}),this.__deferred__.resolve()}return this}}class q extends Array{constructor(){super();for(let e of arguments)Array.isArray(e)?this.push(...e):this.push(e)}get printable(){return this.map((e,t)=>0===t?e.$dev_name:e.$dev_name.split(".")[1]).join(".")}toString(){return this.printable}}class W extends Promise{constructor(e){let t={$isSettled:!1,$isRejected:null,$value:void 0};super((s,r)=>{let i=!1,a=e=>{e instanceof Promise?W.resolve(e).then(a,n):i||(i=!0,t.$isSettled=!0,t.$isRejected=!1,t.$value=e,s(e))},n=e=>{i||(i=!0,t.$isSettled=!0,t.$isRejected=!0,t.$value=e,r(e))};try{e(a,n)}catch(e){n(e)}}),Object.assign(this,t),t=this}then(e,t){if(this.$isSettled){let s=this.$value;try{if(this.$isRejected){if(super.then(void 0,()=>null),!t||"function"!=typeof t)return W.reject(s);s=t(s)}else e&&"function"==typeof e&&(s=e(s))}catch(e){return W.reject(e)}return W.resolve(s)}return super.then(e,t)}static resolve(e){return e instanceof W?e:new W(e instanceof Promise?e.then.bind(e):t=>t(e))}}class G{constructor(){Object.defineProperties(this,{registry:{value:o(Object.create(null))},handlers:{value:new WeakMap},onListenerUpdate:{value:null,writable:!0},onObserverUpdate:{value:null,writable:!0}})}on({events:e,handler:t,target:s,selector:r}){G.validateSelector(e),R("JFactoryEvents.on({handler})",t).typeFunction(),s&&R("JFactoryEvents.on({target})",s).type(String,o,HTMLElement),r&&R("JFactoryEvents.on({selector})",s).typeString();let i=this.handlers.get(t);s?(i||this.handlers.set(t,!0),r?o(s).on(e,r,t):o(s).on(e,t),this.onListenerUpdate&&this.onListenerUpdate(arguments)):(i||(this.handlers.set(t,i=function(e,{data:s,stack:r}){r.push(()=>t(e,s))}),i.originalHandler=t),this.registry.on(e,i),this.onObserverUpdate&&this.onObserverUpdate(arguments))}off({events:e,handler:t,target:s,selector:r}){if(void 0!==e&&(G.validateSelector(e),t&&R("JFactoryEvents.off({handler})",t).typeFunction(),s&&R("JFactoryEvents.off({target})",s).type(String,o,HTMLElement),r&&R("JFactoryEvents.off({selector})",s).typeString()),s)r?o(s).off(e,r,t):o(s).off(e,t);else{if(o("*").off(e,t),t&&!(t=this.handlers.get(t)))throw new _.INVALID_VALUE({target:"handler",reason:"not registered",given:t});this.registry.off(e,t)}this.onObserverUpdate&&this.onObserverUpdate(arguments),this.onListenerUpdate&&this.onListenerUpdate(arguments)}triggerParallel({events:e,data:t,target:s}){G.validateSelector(e),s&&R("JFactoryEvents.triggerParallel({target})",s).type(String,o,HTMLElement);const r=[],i=[];if(e=e.split(" "),s)for(let i of e)o(s).trigger(i,{data:t,stack:r});else for(let s of e)this.registry.triggerHandler(s,{data:t,stack:r});for(let e of r){let t=e();t instanceof Promise&&!t.$isSettled&&i.push(t)}return i.length?Promise.all(i):W.resolve()}triggerSeries({events:e,data:t,target:s}){return G.validateSelector(e),s&&R("JFactoryEvents.triggerSeries({target})",s).type(String,o,HTMLElement),new W(async r=>{const i=[];if(e=e.split(" "),s)for(let r of e)o(s).trigger(r,{data:t,stack:i});else for(let s of e)this.registry.triggerHandler(s,{data:t,stack:i});for(let e of i){let t=e();t instanceof Promise&&!t.$isSettled&&await t}r()})}}class K extends G{constructor(e){super(),Object.defineProperties(this,{parent:{value:e},affiliateRules:{value:(new w).compose()}}),this.affiliateAddRule(K.rule_namespace)}affiliate(e="",t="",s){let r=new z(e);for(let e of r.events)this.affiliateRules(e,t,s);return r.toString()}affiliateAddRule(e){this.affiliateRules.composer.last(e)}static rule_namespace(e,t,s){s=s.split(".");for(let e of s)e&&t.addNamespace(e)}on(e,t,s,r,i){switch(arguments.length){case 2:[r,t]=[t];break;case 3:"function"==typeof arguments[2]?[r,s]=[s]:[r,i,t,s]=[t,s];break;case 4:"object"==typeof arguments[3]&&([i,r,s]=[r,s])}e=this.affiliate(e,this.parent.$.about.fingerprint,i),void 0===t?super.on({events:e,handler:r}):super.on({events:e,target:t,selector:s,handler:r})}off(e,t,s,r,i){const a=arguments.length;switch(a){case 1:"object"==typeof arguments[0]&&([i,e]=[e]);break;case 2:"function"==typeof arguments[1]?[r,t]=[t]:u(arguments[1])&&([i,t]=[t]);break;case 3:"function"==typeof arguments[2]?[r,s]=[s]:"function"==typeof arguments[1]&&([r,i,t,s]=[t,s]);break;case 4:"object"==typeof arguments[3]&&([i,r,s]=[r,s])}e=this.affiliate(e,this.parent.$.about.fingerprint,i),a<2?super.off({events:e}):t?super.off({events:e,target:t,selector:s,handler:r}):super.off({events:e,handler:r})}trigger(e,t,s){switch(arguments.length){case 2:"object"!=typeof t||t.jquery||([s,t]=[t])}return t?super.triggerSeries({events:e,target:t,data:s}):super.triggerSeries({events:e,data:s})}triggerParallel(e,t,s){switch(arguments.length){case 2:"object"!=typeof t||t.jquery||([s,t]=[t])}return t?super.triggerParallel({events:e,target:t,data:s}):super.triggerParallel({events:e,data:s})}getDomListeners(e){let t=new Map;for(let s of o("*")){let r=o._data(s,"events");if(r)for(let i of Object.values(r))for(let r of i){let i;if(new Q(r.namespace).hasNamespace(e)){(i=t.get(s))||t.set(s,i={}),(i[r.type]||(i[r.type]=[])).push({selector:r.selector||null,handler:r.handler,namespace:r.namespace})}}}return t}getObservers(){let e=new Map,t=this.registry._events;if(!t){let e=Object.values(this.registry)[0],s=Object.getOwnPropertyNames(e).find(e=>0===e.indexOf("jQuery"));e&&s&&(t=this.registry._events=e[s].events)}if(t)for(let[s,r]of Object.entries(t)){let t=e.get(s);t||(t=[],e.set(s,t));for(let e of r)t.push({handler:e.handler.originalHandler,namespace:e.namespace})}return e}}class z{constructor(e){G.validateSelector(e),this.events=e.split(" ").map(e=>new Q(e))}toString(){let e=[];for(let t of this.events)e.push(t.toString());return e.join(" ")}}class Q{constructor(e){let[t,...s]=e.split(".");this.event=t,this.namespace=new Set(s)}hasNamespace(e){Array.isArray(e)||(e=[e]);for(let t of e){if(!/^[\w:]+$/.test(t))throw new _.INVALID_VALUE({target:"namespace",reason:"must be alphanumeric, underscore and colon characters",given:t});if(t&&this.namespace.has(t))return t}return!1}addNamespace(e){if(!/^[\w:]+$/.test(e))throw new _.INVALID_VALUE({target:"namespace",reason:"must be alphanumeric, underscore and colon characters",given:e});this.namespace.add(e)}deleteNamespace(e){if(!/^[\w:]+$/.test(e))throw new _.INVALID_VALUE({target:"namespace",reason:"must be alphanumeric, underscore and colon characters",given:e});this.namespace.delete(e)}toString(){return this.namespace.size?this.event+"."+Array.from(this.namespace.values()).join("."):this.event}}G.validateSelector=function(e){R("JFactoryEvents.validateSelector(selector)",e).notUndefined().validSpaces();for(let[t,s]of e.split(" ").map(e=>e.split(".")).map(e=>[e.shift(),e.join(".")]))t&&G.validateEvent(t),s&&G.validateNamespace(s);return!0},G.validateEvent=function(e){if(R("JFactoryEvents.validateEvent(event)",e).notUndefined().notEmptyString().validSpaces(),!/^[\w:]+$/.test(e))throw new _.INVALID_VALUE({target:"JFactoryEvents.validateEvent(event)",reason:"must be alphanumeric, underscore and colon characters",given:e});return!0},G.validateNamespace=function(e){if(R("JFactoryEvents.validateNamespace(namespace)",e).notUndefined().notEmptyString().validSpaces(),!/^[\w:.]+$/.test(e))throw new _.INVALID_VALUE({target:"JFactoryEvents.validateNamespace(namespace)",reason:"must be alphanumeric, underscore, dot and colon characters",given:e});return!0};class X extends V{constructor(e,t,s={}){if("function"==typeof e)super(e);else{"string"==typeof e&&([e,t,s]=[{},arguments[0],arguments[1]]);let r=new Request(t,s);super(e,(i,a)=>{let n=fetch(r).then(e=>{if(this.$chain.fetchResponse=e,!e.ok)throw Error(e.status+":"+e.statusText);return e});s.$typeText?n=n.then(e=>e.text()).then(e=>this.$chain.responseText=e):s.$typeJSON&&(n=n.then(e=>e.json()).then(e=>this.$chain.responseJSON=e)),n=n.catch(i=>{throw new _.REQUEST_ERROR({reason:i.message||i,target:this.$chain.fetchResponse&&this.$chain.fetchResponse.url||t,owner:this,fetchOptions:s,fetchRequest:r,fetchResponse:this.$chain.fetchResponse||null},e.traceSource)}),n.then(i,a)}),this.$chain.fetchOptions=s,this.$chain.fetchRequest=r;let i=s.abortController||new AbortController;s.signal=i.signal,this.$chain.fetchAbortController=i}}$chainAbort(e="request aborted"){return super.$chainAbort(e),this.$chain.fetchAbortController.abort(),this}}const Z=Symbol();class ee{constructor(e){e&&R("JFactoryLogger(options)",e).properties(Object.getOwnPropertyNames(ee.DEFAULT_CONFIG)),p(this,e,ee.DEFAULT_CONFIG),this.condition=I(ee.DEFAULT_CONDITION),this.installAccessor("log"),this.installAccessor("warn"),this.installAccessor("error")}get enabled(){return this[Z]&&(!this.parentLogger||this.parentLogger.enabled)}set enabled(e){e?this.enable():this.disable()}enable(){!0!==this[Z]&&(this[Z]=!0)}disable(){!1!==this[Z]&&(this[Z]=!1)}disallow(e,t=this.label){this.filters[t]||(this.filters[t]={}),this.filters[t][e]=!0}allow(e,t=this.label){this.filters[t]&&delete this.filters[t][e]}installAccessor(e,t=e,s=this){R("JFactoryLogger(nativeName)",e).equalIn(["log","warn","error"]),Object.defineProperties(s,{[t]:{get:this.accessor.bind(this,e),configurable:!0}})}accessor(e){return this[Z]&&this.condition(e)&&this.formatter[e](this)||g}createSubLogger(e){let t=new ee({enabled:this.enabled,label:this.label+"."+e,styles_css:this.styles_css,styles_cli:this.styles_cli,console:this.console,formatter:this.formatter});return t.parentLogger=this,t.condition.addCondition(()=>this.enabled),t.filters=this.filters,t}}ee.FORMATTER_NATIVE={log:e=>e.console.log.bind(e.console,e.label+">"),warn:e=>e.console.warn.bind(e.console,e.label+">"),error:e=>e.console.error.bind(e.console,e.label+">")},ee.FORMATTER_CLI={log:e=>e.console.log.bind(e.console,e.styles_cli.label,e.label+">"),warn:e=>e.console.warn.bind(e.console,e.styles_cli.label,e.label+">"),error:e=>e.console.error.bind(e.console,e.styles_cli.label,e.label+">")},ee.FORMATTER_BROWSER={log:e=>e.console.log.bind(e.console,"%c"+e.label+">",e.styles_css.label),warn:e=>e.console.warn.bind(e.console,"%c"+e.label+">",e.styles_css.label),error:e=>e.console.error.bind(e.console,"%c"+e.label+">",e.styles_css.label)},ee.DEFAULT_CONDITION=function(e){return R("JFactoryLogger.condition(nativeName)",e).equalIn(["log","warn","error"]),R("JFactoryLogger.enabled",this.enabled).equal(!0),!(this.filters[this.label]&&this.filters[this.label][e])},ee.DEFAULT_CONFIG={label:"",enabled:!0,parentLogger:null,formatter:s?ee.FORMATTER_CLI:ee.FORMATTER_BROWSER,console:console,filters:{},styles_cli:{label:"[1;30m%s[0m"},styles_css:{label:"color: gray"}};class te extends Date{toString(){return this.toLocaleTimeString()+", "+this.getUTCMilliseconds()+"ms ("+this.valueOf()+")"}$toDurationString(){let e=this.getUTCHours(),t=this.getUTCMinutes(),s=this.getUTCSeconds(),r=this.getUTCMilliseconds(),i=[];return e&&i.push(e+"h"),t&&i.push(t+"min"),s&&i.push(s+"s"),i.push(r+"ms"),1===i.length?i[0]:i.join(",")+" ("+this.valueOf()+")"}}class se extends Date{constructor(){super(),this.elapsed=null,Object.defineProperties(this,{t1:{value:null,writable:!0},t0:{value:new te}})}end(){this.t1=new te,this.elapsed=new te(this.t1-this.t0).$toDurationString()}toString(){return this.elapsed}}class re{trait_constructor(){const e=this;class t extends Map{constructor(...e){super(...e),Object.defineProperty(this,"id_autoinc",{value:0,writable:!0})}$registerSync(t,s){let r=Object.defineProperties({},{$value:{value:s},$phaseRemove:{value:ce.getContextualRemovePhase(e)}});return this.set(t,r),r}$registerAsync(t,s,r){let i=e.$task(s,r.$chain);return r.$chain.then(()=>{i.$chainAutoComplete()}),i.$chain.then(()=>{r.$chain.isCompleted||r.$chainAbort("aborted by task")}),Object.defineProperty(r,"$phaseRemove",{value:i.$phaseRemove}),this.set(t,r),i}$id_resolve(e){if(e.indexOf("?")>=0){let t=++this.id_autoinc;e=e.replace(/\?/g,t)}return e}}const s=Object.assign(Object.create(null),{[re.SYMBOL_PRIVATE]:Object.create(null),assign:function(e,t,s){U.assign(this,e,t,s)},createSubMap:()=>new t});Object.defineProperty(this,"$",{value:Object.create(s)}),this.$.assign({tasks:null,requests:null},U.descriptors.ENUMERABLE_WRITABLE)}}re.SYMBOL_PRIVATE=Symbol("_");class ie{trait_constructor(e){U.assign(this.$,"about",new H(this,e),U.descriptors.READONLY)}}class ae{trait_constructor(){let e=Object.assign({label:this.$.about.name},r.TraitLog||{enabled:!1}),t=new ee(e);Object.defineProperty(this.$,"logger",{value:t}),t.installAccessor("log","$log",this),t.installAccessor("warn","$logWarn",this),t.installAccessor("error","$logErr",this)}}class ne{trait_constructor(){this.$.assign("tasks",this.$.createSubMap(),U.descriptors.ENUMERABLE)}$task(e,t){if(R("$task(id)",e=this.$.tasks.$id_resolve(e)).typeString(),R("$task(executorOrValue)",t).notUndefined(),this.$.tasks.has(e))throw new _.KEY_DUPLICATED({target:"$task(id)",given:e});let s,r;return s="function"==typeof t?new V({name:e,owner:this},t):V.resolve({name:e,owner:this},t),s.$phaseRemove=ce.getContextualRemovePhase(this),r=new se,s.$taskMetrics={$dev_timing:r},s.$chain.then(()=>{r.end(),this.$.tasks.get(e)&&this.$taskRemove(e)}),this.$.tasks.set(e,s),s}$taskRemove(e,t){if(R("$taskRemove(id)",e).typeString(),t&&R("$taskRemove(reason)",t).typeString(),!this.$.tasks.has(e))throw new _.KEY_MISSING({target:"$taskRemove(id)",given:e});this.$.tasks.get(e)._called,this.$.tasks.get(e)._called=!0;let s=this.$.tasks.get(e);this.$.tasks.delete(e),s.$chainAbort(t||"$taskRemove()")}$taskRemoveAll(e){R("$taskRemoveAll(removePhase)",e).equalIn(ce.PHASES);let t=this.$.tasks;if(t.size)for(const[s,r]of t)r.$phaseRemove===e&&this.$taskRemove(s,"$taskRemoveAll("+e+")")}$taskPromiseAll(e=!1){let t=[];if(this.$.tasks.size)for(let s of this.$.tasks.values())e&&(s.$chain.chainConfig.chainAutoComplete=!0),s.$chain.isPending&&t.push(s.$chain);return t.length?Promise.all(t):W.resolve()}}class oe{trait_constructor(){he(this,"events",{custom:new K(this),kernel:new K(this)},U.descriptors.NONE);let e=this.$[re.SYMBOL_PRIVATE].events.custom;Object.defineProperties(this.$,{listeners:{get:e.getDomListeners.bind(e,this.$.about.fingerprint),enumerable:!0},observers:{get:e.getObservers.bind(e),enumerable:!0}})}$on(){this.$[re.SYMBOL_PRIVATE].events.custom.on(...arguments)}$off(){this.$[re.SYMBOL_PRIVATE].events.custom.off(...arguments)}$trigger(){return this.$[re.SYMBOL_PRIVATE].events.custom.trigger(...arguments)}$triggerParallel(){return this.$[re.SYMBOL_PRIVATE].events.custom.triggerParallel(...arguments)}$notify(e,t){return this.$trigger(e,t).then(()=>this.$[re.SYMBOL_PRIVATE].events.kernel.trigger(e,t))}}class le{trait_constructor(){const e=Object.create(null),t=Object.create(null),s=this.$[re.SYMBOL_PRIVATE].events.kernel;he(this,{states:e,stateRoutes:t},U.descriptors.READONLY),U.assign(this.$,"states",new Proxy(e,{set:(e,t,s)=>this.$state(t,s),get:(t,s)=>e[s]}),U.descriptors.READONLY),s.on("beforeStateChange",(e,s)=>{let r;if(t[s.key]&&t[s.key].before&&(r=t[s.key].before(s.val)))return this.$notify(r)}),s.on("afterStateChange",(e,s)=>{let r;if(t[s.key]&&t[s.key].after&&(r=t[s.key].after(s.val)))return this.$notify(r)})}$state(e,t,s=!0){return R("$state(key)",e).typeString(),R("$state(notify)",s).typeBoolean(),new W(async r=>{let i,a=this.$[re.SYMBOL_PRIVATE].states,n=a[e];e in a&&n===t||(i=s&&this.$notify("beforeStateChange",{key:e,val:t,previousVal:n}),i&&R("beforeStateChange result",i).type(W),i&&!i.$isSettled&&(a[e]=i,await i),void 0===t?delete a[e]:a[e]=t,i=s&&this.$notify("afterStateChange",{key:e,val:t,previousVal:n}),i&&R("afterStateChange result",i).type(W)),i?i.then(r):r()})}}class ce{trait_constructor(){U.assign(this.$,"service",Object.create(null),U.descriptors.READONLY),this.$.service.phase=ce.PHASE.NONE,this.$.service.phaseQueue=V.resolve({name:"phaseQueue"},null),this.$.service.phaseTask=null,this.$.service.phaseMap={install:new Set,enable:new Set,disable:new Set,uninstall:new Set},this.$state("installed",!1,!1),this.$state("enabled",!1,!1),ue(this,"stateRoutes",{installed:{after:e=>e?"install":"uninstall"},enabled:{after:e=>e?"enable":"disable"}},U.descriptors.NONE);let e=this.$[re.SYMBOL_PRIVATE].events.custom,t=this.$[re.SYMBOL_PRIVATE].events.kernel;e.affiliateAddRule((e,t,s,r)=>ce.setEventNamespaceRemovePhase(this,t,r));let s=e=>{this.$.tasks.size&&this.$taskRemoveAll(this.$.service.phase);let t=W.resolve();return e&&(t=t.then(()=>e.call(this)).then(()=>this.$taskPromiseAll(!0))),t.catch(e=>{e instanceof _.PROMISE_EXPIRED||this.$logErr("unhandled promise rejection in "+this.$.service.phase+";",...e instanceof S?e:[e])})};t.on("install",()=>s(this.onInstall)),t.on("enable",()=>s(this.onEnable)),t.on("disable",()=>s(this.onDisable)),t.on("uninstall",()=>s(this.onUninstall)),t.on("disable",()=>this.$off({removal:ce.PHASE.DISABLE})),t.on("uninstall",()=>this.$off({removal:ce.PHASE.UNINSTALL}))}$install(e){let t;const s=new V({name:"install",config:{chainAutoComplete:!0}},e=>t=e).then(()=>{if(!this.$.states.installed)return this.$.service.phase=ce.PHASE.INSTALL,this.$state("installed",!0)});return this.$.service.phaseMap.install.add(s),s.$chain.then(()=>{this.$.service.phaseTask=null,this.$.service.phaseMap.install.delete(s),this.$.service.phase=ce.PHASE.NONE}),this.$.service.phaseQueue=this.$.service.phaseQueue.then(()=>(this.$.service.phaseTask=s,t(),s.$chain)),e?this.$enable():s}$enable(){let e;const t=new V({name:"enable",config:{chainAutoComplete:!0}},t=>e=t).then(()=>{if(this.$.states.installed&&!this.$.states.enabled)return this.$.service.phase=ce.PHASE.ENABLE,this.$state("enabled",!0)});return this.$.service.phaseMap.enable.add(t),t.$chain.then(()=>{this.$.service.phaseTask=null,this.$.service.phaseMap.enable.delete(t),this.$.service.phase=ce.PHASE.NONE}),this.$.service.phaseQueue=this.$.service.phaseQueue.then(()=>(this.$.service.phaseTask=t,e(),t.$chain)),t}$disable(){let e;const t=new V({name:"disable",config:{chainAutoComplete:!0}},t=>e=t).then(()=>{if(this.$.states.enabled)return this.$.service.phase=ce.PHASE.DISABLE,this.$state("enabled",!1)});this.$.service.phaseMap.disable.add(t),t.$chain.then(()=>{this.$.service.phaseTask=null,this.$.service.phaseMap.disable.delete(t),this.$.service.phase=ce.PHASE.NONE});for(let[e,t]of this.$.service.phaseMap.enable.entries())t===this.$.service.phaseTask&&ce.phaseKill(this),t.$chainAbort(),this.$.service.phaseMap.enable.delete(e);return this.$.service.phaseQueue=this.$.service.phaseQueue.then(()=>(this.$.service.phaseTask=t,e(),t.$chain)),t}$uninstall(){let e;const t=new V({name:"uninstall",config:{chainAutoComplete:!0}},t=>e=t).then(()=>{if(this.$.states.installed)return this.$.service.phase=ce.PHASE.UNINSTALL,this.$state("installed",!1)});this.$.service.phaseMap.uninstall.add(t),t.$chain.then(()=>{this.$.service.phaseTask=null,this.$.service.phaseMap.uninstall.delete(t),this.$.service.phase=ce.PHASE.NONE});for(let[e,t]of this.$.service.phaseMap.install.entries())t===this.$.service.phaseTask&&ce.phaseKill(this),t.$chainAbort(),this.$.service.phaseMap.install.delete(e);return this.$disable(),this.$.service.phaseQueue=this.$.service.phaseQueue.then(()=>(this.$.service.phaseTask=t,e(),t.$chain)),t}static phaseKill(e){e.$.tasks.size&&e.$taskRemoveAll(ce.getContextualRemovePhase(e)),e.$.service.phase=ce.PHASE.NONE}static getContextualRemovePhase(e){return ce.PHASE_REVERT[e.$.service.phase]}static setEventNamespaceRemovePhase(e,t,s){let r=t.hasNamespace(ce.PHASES),i=s&&s.removal;i||(i=ce.getContextualRemovePhase(e)),"uninstall"===t.event&&i===ce.PHASE.DISABLE&&(i=ce.PHASE.UNINSTALL),r!==i&&(t.deleteNamespace(r),t.addNamespace(i)),t.addNamespace(i)}}function he(e,t,s,r){U.assign(e.$[re.SYMBOL_PRIVATE],t,s,r)}function ue(e,t,s,r){U.assign(e.$[re.SYMBOL_PRIVATE][t],s,r)}ce.PHASE={NONE:"PHASE_NONE",INSTALL:"PHASE_INSTALL",ENABLE:"PHASE_ENABLE",DISABLE:"PHASE_DISABLE",UNINSTALL:"PHASE_UNINSTALL"},ce.PHASE_REVERT={[ce.PHASE.INSTALL]:ce.PHASE.UNINSTALL,[ce.PHASE.UNINSTALL]:ce.PHASE.INSTALL,[ce.PHASE.DISABLE]:ce.PHASE.ENABLE,[ce.PHASE.ENABLE]:ce.PHASE.DISABLE,[ce.PHASE.NONE]:ce.PHASE.DISABLE},ce.PHASES=Object.values(ce.PHASE),D.PHASE=U.disinherit(ce.PHASE),D.TraitCore=re,D.TraitAbout=ie,D.TraitLog=ae,D.TraitEvents=oe,D.TraitState=le,D.TraitService=ce,D.TraitTask=ne;class pe{trait_constructor(){const e=this.$[re.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$fetchRemoveAll(ce.PHASE.DISABLE)),e.on("uninstall",()=>this.$fetchRemoveAll(ce.PHASE.UNINSTALL)),this.$.assign("requests",this.$.createSubMap(),U.descriptors.ENUMERABLE)}$fetch(e,t,s={}){if(R("$fetch(id)",e=this.$.requests.$id_resolve(e)).typeString(),R("$fetch(url)",t).typeString(),R("$fetch(fetchOptions)",s).typePlainObject(),this.$.requests.has(e))throw new _.KEY_DUPLICATED({target:"$fetch(id)",given:e});let r=new X({name:e,traceSource:y.tracer.captureTraceSource("$fetch"),config:{chainAutoComplete:!0}},t,s);return this.$.requests.$registerAsync(e,'$fetch("'+e+'")',r),r.$chain.then(()=>{this.$.requests.has(e)&&this.$fetchRemove(e)}),r}$fetchText(e,t,s={}){return this.$fetch(e,t,{...s,$typeText:!0})}$fetchJSON(e,t,s={}){return this.$fetch(e,t,{...s,$typeJSON:!0})}$fetchRemove(e,t){if(R("$fetchRemove(id)",e).typeString(),t&&R("$fetchRemove(reason)",t).typeString(),!this.$.requests.has(e))throw new _.KEY_MISSING({target:"$fetchRemove(id)",given:e});this.$.requests.get(e)._debug_remove_called,this.$.requests.get(e)._debug_remove_called=!0;let s=this.$.requests.get(e);this.$.requests.delete(e),s.$chainAbort(t||"$fetchRemove()")}$fetchRemoveAll(e){R("removePhase",e).equalIn(ce.PHASES);let t=this.$.requests;if(t.size)for(const[s,r]of t)r.$phaseRemove===e&&this.$fetchRemove(s,"$fetchRemoveAll("+e+")")}}class de{trait_constructor(){const e=this.$[re.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$timeoutRemoveAll(ce.PHASE.DISABLE)),e.on("uninstall",()=>this.$timeoutRemoveAll(ce.PHASE.UNINSTALL)),this.$.assign("timeouts",this.$.createSubMap(),U.descriptors.ENUMERABLE)}$timeout(e,t,s=null,...r){if(R("id",e=this.$.timeouts.$id_resolve(e)).typeString(),R("delay",t).typeNumber(),R("handler",s).type(Function,null),this.$.timeouts.has(e))throw new _.KEY_DUPLICATED({target:"$timeout(id)",given:e});let i,a=new V({name:e,traceSource:y.tracer.captureTraceSource("$timeout"),config:{chainAutoComplete:!0}},e=>{i=setTimeout(()=>{a.$isExpired||e(s?s(...r):void 0)},t)});return a.$chain.data.timer=i,this.$.timeouts.$registerAsync(e,'$timeout("'+e+'")',a),a.$chain.then(()=>{this.$.timeouts.has(e)&&this.$timeoutRemove(e)}),a}$timeoutRemove(e,t){if(R("$timeoutRemove(id)",e).typeString(),t&&R("$timeoutRemove(reason)",t).typeString(),!this.$.timeouts.has(e))throw new _.KEY_MISSING({target:"$timeoutRemove(id)",given:e});this.$.timeouts.get(e)._debug_remove_called,this.$.timeouts.get(e)._debug_remove_called=!0;let s=this.$.timeouts.get(e);clearTimeout(s.$chain.data.timer),this.$.timeouts.delete(e),s.$chainAbort(t||"$timeoutRemove()")}$timeoutRemoveAll(e){R("removePhase",e).equalIn(ce.PHASES);let t=this.$.timeouts;if(t.size)for(const[s,r]of t)r.$phaseRemove===e&&this.$timeoutRemove(s,"$timeoutRemoveAll()")}}class me{trait_constructor(){const e=this.$[re.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$intervalRemoveAll(ce.PHASE.DISABLE)),e.on("uninstall",()=>this.$intervalRemoveAll(ce.PHASE.UNINSTALL)),this.$.assign("timeints",this.$.createSubMap(),U.descriptors.ENUMERABLE)}$interval(e,t,s,...r){if(R("id",e=this.$.timeints.$id_resolve(e)).typeString(),R("handler",s).typeFunction(),R("delay",t).typeNumber(),this.$.timeints.has(e))throw new _.KEY_DUPLICATED({target:"$interval(id)",given:e});let i=setInterval(s,t,...r);this.$.timeints.$registerSync(e,i)}$intervalRemove(e){if(R("$intervalRemove(id)",e).typeString(),!this.$.timeints.has(e))throw new _.KEY_MISSING({target:"$intervalRemove(id)",given:e});this.$.timeints.get(e)._debug_remove_called,this.$.timeints.get(e)._debug_remove_called=!0,clearInterval(this.$.timeints.get(e).$value),this.$.timeints.delete(e)}$intervalRemoveAll(e){R("removePhase",e).equalIn(ce.PHASES);let t=this.$.timeints;if(t.size)for(const[s,r]of t)r.$phaseRemove===e&&this.$intervalRemove(s)}}class $e{trait_constructor(){const e=this.$[re.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$mutationRemoveAll(ce.PHASE.DISABLE)),e.on("uninstall",()=>this.$mutationRemoveAll(ce.PHASE.UNINSTALL)),this.$.assign("mutations",this.$.createSubMap(),U.descriptors.ENUMERABLE)}$mutation(e,t,s,r){if(R("id",e=this.$.mutations.$id_resolve(e)).typeString(),R("parent",t).type(HTMLElement,Document),R("config",s).typePlainObject(),R("handler",r).typeFunction(),this.$.mutations.has(e))throw new _.KEY_DUPLICATED({target:"$mutation(id)",given:e});let i=new MutationObserver(r);i.observe(t,s),this.$.mutations.$registerSync(e,i)}$mutationRemove(e,t){if(R("$mutationRemove(id)",e).typeString(),t&&R("$mutationRemove(reason)",t).typeString(),!this.$.mutations.has(e))throw new _.KEY_MISSING({target:"$mutationRemove(id)",given:e});this.$.mutations.get(e)._debug_remove_called,this.$.mutations.get(e)._debug_remove_called=!0,this.$.mutations.get(e).$value.disconnect(),this.$.mutations.delete(e)}$mutationRemoveAll(e){R("removePhase",e).equalIn(ce.PHASES);let t=this.$.mutations;if(t.size)for(const[s,r]of t)r.$phaseRemove===e&&this.$mutationRemove(s)}}class fe{trait_constructor(){const e=this.$[re.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$domRemoveAll(ce.PHASE.DISABLE)),e.on("uninstall",()=>this.$domRemoveAll(ce.PHASE.UNINSTALL)),this.$.assign("dom",this.$.createSubMap(),U.descriptors.ENUMERABLE)}$dom(e,t,s){let r;if(R("id",e=this.$.dom.$id_resolve(e)).typeString(),R("jQueryArgument",t).type(String,Object),s&&R("appendTo",s).type(String,Object),"#"===e[0]&&(e=e.substring(1),r=!0),this.$.dom.has(e))throw new _.KEY_DUPLICATED({target:"$dom(id)",given:e});let i=o(t);if("TEMPLATE"===i[0].tagName&&(i=o(o(i[0]).html())),r){if(i[0].nodeType!==Node.ELEMENT_NODE)throw new _.INVALID_VALUE({target:"$dom(#id)",given:i,reason:"cannot set the dom id: the first element of the selection isn't an ELEMENT_NODE"});i[0].id=e}return s&&i.appendTo(s),this.$.dom.$registerSync(e,i).$value}$domFetch(e,t,s,r){let i;if(s&&!u(s)&&([s,r]=[{},s]),R("id",e=this.$.dom.$id_resolve(e)).typeString(),R("url",t).typeString(),r&&R("appendTo",r).type(String,Object),s&&R("fetchOptions",s).type(Object),"#"===e[0]&&(e=e.substring(1),i=!0),this.$.dom.has(e))throw new _.KEY_DUPLICATED({target:"$domFetch(id)",given:e});let a=this.$fetchText('$domFetch("'+e+'")',t,s).then(t=>{let s=o(t);return i&&(s[0].id=e),r&&s.appendTo(r),s});return this.$.dom.$registerAsync(e,'$domFetch("'+e+'")',a),a}$domRemove(e,t){if(R("$domRemove(id)",e).typeString(),t&&R("$domRemove(reason)",t).typeString(),!this.$.dom.has(e))throw new _.KEY_MISSING({target:"$domRemove(id)",given:e});this.$.dom.get(e)._debug_remove_called,this.$.dom.get(e)._debug_remove_called=!0;let s=this.$.dom.get(e),r=s.$value;r instanceof o&&r.remove(),s instanceof X&&s.$chainAbort(t||"$domRemove()"),this.$.dom.delete(e)}$domRemoveAll(e){R("removePhase",e).equalIn(ce.PHASES);let t=this.$.dom;if(t.size)for(const[s,r]of t)r.$phaseRemove===e&&this.$domRemove(s)}}class ge{trait_constructor(){const e=this.$[re.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$cssRemoveAll(ce.PHASE.DISABLE)),e.on("uninstall",()=>this.$cssRemoveAll(ce.PHASE.UNINSTALL)),this.$.assign("css",this.$.createSubMap(),U.descriptors.ENUMERABLE)}$css(e,t){let s;if(R("id",e=this.$.css.$id_resolve(e)).typeString(),R("css",t).typeString(),"#"===e[0]&&(e=e.substring(1),s=!0),this.$.css.has(e))throw new _.KEY_DUPLICATED({target:"$css(id)",given:e});return this.$.css.$registerSync(e,o("<style>").attr(s?{id:e}:{}).html(t).appendTo("head")).$value}$cssFetch(e,t,s="head"){let r;if(R("id",e=this.$.css.$id_resolve(e)).typeString(),R("url",t).typeString(),"#"===e[0]&&(e=e.substring(1),r=!0),this.$.css.has(e))throw new _.KEY_DUPLICATED({target:"$cssFetch(id)",given:e});t=b(t);let i=o(s).find(`link[href="${t}"]`)[0];if(i){i.dataset.usage=parseInt(i.dataset.usage)+1;let t=o(i),s=V.resolve({name:e,config:{chainAutoComplete:!0},traceSource:y.tracer.captureTraceSource("$cssFetch")},t);return s.$chain.data.dom=t,this.$.css.$registerAsync(e,'$cssFetch("'+e+'")',s),s}{let i,a=new V({name:e,config:{chainAutoComplete:!0},traceSource:y.tracer.captureTraceSource("$cssFetch")},a=>i=o("<link>",{id:r?e:"",rel:"stylesheet",type:"text/css","data-usage":"1"}).appendTo(s).on("load",()=>a(i)).attr("href",t));return a.$chain.data.dom=i,this.$.css.$registerAsync(e,'$cssFetch("'+e+'")',a),a}}$cssRemove(e,t){if(R("$cssRemove(id)",e).typeString(),t&&R("$cssRemove(reason)",t).typeString(),!this.$.css.has(e))throw new _.KEY_MISSING({target:"$cssRemove(id)",given:e});this.$.css.get(e)._debug_remove_called,this.$.css.get(e)._debug_remove_called=!0;let s=this.$.css.get(e),r=s.$chain&&s.$chain.data.dom||s.$value;if(r instanceof o){let e=parseInt(r[0].dataset.usage)-1;e?r[0].dataset.usage=e:r.remove()}s instanceof V&&s.$chainAbort(t||"$cssRemove()"),this.$.css.delete(e)}$cssRemoveAll(e){R("removePhase",e).equalIn(ce.PHASES);let t=this.$.css;if(t.size)for(const[s,r]of t)r.$phaseRemove===e&&this.$cssRemove(s)}}class ve{trait_constructor(){const e=this.$[re.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$vueRemoveAll(ce.PHASE.DISABLE)),e.on("uninstall",()=>this.$vueRemoveAll(ce.PHASE.UNINSTALL)),this.$.assign("vue",this.$.createSubMap(),U.descriptors.ENUMERABLE)}$vue(e,t){if(R("id",e=this.$.vue.$id_resolve(e)).typeString(),R("vue",t).type(Object),this.$.vue.has(e))throw new _.KEY_DUPLICATED({target:"$vue(id)",given:e});return this.$.vue.$registerSync(e,t).$value}$vueRemove(e){if(R("$vueRemove(id)",e).typeString(),!this.$.vue.has(e))throw new _.KEY_MISSING({target:"$vueRemove(id)",given:e});this.$.vue.get(e)._debug_remove_called,this.$.vue.get(e)._debug_remove_called=!0;let t=this.$.vue.get(e);o(t.$value.$el).remove(),t.$value.$destroy(),this.$.vue.delete(e)}$vueRemoveAll(e){R("removePhase",e).equalIn(ce.PHASES);let t=this.$.vue;if(t.size)for(const[s,r]of t)r.$phaseRemove===e&&this.$vueRemove(s)}}class be{trait_constructor(){const e=this.$[re.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$reactRemoveAll(ce.PHASE.DISABLE)),e.on("uninstall",()=>this.$reactRemoveAll(ce.PHASE.UNINSTALL)),this.$.assign("react",this.$.createSubMap(),U.descriptors.ENUMERABLE)}$react(e,t,s,...r){if(e=this.$.react.$id_resolve(e),!D.ReactDOM)throw new Error("jFactory.ReactDOM=ReactDOM must be set before using the React Trait");if(R("id",e).typeString(),R("container",t).type(HTMLElement,o),this.$.react.has(e))throw new _.KEY_DUPLICATED({target:"$react(id)",given:e});t=o(t)[0];let i=D.ReactDOM.render(s,t,...r);return this.$.react.$registerSync(e,{container:t,view:i}).$value.view}$reactRemove(e){if(R("$reactRemove(id)",e).typeString(),!this.$.react.has(e))throw new _.KEY_MISSING({target:"$reactRemove(id)",given:e});this.$.react.get(e)._debug_remove_called,this.$.react.get(e)._debug_remove_called=!0;let t=this.$.react.get(e).$value.container;t&&(D.ReactDOM.unmountComponentAtNode(t)||this.$logWarn("unmountComponentAtNode failed to unmount",t),o(t).remove()),this.$.react.delete(e)}$reactRemoveAll(e){R("removePhase",e).equalIn(ce.PHASES);let t=this.$.react;if(t.size)for(const[s,r]of t)r.$phaseRemove===e&&this.$reactRemove(s)}}D.TraitFetch=pe,D.TraitTimeout=de,D.TraitInterval=me,D.TraitMutation=$e,D.TraitDOM=fe,D.TraitCSS=ge,D.TraitLibVue=ve,D.TraitLibReact=be,"undefined"!=typeof jFactoryOverride&&jFactoryOverride||i.init(),exports.JFACTORY_CLI=s,exports.JFACTORY_DEBUG=false,exports.JFACTORY_DEV=true,exports.JFactoryAbout=H,exports.JFactoryComponent=k,exports.JFactoryCoreObject=M,exports.JFactoryError=S,exports.JFactoryEventSelector=Q,exports.JFactoryEventSelectorParser=z,exports.JFactoryEvents=G,exports.JFactoryEventsManager=K,exports.JFactoryExpect=R,exports.JFactoryFetch=X,exports.JFactoryFunctionComposer=w,exports.JFactoryFunctionConditional=N,exports.JFactoryFunctionExpirable=P,exports.JFactoryFunctionWrappable=F,exports.JFactoryLogger=ee,exports.JFactoryObject=U,exports.JFactoryPromise=V,exports.JFactoryPromiseChain=Y,exports.JFactoryPromisePath=q,exports.JFactoryPromiseSync=W,exports.JFactoryTime=te,exports.JFactoryTimeTrace=se,exports.JFactoryTrace_LIB_STACKTRACE=A,exports.JFactoryTrace_NOFILTER=E,exports.JFactoryTraits=O,exports.TraitAbout=ie,exports.TraitCSS=ge,exports.TraitCore=re,exports.TraitDOM=fe,exports.TraitEvents=oe,exports.TraitFetch=pe,exports.TraitInterval=me,exports.TraitLibReact=be,exports.TraitLibVue=ve,exports.TraitLog=ae,exports.TraitMutation=$e,exports.TraitService=ce,exports.TraitState=le,exports.TraitTask=ne,exports.TraitTimeout=de,exports.assignPrivate=he,exports.assignPrivateMember=ue,exports.jFactory=D,exports.jFactoryConfig=r,exports.jFactoryDev=a,exports.jFactoryError=_,exports.jFactoryFunctionConditional=I,exports.jFactoryFunctionExpirable=function(e){return new P(e).compose()},exports.jFactoryFunctionWrappable=j,exports.jFactoryInit=n,exports.jFactoryLoader=i,exports.jFactoryTrace=y,exports.jFactoryTraits=C;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiakZhY3RvcnktZGV2ZWwuY2pzLmpzIiwic291cmNlcyI6WyIuLi9zcmMvakZhY3RvcnktZW52Lm1qcyIsIi4uL3NyYy9qRmFjdG9yeS1sb2FkZXIubWpzIiwiLi4vc3JjL2pGYWN0b3J5LWhlbHBlcnMubWpzIiwiLi4vc3JjL0pGYWN0b3J5VHJhY2UubWpzIiwiLi4vc3JjL0pGYWN0b3J5RXJyb3IubWpzIiwiLi4vc3JjL0pGYWN0b3J5RXhwZWN0Lm1qcyIsIi4uL3NyYy9KRmFjdG9yeVRyYWl0cy5tanMiLCIuLi9zcmMvSkZhY3RvcnlGdW5jdGlvbi5tanMiLCIuLi9zcmMvakZhY3RvcnktdHJhaXRzLm1qcyIsIi4uL3NyYy9qRmFjdG9yeS5tanMiLCIuLi9zcmMvSkZhY3RvcnlPYmplY3QubWpzIiwiLi4vc3JjL0pGYWN0b3J5QWJvdXQubWpzIiwiLi4vc3JjL0pGYWN0b3J5UHJvbWlzZS5tanMiLCIuLi9zcmMvSkZhY3RvcnlFdmVudHMubWpzIiwiLi4vc3JjL0pGYWN0b3J5RmV0Y2gubWpzIiwiLi4vc3JjL0pGYWN0b3J5TG9nZ2VyLm1qcyIsIi4uL3NyYy9KRmFjdG9yeVRpbWUubWpzIiwiLi4vc3JjL1RyYWl0c0NvcmUubWpzIiwiLi4vc3JjL1RyYWl0c0NvbXBvbmVudHMubWpzIiwiLi4vc3JjL2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuICovXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnkgRW52XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gQ29tcGlsZS10aW1lIGltbXV0YWJsZSBFbnY7IHVzZWQgYnkgVHJlZSBTaGFraW5nIHRvIHJlbW92ZSB1bnVzZWQgY29kZVxuZXhwb3J0IGNvbnN0IEpGQUNUT1JZX0RFViA9IHR5cGVvZiBDT01QSUxFUl9ERVYgPT09IFwidW5kZWZpbmVkXCIgPyBmYWxzZSA6IENPTVBJTEVSX0RFVjsgLy8gRGV2ZWxvcGVyIE1vZGVcbmV4cG9ydCBjb25zdCBKRkFDVE9SWV9ERUJVRyA9IHR5cGVvZiBDT01QSUxFUl9ERUJVRyA9PT0gXCJ1bmRlZmluZWRcIiA/IGZhbHNlIDogQ09NUElMRVJfREVCVUc7IC8vIERlYnVnIHRoZSBsaWJyYXJ5XG5leHBvcnQgY29uc3QgSkZBQ1RPUllfQ0xJID0gdHlwZW9mIENPTVBJTEVSX0NMSSA9PT0gXCJ1bmRlZmluZWRcIiA/XG4gICAgdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUgOiBDT01QSUxFUl9DTEk7XG5cbi8vIE11dGFibGUgY29uZmlndXJhdGlvblxuZXhwb3J0IGNvbnN0IGpGYWN0b3J5Q29uZmlnID0ge1xuICAgIFRyYWl0TG9nOiBKRkFDVE9SWV9ERVYgJiYgIUpGQUNUT1JZX0NMSSB8fCBKRkFDVE9SWV9ERUJVRyxcbiAgICBKRmFjdG9yeUVycm9yOiB7XG4gICAgICAgIGtleXM6IFtcIiQuYWJvdXQubmFtZVwiLCBcIiRkZXZfbmFtZVwiLCBcIiRuYW1lXCIsIFwibmFtZVwiLCBcImlkXCJdXG4gICAgfSxcbiAgICBKRmFjdG9yeVRyYWNlOiBKRkFDVE9SWV9ERVYgJiYgIUpGQUNUT1JZX0NMSVxuICAgICAgICAmJiB7XG4gICAgICAgICAgICBrZXlzOiBbXCIkZGV2X3RyYWNlTG9nXCIsIFwiJGRldl90cmFjZVNvdXJjZVwiXSxcbiAgICAgICAgICAgIGxpYk9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBvZmZsaW5lOiBCb29sZWFuKGdsb2JhbFRoaXMuY2hyb21lKSwgLy8gbG9hZGluZyBzb3VyY2VtYXBzIGlzIG5vdCByZXF1aXJlZCBpbiBjaHJvbWVcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5saW5lTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgIC8vICYmICh2YWx1ZS5maWxlTmFtZSArIHZhbHVlLmZ1bmN0aW9uTmFtZSkudG9Mb2NhbGVMb3dlckNhc2UoKS5pbmRleE9mKCdqZmFjdG9yeScpIDwgMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICBqRmFjdG9yeURldjogSkZBQ1RPUllfREVWXG4gICAgICAgICYmIHtcbiAgICAgICAgICAgIHJlcXVpcmVDb21wYXRpYmlsaXR5OiB7XG4gICAgICAgICAgICAgICAgZ2xvYmFsVGhpczoge1xuICAgICAgICAgICAgICAgICAgICB0ZXN0OiAoKSA9PiBnbG9iYWxUaGlzLFxuICAgICAgICAgICAgICAgICAgICBpbmZvOiBcImh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2dsb2JhbFRoaXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmV0Y2g6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVzdDogKCkgPT4gZmV0Y2gsXG4gICAgICAgICAgICAgICAgICAgIGluZm86IFwiaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0ZldGNoX0FQSS9Vc2luZ19GZXRjaFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBSZXF1ZXN0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRlc3Q6ICgpID0+IFJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgIGluZm86IFwiaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL1JlcXVlc3RcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJBYm9ydENvbnRyb2xsZXIsIEFib3J0U2lnbmFsXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVzdDogKCkgPT4gbmV3IEFib3J0Q29udHJvbGxlcigpLnNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgaW5mbzogXCJodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvQWJvcnRDb250cm9sbGVyLCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcImh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9BYm9ydFNpZ25hbFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBNdXRhdGlvbk9ic2VydmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlc3Q6ICgpID0+IE11dGF0aW9uT2JzZXJ2ZXIsXG4gICAgICAgICAgICAgICAgICAgIGluZm86IFwiaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL011dGF0aW9uT2JzZXJ2ZXJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxufTsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgSkZBQ1RPUllfQ0xJLCBKRkFDVE9SWV9ERVYsIGpGYWN0b3J5Q29uZmlnIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnkgTG9hZGVyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjb25zdCBqRmFjdG9yeUxvYWRlciA9IHtcbiAgICBzZXE6IFtdLFxuICAgIGluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLnNlcSkge1xuICAgICAgICAgICAgbGV0IHNlcSA9IHRoaXMuc2VxO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc2VxO1xuICAgICAgICAgICAgZm9yIChsZXQgbW9kdWxlIG9mIHNlcSkge1xuICAgICAgICAgICAgICAgIG1vZHVsZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgZ2xvYmFsVGhpcy5qRmFjdG9yeU92ZXJyaWRlXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG9uSW5pdChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuc2VxLnB1c2goaGFuZGxlcilcbiAgICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gakZhY3RvcnlEZXYoKSB7XG4gICAgY29uc29sZS5sb2coXCJqRmFjdG9yeSBpcyBydW5uaW5nIGluIGRldmVsb3BtZW50IG1vZGU7IHBlcmZvcm1hbmNlcyB3aWxsIGJlIGFmZmVjdGVkXCIpO1xuICAgIGZvciAobGV0IFtuYW1lLCBlbnRyeV0gb2YgT2JqZWN0LmVudHJpZXMoakZhY3RvcnlDb25maWcuakZhY3RvcnlEZXYucmVxdWlyZUNvbXBhdGliaWxpdHkpKSB7XG4gICAgICAgIGxldCBwYXNzO1xuICAgICAgICB0cnkge3Bhc3MgPSBCb29sZWFuKGVudHJ5LnRlc3QoKSl9IGNhdGNoIChpZ25vcmUpIHt9XG4gICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBqRmFjdG9yeSBtYXkgcmVxdWlyZSB0aGUgc3VwcG9ydCBvZiBcIiR7bmFtZX1cIiwgJHtlbnRyeS5pbmZvfWApXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBqRmFjdG9yeUluaXQoKSB7XG4gICAgIWpGYWN0b3J5Q29uZmlnLlRyYWl0TG9nICYmIChKRkFDVE9SWV9ERVYgfHwgSkZBQ1RPUllfQ0xJKSAmJiBjb25zb2xlLndhcm4oXCJqRmFjdG9yeSBsb2dzIGRpc2FibGVkXCIpO1xufVxuXG5KRkFDVE9SWV9ERVYgJiYgakZhY3RvcnlMb2FkZXIub25Jbml0KGpGYWN0b3J5RGV2KTtcbmpGYWN0b3J5TG9hZGVyLm9uSW5pdChqRmFjdG9yeUluaXQpOyIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgJCBmcm9tIFwianF1ZXJ5XCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnkgSGVscGVyc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDZW50cmFsaXplIGhlbHBlcnMgYW5kIGV4dGVybmFscyBpbiBvbmUgbW9kdWxlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjb25zdCBqUXVlcnkgPSAkO1xuXG5leHBvcnQgY29uc3QgaGVscGVyX2lzTmF0aXZlID0gXy5pc05hdGl2ZTtcbmV4cG9ydCBjb25zdCBoZWxwZXJfaXNTdHJpbmcgPSBfLmlzU3RyaW5nO1xuZXhwb3J0IGNvbnN0IGhlbHBlcl9pc051bWJlciA9IF8uaXNOdW1iZXI7XG5leHBvcnQgY29uc3QgaGVscGVyX2lzUGxhaW5PYmplY3QgPSBfLmlzUGxhaW5PYmplY3Q7XG5leHBvcnQgY29uc3QgaGVscGVyX2RlZmF1bHRzRGVlcCA9IF8uZGVmYXVsdHNEZWVwO1xuZXhwb3J0IGNvbnN0IGhlbHBlcl9sb3dlckZpcnN0ID0gXy5sb3dlckZpcnN0O1xuZXhwb3J0IGNvbnN0IGhlbHBlcl9nZXQgPSBfLmdldDtcbmV4cG9ydCBjb25zdCBoZWxwZXJfdGVtcGxhdGUgPSBfLnRlbXBsYXRlO1xuZXhwb3J0IGNvbnN0IGhlbHBlcl9jYW1lbENhc2UgPSBfLmNhbWVsQ2FzZTtcblxuZXhwb3J0IGNvbnN0IE5PT1AgPSAoKSA9PiB7fTtcbmV4cG9ydCBjb25zdCBoZWxwZXJfc2V0RnVuY3Rpb25OYW1lID0gKG5hbWUsIGYpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCBcIm5hbWVcIiwgeyB2YWx1ZTogbmFtZSB9KTtcbmV4cG9ydCBjb25zdCBoZWxwZXJfdXJsX2FicyA9IHVybCA9PiB7aGVscGVyX3VybF9hYnMuYS5ocmVmID0gdXJsOyByZXR1cm4gaGVscGVyX3VybF9hYnMuYS5ocmVmfTtcbmhlbHBlcl91cmxfYWJzLmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgakZhY3RvcnlDb25maWcgfSBmcm9tIFwiLi9qRmFjdG9yeS1lbnZcIjtcbmltcG9ydCB7IGpGYWN0b3J5TG9hZGVyIH0gZnJvbSBcIi4vakZhY3RvcnktbG9hZGVyXCI7XG5pbXBvcnQgeyBOT09QIH0gZnJvbSBcIi4vakZhY3RvcnktaGVscGVyc1wiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5VHJhY2Vcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0gI2xpbWl0YXRpb24jIEVycm9yLnN0YWNrIGlzIG5vdCBzdGFuZGFyZGl6ZWRcbi8vIC0gI2xpbWl0YXRpb24jIEVycm9yLnN0YWNrIGlzIG5vdCBzb3VyY2UtbWFwcGVkXG4vLyAtICNsaW1pdGF0aW9uIyBidWcgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU4NDI0NFxuLy8gLSAjbGltaXRhdGlvbiMgU3RhY2tUcmFjZS5qcyByZXNvbHZlcyBzb3VyY2VtYXBzLiBVbmZvcnR1bmF0ZWx5LCBpdCBkb2Vzbid0IHdvcmsgd2l0aCBcIndlYnBhY2s6XCIgcHJvdG9jb2xcbi8vICAgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdGFja3RyYWNlanMvc3RhY2t0cmFjZS5qcy9pc3N1ZXMvMjA5XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3NvdXJjZS1tYXAvXG4vLyBodHRwczovL3d3dy5zdGFja3RyYWNlanMuY29tL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL25vdm9jYWluZS9zb3VyY2VtYXBwZWQtc3RhY2t0cmFjZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeVRyYWNlX05PRklMVEVSIHtcblxuICAgIGNvbnN0cnVjdG9yKHsgbGFiZWwsIHN0YWNrVHJhY2VMaW1pdCwga2V5cywgbGliT3B0aW9ucyB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsIHx8IFwiVGhlIHN0YWNrIGhhcyBiZWVuIHByaW50ZWQgaW4gdGhlIGNvbnNvbGVcIjtcbiAgICAgICAgdGhpcy5zdGFja1RyYWNlTGltaXQgPSBzdGFja1RyYWNlTGltaXQgfHwgSW5maW5pdHk7XG4gICAgICAgIHRoaXMua2V5cyA9IGtleXMgfHwgW1wic3RhY2tMb2dcIiwgXCJzdGFja1NvdXJjZVwiXTtcbiAgICAgICAgdGhpcy5saWJPcHRpb25zID0gbGliT3B0aW9ucyB8fCB7fVxuICAgIH1cblxuICAgIGNhcHR1cmVUcmFjZVNvdXJjZShvbWl0QWJvdmVGdW5jdGlvbk5hbWUsIG9taXRTZWxmKSB7XG4gICAgICAgIGxldCBfc3RhY2tUcmFjZUxpbWl0O1xuICAgICAgICBpZiAodGhpcy5zdGFja1RyYWNlTGltaXQpIHtcbiAgICAgICAgICAgIF9zdGFja1RyYWNlTGltaXQgPSBFcnJvci5zdGFja1RyYWNlTGltaXQ7XG4gICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSB0aGlzLnN0YWNrVHJhY2VMaW1pdFxuICAgICAgICB9XG4gICAgICAgIGlmICghb21pdEFib3ZlRnVuY3Rpb25OYW1lKSB7XG4gICAgICAgICAgICBvbWl0QWJvdmVGdW5jdGlvbk5hbWUgPSBcImNhcHR1cmVUcmFjZVNvdXJjZVwiO1xuICAgICAgICAgICAgb21pdFNlbGYgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRyYWNlU291cmNlID0ge1xuICAgICAgICAgICAgc291cmNlOiBuZXcgRXJyb3IoKSxcbiAgICAgICAgICAgIG9taXRBYm92ZUZ1bmN0aW9uTmFtZSxcbiAgICAgICAgICAgIG9taXRTZWxmXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnN0YWNrVHJhY2VMaW1pdCkge1xuICAgICAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gX3N0YWNrVHJhY2VMaW1pdFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFjZVNvdXJjZVxuICAgIH1cblxuICAgIGF0dGFjaFRyYWNlKHRhcmdldE9iamVjdCwgdHJhY2VTb3VyY2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0cmFjZVNvdXJjZSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgdHJhY2VTb3VyY2UgPSB0aGlzLmNhcHR1cmVUcmFjZVNvdXJjZSh0cmFjZVNvdXJjZSB8fCBcImF0dGFjaFRyYWNlXCIsICF0cmFjZVNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdHJhY2UgPSB0cmFjZVNvdXJjZS5zb3VyY2U7XG4gICAgICAgIHRoaXMudG9QcmludGFibGVUcmFjZSh0cmFjZVNvdXJjZSlcbiAgICAgICAgICAgIC50aGVuKHIgPT4gdHJhY2UgPSByKTtcblxuICAgICAgICBsZXQgbG9nID0gKCkgPT4gY29uc29sZS5sb2codHJhY2UpIHx8IHRoaXMubGFiZWw7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldE9iamVjdCwgdGhpcy5rZXlzWzBdIC8qIHRyYWNlTG9nICovLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIC8vIGhpZGUgdGhlIGZ1bmN0aW9uIGJvZHkgdG8gaW1wcm92ZSByZWFkYWJpbGl0eSBpbiBkZXZ0b29sXG4gICAgICAgICAgICBnZXQ6ICgpID0+IGxvZygpXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0T2JqZWN0LCB0aGlzLmtleXNbMV0gLyogdHJhY2VTb3VyY2UgKi8sIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgLy8gaGlkZSB0aGUgdHJhY2VTb3VyY2UgRXJyb3IgdG8gaW1wcm92ZSByZWFkYWJpbGl0eSBpbiBkZXZ0b29sLCBzcGVjaWFsbHkgaW4gRmlyZWZveFxuICAgICAgICAgICAgZ2V0OiAoKSA9PiB0cmFjZVNvdXJjZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0b1ByaW50YWJsZVRyYWNlKHRyYWNlU291cmNlKSB7XG4gICAgICAgIC8vIFNQRUM6IHRoaXMgb3ZlcnJpZGFibGUgbWV0aG9kIHJldHVybnMgYSBwcm9taXNlXG4gICAgICAgIC8vIGJlY2F1c2Ugc3RhY2t0cmFjZSBwYXJzZXJzIG1heSBiZSBhc3luY2hyb25vdXNcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cmFjZVNvdXJjZS5zb3VyY2UpXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlUcmFjZV9MSUJfU1RBQ0tUUkFDRSBleHRlbmRzIEpGYWN0b3J5VHJhY2VfTk9GSUxURVIge1xuXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgfVxuXG4gICAgdG9QcmludGFibGVUcmFjZSh0cmFjZVNvdXJjZSkge1xuICAgICAgICByZXR1cm4gU3RhY2tUcmFjZS5mcm9tRXJyb3IodHJhY2VTb3VyY2Uuc291cmNlLCB0aGlzLmxpYk9wdGlvbnMpXG4gICAgICAgICAgICAudGhlbih0cmFjZUZyYW1lcyA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAodHJhY2VTb3VyY2Uub21pdEFib3ZlRnVuY3Rpb25OYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzbGljZSA9IHRyYWNlRnJhbWVzLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuZnVuY3Rpb25OYW1lICYmIHZhbHVlLmZ1bmN0aW9uTmFtZS5lbmRzV2l0aCh0cmFjZVNvdXJjZS5vbWl0QWJvdmVGdW5jdGlvbk5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzbGljZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFjZVNvdXJjZS5vbWl0U2VsZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWNlKytcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlRnJhbWVzID0gdHJhY2VGcmFtZXMuc2xpY2Uoc2xpY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyYWNlRnJhbWVzID0gdHJhY2VGcmFtZXNcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcih0aGlzLmxpYk9wdGlvbnMuZmlsdGVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRUcmFjZUZyYW1lcyh0cmFjZUZyYW1lcylcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZvcm1hdFRyYWNlRnJhbWVzKHRyYWNlRnJhbWVzKSB7XG4gICAgICAgIGxldCBoZWFkZXI7XG4gICAgICAgIGxldCBsaW5lUHJlZml4O1xuICAgICAgICBpZiAodGhpcy5saWJPcHRpb25zLm9mZmxpbmUgJiYgd2luZG93LmNocm9tZSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGZhbGxvd2luZyBzeW50YXggaXMgZGV0ZWN0ZWQgb24gQ2hyb21lLFxuICAgICAgICAgICAgLy8gdGhlIGNvbnNvbGUubG9nKCkgd2lsbCBjb252ZXJ0IHRoZSBmaWxlTmFtZXMgdXNpbmcgc291cmNlbWFwc1xuICAgICAgICAgICAgaGVhZGVyID0gXCJFcnJvclxcblwiOyAvLyBub3RlcyB0aGF0IGFueXRoaW5nIGFmdGVyIFwiRXJyb3JcIiBpcyB2YWxpZFxuICAgICAgICAgICAgbGluZVByZWZpeCA9IFwiXFx0YXQgXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoZWFkZXIgPSBcIlwiO1xuICAgICAgICAgICAgbGluZVByZWZpeCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlYWRlciArXG4gICAgICAgICAgICB0cmFjZUZyYW1lc1xuICAgICAgICAgICAgICAgIC5tYXAoc2YgPT4gbGluZVByZWZpeCArIHNmLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgLmpvaW4oXCJcXG5cIik7XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGpGYWN0b3J5VHJhY2Vcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNvbnN0IGpGYWN0b3J5VHJhY2UgPSB7fTtcblxuakZhY3RvcnlMb2FkZXIub25Jbml0KGZ1bmN0aW9uKCkge1xuICAgIGxldCBjb25maWcgPSBqRmFjdG9yeUNvbmZpZy5KRmFjdG9yeVRyYWNlO1xuICAgIGlmIChjb25maWcgJiYgY29uZmlnLnVzZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgbGV0IGNvbnN0cnVjdG9yO1xuICAgICAgICBjb25zdHJ1Y3RvciA9IHR5cGVvZiBjb25maWcudXNlID09PSBcImZ1bmN0aW9uXCIgP1xuICAgICAgICAgICAgY29uZmlnLnVzZSA6XG4gICAgICAgICAgICB0eXBlb2YgU3RhY2tUcmFjZSA9PT0gXCJvYmplY3RcIiA/IEpGYWN0b3J5VHJhY2VfTElCX1NUQUNLVFJBQ0UgOiBKRmFjdG9yeVRyYWNlX05PRklMVEVSO1xuICAgICAgICBpZiAoY29uc3RydWN0b3IgPT09IEpGYWN0b3J5VHJhY2VfTElCX1NUQUNLVFJBQ0UpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcImpGYWN0b3J5OiBTdGFjayB0cmFjZSBlbmFibGVkOyBQZXJmb3JtYW5jZSB3aWxsIGJlIGFmZmVjdGVkXCIpXG4gICAgICAgIH1cbiAgICAgICAgakZhY3RvcnlUcmFjZS50cmFjZXIgPSBuZXcgY29uc3RydWN0b3IoY29uZmlnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBqRmFjdG9yeVRyYWNlLnRyYWNlciA9IHtcbiAgICAgICAgICAgIGNhcHR1cmVUcmFjZVNvdXJjZTogTk9PUCxcbiAgICAgICAgICAgIGF0dGFjaFRyYWNlOiBOT09QXG4gICAgICAgIH07XG4gICAgfVxufSk7IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IEpGQUNUT1JZX0RFViwgakZhY3RvcnlDb25maWcgfSBmcm9tIFwiLi9qRmFjdG9yeS1lbnZcIjtcbmltcG9ydCB7IGhlbHBlcl9nZXQsIGhlbHBlcl9pc05hdGl2ZSwgaGVscGVyX2xvd2VyRmlyc3QsIGhlbHBlcl90ZW1wbGF0ZSB9IGZyb20gXCIuL2pGYWN0b3J5LWhlbHBlcnNcIjtcbmltcG9ydCB7IGpGYWN0b3J5VHJhY2UgfSBmcm9tIFwiLi9KRmFjdG9yeVRyYWNlXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlFcnJvclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gXCJ1bnNwZWNpZmllZCBlcnJvclwiLCBkYXRhID0gbnVsbCkge1xuICAgICAgICBkYXRhID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCBkYXRhKTtcbiAgICAgICAgbWVzc2FnZSA9IEpGYWN0b3J5RXJyb3IudG9QcmludGFibGUobWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLiRkYXRhID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCBkYXRhKTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZVxuICAgIH1cblxuICAgICogW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHlpZWxkIHRoaXMubWVzc2FnZTtcbiAgICAgICAgeWllbGQgdGhpcy4kZGF0YTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SWQob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvYmplY3RbKGpGYWN0b3J5Q29uZmlnLkpGYWN0b3J5RXJyb3Iua2V5cyB8fCBKRmFjdG9yeUVycm9yLkRFRkFVTFRfS0VZUykuZmluZChrZXkgPT4ge1xuICAgICAgICAgICAgbGV0IHZhbCA9IGhlbHBlcl9nZXQob2JqZWN0LCBrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbCB8fCB2YWwgPT09IDBcbiAgICAgICAgfSldXG4gICAgfVxuXG4gICAgc3RhdGljIHRvUHJpbnRhYmxlRGF0YShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlRGF0YSA9IHt9O1xuICAgICAgICBsZXQgbnY7XG4gICAgICAgIGZvciAobGV0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWwubmFtZSArIFwiKClcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWwudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKChudiA9IEpGYWN0b3J5RXJyb3IuZ2V0SWQodmFsKSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gJ1wiJyArIG52ICsgJ1wiJ1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWxwZXJfaXNOYXRpdmUodmFsLnRvU3RyaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbC50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG52ID0gSlNPTi5zdHJpbmdpZnkodmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gbnYubGVuZ3RoID4gSkZhY3RvcnlFcnJvci5KU09OX01BWFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBudi5zdWJzdHJpbmcoMCwgSkZhY3RvcnlFcnJvci5KU09OX01BWCkgKyBcIlsuLi5dXCIgOiBudjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IFwiW29iamVjdCBcIiArIHZhbC5jb25zdHJ1Y3Rvci5uYW1lICsgXCJdXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgICAgICB2YWwgPSAnXCInICsgdmFsICsgJ1wiJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gU3RyaW5nKHZhbClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBsYXRlRGF0YVtrZXldID0gdmFsXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlRGF0YVxuICAgIH1cblxuICAgIHN0YXRpYyB0b1ByaW50YWJsZSh0ZW1wbGF0ZSwgZGF0YSkge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZU1lc3NhZ2UgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgcGFydCBvZiB0ZW1wbGF0ZS5zcGxpdChcIjtcIikpIHtcbiAgICAgICAgICAgIGxldCBwbGFjZWhvbGRlcjtcbiAgICAgICAgICAgIGxldCBSRV9QTEFDRUhPTERFUiA9IEpGYWN0b3J5RXJyb3IuUkVfUExBQ0VIT0xERVI7XG4gICAgICAgICAgICBSRV9QTEFDRUhPTERFUi5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgaWYgKChwbGFjZWhvbGRlciA9IFJFX1BMQUNFSE9MREVSLmV4ZWMocGFydCkpKSB7XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGxhY2Vob2xkZXJbMV0gJiYgcGxhY2Vob2xkZXJbMV0gaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVNZXNzYWdlLnB1c2gocGFydC50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gd2hpbGUgKChwbGFjZWhvbGRlciA9IFJFX1BMQUNFSE9MREVSLmV4ZWMocGFydCkpICE9PSBudWxsKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZU1lc3NhZ2UucHVzaChwYXJ0LnRyaW0oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlbHBlcl9sb3dlckZpcnN0KGhlbHBlcl90ZW1wbGF0ZSh0ZW1wbGF0ZU1lc3NhZ2Uuam9pbihcIjsgXCIpKShKRmFjdG9yeUVycm9yLnRvUHJpbnRhYmxlRGF0YShkYXRhKSkpO1xuICAgIH1cbn1cblxuSkZhY3RvcnlFcnJvci5KU09OX01BWCA9IDQwO1xuSkZhY3RvcnlFcnJvci5ERUZBVUxUX0tFWVMgPSBbXCJuYW1lXCIsIFwiaWRcIl07XG5KRmFjdG9yeUVycm9yLlJFX1BMQUNFSE9MREVSID0gL1xcJHsoW159XSspfS9nO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGpGYWN0b3J5RXJyb3Jcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGxldCBqRmFjdG9yeUVycm9yID0gbmV3IFByb3h5KEpGYWN0b3J5RXJyb3IsIHtcbiAgICBzZXQ6IGZ1bmN0aW9uKHRhcmdldCwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgICAgIGxldCB7IHRlbXBsYXRlIH0gPSB2YWx1ZTtcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWICYmIHRhcmdldFtwcm9wZXJ0eV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImFscmVhZHkgZGVjbGFyZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXRbcHJvcGVydHldID0gY2xhc3MgZXh0ZW5kcyBKRmFjdG9yeUVycm9yIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKGRhdGEsIHRyYWNlU291cmNlKSB7XG4gICAgICAgICAgICAgICAgc3VwZXIodGVtcGxhdGUsIGRhdGEpO1xuICAgICAgICAgICAgICAgIGpGYWN0b3J5VHJhY2UudHJhY2VyLmF0dGFjaFRyYWNlKHRoaXMuJGRhdGEsIHRyYWNlU291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gQ2F1dGlvbjogQ2hyb21lIGF1dG9tYXRpY2FsbHkgcmVzb2x2ZXMgc291cmNlbWFwIHdoZW4gbG9nZ2luZyBlcnJvcnNcbiAgICAgICAgLy8gYnV0IG9ubHkgaWYgdGhlIGVycm9yIG5hbWUgc3RhcnRzIHdpdGggXCJFcnJvclwiXG4gICAgICAgIHRhcmdldFtwcm9wZXJ0eV0ucHJvdG90eXBlLm5hbWUgPSBcIkVycm9yIGpGYWN0b3J5RXJyb3IuXCIgKyBwcm9wZXJ0eTtcblxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbn0pO1xuXG5qRmFjdG9yeUVycm9yLklOVkFMSURfVkFMVUUgPSB7IHRlbXBsYXRlOiBcImludmFsaWQgdmFsdWUgZm9yICR7dGFyZ2V0fTsgUmVhc29uOiAke3JlYXNvbn07IEdpdmVuOiAke2dpdmVufVwiIH07XG5qRmFjdG9yeUVycm9yLklOVkFMSURfQ0FMTCA9IHsgdGVtcGxhdGU6IFwiaW52YWxpZCBjYWxsICR7dGFyZ2V0fTsgUmVhc29uOiAke3JlYXNvbn07IE93bmVyOiAke293bmVyfVwiIH07XG5qRmFjdG9yeUVycm9yLlBST01JU0VfRVhQSVJFRCA9IHsgdGVtcGxhdGU6IFwiZXhwaXJlZCBwcm9taXNlICR7dGFyZ2V0fTsgUmVhc29uOiAke3JlYXNvbn1cIiB9O1xuakZhY3RvcnlFcnJvci5SRVFVRVNUX0VSUk9SID0geyB0ZW1wbGF0ZTogXCJlcnJvciByZXF1ZXN0aW5nICR7dGFyZ2V0fTsgUmVhc29uOiAke3JlYXNvbn07IE93bmVyOiAke293bmVyfVwiIH07XG5qRmFjdG9yeUVycm9yLktFWV9EVVBMSUNBVEVEID0geyB0ZW1wbGF0ZTogXCJkdXBsaWNhdGVkIGtleSBmb3IgJHt0YXJnZXR9OyBHaXZlbjogJHtnaXZlbn1cIiB9O1xuakZhY3RvcnlFcnJvci5LRVlfTUlTU0lORyA9IHsgdGVtcGxhdGU6IFwibWlzc2luZyBrZXkgZm9yICR7dGFyZ2V0fTsgR2l2ZW46ICR7Z2l2ZW59XCIgfTsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgakZhY3RvcnlFcnJvciB9IGZyb20gXCIuL0pGYWN0b3J5RXJyb3JcIjtcbmltcG9ydCB7IGhlbHBlcl9pc051bWJlciwgaGVscGVyX2lzUGxhaW5PYmplY3QsIGhlbHBlcl9pc1N0cmluZyB9IGZyb20gXCIuL2pGYWN0b3J5LWhlbHBlcnNcIjtcbmltcG9ydCB7IGpGYWN0b3J5TG9hZGVyIH0gZnJvbSBcIi4vakZhY3RvcnktbG9hZGVyXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlFeHBlY3Rcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQSBzbWFsbCBpbnB1dC9vdXRwdXQgdmFsaWRhdGlvbiB0b29sXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQWxwaGEsIERyYWZ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBAcmV0dXJuIHsqfEpGYWN0b3J5RXhwZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gSkZhY3RvcnlFeHBlY3QobGFiZWwsIHZhbHVlKSB7XG4gICAgaWYgKG5ldy50YXJnZXQpIHtcbiAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBKRmFjdG9yeUV4cGVjdChsYWJlbCwgdmFsdWUpXG4gICAgfVxufVxuXG5jb25zdCBlcnJvciA9IGZ1bmN0aW9uIGpGYWN0b3J5VGhyb3cobGFiZWwsIHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuSU5WQUxJRF9WQUxVRSh7XG4gICAgICAgIHRhcmdldDogbGFiZWwsXG4gICAgICAgIHJlYXNvbjogbWVzc2FnZSxcbiAgICAgICAgZ2l2ZW46IHZhbHVlXG4gICAgfSlcbn07XG5cbmNvbnN0IHN0YXRpY01ldGhvZHMgPSB7XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RVbmRlZmluZWRcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgbm90VW5kZWZpbmVkXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgbm90VW5kZWZpbmVkKGxhYmVsLCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcImNhbm5vdCBiZSB1bmRlZmluZWRcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdEVtcHR5U3RyaW5nXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdEVtcHR5U3RyaW5nXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgbm90RW1wdHlTdHJpbmcobGFiZWwsIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcImNhbm5vdCBiZSBlbXB0eSBzdHJpbmdcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdEZhbHN5XG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdEZhbHN5XG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgbm90RmFsc3kobGFiZWwsIHZhbHVlKSB7XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgJ2Nhbm5vdCBiZSBhIGZhbHN5IHZhbHVlICh1bmRlZmluZWQsIG51bGwsIE5hTiwgMCwgXCJcIiknKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdmFsaWRTcGFjZXNcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdmFsaWRTcGFjZXNcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICB2YWxpZFNwYWNlcyhsYWJlbCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCF2YWx1ZS5yZXBsYWNlIHx8IHZhbHVlLnJlcGxhY2UoL1xccysvZywgXCIgXCIpLnRyaW0oKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJpbnZhbGlkIHNwYWNlIGRlbGltaXRlcnNcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG1hdGNoUmVnXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7UmVnRXhwfSByZWdcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBtYXRjaFJlZ1xuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIG1hdGNoUmVnKGxhYmVsLCB2YWx1ZSwgcmVnKSB7XG4gICAgICAgIGlmICghcmVnLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsICdzdHJpbmcgXCInICsgdmFsdWUgKyAnXCIgbXVzdCBtYXRjaCAnICsgcmVnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcGFyYW0gey4uLip9IGV4cGVjdGVkXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHR5cGUobGFiZWwsIHZhbHVlLCAuLi5leHBlY3RlZCkge1xuICAgICAgICBsZXQgbmFtZSwgb2sgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgY29uc3RydWN0b3Igb2YgZXhwZWN0ZWQpIHtcbiAgICAgICAgICAgIGlmIChjb25zdHJ1Y3RvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBcIk51bGxcIlxuICAgICAgICAgICAgfSBlbHNlIGlmIChcIm5hbWVcIiBpbiBjb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBjb25zdHJ1Y3Rvci5uYW1lXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdGVzdCA9IHN0YXRpY01ldGhvZHNbXCJ0eXBlXCIgKyBuYW1lXTtcbiAgICAgICAgICAgIGlmICh0ZXN0KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtvayA9IHRlc3QobGFiZWwsIHZhbHVlLyosIGUqLyl9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvayA9IHZhbHVlIGluc3RhbmNlb2YgY29uc3RydWN0b3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvaykgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9rKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBbXCIgKyBleHBlY3RlZC5tYXAoZSA9PiBlLm5hbWUpLmpvaW4oXCIsIFwiKSArIFwiXVwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZU51bGxcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZU51bGxcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICB0eXBlTnVsbChsYWJlbCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBiZSBudWxsXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlQm9vbGVhblxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlQm9vbGVhblxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHR5cGVCb29sZWFuKGxhYmVsLCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT09IHRydWUgJiYgdmFsdWUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBiZSBhIGJvb2xlYW5cIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVTdHJpbmdcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZVN0cmluZ1xuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHR5cGVTdHJpbmcobGFiZWwsIHZhbHVlKSB7XG4gICAgICAgIGlmICghaGVscGVyX2lzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgYSBzdHJpbmdcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVOdW1iZXJcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZU51bWJlclxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHR5cGVOdW1iZXIobGFiZWwsIHZhbHVlKSB7XG4gICAgICAgIGlmICghaGVscGVyX2lzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgYSBudW1iZXJcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVGdW5jdGlvblxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlRnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICB0eXBlRnVuY3Rpb24obGFiZWwsIHZhbHVlKSB7XG4gICAgICAgIGlmICghKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgYSBmdW5jdGlvblwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZVBsYWluT2JqZWN0XG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVQbGFpbk9iamVjdFxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHR5cGVQbGFpbk9iamVjdChsYWJlbCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFoZWxwZXJfaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IGJlIGEgcGxhaW4gb2JqZWN0XCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBlcXVhbFxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcGFyYW0geyp9IGV4cGVjdGVkXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZXF1YWxcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICBlcXVhbChsYWJlbCwgdmFsdWUsIC4uLmV4cGVjdGVkKSB7XG4gICAgICAgIGxldCBvayA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBlIG9mIGV4cGVjdGVkKSB7XG4gICAgICAgICAgICBpZiAoKG9rID0gdmFsdWUgPT09IGUpKSBicmVha1xuICAgICAgICB9XG4gICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IGJlIG9uZSBvZiBbXCIgKyBleHBlY3RlZCArIFwiXVwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGVxdWFsSW5cbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGV4cGVjdGVkXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZXF1YWxJblxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIGVxdWFsSW4obGFiZWwsIHZhbHVlLCBleHBlY3RlZCkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhwZWN0ZWQpKSB7XG4gICAgICAgICAgICBleHBlY3RlZCA9IE9iamVjdC52YWx1ZXMoZXhwZWN0ZWQpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFleHBlY3RlZC5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IGJlIG9uZSBmcm9tIFtcIiArIGV4cGVjdGVkLmpvaW4oXCIsIFwiKSArIFwiXVwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgcHJvcGVydGllc1xuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBleHBlY3RlZFxuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHByb3BlcnRpZXNcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICBwcm9wZXJ0aWVzKGxhYmVsLCB2YWx1ZSwgZXhwZWN0ZWQpIHtcbiAgICAgICAgZm9yIChsZXQgbmFtZSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KGxhYmVsICsgJywgcHJvcGVydHkgbmFtZSBcIicgKyBuYW1lICsgJ1wiJywgbmFtZSkuZXF1YWxJbihleHBlY3RlZClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHdyaXRhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB3cml0YWJsZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHdyaXRhYmxlKGxhYmVsLCB2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmICghT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KS53cml0YWJsZSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgd3JpdGFibGVcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdFdyaXRhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RXcml0YWJsZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIG5vdFdyaXRhYmxlKGxhYmVsLCB2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpLndyaXRhYmxlKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBub3QgYmUgd3JpdGFibGVcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGVudW1lcmFibGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGVudW1lcmFibGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICBlbnVtZXJhYmxlKGxhYmVsLCB2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBiZSBlbnVtZXJhYmxlXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RFbnVtZXJhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RFbnVtZXJhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgbm90RW51bWVyYWJsZShsYWJlbCwgdmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBub3QgYmUgZW51bWVyYWJsZVwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgY29uZmlndXJhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBjb25maWd1cmFibGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICBjb25maWd1cmFibGUobGFiZWwsIHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgY29uZmlndXJhYmxlXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RDb25maWd1cmFibGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdENvbmZpZ3VyYWJsZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIG5vdENvbmZpZ3VyYWJsZShsYWJlbCwgdmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KS5jb25maWd1cmFibGUpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IG5vdCBiZSBjb25maWd1cmFibGVcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHJlc2VydmVkUHJvcGVydHlcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHJlc2VydmVkUHJvcGVydHlcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICByZXNlcnZlZFByb3BlcnR5KGxhYmVsLCB2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJpcyBhIHJlc2VydmVkIHByb3BlcnR5XCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG59O1xuXG5qRmFjdG9yeUxvYWRlci5vbkluaXQoZnVuY3Rpb24oKSB7XG4gICAgT2JqZWN0LmFzc2lnbihKRmFjdG9yeUV4cGVjdCwgc3RhdGljTWV0aG9kcyk7XG4gICAgLy8gR2VuZXJhdGUgbWVtYmVycyBmcm9tIHN0YXRpYyBtZXRob2RzXG4gICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHN0YXRpY01ldGhvZHMpKSB7XG4gICAgICAgIEpGYWN0b3J5RXhwZWN0LnByb3RvdHlwZVtuYW1lXSA9XG4gICAgICAgICAgICBmdW5jdGlvbiBjYWxsU3RhdGljKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBKRmFjdG9yeUV4cGVjdFtuYW1lXSh0aGlzLmxhYmVsLCB0aGlzLnZhbHVlLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICAgICAgfVxuICAgIH1cbn0pOyIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgeyBKRkFDVE9SWV9ERVYsIGpGYWN0b3J5Q29uZmlnIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBKRmFjdG9yeUV4cGVjdCB9IGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlUcmFpdHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5VHJhaXRzIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0pGYWN0b3J5Q29yZU9iamVjdHxPYmplY3R9IGNhbGxlckluc3RhbmNlXG4gICAgICogQHBhcmFtIHtDbGFzc3xGdW5jdGlvbn0gY2FsbGVyQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNhbGxlckluc3RhbmNlLCBjYWxsZXJDb25zdHJ1Y3Rvciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SkZhY3RvcnlDb3JlT2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYWxsZXJJbnN0YW5jZSA9IGNhbGxlckluc3RhbmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Q2xhc3N8RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbGxlckNvbnN0cnVjdG9yID0gY2FsbGVyQ29uc3RydWN0b3I7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cblxuICAgIHVzZSh0cmFpdCwgLi4udHJhaXRBcmdzKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlUcmFpdHModHJhaXQpXCIsIHRyYWl0KS50eXBlRnVuY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNhbGxlckNvbnN0cnVjdG9yIGlzIG5vdCBhbHdheXMgdGhlIGNhbGxlckluc3RhbmNlLmNvbnN0cnVjdG9yOlxuICAgICAgICAvLyBUaGUgVHJhaXQgY2FuIGJlIGluamVjdGVkIGluIGFuIGluaGVyaXRlZCBjb25zdHJ1Y3RvciBmcm9tIHN1cGVyKCkgYXQgY2FsbCB0aW1lXG4gICAgICAgIGxldCB7IGNhbGxlckluc3RhbmNlLCBjYWxsZXJDb25zdHJ1Y3RvciB9ID0gdGhpcztcblxuICAgICAgICAvLyBEZXRlY3QgaW1wcm9wZXIgZHVwbGljYXRpb24gKGNhbiBiZSBhIHRyYWl0IGFscmVhZHkgY2FsbGVkIGJ5IGEgc3VwZXIgY2xhc3MpXG4gICAgICAgIGxldCBjYWNoZSA9IEpGYWN0b3J5VHJhaXRzLkNBQ0hFLmdldChjYWxsZXJJbnN0YW5jZSk7XG5cbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICBpZiAoY2FjaGUuaGFzKHRyYWl0KSkge1xuICAgICAgICAgICAgICAgIGlmIChqRmFjdG9yeUNvbmZpZy5UcmFpdExvZykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYCR7dHJhaXQubmFtZX0gYWxyZWFkeSBjYWxsZWQgb25gLCBjYWxsZXJJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWNoZS5hZGQodHJhaXQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBKRmFjdG9yeVRyYWl0cy5DQUNIRS5zZXQoY2FsbGVySW5zdGFuY2UsIG5ldyBXZWFrU2V0KFt0cmFpdF0pKVxuICAgICAgICB9XG5cbiAgICAgICAgIWNhbGxlckNvbnN0cnVjdG9yLkpGYWN0b3J5VHJhaXQgJiYgKGNhbGxlckNvbnN0cnVjdG9yLkpGYWN0b3J5VHJhaXQgPSBuZXcgV2Vha1NldCk7XG5cbiAgICAgICAgaWYgKCFjYWxsZXJDb25zdHJ1Y3Rvci5KRmFjdG9yeVRyYWl0Lmhhcyh0cmFpdCkpIHtcbiAgICAgICAgICAgIGNhbGxlckNvbnN0cnVjdG9yLkpGYWN0b3J5VHJhaXQuYWRkKHRyYWl0KTtcbiAgICAgICAgICAgIHRoaXMuZXhwb3J0KHRyYWl0LnByb3RvdHlwZSwgY2FsbGVyQ29uc3RydWN0b3IucHJvdG90eXBlKTtcbiAgICAgICAgICAgIHRoaXMuZXhwb3J0KHRyYWl0LCBjYWxsZXJDb25zdHJ1Y3RvciwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbiBhIFRyYWl0LmNvbnN0cnVjdG9yKGNhbGxlckluc3RhbmNlLCAuLi5hcmdzKSA6IHRoaXMgIT0gY2FsbGVySW5zdGFuY2VcbiAgICAgICAgLy8gSW4gYSBUcmFpdC50cmFpdF9jb25zdHJ1Y3RvciguLi5hcmdzKSA6IHRoaXMgPT0gY2FsbGVySW5zdGFuY2UgKHRyYWl0cyBpcyBpbmplY3RlZCBhbmQgYXZhaWxhYmxlKVxuXG4gICAgICAgIC8vIFRyYWl0cyBhcmUgaW5qZWN0aW9ucy4gVGhleSBhcmUgbm90IGR5bmFtaWMgaW5oZXJpdGFuY2UuXG4gICAgICAgIC8vIFNvIHRoZSBUcmFpdC5jb25zdHJ1Y3RvcigpIGRvZXNuJ3Qgc2hhcmUgdGhlIFwidGhpc1wiIGtleXdvcmQgd2l0aCBpdHMgY2FsbGVyLlxuXG4gICAgICAgIC8vICNsaW1pdGF0aW9uIyBObyB3YXkgdG8gYmluZCBhbiBFUzYgY2xhc3MgY29uc3RydWN0b3IgdG8gYW4gb2JqZWN0XG4gICAgICAgIC8vID0+IEltcGxlbWVudGVyIGNhbiBkZWZpbmUgYSBcInRyYWl0X2NvbnN0cnVjdG9yKClcIiB0aGF0IGlzIGF1dG9tYXRpY2FsbHkgYm91bmQgdG8gXCJjYWxsZXJJbnN0YW5jZVwiXG4gICAgICAgIC8vIGFuZCBjYWxsZWQgYWZ0ZXIgdGhlIG5hdGl2ZSB0cmFpdCBjb25zdHJ1Y3RvcigpLlxuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG4gICAgICAgIGxldCB0cmFpdEluc3RhbmNlID0gbmV3IHRyYWl0KGNhbGxlckluc3RhbmNlLCAuLi50cmFpdEFyZ3MpO1xuICAgICAgICBpZiAodHJhaXRJbnN0YW5jZS50cmFpdF9jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgdHJhaXRJbnN0YW5jZS50cmFpdF9jb25zdHJ1Y3Rvci5hcHBseShjYWxsZXJJbnN0YW5jZSwgdHJhaXRBcmdzKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgZXhwb3J0KHNvdXJjZSwgdGFyZ2V0LCBpc1N0YXRpYykge1xuICAgICAgICBsZXQgc291cmNlRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSk7XG5cbiAgICAgICAgZm9yIChsZXQgcHJvcGVydHlOYW1lIG9mIE9iamVjdC5rZXlzKHNvdXJjZURlc2NyaXB0b3IpKSB7XG4gICAgICAgICAgICBsZXQgcHJlZml4ID0gSkZhY3RvcnlUcmFpdHMuZ2V0UHJlZml4KHByb3BlcnR5TmFtZSk7XG5cbiAgICAgICAgICAgIGlmIChKRmFjdG9yeVRyYWl0cy5nZXRUYXJnZXQocHJvcGVydHlOYW1lLCB0YXJnZXQsIHByZWZpeCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvcGVydHlEZXNjcmlwdG9yID0gc291cmNlRGVzY3JpcHRvcltwcm9wZXJ0eU5hbWVdO1xuICAgICAgICAgICAgICAgIGxldCBwYXJzZWQgPSAodGhpcy5vcHRpb25zLnBhcnNlciB8fCBKRmFjdG9yeVRyYWl0cy5kZWZhdWx0UGFyc2VyKShcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eURlc2NyaXB0b3IsIHNvdXJjZSwgdGFyZ2V0LCBpc1N0YXRpY1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZCkge1xuICAgICAgICAgICAgICAgICAgICAoeyBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5RGVzY3JpcHRvciB9ID0gcGFyc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eURlc2NyaXB0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBkZWZhdWx0UGFyc2VyKHByb3BlcnR5TmFtZSwgcHJvcGVydHlEZXNjcmlwdG9yLCBzb3VyY2UsIHRhcmdldCwgaXNTdGF0aWMpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gcHJvcGVydHlEZXNjcmlwdG9yLnZhbHVlO1xuXG4gICAgICAgIGlmIChpc1N0YXRpYykge3JldHVybiBudWxsfSAvLyBkb24ndCBleHBvcnQgc3RhdGljIG1lbWJlcnNcblxuICAgICAgICBpZiAocHJvcGVydHlOYW1lIGluIHRhcmdldCkgeyAvLyBza2lwIGV4aXN0aW5nIHByb3BlcnRpZXNcbiAgICAgICAgICAgIGlmIChqRmFjdG9yeUNvbmZpZy5UcmFpdExvZykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAgICAgYCR7dGFyZ2V0LmNvbnN0cnVjdG9yLm5hbWV9PiBza2lwcGluZyBleHBvcnQgb2YgZXhpc3RpbmcgcHJvcGVydHkgXCIke3Byb3BlcnR5TmFtZX1cImAsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7IC8vIHByZXZlbnQgc2hhcmVkIG9iamVjdCBleHBvcnRhdGlvblxuICAgICAgICAgICAgaWYgKGpGYWN0b3J5Q29uZmlnLlRyYWl0TG9nKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgICBgJHt0YXJnZXQuY29uc3RydWN0b3IubmFtZX0+IHNraXBwaW5nIGV4cG9ydCBvZiBzaGFyZWQgb2JqZWN0IFwiJHtwcm9wZXJ0eU5hbWV9XCJgLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHByb3BlcnR5TmFtZSwgcHJvcGVydHlEZXNjcmlwdG9yIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0UHJlZml4KGtleSkge1xuICAgICAgICBsZXQgc3BsaXQgPSBrZXkuc3BsaXQoXCJfXCIpO1xuICAgICAgICByZXR1cm4gc3BsaXQubGVuZ3RoID4gMSA/IHNwbGl0WzBdIDogbnVsbDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0VGFyZ2V0KGtleSwgdGFyZ2V0LCBwcmVmaXgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgSkZhY3RvcnlUcmFpdHMuRVhDTFVERVMuaW5jbHVkZXMoa2V5KSB8fFxuICAgICAgICAgICAgcHJlZml4ID09PSBcInRyYWl0XCJcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldFxuICAgIH1cbn1cblxuSkZhY3RvcnlUcmFpdHMuQ0FDSEUgPSBuZXcgV2Vha01hcDtcbkpGYWN0b3J5VHJhaXRzLkVYQ0xVREVTID0gW1wiY29uc3RydWN0b3JcIiwgXCJwcm90b3R5cGVcIiwgXCJsZW5ndGhcIiwgXCJzaXplXCJdOyIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgeyBKRkFDVE9SWV9ERVYsIGpGYWN0b3J5Q29uZmlnIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBKRmFjdG9yeUV4cGVjdCB9IGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5pbXBvcnQgeyBqRmFjdG9yeUVycm9yIH0gZnJvbSBcIi4vSkZhY3RvcnlFcnJvclwiO1xuaW1wb3J0IHsgaGVscGVyX3NldEZ1bmN0aW9uTmFtZSB9IGZyb20gXCIuL2pGYWN0b3J5LWhlbHBlcnNcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5RnVuY3Rpb25Db21wb3NlciB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuXG4gICAgKiBbU3ltYm9sLml0ZXJhdG9yXShoYW5kbGVyR3JvdXBzID0gW10pIHtcblxuICAgICAgICBpZiAoIWhhbmRsZXJHcm91cHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBoYW5kbGVyR3JvdXBzID0gT2JqZWN0LmtleXModGhpcy5oYW5kbGVycylcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhbmRsZXJHcm91cHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBoYW5kbGVyR3JvdXBzID0gW1wiZGVmYXVsdFwiXVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaGFuZGxlckdyb3VwIG9mIGhhbmRsZXJHcm91cHMpIHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyR3JvdXAgaW4gdGhpcy5oYW5kbGVycykge1xuICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLmhhbmRsZXJzW2hhbmRsZXJHcm91cF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBAcmV0dXJuIHtKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXJ9ICovXG4gICAgZmlyc3QoaGFuZGxlckdyb3VwLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBbaGFuZGxlckdyb3VwLCBoYW5kbGVyXSA9IFtcImRlZmF1bHRcIiwgaGFuZGxlckdyb3VwXVxuICAgICAgICB9XG4gICAgICAgICh0aGlzLmhhbmRsZXJzW2hhbmRsZXJHcm91cF0gfHwgKHRoaXMuaGFuZGxlcnNbaGFuZGxlckdyb3VwXSA9IFtdKSkudW5zaGlmdChoYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKiogQHJldHVybiB7SkZhY3RvcnlGdW5jdGlvbkNvbXBvc2VyfSAqL1xuICAgIGxhc3QoaGFuZGxlckdyb3VwLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBbaGFuZGxlckdyb3VwLCBoYW5kbGVyXSA9IFtcImRlZmF1bHRcIiwgaGFuZGxlckdyb3VwXVxuICAgICAgICB9XG4gICAgICAgICh0aGlzLmhhbmRsZXJzW2hhbmRsZXJHcm91cF0gfHwgKHRoaXMuaGFuZGxlcnNbaGFuZGxlckdyb3VwXSA9IFtdKSkucHVzaChoYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKiogQHJldHVybiB7KGZ1bmN0aW9uKCk6ICopICYge2NvbXBvc2VyOiBKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXJ9fSAqL1xuICAgIGNvbXBvc2UoLi4uaGFuZGxlckdyb3Vwcykge1xuICAgICAgICBsZXQgY29tcG9zZXIgPSB0aGlzO1xuICAgICAgICBsZXQgY29tcG9zaXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyAhISEhLS0hISEhLS0hISEhLS0hISEhLS0hISEhLS0hISEhLS0hISEhLS0hISEhIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICB3cmFwcGVkIGZ1bmN0aW9uICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICBZb3Ugc2hvdWxkIEJsYWNrYm94IEpGYWN0b3J5RnVuY3Rpb24ubWpzICAgIC8vXG4gICAgICAgICAgICAvLyAgICB0byBzaW1wbGlmeSBkZWJ1Z2dpbmcgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAhISEhLS0hISEhLS0hISEhLS0hISEhLS0hISEhLS0hISEhLS0hISEhLS0hISEhIC8vXG4gICAgICAgICAgICBsZXQgY29udGV4dCA9IHtcbiAgICAgICAgICAgICAgICBjYW5jZWxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyczogQXJyYXkuZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgIHJlc3VsdDogdW5kZWZpbmVkXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IGl0ZXJhdG9yID0gY29tcG9zZXJbU3ltYm9sLml0ZXJhdG9yXShoYW5kbGVyR3JvdXBzKTtcbiAgICAgICAgICAgIGxldCBpdGVyYXRpb24gPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gSkZhY3RvcnlGdW5jdGlvbkNvbXBvc2VyLmNvbXBvc2l0ZV9pdGVyYXRvcihcbiAgICAgICAgICAgICAgICB0aGlzIC8qIHByZXNlcnZlIGNhbGwgc2NvcGUgKi8sIGNvbnRleHQsIGl0ZXJhdGlvbiwgaXRlcmF0b3IpXG4gICAgICAgIH07XG4gICAgICAgIGNvbXBvc2l0ZS5jb21wb3NlciA9IGNvbXBvc2VyO1xuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH1cblxuICAgIC8vIFNQRUM6IENvbXBvc2l0ZSBmdW5jdGlvbnMgcmV0dXJucyBwcm9taXNlICpvbmx5KiBpZiBhdCBsZWFzdFxuICAgIC8vIG9uZSBoYW5kbGVyIHJldHVybnMgYSBwcm9taXNlIChhc3luYyBmdW5jdGlvbiBvciBwcm9taXNlIHJldHVybilcbiAgICAvLyBTbyB3ZSBjYW5ub3QganVzdCBpdGVyYXRlIHVzaW5nIGFuIFwiYXdhaXQgZm9yIG9mXCJcbiAgICBzdGF0aWMgY29tcG9zaXRlX2l0ZXJhdG9yKHNjb3BlLCBjb250ZXh0LCBpdGVyYXRpb24sIGhhbmRsZXJzKSB7XG4gICAgICAgIGxldCBoYW5kbGVyLFxuICAgICAgICAgICAgcmVzdWx0O1xuXG4gICAgICAgIHdoaWxlICghY29udGV4dC5jYW5jZWxlZCAmJiAhaXRlcmF0aW9uLmRvbmUpIHtcbiAgICAgICAgICAgIGhhbmRsZXIgPSBpdGVyYXRpb24udmFsdWU7XG4gICAgICAgICAgICBpZiAoc2NvcGUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBoYW5kbGVyLmNhbGwoc2NvcGUsIGNvbnRleHQsIC4uLmNvbnRleHQucGFyYW1ldGVycylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gaGFuZGxlcihjb250ZXh0LCAuLi5jb250ZXh0LnBhcmFtZXRlcnMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVyYXRpb24gPSBoYW5kbGVycy5uZXh0KCk7IC8vIHByZXBhcmVzIG5leHQgaXRlcmF0aW9uIHRvIGtub3cgaWYgXCJkb25lXCJcbiAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXJhdGlvbi5kb25lXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhc2Ugb2YgbGFzdCBoYW5kbGVyIHJldHVybmluZyBhIHByb21pc2VcbiAgICAgICAgICAgICAgICAgICAgLy8gI2xpbWl0YXRpb24jIG5vdyB3YXkgdG8gZGV0ZWN0IGlmIHRoZSBwcm9taXNlIGlzIHRoZSByZXR1cm5lZCB2YWx1ZSBvciBhbiBcImF3YWl0XCJcbiAgICAgICAgICAgICAgICAgICAgLy8gKHdlIGRvbid0IHdhbnQgdG8gY2hhbmdlIHRoZSB2YWx1ZSBvZiBjb250ZXh0LnJlc3VsdCBkdXJpbmcgYSBwZW5kaW5nIGhhbmRsZXIpXG4gICAgICAgICAgICAgICAgICAgIC8vID0+IG5hdGl2ZSBQcm9taXNlIGFyZSBhbHdheXMgY2hhaW5lZFxuICAgICAgICAgICAgICAgICAgICAmJiByZXN1bHQuY29uc3RydWN0b3IgIT09IFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZXN1bHQgPSByZXN1bHQgLy8gd2UgY2FuIHNhZmVseSBzZXQgdGhlIG5ldyByZXN1bHRcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oaGVscGVyX3NldEZ1bmN0aW9uTmFtZShcbiAgICAgICAgICAgICAgICAgICAgICAgIFtoYW5kbGVyLm5hbWUsIFwiW2NvbXBvc2l0ZUFzeW5jSGFuZGxlcl1cIl0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXIuY29tcG9zaXRlX2l0ZXJhdG9yKHNjb3BlLCBjb250ZXh0LCBpdGVyYXRpb24sIGhhbmRsZXJzKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5yZXN1bHQgPSByZXN1bHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGV4dC5yZXN1bHRcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlGdW5jdGlvbkV4cGlyYWJsZSAtIEV4cGlyYWJsZSBGdW5jdGlvbiBQYXR0ZXJuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGZ1bmN0aW9uIGpGYWN0b3J5RnVuY3Rpb25FeHBpcmFibGUob3JpZ2luYWxIYW5kbGVyKSB7XG4gICAgcmV0dXJuIG5ldyBKRmFjdG9yeUZ1bmN0aW9uRXhwaXJhYmxlKG9yaWdpbmFsSGFuZGxlcikuY29tcG9zZSgpXG59XG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUZ1bmN0aW9uRXhwaXJhYmxlIHtcblxuICAgIGNvbnN0cnVjdG9yKG9yaWdpbmFsSGFuZGxlcikge1xuICAgICAgICB0aGlzLm9yaWdpbmFsSGFuZGxlciA9IG9yaWdpbmFsSGFuZGxlcjtcbiAgICAgICAgdGhpcy5leHBpcmVkQ2FsbHMgPSAwO1xuICAgICAgICB0aGlzLmNvbXBvc2VyID0gbmV3IEpGYWN0b3J5RnVuY3Rpb25Db21wb3NlcjtcblxuICAgICAgICBsZXQgaXNFeHBpcmVkID0gdGhpcy5jb21wb3Nlci5jb21wb3NlKFwiY29uZGl0aW9uc1wiKTtcbiAgICAgICAgbGV0IGV4cGlyYWJsZSA9IHRoaXM7XG4gICAgICAgIGxldCBleHBpcmVkO1xuXG4gICAgICAgIC8vIGNhbm5vdCB1c2UgYSByZWFsIGFjY2Vzc29yIGhlcmUgKGNvbmRpdGlvbnMgY2FuIGJlIHNjb3BlZCwgc28gaXNFeHBpcmVkIHRvbylcbiAgICAgICAgdGhpcy5pc0V4cGlyZWQgPSBzY29wZSA9PiBleHBpcmVkIHx8IGlzRXhwaXJlZC5jYWxsKHNjb3BlKSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5zZXRFeHBpcmVkID0gdmFsdWUgPT4gZXhwaXJlZCA9IHZhbHVlID9cbiAgICAgICAgICAgIHZhbHVlIGluc3RhbmNlb2YgRXJyb3IgPyB2YWx1ZSA6IG5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfQ0FMTCh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLm9yaWdpbmFsSGFuZGxlcixcbiAgICAgICAgICAgICAgICByZWFzb246IFwibWFudWFsbHkgZXhwaXJlZFwiXG4gICAgICAgICAgICB9KSA6IEJvb2xlYW4odGhpcy5leHBpcmVkQ2FsbHMgPSAwKTtcblxuICAgICAgICB0aGlzLmFkZEV4cGlyZUNvbmRpdGlvbiA9IGZ1bmN0aW9uKGNvbmRpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb21wb3Nlci5sYXN0KFwiY29uZGl0aW9uc1wiLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGRvbmUgPSBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUZ1bmN0aW9uRXhwaXJhYmxlLmFkZEV4cGlyZUNvbmRpdGlvbigpLCByZXN1bHRcIiwgcmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50eXBlKEJvb2xlYW4sIEVycm9yKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBpcmFibGUuc2V0RXhwaXJlZChyZXN1bHQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbnRleHQuY2FuY2VsZWQgPSB0cnVlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfQ0FMTCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogZXhwaXJhYmxlLm9yaWdpbmFsSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcImNvbmRpdGlvbmFsbHkgZXhwaXJlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBjb25kaXRpb24uYXBwbHkodGhpcywgY29udGV4dC5wYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSA/IHJlc3VsdC50aGVuKGRvbmUpIDogZG9uZShyZXN1bHQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb21wb3NlKCkge1xuICAgICAgICBsZXQgZXhwaXJhYmxlID0gdGhpcztcbiAgICAgICAgbGV0IGNvbXBvc2l0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGV0IGlzRXhwaXJlZCA9IGV4cGlyYWJsZS5pc0V4cGlyZWQodGhpcyk7XG4gICAgICAgICAgICBsZXQgY2FsbCA9IGV4cGlyYWJsZS5jb25zdHJ1Y3Rvci5jYWxsLmJpbmQodW5kZWZpbmVkLCBleHBpcmFibGUsIHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICByZXR1cm4gaXNFeHBpcmVkIGluc3RhbmNlb2YgUHJvbWlzZSA/IGlzRXhwaXJlZC50aGVuKGNhbGwpIDogY2FsbChpc0V4cGlyZWQpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihjb21wb3NpdGUsIHtcbiAgICAgICAgICAgIGV4cGlyYWJsZTogdGhpcyxcbiAgICAgICAgICAgIGlzRXhwaXJlZDogZiA9PiB0aGlzLmlzRXhwaXJlZChmKSxcbiAgICAgICAgICAgIHNldEV4cGlyZWQ6IGYgPT4gdGhpcy5zZXRFeHBpcmVkKGYpLFxuICAgICAgICAgICAgYWRkRXhwaXJlQ29uZGl0aW9uOiBmID0+IHt0aGlzLmFkZEV4cGlyZUNvbmRpdGlvbihmKTsgcmV0dXJuIGNvbXBvc2l0ZX1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNhbGwoZXhwaXJhYmxlLCBzY29wZSwgYXJncywgaXNFeHBpcmVkKSB7XG4gICAgICAgIHJldHVybiBpc0V4cGlyZWQgPyBleHBpcmFibGUub25FeHBpcmVkKGlzRXhwaXJlZCkgOiBleHBpcmFibGUub25Ob3RFeHBpcmVkKHNjb3BlLCBhcmdzKTtcbiAgICB9XG5cbiAgICBvbkV4cGlyZWQoZXhwaXJlZCkge1xuICAgICAgICBpZiAodGhpcy5leHBpcmVkQ2FsbHMgPCBKRmFjdG9yeUZ1bmN0aW9uRXhwaXJhYmxlLk1heFdhcm5pbmdFeHBpcmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmV4cGlyZWRDYWxscysrO1xuICAgICAgICAgICAgaWYgKGpGYWN0b3J5Q29uZmlnLlRyYWl0TG9nKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKC4uLm5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfQ0FMTCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmV4cGlyZWQuJGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogZXhwaXJlZC4kZGF0YS5yZWFzb25cbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCI7IGV4cGlyZWRDYWxscz1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyB0aGlzLmV4cGlyZWRDYWxsc1xuICAgICAgICAgICAgICAgICAgICAgICAgKyAodGhpcy5leHBpcmVkQ2FsbHMgPT09IEpGYWN0b3J5RnVuY3Rpb25FeHBpcmFibGUuTWF4V2FybmluZ0V4cGlyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiOyBNYXggV2FybmluZyBFeGNlZWRlZFwiIDogXCJcIilcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4cGlyZWRcbiAgICB9XG5cbiAgICBvbk5vdEV4cGlyZWQoc2NvcGUsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxIYW5kbGVyLmFwcGx5KHNjb3BlLCBhcmdzKVxuICAgIH1cbn1cblxuSkZhY3RvcnlGdW5jdGlvbkV4cGlyYWJsZS5NYXhXYXJuaW5nRXhwaXJhdGlvbiA9IDEwO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5RnVuY3Rpb25Db25kaXRpb25hbCAtIENvbmRpdGlvbmFsIEZ1bmN0aW9uIFBhdHRlcm5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgZnVuY3Rpb24gakZhY3RvcnlGdW5jdGlvbkNvbmRpdGlvbmFsKG9yaWdpbmFsSGFuZGxlcikge1xuICAgIHJldHVybiBuZXcgSkZhY3RvcnlGdW5jdGlvbkNvbmRpdGlvbmFsKG9yaWdpbmFsSGFuZGxlcikuY29tcG9zZSgpXG59XG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUZ1bmN0aW9uQ29uZGl0aW9uYWwge1xuXG4gICAgY29uc3RydWN0b3Iob3JpZ2luYWxIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxIYW5kbGVyID0gb3JpZ2luYWxIYW5kbGVyO1xuICAgICAgICB0aGlzLmNvbXBvc2VyID0gbmV3IEpGYWN0b3J5RnVuY3Rpb25Db21wb3NlcjtcbiAgICAgICAgdGhpcy5jb21wb3Nlci5maXJzdChcIm9yaWdpbmFsXCIsIGhlbHBlcl9zZXRGdW5jdGlvbk5hbWUoXG4gICAgICAgICAgICBbb3JpZ2luYWxIYW5kbGVyLm5hbWUsIFwiW2NvbmRpdGlvbl1cIl0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpLFxuICAgICAgICAgICAgZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbEhhbmRsZXIuYXBwbHkodGhpcywgY29udGV4dC5wYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY29tcG9zZSgpIHtcbiAgICAgICAgbGV0IGNvbXBvc2l0ZSA9IHRoaXMuY29tcG9zZXIuY29tcG9zZShcImNvbmRpdGlvbnNcIiwgXCJvcmlnaW5hbFwiKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oY29tcG9zaXRlLCB7XG4gICAgICAgICAgICBjb25kaXRpb25hbDogdGhpcyxcbiAgICAgICAgICAgIGFkZENvbmRpdGlvbjogZiA9PiB7dGhpcy5hZGRDb25kaXRpb24oZik7IHJldHVybiBjb21wb3NpdGV9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFkZENvbmRpdGlvbihjb25kaXRpb24pIHtcbiAgICAgICAgdGhpcy5jb21wb3Nlci5sYXN0KFwiY29uZGl0aW9uc1wiLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICBsZXQgaGFuZGxlID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5RnVuY3Rpb25Db25kaXRpb25hbC5hZGRDb25kaXRpb24oKSwgcmVzdWx0XCIsIHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50eXBlQm9vbGVhbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAhcmVzdWx0ICYmIChjb250ZXh0LmNhbmNlbGVkID0gdHJ1ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGNvbmRpdGlvbi5hcHBseSh0aGlzLCBjb250ZXh0LnBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UgPyByZXN1bHQudGhlbihoYW5kbGUpIDogaGFuZGxlKHJlc3VsdCk7XG4gICAgICAgIH0pXG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5RnVuY3Rpb25XcmFwcGFibGUgLSBXcmFwcGFibGUgRnVuY3Rpb24gUGF0dGVyblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBqRmFjdG9yeUZ1bmN0aW9uV3JhcHBhYmxlKG9yaWdpbmFsSGFuZGxlcikge1xuICAgIHJldHVybiBuZXcgSkZhY3RvcnlGdW5jdGlvbldyYXBwYWJsZShvcmlnaW5hbEhhbmRsZXIpLmNvbXBvc2UoKVxufVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlGdW5jdGlvbldyYXBwYWJsZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcmlnaW5hbEhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEhhbmRsZXIgPSBvcmlnaW5hbEhhbmRsZXI7XG4gICAgICAgIHRoaXMuY29tcG9zZXIgPSBuZXcgSkZhY3RvcnlGdW5jdGlvbkNvbXBvc2VyO1xuICAgICAgICB0aGlzLmNvbXBvc2VyLmZpcnN0KFwib3JpZ2luYWxcIiwgaGVscGVyX3NldEZ1bmN0aW9uTmFtZShcbiAgICAgICAgICAgIFtvcmlnaW5hbEhhbmRsZXIubmFtZSwgXCJbd3JhcHBlZF1cIl0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpLFxuICAgICAgICAgICAgZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbEhhbmRsZXIuYXBwbHkodGhpcywgY29udGV4dC5wYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY29tcG9zZSgpIHtcbiAgICAgICAgbGV0IGNvbXBvc2l0ZSA9IHRoaXMuY29tcG9zZXIuY29tcG9zZShcImJlZm9yZVwiLCBcIm9yaWdpbmFsXCIsIFwiYWZ0ZXJcIik7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGNvbXBvc2l0ZSwge1xuICAgICAgICAgICAgd3JhcHBhYmxlOiB0aGlzLFxuICAgICAgICAgICAgYmVmb3JlQWxsOiBmID0+IHt0aGlzLmJlZm9yZUFsbChmKTsgcmV0dXJuIGNvbXBvc2l0ZX0sXG4gICAgICAgICAgICBqdXN0QmVmb3JlOiBmID0+IHt0aGlzLmp1c3RCZWZvcmUoZik7IHJldHVybiBjb21wb3NpdGV9LFxuICAgICAgICAgICAganVzdEFmdGVyOiBmID0+IHt0aGlzLmp1c3RBZnRlcihmKTsgcmV0dXJuIGNvbXBvc2l0ZX0sXG4gICAgICAgICAgICBhZnRlckFsbDogZiA9PiB7dGhpcy5hZnRlckFsbChmKTsgcmV0dXJuIGNvbXBvc2l0ZX1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYmVmb3JlQWxsKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jb21wb3Nlci5maXJzdChcImJlZm9yZVwiLCBoYW5kbGVyKTtcbiAgICB9XG5cbiAgICBqdXN0QmVmb3JlKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jb21wb3Nlci5sYXN0KFwiYmVmb3JlXCIsIGhhbmRsZXIpO1xuICAgIH1cblxuICAgIGp1c3RBZnRlcihoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuY29tcG9zZXIuZmlyc3QoXCJhZnRlclwiLCBoYW5kbGVyKTtcbiAgICB9XG5cbiAgICBhZnRlckFsbChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuY29tcG9zZXIubGFzdChcImFmdGVyXCIsIGhhbmRsZXIpO1xuICAgIH1cbn0iLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgakZhY3RvcnlFcnJvciB9IGZyb20gXCIuL0pGYWN0b3J5RXJyb3JcIjtcbmltcG9ydCB7IEpGYWN0b3J5VHJhaXRzIH0gZnJvbSBcIi4vSkZhY3RvcnlUcmFpdHNcIjtcbmltcG9ydCB7IGpGYWN0b3J5RnVuY3Rpb25XcmFwcGFibGUgfSBmcm9tIFwiLi9KRmFjdG9yeUZ1bmN0aW9uXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnlUcmFpdHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGZ1bmN0aW9uIGpGYWN0b3J5VHJhaXRzKGNhbGxlckluc3RhbmNlLCBjYWxsZXJDb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBuZXcgSkZhY3RvcnlUcmFpdHMoY2FsbGVySW5zdGFuY2UsIGNhbGxlckNvbnN0cnVjdG9yLCB7XG5cbiAgICAgICAgcGFyc2VyKHByb3BlcnR5TmFtZSwgcHJvcGVydHlEZXNjcmlwdG9yLyosIHNvdXJjZSwgdGFyZ2V0LCBpc1N0YXRpYyAqLykge1xuICAgICAgICAgICAgbGV0IHBhcnNlZCA9IEpGYWN0b3J5VHJhaXRzLmRlZmF1bHRQYXJzZXIoLi4uYXJndW1lbnRzKTtcblxuICAgICAgICAgICAgaWYgKHBhcnNlZCkge1xuICAgICAgICAgICAgICAgICh7IHByb3BlcnR5TmFtZSwgcHJvcGVydHlEZXNjcmlwdG9yIH0gPSBwYXJzZWQpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gcHJvcGVydHlEZXNjcmlwdG9yLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHZhbHVlLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIkaW5zdGFsbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiR1bmluc3RhbGxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIkZW5hYmxlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiJGRpc2FibGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIkc3RhdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlEZXNjcmlwdG9yLnZhbHVlID0gakZhY3RvcnlGdW5jdGlvbldyYXBwYWJsZSh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmJlZm9yZUFsbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy4kLnN0YXRlcy5lbmFibGVkICYmIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID09PSBcIlBIQVNFX05PTkVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlID0gbmV3IGpGYWN0b3J5RXJyb3IuSU5WQUxJRF9DQUxMKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3duZXI6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogXCJjb21wb25lbnQgZGlzYWJsZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGxvZ0VyciguLi5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4geyBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5RGVzY3JpcHRvciB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KVxufSIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgeyBqRmFjdG9yeVRyYWl0cyB9IGZyb20gXCIuL2pGYWN0b3J5LXRyYWl0c1wiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFByZWRlZmluZWQgQ29tcG9uZW50c1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIEBtaXhlcyBUcmFpdENvcmVcbiAqIEBtaXhlcyBUcmFpdEFib3V0XG4gKiBAbWl4ZXMgVHJhaXRMb2dcbiAqIEBtaXhlcyBUcmFpdEV2ZW50c1xuICogQG1peGVzIFRyYWl0U3RhdGVcbiAqIEBtaXhlcyBUcmFpdFNlcnZpY2VcbiAqIEBtaXhlcyBUcmFpdFRhc2tcbiAqL1xuZXhwb3J0IGNsYXNzIEpGYWN0b3J5Q29yZU9iamVjdCB7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICBKRmFjdG9yeUNvcmVPYmplY3QuaW5qZWN0KHRoaXMsIEpGYWN0b3J5Q29yZU9iamVjdCwgbmFtZSlcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5qZWN0KHRhcmdldCwgY29uc3RydWN0b3IsIG5hbWUpIHtcbiAgICAgICAgakZhY3RvcnlUcmFpdHModGFyZ2V0LCBjb25zdHJ1Y3RvcilcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRDb3JlKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdEFib3V0LCB7IG5hbWUgfSlcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRMb2cpXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0RXZlbnRzKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdFN0YXRlKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdFNlcnZpY2UpXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0VGFzayk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBtaXhlcyBUcmFpdEZldGNoXG4gKiBAbWl4ZXMgVHJhaXRET01cbiAqIEBtaXhlcyBUcmFpdENTU1xuICogQG1peGVzIFRyYWl0TXV0YXRpb25cbiAqIEBtaXhlcyBUcmFpdFRpbWVvdXRcbiAqIEBtaXhlcyBUcmFpdEludGVydmFsXG4gKiBAbWl4ZXMgVHJhaXRMaWJWdWVcbiAqIEBtaXhlcyBUcmFpdExpYlJlYWN0XG4gKi9cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUNvbXBvbmVudCBleHRlbmRzIEpGYWN0b3J5Q29yZU9iamVjdCB7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICBzdXBlcihuYW1lKTtcbiAgICAgICAgSkZhY3RvcnlDb21wb25lbnQuaW5qZWN0KHRoaXMsIEpGYWN0b3J5Q29tcG9uZW50KVxuICAgIH1cblxuICAgIHN0YXRpYyBpbmplY3QodGFyZ2V0LCBjb25zdHJ1Y3Rvcikge1xuICAgICAgICBqRmFjdG9yeVRyYWl0cyh0YXJnZXQsIGNvbnN0cnVjdG9yKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdEZldGNoKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdERPTSlcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRDU1MpXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0TXV0YXRpb24pXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0VGltZW91dClcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRJbnRlcnZhbClcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRMaWJWdWUpXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0TGliUmVhY3QpO1xuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBqRmFjdG9yeVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKiBAcmV0dXJuIHtKRmFjdG9yeUNvbXBvbmVudH0gKi9cbmV4cG9ydCBjb25zdCBqRmFjdG9yeSA9IChuYW1lLCBwcm9wZXJ0aWVzKSA9PiBPYmplY3QuYXNzaWduKG5ldyBKRmFjdG9yeUNvbXBvbmVudChuYW1lKSwgcHJvcGVydGllcyk7IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IGpGYWN0b3J5TG9hZGVyIH0gZnJvbSBcIi4vakZhY3RvcnktbG9hZGVyXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnlPYmplY3Rcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBBbHBoYVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeU9iamVjdCB7XG5cbiAgICBzdGF0aWMgY3JlYXRlRGVzY3JpcHRvcnMoZGVzY3JpcHRvclByb3RvdHlwZSA9IEpGYWN0b3J5T2JqZWN0LkRFU0NSSVBUT1JTX1BST1RPVFlQRSkge1xuICAgICAgICBsZXQgY3JlYXRlID0gSkZhY3RvcnlPYmplY3QuY3JlYXRlKGRlc2NyaXB0b3JQcm90b3R5cGUsIHRydWUsIHRydWUpO1xuICAgICAgICBsZXQgbyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICAgICAgby5OT05FID0gY3JlYXRlKCk7XG5cbiAgICAgICAgby5XUklUQUJMRSAgICAgPSBjcmVhdGUoeyB3cml0YWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgby5FTlVNRVJBQkxFICAgPSBjcmVhdGUoeyBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICBvLkNPTkZJR1VSQUJMRSA9IGNyZWF0ZSh7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcblxuICAgICAgICBvLkNPTkZJR1VSQUJMRV9XUklUQUJMRSAgID1cbiAgICAgICAgby5XUklUQUJMRV9DT05GSUdVUkFCTEUgICA9IGNyZWF0ZSh7IHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG5cbiAgICAgICAgby5DT05GSUdVUkFCTEVfRU5VTUVSQUJMRSA9XG4gICAgICAgIG8uRU5VTUVSQUJMRV9DT05GSUdVUkFCTEUgPSBjcmVhdGUoeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG5cbiAgICAgICAgby5FTlVNRVJBQkxFX1dSSVRBQkxFICAgICA9XG4gICAgICAgIG8uV1JJVEFCTEVfRU5VTUVSQUJMRSAgICAgPSBjcmVhdGUoeyB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcblxuICAgICAgICBvLldSSVRBQkxFX0VOVU1FUkFCTEVfQ09ORklHVVJBQkxFID1cbiAgICAgICAgby5XUklUQUJMRV9DT05GSUdVUkFCTEVfRU5VTUVSQUJMRSA9XG4gICAgICAgIG8uRU5VTUVSQUJMRV9DT05GSUdVUkFCTEVfV1JJVEFCTEUgPVxuICAgICAgICBvLkVOVU1FUkFCTEVfV1JJVEFCTEVfQ09ORklHVVJBQkxFID1cbiAgICAgICAgby5DT05GSUdVUkFCTEVfV1JJVEFCTEVfRU5VTUVSQUJMRSA9XG4gICAgICAgIG8uQ09ORklHVVJBQkxFX0VOVU1FUkFCTEVfV1JJVEFCTEUgPSBjcmVhdGUoeyB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xuXG4gICAgICAgIC8vIFNob3J0Y3V0c1xuICAgICAgICBvLlJFQURPTkxZID0gY3JlYXRlKHsgd3JpdGFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiBmYWxzZSB9KTtcblxuICAgICAgICByZXR1cm4gb1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYXNzaWduKG9iaiwgJ215UHJvcGVydHknLCAxMjMsIHt3cml0YWJsZTpmYWxzZX0pXG4gICAgICogYXNzaWduKG9iaiwge2E6MSwgYjoyfScsIHt3cml0YWJsZTpmYWxzZX0pXG4gICAgICpcbiAgICAgKiBkZXByZWNhdGVkXG4gICAgICogYXNzaWduKG9iaiwgJ215UHJvcGVydHknLCB7dmFsdWU6XCJva1wiLCB3cml0YWJsZTpmYWxzZX0pID0+IG5vdCBzdHJpY3RcbiAgICAgKiBhc3NpZ24ob2JqLCAnbXlQcm9wZXJ0eScsIDEyMykgPT4gdXNlIG5hdGl2ZSBpbnN0ZWFkXG4gICAgICogYXNzaWduKG9iaiwge2E6MSwgYjoyfSkgPT4gdXNlIG5hdGl2ZSBpbnN0ZWFkXG4gICAgICovXG4gICAgc3RhdGljIGFzc2lnbih0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgZGVzY3JpcHRvcikge1xuICAgICAgICBsZXQgZGVzY3JpcHRvcnMgPSB7fTtcblxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wZXJ0eSkge1xuXG4gICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG5cbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAvLyBhc3NpZ24ob2JqLCAnbXlQcm9wZXJ0eScsIDEyMywge3dyaXRhYmxlOmZhbHNlfSlcbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAgICAgICAgIGlmICghZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIGRlc2NyaXB0b3IgYXJndW1lbnQ7IHVzZSBPYmplY3QuYXNzaWduIGluc3RlYWRcIilcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yID0gT2JqZWN0LmNyZWF0ZShkZXNjcmlwdG9yKTsgLy8gYXZvaWQgZGVzY3JpcHRvciBjb3JydXB0aW9uXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcblxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIC8vIGFzc2lnbihvYmosIHthOjEsIGI6Mn0nLCB7d3JpdGFibGU6ZmFsc2V9KVxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICAgICAgW3ZhbHVlLCBkZXNjcmlwdG9yXSA9IFtwcm9wZXJ0eSwgdmFsdWVdO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgZGVzY3JpcHRvciBhcmd1bWVudDsgdXNlIE9iamVjdC5hc3NpZ24gaW5zdGVhZFwiKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAobGV0IG5hbWUgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0b3JzW25hbWVdID0gT2JqZWN0LmNyZWF0ZShkZXNjcmlwdG9yKTsgLy8gYXZvaWQgZGVzY3JpcHRvciBjb3JydXB0aW9uXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0b3JzW25hbWVdLnZhbHVlID0gdmFsdWVbbmFtZV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yc1tuYW1lXSA9IE9iamVjdC5jcmVhdGUoZGVzY3JpcHRvcik7IC8vIGF2b2lkIGRlc2NyaXB0b3IgY29ycnVwdGlvblxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yc1tuYW1lXS52YWx1ZSA9IHZhbHVlW25hbWVdXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBkZXNjcmlwdG9ycyk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHByb3BlcnR5IGFyZ3VtZW50XCIpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZShwcm90b3R5cGUsIGZsYXQgPSBmYWxzZSwgZGlzaW5oZXJpdCA9IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGUocHJvcGVydGllcykge1xuICAgICAgICAgICAgaWYgKGZsYXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihkaXNpbmhlcml0ID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9LCBwcm90b3R5cGUsIHByb3BlcnRpZXMpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoXG4gICAgICAgICAgICAgICAgICAgIGRpc2luaGVyaXQgPyBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIHByb3RvdHlwZSkgOiBwcm90b3R5cGVcbiAgICAgICAgICAgICAgICApLCBwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGRpc2luaGVyaXQob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIG9iamVjdCk7XG4gICAgfVxufVxuXG5KRmFjdG9yeU9iamVjdC5ERVNDUklQVE9SU19QUk9UT1RZUEUgPSB7IHdyaXRhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogZmFsc2UgfTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBqRmFjdG9yeU9iamVjdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmpGYWN0b3J5TG9hZGVyLm9uSW5pdChmdW5jdGlvbigpIHtcbiAgICBKRmFjdG9yeU9iamVjdC5kZXNjcmlwdG9ycyA9IEpGYWN0b3J5T2JqZWN0LmNyZWF0ZURlc2NyaXB0b3JzKClcbn0pOyIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgeyBKRkFDVE9SWV9ERVYgfSBmcm9tIFwiLi9qRmFjdG9yeS1lbnZcIjtcbmltcG9ydCB7IEpGYWN0b3J5RXhwZWN0IH0gZnJvbSBcIi4vSkZhY3RvcnlFeHBlY3RcIjtcbmltcG9ydCB7IGhlbHBlcl9jYW1lbENhc2UgfSBmcm9tIFwiLi9qRmFjdG9yeS1oZWxwZXJzXCI7XG5pbXBvcnQgeyBKRmFjdG9yeU9iamVjdCB9IGZyb20gXCIuL0pGYWN0b3J5T2JqZWN0XCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlBYm91dFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5jb25zdCBtb2R1bGVHZW5JZCA9ICgpID0+ICsrbW9kdWxlR2VuSWQudWlkOyBtb2R1bGVHZW5JZC51aWQgPSAwO1xuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlBYm91dCB7XG4gICAgY29uc3RydWN0b3Iob3duZXIsIGFib3V0ID0ge30pIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUFib3V0KG93bmVyKVwiLCBvd25lcikudHlwZShPYmplY3QpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUFib3V0KGFib3V0KVwiLCBhYm91dClcbiAgICAgICAgICAgICAgICAudHlwZVBsYWluT2JqZWN0KClcbiAgICAgICAgICAgICAgICAucmVzZXJ2ZWRQcm9wZXJ0eShcInVpZFwiKVxuICAgICAgICAgICAgICAgIC5yZXNlcnZlZFByb3BlcnR5KFwiZmluZ2VycHJpbnRcIik7XG4gICAgICAgICAgICBpZiAoXCJuYW1lXCIgaW4gYWJvdXQpIHtcbiAgICAgICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5QWJvdXQoYWJvdXQubmFtZSlcIiwgYWJvdXQubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgLnR5cGVTdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAubm90RW1wdHlTdHJpbmcoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5hbWU7XG4gICAgICAgIGxldCBmaW5nZXJwcmludDtcbiAgICAgICAgbGV0IHVpZCA9IG1vZHVsZUdlbklkKCk7XG5cbiAgICAgICAgaWYgKGFib3V0Lm5hbWUpIHtcbiAgICAgICAgICAgIG5hbWUgPSBhYm91dC5uYW1lO1xuICAgICAgICAgICAgZGVsZXRlIGFib3V0Lm5hbWU7XG4gICAgICAgICAgICBmaW5nZXJwcmludCA9IFwiakZhY3RvcnlcIiArIFwiX1wiICsgaGVscGVyX2NhbWVsQ2FzZShuYW1lLnRvTG93ZXJDYXNlKCkpICsgXCJfXCIgKyB1aWRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSBhYm91dC5uYW1lO1xuICAgICAgICAgICAgbmFtZSA9IGBbJHtvd25lci5jb25zdHJ1Y3Rvci5uYW1lfSMke3VpZH1dYDtcbiAgICAgICAgICAgIGZpbmdlcnByaW50ID0gXCJqRmFjdG9yeVwiICsgXCJfXCIgKyBvd25lci5jb25zdHJ1Y3Rvci5uYW1lICsgXCJfXCIgKyB1aWQ7XG4gICAgICAgIH1cblxuICAgICAgICBKRmFjdG9yeU9iamVjdC5hc3NpZ24odGhpcywgLyoqIEBsZW5kcyBKRmFjdG9yeUFib3V0IyAqLyB7XG4gICAgICAgICAgICB1aWQsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgZmluZ2VycHJpbnRcbiAgICAgICAgfSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuRU5VTUVSQUJMRSk7XG5cbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBhYm91dCk7XG5cbiAgICAgICAgLy8gLS0tXG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUFib3V0Lm5hbWVcIiwgdGhpcy5uYW1lKVxuICAgICAgICAgICAgICAgIC5tYXRjaFJlZygvXltcXHdbXFxdI10rJC8pO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUFib3V0LmZpbmdlcnByaW50XCIsIHRoaXMuZmluZ2VycHJpbnQpXG4gICAgICAgICAgICAgICAgLm1hdGNoUmVnKC9eW1xcd10rJC8pO1xuICAgICAgICB9XG4gICAgfVxufSIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgeyBKRkFDVE9SWV9ERVYgfSBmcm9tIFwiLi9qRmFjdG9yeS1lbnZcIjtcbmltcG9ydCB7IEpGYWN0b3J5RXhwZWN0IH0gZnJvbSBcIi4vSkZhY3RvcnlFeHBlY3RcIjtcbmltcG9ydCB7IGpGYWN0b3J5RXJyb3IgfSBmcm9tIFwiLi9KRmFjdG9yeUVycm9yXCI7XG5pbXBvcnQgeyBqRmFjdG9yeVRyYWNlIH0gZnJvbSBcIi4vSkZhY3RvcnlUcmFjZVwiO1xuaW1wb3J0IHsgalF1ZXJ5LCBoZWxwZXJfaXNOYXRpdmUgfSBmcm9tIFwiLi9qRmFjdG9yeS1oZWxwZXJzXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlQcm9taXNlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFByb3ZpZGVzIGF3YWl0YWJsZSwgZXhwaXJhYmxlLCBkZWJ1Z2dhYmxlIHByb21pc2UgY2hhaW5zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogRXhwZXJpbWVudGFsIERyYWZ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gI2xpbWl0YXRpb24jIGFzeW5jIGZ1bmN0aW9ucyBhbHdheXMgdXNlIHRoZSBuYXRpdmUgUHJvbWlzZSBjb25zdHJ1Y3RvciBldmVuIGlmIG5hdGl2ZSBQcm9taXNlIGNsYXNzIGlzIG92ZXJyaWRkZW5cbi8vICNsaW1pdGF0aW9uIyBhc3luYyBmdW5jdGlvbnMgYWx3YXlzIHJldHVybnMgYSBuYXRpdmUgUHJvbWlzZSBldmVuIGlmIHJldHVybmluZyBhbiBleHRlbmRlZCBQcm9taXNlXG4vLyAjbGltaXRhdGlvbiMgYXN5bmMgZnVuY3Rpb25zIGFsd2F5cyByZXR1cm5zIGEgcGVuZGluZyBQcm9taXNlIGV2ZW4gaWYgcmV0dXJuaW5nIGEgcmVzb2x2ZWQgUHJvbWlzZVxuXG5jb25zdCBtb2R1bGVHZW5JZCA9ICgpID0+ICsrbW9kdWxlR2VuSWQudWlkOyBtb2R1bGVHZW5JZC51aWQgPSAwO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5UHJvbWlzZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeVByb21pc2UgZXh0ZW5kcyBQcm9taXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKHsgbmFtZSwgY29uZmlnLCB0cmFjZVNvdXJjZSB9LCBleGVjdXRvcikge1xuXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBbbmFtZSwgY29uZmlnLCBleGVjdXRvcl0gPSBbbnVsbCwgbnVsbCwgYXJndW1lbnRzWzBdXVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2hhaW5JZCA9IG1vZHVsZUdlbklkKCk7XG4gICAgICAgIGNvbmZpZyA9IHsgLi4uSkZhY3RvcnlQcm9taXNlLkRFRkFVTFRfQ09ORklHLCAuLi5jb25maWcgfTtcbiAgICAgICAgbmFtZSA9IG5hbWUgfHwgXCJ1bm5hbWVkXCI7XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJuYW1lXCIsIG5hbWUpXG4gICAgICAgICAgICAgICAgLnR5cGUoU3RyaW5nLCBOdW1iZXIpXG4gICAgICAgICAgICAgICAgLm1hdGNoUmVnKC9eW14uIF0rJC8pO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJjb25maWdcIiwgY29uZmlnKS50eXBlUGxhaW5PYmplY3QoKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiZXhlY3V0b3JcIiwgZXhlY3V0b3IpLnR5cGVGdW5jdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlc29sdmU7XG4gICAgICAgIGxldCByZWplY3Q7XG5cbiAgICAgICAgc3VwZXIoKF9yZXNvbHZlLCBfcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlID0gX3Jlc29sdmU7XG4gICAgICAgICAgICByZWplY3QgPSBfcmVqZWN0O1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBjaGFpbiA9IG5ldyBKRmFjdG9yeVByb21pc2VDaGFpbih0aGlzLCBjaGFpbklkLCBuYW1lLCBjb25maWcpO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgICAgICRjaGFpbjoge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGNoYWluXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJHR5cGU6IHtcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJwcm9taXNlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAkdmFsdWU6IHtcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJGlzU2V0dGxlZDoge1xuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICRpc1JlamVjdGVkOiB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAkaXNGdWxmaWxsZWQ6IHtcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICRpc0V4cGlyZWQ6IHtcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAkaXNBYm9ydGVkOiB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgICAgICAgICAkZGV2X25hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmFtZSArIFwiW1wiICsgY2hhaW5JZCArIFwiOjBdXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICRkZXZfcGF0aDoge1xuICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBKRmFjdG9yeVByb21pc2VQYXRoKHRoaXMpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAkZGV2X3Bvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFoZWxwZXJfaXNOYXRpdmUoZXhlY3V0b3IpKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICAgICAgICAgICAgICAkZGV2X3NvdXJjZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGV4ZWN1dG9yXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGpGYWN0b3J5VHJhY2UudHJhY2VyLmF0dGFjaFRyYWNlKHRoaXMsIHRyYWNlU291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRyeUF1dG9Db21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy4kY2hhaW4uaXNQZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kY2hhaW5Db21wbGV0ZShcImF1dG8tY29tcGxldGVkXCIpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FzZSBvZiBlcnJvciBpbiBcImNvbXBsZXRlXCIgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgY2F0Y2ggdGhlIGV4Y2VwdGlvbiBiZWNhdXNlIHRoZSBwcm9taXNlIGlzIGFscmVhZHkgZnVsZmlsbGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIEZ1cnRoZXJtb3JlIHRoaXMgaXNzdWUgbXVzdCBiZSBoYW5kbGVkIGJ5IHRoZSBjaGFpbiwgbm90IHRoZSBjdXJyZW50IHByb21pc2VcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKSAvLyBwcmludCB0aGUgZXJyb3Igb3RoZXJ3aXNlIG5vdGhpbmcgaGFwcGVuc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBvblJlc29sdmUgPSB2YWx1ZSA9PiB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnb25SZXNvbHZlJyx0aGlzLiRkZXZfbmFtZSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJGlzU2V0dGxlZCkge1xuICAgICAgICAgICAgICAgIC8vIDIuMy4xLiBJZiBwcm9taXNlIGFuZCB4IHJlZmVyIHRvIHRoZSBzYW1lIG9iamVjdCwgcmVqZWN0IHByb21pc2Ugd2l0aCBhIFR5cGVFcnJvciBhcyB0aGUgcmVhc29uLlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcykge1xuICAgICAgICAgICAgICAgICAgICBvblJlamVjdChuZXcgVHlwZUVycm9yKFwiQ2hhaW5pbmcgY3ljbGUgZGV0ZWN0ZWQgZm9yIHByb21pc2UgXCIgKyB0aGlzLiRkZXZfbmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHRoZW47XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgeCA9PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIDIuMy4zLjIuIElmIHJldHJpZXZpbmcgdGhlIHByb3BlcnR5IHgudGhlbiByZXN1bHRzIGluIGEgdGhyb3duIGV4Y2VwdGlvbiBlLFxuICAgICAgICAgICAgICAgICAgICAvLyByZWplY3QgcHJvbWlzZSB3aXRoIGUgYXMgdGhlIHJlYXNvbi5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZW4gPSB2YWx1ZS50aGVuO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhlbiA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVzb2x2ZVByb21pc2UgPSBmdW5jdGlvbih5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAyLjMuMy4zLjEuIElmL3doZW4gcmVzb2x2ZVByb21pc2UgaXMgY2FsbGVkIHdpdGggYSB2YWx1ZSB5LCBydW4gW1tSZXNvbHZlXV0ocHJvbWlzZSwgeSkuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZXNvbHZlKHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVqZWN0UHJvbWlzZSA9IGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDIuMy4zLjMuMi4gSWYvd2hlbiByZWplY3RQcm9taXNlIGlzIGNhbGxlZCB3aXRoIGEgcmVhc29uIHIsIHJlamVjdCBwcm9taXNlIHdpdGggci5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblJlamVjdChyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCByZXNvbHZlUHJvbWlzZSwgcmVqZWN0UHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgLy8gMi4zLjMuMy40LiBJZiBjYWxsaW5nIHRoZW4gdGhyb3dzIGFuIGV4Y2VwdGlvbiBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMi4zLjMuMy40LjEuIElmIHJlc29sdmVQcm9taXNlIG9yIHJlamVjdFByb21pc2UgaGF2ZSBiZWVuIGNhbGxlZCwgaWdub3JlIGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAyLjMuMy4zLjQuMi4gT3RoZXJ3aXNlLCByZWplY3QgcHJvbWlzZSB3aXRoIGUgYXMgdGhlIHJlYXNvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaXNSZWplY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpc0Z1bGZpbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiRpc0V4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy4kY2hhaW4uZXJyb3JFeHBpcmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBvblNldHRsZSh2YWx1ZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgb25SZWplY3QgPSByZWFzb24gPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ29uUmVqZWN0Jyx0aGlzLiRkZXZfbmFtZSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJGlzU2V0dGxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGlzUmVqZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuJGlzRnVsZmlsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHJlYXNvbik7XG4gICAgICAgICAgICAgICAgb25TZXR0bGUocmVhc29uKVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG9uU2V0dGxlID0gdmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy4kdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuJGlzU2V0dGxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLiRjaGFpbi5jaGFpbk1hcC5zZXQodGhpcywgdHJ1ZSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiRjaGFpbi5jaGFpbkNvbmZpZy5jaGFpbkF1dG9Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRjaGFpbi5jaGFpbk1hcC5zaXplID09PSAxICYmICF0aGlzLiRpc0V4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW5zdXJlcyB0aGF0IHRyeUF1dG9Db21wbGV0ZSgpIHdpbGwgYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5ICh0aGVuKCkgY2FsbGJhY2sgaXMgYXN5bmNocm9ub3VzKVxuICAgICAgICAgICAgICAgICAgICAvLyBjYXNlIG9mIHByb21pc2UucmVzb2x2ZShwcmltaXRpdmUpLCBwcmV2ZW50cyBmb2xsb3dpbmcgdGhlbigpIGZyb20gYmVpbmcgaW1tZWRpYXRlbHkgbG9ja2VkXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGhlbih0cnlBdXRvQ29tcGxldGUpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5QXV0b0NvbXBsZXRlKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IF9jaGFpbkF1dG9Db21wbGV0ZSA9IGNvbmZpZy5jaGFpbkF1dG9Db21wbGV0ZTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbmZpZywgXCJjaGFpbkF1dG9Db21wbGV0ZVwiLCB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+IF9jaGFpbkF1dG9Db21wbGV0ZSxcbiAgICAgICAgICAgIHNldDogdmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChfY2hhaW5BdXRvQ29tcGxldGUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jaGFpbkF1dG9Db21wbGV0ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeUF1dG9Db21wbGV0ZSgpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNoYWluLmNoYWluTWFwLnNldCh0aGlzLCBmYWxzZSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICAgICAgX19yZXNvbHZlX186IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogb25SZXNvbHZlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX19yZWplY3RfXzoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBvblJlamVjdFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZXhlY3V0b3Iob25SZXNvbHZlLCBvblJlamVjdCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIG9uUmVqZWN0KGUpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBmb3JjZVR5cGUpIHtcbiAgICAgICAgbGV0IHdyYXBwZWRGdWxmaWxsZWQ7XG4gICAgICAgIGxldCB3cmFwcGVkUmVqZWN0ZWQ7XG4gICAgICAgIGxldCBuZXdQcm9taXNlO1xuICAgICAgICBsZXQgaXNOYXRpdmUgPSBoZWxwZXJfaXNOYXRpdmUob25GdWxmaWxsZWQpICYmICFvbkZ1bGZpbGxlZC5uYW1lLnN0YXJ0c1dpdGgoXCJib3VuZCBcIik7XG5cbiAgICAgICAgaWYgKG9uRnVsZmlsbGVkICYmIHR5cGVvZiBvbkZ1bGZpbGxlZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB3cmFwcGVkRnVsZmlsbGVkID0gZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgICAgIC8vIFwiYXdhaXRcIiBtdXN0IGFsd2F5cyBydW4gdGhlIG5hdGl2ZSBoYW5kbGVyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwiYXdhaXRcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBTUEVDOiBcImF3YWl0XCIgdGhyb3dzIHRoZSBlcnJvckV4cGlyZWQgaWYgJGlzQWJvcnRlZCBpcyB0cnVlLlxuICAgICAgICAgICAgICAgICAgICAvLyBBbGxvd3MgYXN5bmMgZnVuY3Rpb24gdG8gdHJ5IGNhdGNoIHRoZSBhd2FpdGVkIGFib3J0ZWQgcHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAvLyBvciwgaWYgbm90IGNhdWdodCwgYnJlYWtzIGFuZCBpZ25vcmUgdGhlIHJlc3Qgb2YgdGhlIGFzeW5jIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3UHJvbWlzZS4kaXNBYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25SZWplY3RlZChuZXdQcm9taXNlLiRjaGFpbi5lcnJvckV4cGlyZWQpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25GdWxmaWxsZWQocilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgZG9uJ3QgY2FsbCB0aGUgaGFuZGxlciBpZiBleHBpcmVkXG4gICAgICAgICAgICAgICAgaWYgKCFuZXdQcm9taXNlLiRpc0V4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb21pc2UuJGlzU2V0dGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1Z2dlclxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvbkZ1bGZpbGxlZChyKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAob25SZWplY3RlZCAmJiB0eXBlb2Ygb25SZWplY3RlZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB3cmFwcGVkUmVqZWN0ZWQgPSBmdW5jdGlvbihyKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1Byb21pc2UuJGlzU2V0dGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXJcbiAgICAgICAgICAgICAgICAgICAgZGVidWdnZXJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaWYgKCFuZXdQcm9taXNlLiRpc1NldHRsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb25SZWplY3RlZChyKVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0eXBlID0gZm9yY2VUeXBlIHx8IChpc05hdGl2ZSA/IFwiYXdhaXRcIiA6IG9uRnVsZmlsbGVkID09PSB1bmRlZmluZWQgPyBcImNhdGNoXCIgOiBcInRoZW5cIik7XG4gICAgICAgIG5ld1Byb21pc2UgPSBPYmplY3QuYXNzaWduKHN1cGVyLnRoZW4od3JhcHBlZEZ1bGZpbGxlZCwgd3JhcHBlZFJlamVjdGVkKSwgdGhpcyk7XG4gICAgICAgIG1vZHVsZUdlbklkLnVpZC0tOyAvLyByZXZlcnNlIGJlY2F1c2Ugbm90IGEgbmV3IGNoYWluXG4gICAgICAgIG5ld1Byb21pc2UuJHR5cGUgPSB0eXBlO1xuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIG5ld1Byb21pc2UuJGRldl9wb3NpdGlvbiA9IHRoaXMuJGNoYWluLmNoYWluTWFwLnNpemU7XG4gICAgICAgICAgICBsZXQgZk5hbWVzID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChvbkZ1bGZpbGxlZCAmJiBvbkZ1bGZpbGxlZC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgZk5hbWVzICs9IG9uRnVsZmlsbGVkLm5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvblJlamVjdGVkICYmIG9uUmVqZWN0ZWQubmFtZSkge1xuICAgICAgICAgICAgICAgIGZOYW1lcyArPSBcIixcIiArIG9uUmVqZWN0ZWQubmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobmV3UHJvbWlzZSwge1xuICAgICAgICAgICAgICAgICRkZXZfbmFtZToge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGNoYWluLmNoYWluTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBcIltcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyB0aGlzLiRjaGFpbi5jaGFpbklkXG4gICAgICAgICAgICAgICAgICAgICAgICArIFwiOlwiXG4gICAgICAgICAgICAgICAgICAgICAgICArIHRoaXMuJGRldl9wb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgKyBcIl1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBcIi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBuZXdQcm9taXNlLiR0eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICArIChmTmFtZXMgPyBcIihcIiArIGZOYW1lcyArIFwiKVwiIDogXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCJbXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgbmV3UHJvbWlzZS4kY2hhaW4uY2hhaW5JZFxuICAgICAgICAgICAgICAgICAgICAgICAgKyBcIjpcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBuZXdQcm9taXNlLiRkZXZfcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCJdXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICRkZXZfcGF0aDogeyB2YWx1ZTogbmV3IEpGYWN0b3J5UHJvbWlzZVBhdGgodGhpcy4kZGV2X3BhdGgsIG5ld1Byb21pc2UpIH0sXG4gICAgICAgICAgICAgICAgJGRldl9vbkZ1bGZpbGxlZDogeyB2YWx1ZTogb25GdWxmaWxsZWQgfSxcbiAgICAgICAgICAgICAgICAkZGV2X29uUmVqZWN0ZWQ6IHsgdmFsdWU6IG9uUmVqZWN0ZWQgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBuZXdQcm9taXNlLiRjaGFpbi5jaGFpbk1hcC5zZXQobmV3UHJvbWlzZSwgZmFsc2UpO1xuXG4gICAgICAgIGlmICh0aGlzLiRpc0V4cGlyZWQpIHtcbiAgICAgICAgICAgIC8vIGNhc2U6IHAwLnRoZW4oKTsgY2hhaW5BYm9ydCgpOyBwMS50aGVuKClcbiAgICAgICAgICAgIC8vID0+IHRoZSBuZXcgcHJvbWlzZSBtdXN0IGJlIGV4cGlyZWRcbiAgICAgICAgICAgIC8vIGlmIHBhcmVudCBwcm9taXNlIGlzIGp1c3QgZXhwaXJlZCwgYWJvcnQgc2lsZW50bHlcbiAgICAgICAgICAgIC8vIGlmIHBhcmVudCBwcm9taXNlIGlzIGFib3J0ZWQsIGFib3J0IGV4cGxpY2l0bHlcbiAgICAgICAgICAgIEpGYWN0b3J5UHJvbWlzZS5zZXRFeHBpcmVkKG5ld1Byb21pc2UsIHRydWUsICF0aGlzLiRpc0Fib3J0ZWQsIHRoaXMuJGNoYWluLmVycm9yRXhwaXJlZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3UHJvbWlzZVxuICAgIH1cblxuICAgICRjYXRjaEV4cGlyZWQob25FeHBpcmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRoZW4ociA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy4kY2hhaW4uY2hhaW5Sb290LiRpc0V4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb25FeHBpcmVkKHIpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHVuZGVmaW5lZCwgXCIkY2F0Y2hFeHBpcmVkXCIpXG4gICAgfVxuXG4gICAgc3RhdGljIHJlc29sdmUob3B0aW9uYWxBcmdzLCB2YWx1ZSkge1xuICAgICAgICAvLyByZXNvbHZlKClcbiAgICAgICAgLy8gcmVzb2x2ZShvcHRpb25hbEFyZ3MsIHZhbHVlKVxuICAgICAgICAvLyByZXNvbHZlKHZhbHVlKVxuXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBbb3B0aW9uYWxBcmdzLCB2YWx1ZV0gPSBbe30sIG9wdGlvbmFsQXJnc11cbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdGlvbmFsQXJncykge1xuICAgICAgICAgICAgb3B0aW9uYWxBcmdzID0ge31cbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiB0aGlzICYmIGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIC8vIFJldHVybnMgdGhlIHByb21pc2UgYXMgaXMgKG5hdGl2ZSBzcGVjKVxuICAgICAgICAgICAgLy8gYnV0IG9ubHkgaWYgbm8gb3B0aW9uYWxBcmdzXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcyhvcHRpb25hbEFyZ3MsIGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHZhbHVlKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcmVqZWN0KG9wdGlvbmFsQXJncywgcmVhc29uKSB7XG4gICAgICAgIC8vIHJlamVjdCgpXG4gICAgICAgIC8vIHJlamVjdChvcHRpb25hbEFyZ3MsIHJlYXNvbilcbiAgICAgICAgLy8gcmVqZWN0KHJlYXNvbilcblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgW29wdGlvbmFsQXJncywgcmVhc29uXSA9IFt7fSwgb3B0aW9uYWxBcmdzXVxuICAgICAgICB9XG4gICAgICAgIGlmICghb3B0aW9uYWxBcmdzKSB7XG4gICAgICAgICAgICBvcHRpb25hbEFyZ3MgPSB7fVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyhvcHRpb25hbEFyZ3MsIGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgcmVqZWN0KHJlYXNvbilcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHRvUHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKVxuICAgIH1cblxuICAgIC8vIENvbXBsZXRlcyBhbiBleHBpcmVzIHRoZSB3aG9sZSBjaGFpbiBiZWZvcmUgaXRzIG5vcm1hbCBlbmRcbiAgICAvLyBTZXRzIHRoZSAkaXNBYm9ydGVkIHRvIHRydWUgb24gYWJvcnRlZCBwcm9taXNlc1xuICAgICRjaGFpbkFib3J0KHJlYXNvbiA9IFwiJGNoYWluQWJvcnQoKVwiKSB7XG4gICAgICAgIHRoaXMuJGNoYWluLmNvbXBsZXRlKHJlYXNvbiwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLy8gTWFudWFsbHkgY29tcGxldGVzIGFuIGV4cGlyZXMgdGhlIHdob2xlIGNoYWluXG4gICAgLy8gT25seSByZXF1aXJlZCBpZiBhd2FpdGluZyBcIm15UHJvbWlzZS4kY2hhaW5cIlxuICAgIC8vIHdoZW4gdGhlIGF1dG9jb21wbGV0ZSB3YXRjaGVyIGlzIG5vdCB1c2VkXG4gICAgJGNoYWluQ29tcGxldGUocmVhc29uID0gXCIkY2hhaW5Db21wbGV0ZSgpXCIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuJGNoYWluLmNvbXBsZXRlKHJlYXNvbiwgZmFsc2UpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIGpGYWN0b3J5RXJyb3IuSU5WQUxJRF9DQUxMKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuSU5WQUxJRF9DQUxMKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBlLiRkYXRhLnRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcIlRyeWluZyB0byBjb21wbGV0ZSBhIHBlbmRpbmcgY2hhaW4uIFVzZSAkY2hhaW5BYm9ydCgpIGlmIHlvdSB3YW50IHRvIHN0b3AgaXQuXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgJGNoYWluQXV0b0NvbXBsZXRlKCkge1xuICAgICAgICB0aGlzLiRjaGFpbi5jaGFpbkNvbmZpZy5jaGFpbkF1dG9Db21wbGV0ZSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgc3RhdGljIHNldEV4cGlyZWQocHJvbWlzZSwgYWJvcnQsIHNpbGVudCwgcmVhc29uKSB7XG4gICAgICAgIGlmICghcHJvbWlzZS4kaXNTZXR0bGVkKSB7XG4gICAgICAgICAgICBpZiAoYWJvcnQpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlLiRpc0Fib3J0ZWQgPSAhc2lsZW50O1xuICAgICAgICAgICAgICAgIHByb21pc2UuX19yZXNvbHZlX18ocmVhc29uKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuSU5WQUxJRF9DQUxMKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBwcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246IFwicHJvbWlzZSBtdXN0IGJlIGFib3J0ZWQgb3Igc2V0dGxlZCBiZWZvcmUgc2V0dGluZyBpdCB0byBleHBpcmVkLlwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvbWlzZS4kaXNFeHBpcmVkID0gdHJ1ZTtcbiAgICB9XG59XG5cbkpGYWN0b3J5UHJvbWlzZS5ERUZBVUxUX0NPTkZJRyA9IHtcbiAgICBjaGFpbkF1dG9Db21wbGV0ZTogZmFsc2Vcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlQcm9taXNlQ2hhaW5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlQcm9taXNlQ2hhaW4ge1xuXG4gICAgY29uc3RydWN0b3IoY2hhaW5Sb290LCBjaGFpbklkLCBjaGFpbk5hbWUsIGNoYWluQ29uZmlnKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgICAgIGNoYWluQ29uZmlnOiB7IHZhbHVlOiBjaGFpbkNvbmZpZyB9LFxuICAgICAgICAgICAgY2hhaW5Sb290OiB7IHZhbHVlOiBjaGFpblJvb3QgfSxcbiAgICAgICAgICAgIGNoYWluSWQ6IHsgdmFsdWU6IGNoYWluSWQgfSxcbiAgICAgICAgICAgIGNoYWluTmFtZTogeyB2YWx1ZTogY2hhaW5OYW1lIH0sXG4gICAgICAgICAgICBjaGFpbk1hcDogeyB2YWx1ZTogbmV3IE1hcCB9LFxuICAgICAgICAgICAgaXNDb21wbGV0ZWQ6IHsgdmFsdWU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWUgfSxcbiAgICAgICAgICAgIGRhdGE6IHsgdmFsdWU6IHt9IH0sXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbmV3LWNhcFxuICAgICAgICAgICAgX19kZWZlcnJlZF9fOiB7IHZhbHVlOiBqUXVlcnkuRGVmZXJyZWQoKSB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZ2V0IGlzUGVuZGluZygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jaGFpbk1hcC52YWx1ZXMoKSkuaW5jbHVkZXMoZmFsc2UpXG4gICAgfVxuXG4gICAgdGhlbihvblJlc29sdmUpIHsgLy8gPT4gXCJhd2FpdCBjaGFpblwiXG4gICAgICAgIHRoaXMuX19kZWZlcnJlZF9fLmRvbmUob25SZXNvbHZlKTtcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBjb21wbGV0ZShyZWFzb24gPSBcImNoYWluLmNvbXBsZXRlKClcIiwgYWJvcnQgKSB7XG4gICAgICAgIGxldCBjaGFpblJvb3QgPSB0aGlzLmNoYWluUm9vdDtcbiAgICAgICAgaWYgKCFjaGFpblJvb3QuJGlzRXhwaXJlZCkge1xuICAgICAgICAgICAgbGV0IGVycm9yRXhwaXJlZCA9IGNoYWluUm9vdC4kY2hhaW4uZXJyb3JFeHBpcmVkID0gbmV3IGpGYWN0b3J5RXJyb3IuUFJPTUlTRV9FWFBJUkVEKHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGNoYWluUm9vdCxcbiAgICAgICAgICAgICAgICByZWFzb25cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgbWFwID0gdGhpcy5jaGFpbk1hcDtcbiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgbWFwLmtleXMoKSkge1xuICAgICAgICAgICAgICAgIEpGYWN0b3J5UHJvbWlzZS5zZXRFeHBpcmVkKGl0ZW0sIGFib3J0LCBmYWxzZSwgZXJyb3JFeHBpcmVkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNDb21wbGV0ZWRcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHRoaXMuX19kZWZlcnJlZF9fLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeVByb21pc2VQYXRoXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5UHJvbWlzZVBhdGggZXh0ZW5kcyBBcnJheSB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgZm9yIChsZXQgaSBvZiBhcmd1bWVudHMpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoKC4uLmkpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaChpKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHByaW50YWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwKCh2LCBpKSA9PiBpID09PSAwID8gdi4kZGV2X25hbWUgOiB2LiRkZXZfbmFtZS5zcGxpdChcIi5cIilbMV0pLmpvaW4oXCIuXCIpXG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKSB7cmV0dXJuIHRoaXMucHJpbnRhYmxlfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5UHJvbWlzZVN5bmNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUHJvbWlzZSB0aGF0IHRyaWVzIHRvIHJlc29sdmUgc3luY2hyb25vdXNseVxuLy8gYWxsb3dpbmcgc3luY2hyb25vdXMgc3RhdGVzIGFuZCByZXN1bHRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlQcm9taXNlU3luYyBleHRlbmRzIFByb21pc2Uge1xuXG4gICAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcblxuICAgICAgICBsZXQgc3RhdGVzID0ge1xuICAgICAgICAgICAgJGlzU2V0dGxlZDogZmFsc2UsIC8vIHRydWUgPSBub3QgcGVuZGluZ1xuICAgICAgICAgICAgJGlzUmVqZWN0ZWQ6IG51bGwsIC8vIHRydWUgPSBub3QgcGVuZGluZyArIHJlamVjdGVkXG4gICAgICAgICAgICAkdmFsdWU6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuXG4gICAgICAgIHN1cGVyKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBsZXQgb25SZXNvbHZlID0gciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIEpGYWN0b3J5UHJvbWlzZVN5bmMucmVzb2x2ZShyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ob25SZXNvbHZlLCBvblJlamVjdClcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlcy4kaXNTZXR0bGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlcy4kaXNSZWplY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVzLiR2YWx1ZSA9IHI7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsZXQgb25SZWplY3QgPSByID0+IHtcbiAgICAgICAgICAgICAgICAvLyBkb24ndCByZXNvbHZlIHBlbmRpbmcgcHJvbWlzZVxuICAgICAgICAgICAgICAgIC8vIHRvIGtlZXAgbmF0aXZlIHNwZWNpZmljYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZXMuJGlzU2V0dGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlcy4kaXNSZWplY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlcy4kdmFsdWUgPSByO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QocilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGV4ZWN1dG9yKG9uUmVzb2x2ZSwgb25SZWplY3QpXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgb25SZWplY3QoZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBzdGF0ZXMpO1xuICAgICAgICBzdGF0ZXMgPSB0aGlzXG4gICAgfVxuXG4gICAgdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuXG4gICAgICAgIGlmICh0aGlzLiRpc1NldHRsZWQpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuJHZhbHVlO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRpc1JlamVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbmNlbCBhbnkgdW5jYXVnaHQgcmVqZWN0ZWQgcmVzdWx0IGZyb20gdGhpcyBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlZm9yZSByZXR1cm5pbmcgdGhlIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgc3VwZXIudGhlbih1bmRlZmluZWQsICgpID0+IG51bGwpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvblJlamVjdGVkICYmIHR5cGVvZiBvblJlamVjdGVkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gb25SZWplY3RlZCh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKRmFjdG9yeVByb21pc2VTeW5jLnJlamVjdCh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbkZ1bGZpbGxlZCAmJiB0eXBlb2Ygb25GdWxmaWxsZWQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBvbkZ1bGZpbGxlZCh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSkZhY3RvcnlQcm9taXNlU3luYy5yZWplY3QoZSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEpGYWN0b3J5UHJvbWlzZVN5bmMucmVzb2x2ZSh2YWx1ZSlcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBKRmFjdG9yeVByb21pc2VTeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEpGYWN0b3J5UHJvbWlzZVN5bmModmFsdWUudGhlbi5iaW5kKHZhbHVlKSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBKRmFjdG9yeVByb21pc2VTeW5jKHIgPT4gcih2YWx1ZSkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IEpGQUNUT1JZX0RFViB9IGZyb20gXCIuL2pGYWN0b3J5LWVudlwiO1xuaW1wb3J0IHsgSkZhY3RvcnlFeHBlY3QgfSBmcm9tIFwiLi9KRmFjdG9yeUV4cGVjdFwiO1xuaW1wb3J0IHsgSkZhY3RvcnlQcm9taXNlU3luYyB9IGZyb20gXCIuL0pGYWN0b3J5UHJvbWlzZVwiO1xuaW1wb3J0IHsgSkZhY3RvcnlGdW5jdGlvbkNvbXBvc2VyIH0gZnJvbSBcIi4vSkZhY3RvcnlGdW5jdGlvblwiO1xuaW1wb3J0IHsgakZhY3RvcnlFcnJvciB9IGZyb20gXCIuL0pGYWN0b3J5RXJyb3JcIjtcbmltcG9ydCB7IGpRdWVyeSwgaGVscGVyX2lzUGxhaW5PYmplY3QgfSBmcm9tIFwiLi9qRmFjdG9yeS1oZWxwZXJzXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlFdmVudHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gaHR0cHM6Ly9sZWFybi5qcXVlcnkuY29tL2V2ZW50cy9ldmVudC1leHRlbnNpb25zL1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlFdmVudHMge1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8galF1ZXJ5IGRvZXNuJ3QgaGFuZGxlIGFzeW5jIHRyaWdnZXIgc28gakZhY3RvcnkgcHJvdmlkZXMgdGhlIGZvbGxvd2luZyA6XG4gICAgLy9cbiAgICAvLyAtIHRyaWdnZXJQYXJhbGxlbCgpOiB0aGUgdHJpZ2dlciBmdW5jdGlvbiByZXR1cm5zIGEgUHJvbWlzZS5hbGwocGVuZGluZ0FycmF5KVxuICAgIC8vICAgd2hlcmUgcGVuZGluZ0FycmF5IGlzIGZpbGxlZCBieSBhbnkgYXN5bmMgcnVubmluZyBoYW5kbGVyLlxuICAgIC8vICAgTm90IHJlY29tbWVuZGVkIGJlY2F1c2UgaXQncyB0aGUgYmVzdCB3YXkgdG8gcHJvZHVjZSB1bnByZWRpY3RhYmxlIGFzeW5jIHNpZGUgZWZmZWN0c1xuICAgIC8vXG4gICAgLy8gLSB0cmlnZ2VyU2VyaWVzKCk6IGhhbmRsZXJzIGFyZSBydW4gaW4gYSBzeW5jaHJvbm91cyBvcmRlciwgd2l0aCBcImF3YWl0XCJcbiAgICAvLyAgIFRoaXMgYXZvaWRzIHVucHJlZGljdGFibGUgYXN5bmMgcmFjZSBjb25kaXRpb25cbiAgICAvL1xuICAgIC8vICBCb3RoIHJldHVybnMgYSBKRmFjdG9yeVByb21pc2VTeW5jIHRoYXQgY29udGFpbnMgdGhlIGpGYWN0b3J5X2Z1bGZpbGxlZCBmbGFnXG4gICAgLy8gIFRoaXMgZmxhZyBpcyBpbW1lZGlhdGVseSAobm90IGFzeW5jKSBzZXQgdG8gdHJ1ZSBpZiBubyBhc3luYyBoYW5kbGVyIGlzIHN0aWxsIHBlbmRpbmdcbiAgICAvL1xuICAgIC8vID0+IGhhbmRsZXJzIGFyZSB3cmFwcGVkLiBPcmlnaW5hbEhhbmRsZXJzIGFuZCB3cmFwcGVkSGFuZGxlcnMgcmVsYXRpb25zIGFyZSBzdG9yZWQgaW4gYSBXZWFrTWFwXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCAvKiogQGxlbmRzIEpGYWN0b3J5RXZlbnRzIyAqLyB7XG4gICAgICAgICAgICByZWdpc3RyeTogeyB2YWx1ZTogalF1ZXJ5KE9iamVjdC5jcmVhdGUobnVsbCkpIH0sXG4gICAgICAgICAgICBoYW5kbGVyczogeyB2YWx1ZTogbmV3IFdlYWtNYXAgfSxcbiAgICAgICAgICAgIG9uTGlzdGVuZXJVcGRhdGU6IHsgdmFsdWU6IG51bGwsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgICAgICAgICBvbk9ic2VydmVyVXBkYXRlOiB7IHZhbHVlOiBudWxsLCB3cml0YWJsZTogdHJ1ZSB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uKHsgZXZlbnRzLCBoYW5kbGVyLCB0YXJnZXQsIHNlbGVjdG9yIH0pIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFdmVudHMudmFsaWRhdGVTZWxlY3RvcihldmVudHMpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUV2ZW50cy5vbih7aGFuZGxlcn0pXCIsIGhhbmRsZXIpLnR5cGVGdW5jdGlvbigpO1xuICAgICAgICAgICAgdGFyZ2V0ICYmIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlFdmVudHMub24oe3RhcmdldH0pXCIsIHRhcmdldCkudHlwZShTdHJpbmcsIGpRdWVyeSwgSFRNTEVsZW1lbnQpO1xuICAgICAgICAgICAgc2VsZWN0b3IgJiYgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUV2ZW50cy5vbih7c2VsZWN0b3J9KVwiLCB0YXJnZXQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB3cmFwcGVkSGFuZGxlciA9IHRoaXMuaGFuZGxlcnMuZ2V0KGhhbmRsZXIpO1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBkb24ndCBuZWVkIHRvIHdyYXAgRE9NIGhhbmRsZXJzXG4gICAgICAgICAgICBpZiAoIXdyYXBwZWRIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVycy5zZXQoaGFuZGxlciwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkodGFyZ2V0KS5vbihldmVudHMsIHNlbGVjdG9yLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5KHRhcmdldCkub24oZXZlbnRzLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm9uTGlzdGVuZXJVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uTGlzdGVuZXJVcGRhdGUoYXJndW1lbnRzKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF3cmFwcGVkSGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGhhbmRsZXIsIHdyYXBwZWRIYW5kbGVyID0gZnVuY3Rpb24oZSwgeyBkYXRhLCBzdGFjayB9KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goKCkgPT4gaGFuZGxlcihlLCBkYXRhKSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB3cmFwcGVkSGFuZGxlci5vcmlnaW5hbEhhbmRsZXIgPSBoYW5kbGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5vbihldmVudHMsIHdyYXBwZWRIYW5kbGVyKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9uT2JzZXJ2ZXJVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uT2JzZXJ2ZXJVcGRhdGUoYXJndW1lbnRzKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb2ZmKHsgZXZlbnRzLCBoYW5kbGVyLCB0YXJnZXQsIHNlbGVjdG9yIH0pIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKSB7IC8vIG9mZigpIGlzIHZhbGlkXG4gICAgICAgICAgICAgICAgSkZhY3RvcnlFdmVudHMudmFsaWRhdGVTZWxlY3RvcihldmVudHMpO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIgJiYgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUV2ZW50cy5vZmYoe2hhbmRsZXJ9KVwiLCBoYW5kbGVyKS50eXBlRnVuY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB0YXJnZXQgJiYgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUV2ZW50cy5vZmYoe3RhcmdldH0pXCIsIHRhcmdldCkudHlwZShTdHJpbmcsIGpRdWVyeSwgSFRNTEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHNlbGVjdG9yICYmIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlFdmVudHMub2ZmKHtzZWxlY3Rvcn0pXCIsIHRhcmdldCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5KHRhcmdldCkub2ZmKGV2ZW50cywgc2VsZWN0b3IsIGhhbmRsZXIpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGpRdWVyeSh0YXJnZXQpLm9mZihldmVudHMsIGhhbmRsZXIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBqUXVlcnkoXCIqXCIpLm9mZihldmVudHMsIGhhbmRsZXIpO1xuXG4gICAgICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSB0aGlzLmhhbmRsZXJzLmdldChoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuSU5WQUxJRF9WQUxVRSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiaGFuZGxlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcIm5vdCByZWdpc3RlcmVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnaXZlbjogaGFuZGxlclxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVnaXN0cnkub2ZmKGV2ZW50cywgaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub25PYnNlcnZlclVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5vbk9ic2VydmVyVXBkYXRlKGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vbkxpc3RlbmVyVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLm9uTGlzdGVuZXJVcGRhdGUoYXJndW1lbnRzKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUnVuIGluIHBhcmFsbGVsLiBEb24ndCBcImF3YWl0XCIgZm9yIGFzeW5jIGhhbmRsZXJzXG4gICAgICogT2J2aW91c2x5IHByb2R1Y2VzIHVucHJlZGljdGFibGUgcmFjZSBjb25kaXRpb25zXG4gICAgICovXG4gICAgdHJpZ2dlclBhcmFsbGVsKHsgZXZlbnRzLCBkYXRhLCB0YXJnZXQgfSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZVNlbGVjdG9yKGV2ZW50cyk7XG4gICAgICAgICAgICB0YXJnZXRcbiAgICAgICAgICAgICAgICAmJiBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5RXZlbnRzLnRyaWdnZXJQYXJhbGxlbCh7dGFyZ2V0fSlcIiwgdGFyZ2V0KS50eXBlKFN0cmluZywgalF1ZXJ5LCBIVE1MRWxlbWVudClcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YWNrID0gW107XG4gICAgICAgIGNvbnN0IHBlbmRpbmcgPSBbXTtcbiAgICAgICAgZXZlbnRzID0gZXZlbnRzLnNwbGl0KFwiIFwiKTtcblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBldmVudCBvZiBldmVudHMpIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkodGFyZ2V0KS50cmlnZ2VyKGV2ZW50LCB7IGRhdGEsIHN0YWNrIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgZXZlbnQgb2YgZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS50cmlnZ2VySGFuZGxlcihldmVudCwgeyBkYXRhLCBzdGFjayB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaGFuZGxlciBvZiBzdGFjaykge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGhhbmRsZXIoKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlXG4gICAgICAgICAgICAgICAgJiYgIXJlc3VsdC4kaXNTZXR0bGVkIC8vIGRvbid0IG5lZWQgdG8gYXdhaXRcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHBlbmRpbmcucHVzaChyZXN1bHQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGVuZGluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEpGYWN0b3J5UHJvbWlzZVN5bmMucmVzb2x2ZSgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSdW4gaW4gZGVjbGFyYXRpb24gb3JkZXIgc3luY2hyb25vdXNseS4gV2lsbCBcImF3YWl0XCIgZm9yIGFzeW5jIGhhbmRsZXJzXG4gICAgICogUHJldmVudHMgdW5wcmVkaWN0YWJsZSByYWNlIGNvbmRpdGlvbnNcbiAgICAgKi9cbiAgICB0cmlnZ2VyU2VyaWVzKHsgZXZlbnRzLCBkYXRhLCB0YXJnZXQgfSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZVNlbGVjdG9yKGV2ZW50cyk7XG4gICAgICAgICAgICB0YXJnZXQgJiYgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUV2ZW50cy50cmlnZ2VyU2VyaWVzKHt0YXJnZXR9KVwiLCB0YXJnZXQpLnR5cGUoU3RyaW5nLCBqUXVlcnksIEhUTUxFbGVtZW50KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBKRmFjdG9yeVByb21pc2VTeW5jKGFzeW5jIHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICAgICAgICAgIGV2ZW50cyA9IGV2ZW50cy5zcGxpdChcIiBcIik7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBldmVudCBvZiBldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRhcmdldCkudHJpZ2dlcihldmVudCwgeyBkYXRhLCBzdGFjayB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGV2ZW50IG9mIGV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnRyaWdnZXJIYW5kbGVyKGV2ZW50LCB7IGRhdGEsIHN0YWNrIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBoYW5kbGVyIG9mIHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAmJiAhcmVzdWx0LiRpc1NldHRsZWQgLy8gZG9uJ3QgbmVlZCB0byBhd2FpdFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUV2ZW50c01hbmFnZXIgZXh0ZW5kcyBKRmFjdG9yeUV2ZW50cyB7XG4gICAgY29uc3RydWN0b3IocGFyZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgICAgIHBhcmVudDogeyB2YWx1ZTogcGFyZW50IH0sXG4gICAgICAgICAgICBhZmZpbGlhdGVSdWxlczogeyB2YWx1ZTogbmV3IEpGYWN0b3J5RnVuY3Rpb25Db21wb3NlcigpLmNvbXBvc2UoKSB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFmZmlsaWF0ZUFkZFJ1bGUoSkZhY3RvcnlFdmVudHNNYW5hZ2VyLnJ1bGVfbmFtZXNwYWNlKVxuICAgIH1cblxuICAgIGFmZmlsaWF0ZShldmVudHMgPSBcIlwiLCBuYW1lc3BhY2VzID0gXCJcIiwgb3B0aW9ucykge1xuICAgICAgICBsZXQgcGFyc2VyID0gbmV3IEpGYWN0b3J5RXZlbnRTZWxlY3RvclBhcnNlcihldmVudHMpO1xuICAgICAgICBmb3IgKGxldCBwYXJzZWRFdmVudCBvZiBwYXJzZXIuZXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmFmZmlsaWF0ZVJ1bGVzKHBhcnNlZEV2ZW50LCBuYW1lc3BhY2VzLCBvcHRpb25zKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZXIudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBhZmZpbGlhdGVBZGRSdWxlKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5hZmZpbGlhdGVSdWxlcy5jb21wb3Nlci5sYXN0KGhhbmRsZXIpXG4gICAgfVxuXG4gICAgc3RhdGljIHJ1bGVfbmFtZXNwYWNlKGNvbnRleHQsIHBhcnNlZEV2ZW50LCBuYW1lc3BhY2VzKSB7XG4gICAgICAgIG5hbWVzcGFjZXMgPSBuYW1lc3BhY2VzLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgZm9yIChsZXQgbmFtZXNwYWNlIG9mIG5hbWVzcGFjZXMpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSAmJiBwYXJzZWRFdmVudC5hZGROYW1lc3BhY2UobmFtZXNwYWNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uKGV2ZW50cywgdGFyZ2V0LCBzZWxlY3RvciwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgICAgICAvLyBPYnNlcnZlcnM6XG4gICAgICAgIC8vIGV2ZW50cywgaGFuZGxlclxuICAgICAgICAvLyBldmVudHMsIGhhbmRsZXIsIG9wdGlvbnNcblxuICAgICAgICAvLyBET00gRXZlbnRzOlxuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgaGFuZGxlclxuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgaGFuZGxlciwgb3B0aW9uc1xuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgc2VsZWN0b3IsIGhhbmRsZXIsXG4gICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBzZWxlY3RvciwgaGFuZGxlciwgb3B0aW9uc1xuXG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgaGFuZGxlclxuICAgICAgICAgICAgICAgIFtoYW5kbGVyLCB0YXJnZXRdID0gW3RhcmdldC8qLCB1bmRlZmluZWQqL107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMl0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgaGFuZGxlclxuICAgICAgICAgICAgICAgICAgICBbaGFuZGxlciwgc2VsZWN0b3JdID0gW3NlbGVjdG9yLyosIHVuZGVmaW5lZCovXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudHMsIGhhbmRsZXIsIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgW2hhbmRsZXIsIG9wdGlvbnMsIHRhcmdldCwgc2VsZWN0b3JdID0gW3RhcmdldCwgc2VsZWN0b3IvKiwgdW5kZWZpbmVkLCB1bmRlZmluZWQqL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzNdID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBoYW5kbGVyLCBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgIFtvcHRpb25zLCBoYW5kbGVyLCBzZWxlY3Rvcl0gPSBbaGFuZGxlciwgc2VsZWN0b3IvKiwgdW5kZWZpbmVkKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGV2ZW50cyA9IHRoaXMuYWZmaWxpYXRlKGV2ZW50cywgdGhpcy5wYXJlbnQuJC5hYm91dC5maW5nZXJwcmludCwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGFyZ2V0ID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgc3VwZXIub24oeyBldmVudHMsIGhhbmRsZXIgfSkgOlxuICAgICAgICAgICAgc3VwZXIub24oeyBldmVudHMsIHRhcmdldCwgc2VsZWN0b3IsIGhhbmRsZXIvKiwgb3B0aW9ucyovIH0pXG4gICAgfVxuXG4gICAgb2ZmKGV2ZW50cywgdGFyZ2V0LCBzZWxlY3RvciwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgICAgICAvLyBCb3RoOlxuICAgICAgICAvLyBldmVudHMgKGNhbiBiZSBuYW1lc3BhY2VzKVxuICAgICAgICAvLyBldmVudHMsIG9wdGlvbnNcbiAgICAgICAgLy8gb3B0aW9ucyAoY2FuIGJlIHJlbW92YWwpXG5cbiAgICAgICAgLy8gT2JzZXJ2ZXI6XG4gICAgICAgIC8vIGV2ZW50cywgaGFuZGxlclxuICAgICAgICAvLyBldmVudHMsIGhhbmRsZXIsIG9wdGlvbnNcblxuICAgICAgICAvLyBET00gRXZlbnRzOlxuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgaGFuZGxlclxuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgaGFuZGxlciwgb3B0aW9uc1xuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgc2VsZWN0b3JcbiAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yLCBoYW5kbGVyLFxuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgc2VsZWN0b3IsIGhhbmRsZXIsIG9wdGlvbnNcblxuICAgICAgICBjb25zdCBhcmdMID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgc3dpdGNoIChhcmdMKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICBbb3B0aW9ucywgZXZlbnRzXSA9IFtldmVudHMvKiwgdW5kZWZpbmVkKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBlbHNlIGV2ZW50cyAoY2FuIG5hbWVzcGFjZXMpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMV0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudHMsIGhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICAgW2hhbmRsZXIsIHRhcmdldF0gPSBbdGFyZ2V0LyosIHVuZGVmaW5lZCovXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhlbHBlcl9pc1BsYWluT2JqZWN0KGFyZ3VtZW50c1sxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnRzLCBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgIFtvcHRpb25zLCB0YXJnZXRdID0gW3RhcmdldC8qLCB1bmRlZmluZWQqL11cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZWxzZSBldmVudHMsIHRhcmdldFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzJdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIGhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICAgW2hhbmRsZXIsIHNlbGVjdG9yXSA9IFtzZWxlY3Rvci8qLCB1bmRlZmluZWQqL107XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnRzWzFdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnRzLCBoYW5kbGVyLCBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgIFtoYW5kbGVyLCBvcHRpb25zLCB0YXJnZXQsIHNlbGVjdG9yXSA9IFt0YXJnZXQsIHNlbGVjdG9yLyosIHVuZGVmaW5lZCwgdW5kZWZpbmVkKi9dO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBzZWxlY3RvclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1szXSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgaGFuZGxlciwgb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICBbb3B0aW9ucywgaGFuZGxlciwgc2VsZWN0b3JdID0gW2hhbmRsZXIsIHNlbGVjdG9yLyosIHVuZGVmaW5lZCovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBldmVudHMgPSB0aGlzLmFmZmlsaWF0ZShldmVudHMsIHRoaXMucGFyZW50LiQuYWJvdXQuZmluZ2VycHJpbnQsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChhcmdMIDwgMikge1xuICAgICAgICAgICAgc3VwZXIub2ZmKHsgZXZlbnRzIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0ID9cbiAgICAgICAgICAgICAgICBzdXBlci5vZmYoeyBldmVudHMsIHRhcmdldCwgc2VsZWN0b3IsIGhhbmRsZXIvKiwgb3B0aW9ucyovIH0pIDpcbiAgICAgICAgICAgICAgICBzdXBlci5vZmYoeyBldmVudHMsIGhhbmRsZXIgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRyaWdnZXIoZXZlbnRzLCB0YXJnZXQsIGRhdGEpIHtcbiAgICAgICAgLy8gZXZlbnRzXG4gICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0XG4gICAgICAgIC8vIGV2ZW50cywgZGF0YVxuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgZGF0YVxuXG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcIm9iamVjdFwiICYmICF0YXJnZXQuanF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgZGF0YVxuICAgICAgICAgICAgICAgICAgICBbZGF0YSwgdGFyZ2V0XSA9IFt0YXJnZXRdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXQgP1xuICAgICAgICAgICAgc3VwZXIudHJpZ2dlclNlcmllcyh7IGV2ZW50cywgdGFyZ2V0LCBkYXRhIH0pIDpcbiAgICAgICAgICAgIHN1cGVyLnRyaWdnZXJTZXJpZXMoeyBldmVudHMsIGRhdGEgfSlcbiAgICB9XG5cbiAgICB0cmlnZ2VyUGFyYWxsZWwoZXZlbnRzLCB0YXJnZXQsIGRhdGEpIHtcbiAgICAgICAgLy8gZXZlbnRzXG4gICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0XG4gICAgICAgIC8vIGV2ZW50cywgZGF0YVxuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgZGF0YVxuXG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcIm9iamVjdFwiICYmICF0YXJnZXQuanF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgZGF0YVxuICAgICAgICAgICAgICAgICAgICBbZGF0YSwgdGFyZ2V0XSA9IFt0YXJnZXRdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXQgP1xuICAgICAgICAgICAgc3VwZXIudHJpZ2dlclBhcmFsbGVsKHsgZXZlbnRzLCB0YXJnZXQsIGRhdGEgfSkgOlxuICAgICAgICAgICAgc3VwZXIudHJpZ2dlclBhcmFsbGVsKHsgZXZlbnRzLCBkYXRhIH0pXG4gICAgfVxuXG4gICAgLy8gI3Vub3B0aW1pemVkIGRyYWZ0I1xuICAgIC8vIEl0J3Mgbm90IGVhc3kgdG8ga2VlcCB0aGlzIGxpc3QgdXAgdG8gZGF0ZSBiZWNhdXNlOlxuICAgIC8vIC0gbGlzdGVuZXJzIGNhbiBiZSByZW1vdmVkIGJ5IGV4dGVybmFsIGRvbSBtdXRhdGlvbnNcbiAgICAvLyAtIGxpc3RlbmVycyBjYW4gYmUgZGVsZWdhdGVkXG4gICAgLy8gLSBvZmYoKSBtZXRob2QgY2FuIHJlbW92ZSBsaXN0ZW5lcnMgZ2xvYmFsbHlcbiAgICBnZXREb21MaXN0ZW5lcnMobmFtZXNwYWNlKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAobGV0IGVsbSBvZiBqUXVlcnkoXCIqXCIpKSB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IGpRdWVyeS5fZGF0YShlbG0sIFwiZXZlbnRzXCIpO1xuICAgICAgICAgICAgaWYgKGRhdGEpIHsvLyBkYXRhID0ge2NsaWNrOiBbe31dLCAuLi4gfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGVudHJpZXMgb2YgT2JqZWN0LnZhbHVlcyhkYXRhKSkgey8vIGVudHJpZXMgPSBbe3R5cGU6Li4ufV1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgZW50cmllcykgey8vIGVudHJ5ID0ge3R5cGUsIG5hbWVzcGFjZSwgaGFuZGxlciwgLi4ufVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcnNlciA9IG5ldyBKRmFjdG9yeUV2ZW50U2VsZWN0b3IoZW50cnkubmFtZXNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eXBlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZXIuaGFzTmFtZXNwYWNlKG5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0eXBlcyA9IHJlc3VsdC5nZXQoZWxtKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldChlbG0sIHR5cGVzID0ge30pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eXBlID0gdHlwZXNbZW50cnkudHlwZV0gfHwgKHR5cGVzW2VudHJ5LnR5cGVdID0gW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLmVudHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogZW50cnkuc2VsZWN0b3IgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogZW50cnkuaGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBlbnRyeS5uYW1lc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgLy8gI3Vub3B0aW1pemVkIGRyYWZ0I1xuICAgIGdldE9ic2VydmVycygpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBNYXAoKTtcbiAgICAgICAgbGV0IGV2ZW50cyA9IHRoaXMucmVnaXN0cnkuX2V2ZW50cztcblxuICAgICAgICBpZiAoIWV2ZW50cykge1xuICAgICAgICAgICAgbGV0IHJlZ2lzdHJ5ID0gT2JqZWN0LnZhbHVlcyh0aGlzLnJlZ2lzdHJ5KVswXTtcbiAgICAgICAgICAgIGxldCBleHBhbmRvID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocmVnaXN0cnkpLmZpbmQoayA9PiBrLmluZGV4T2YoXCJqUXVlcnlcIikgPT09IDApO1xuICAgICAgICAgICAgaWYgKHJlZ2lzdHJ5ICYmIGV4cGFuZG8pIHtcbiAgICAgICAgICAgICAgICBldmVudHMgPSB0aGlzLnJlZ2lzdHJ5Ll9ldmVudHMgPSByZWdpc3RyeVtleHBhbmRvXS5ldmVudHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50cykpIHtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnQgPSByZXN1bHQuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBldmVudCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc2V0KGtleSwgZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBldmVudFR5cGVFbnRyeSBvZiB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBldmVudFR5cGVFbnRyeS5oYW5kbGVyLm9yaWdpbmFsSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZTogZXZlbnRUeXBlRW50cnkubmFtZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5RXZlbnRTZWxlY3RvclBhcnNlciB7XG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3JzKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlU2VsZWN0b3Ioc2VsZWN0b3JzKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgQXJyYXk8SkZhY3RvcnlFdmVudFNlbGVjdG9yPlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ldmVudHMgPSBzZWxlY3RvcnMuc3BsaXQoXCIgXCIpLm1hcChzZWxlY3RvciA9PiBuZXcgSkZhY3RvcnlFdmVudFNlbGVjdG9yKHNlbGVjdG9yKSlcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgZXZlbnQgb2YgdGhpcy5ldmVudHMpIHtcbiAgICAgICAgICAgIHMucHVzaChldmVudC50b1N0cmluZygpKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzLmpvaW4oXCIgXCIpXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlFdmVudFNlbGVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xuICAgICAgICBsZXQgW2V2ZW50LCAuLi5uYW1lc3BhY2VdID0gc2VsZWN0b3Iuc3BsaXQoXCIuXCIpO1xuICAgICAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIHRoaXMubmFtZXNwYWNlID0gbmV3IFNldChuYW1lc3BhY2UpXG4gICAgfVxuXG4gICAgLyoqIEByZXR1cm4ge0Jvb2xlYW58U3RyaW5nfSAqL1xuICAgIGhhc05hbWVzcGFjZShuYW1lc3BhY2VzKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShuYW1lc3BhY2VzKSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlcyA9IFtuYW1lc3BhY2VzXVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IG5hbWVzcGFjZSBvZiBuYW1lc3BhY2VzKSB7XG4gICAgICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEvXltcXHc6XSskLy50ZXN0KG5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuSU5WQUxJRF9WQUxVRSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwibmFtZXNwYWNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IFwibXVzdCBiZSBhbHBoYW51bWVyaWMsIHVuZGVyc2NvcmUgYW5kIGNvbG9uIGNoYXJhY3RlcnNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGdpdmVuOiBuYW1lc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmFtZXNwYWNlICYmIHRoaXMubmFtZXNwYWNlLmhhcyhuYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hbWVzcGFjZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGFkZE5hbWVzcGFjZShuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgaWYgKCEvXltcXHc6XSskLy50ZXN0KG5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5JTlZBTElEX1ZBTFVFKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIm5hbWVzcGFjZVwiLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246IFwibXVzdCBiZSBhbHBoYW51bWVyaWMsIHVuZGVyc2NvcmUgYW5kIGNvbG9uIGNoYXJhY3RlcnNcIixcbiAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IG5hbWVzcGFjZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lc3BhY2UuYWRkKG5hbWVzcGFjZSlcbiAgICB9XG5cbiAgICBkZWxldGVOYW1lc3BhY2UobmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIGlmICghL15bXFx3Ol0rJC8udGVzdChuYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuSU5WQUxJRF9WQUxVRSh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJuYW1lc3BhY2VcIixcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcIm11c3QgYmUgYWxwaGFudW1lcmljLCB1bmRlcnNjb3JlIGFuZCBjb2xvbiBjaGFyYWN0ZXJzXCIsXG4gICAgICAgICAgICAgICAgICAgIGdpdmVuOiBuYW1lc3BhY2VcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZXNwYWNlLmRlbGV0ZShuYW1lc3BhY2UpXG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWVzcGFjZS5zaXplID8gdGhpcy5ldmVudCArIFwiLlwiICsgQXJyYXkuZnJvbSh0aGlzLm5hbWVzcGFjZS52YWx1ZXMoKSkuam9pbihcIi5cIikgOiB0aGlzLmV2ZW50O1xuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICBKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZVNlbGVjdG9yID0gZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZVNlbGVjdG9yKHNlbGVjdG9yKVwiLCBzZWxlY3RvcilcbiAgICAgICAgICAgICAgICAubm90VW5kZWZpbmVkKClcbiAgICAgICAgICAgICAgICAudmFsaWRTcGFjZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IFtldmVudCwgbnNdIG9mIHNlbGVjdG9yLnNwbGl0KFwiIFwiKVxuICAgICAgICAgICAgLm1hcCh2ID0+IHYuc3BsaXQoXCIuXCIpKVxuICAgICAgICAgICAgLm1hcCh2ID0+IFt2LnNoaWZ0KCksIHYuam9pbihcIi5cIildKSkge1xuICAgICAgICAgICAgZXZlbnQgJiYgSkZhY3RvcnlFdmVudHMudmFsaWRhdGVFdmVudChldmVudCk7XG4gICAgICAgICAgICBucyAmJiBKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZU5hbWVzcGFjZShucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9O1xuXG4gICAgSkZhY3RvcnlFdmVudHMudmFsaWRhdGVFdmVudCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlFdmVudHMudmFsaWRhdGVFdmVudChldmVudClcIiwgZXZlbnQpXG4gICAgICAgICAgICAgICAgLm5vdFVuZGVmaW5lZCgpXG4gICAgICAgICAgICAgICAgLm5vdEVtcHR5U3RyaW5nKClcbiAgICAgICAgICAgICAgICAudmFsaWRTcGFjZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghL15bXFx3Ol0rJC8udGVzdChldmVudCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfVkFMVUUoe1xuICAgICAgICAgICAgICAgIHRhcmdldDogXCJKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZUV2ZW50KGV2ZW50KVwiLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogXCJtdXN0IGJlIGFscGhhbnVtZXJpYywgdW5kZXJzY29yZSBhbmQgY29sb24gY2hhcmFjdGVyc1wiLFxuICAgICAgICAgICAgICAgIGdpdmVuOiBldmVudFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfTtcblxuICAgIEpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlTmFtZXNwYWNlID0gZnVuY3Rpb24obmFtZXNwYWNlKSB7IC8vIGV4OiBucy5uczIubnMzXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlFdmVudHMudmFsaWRhdGVOYW1lc3BhY2UobmFtZXNwYWNlKVwiLCBuYW1lc3BhY2UpXG4gICAgICAgICAgICAgICAgLm5vdFVuZGVmaW5lZCgpXG4gICAgICAgICAgICAgICAgLm5vdEVtcHR5U3RyaW5nKClcbiAgICAgICAgICAgICAgICAudmFsaWRTcGFjZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghL15bXFx3Oi5dKyQvLnRlc3QobmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuSU5WQUxJRF9WQUxVRSh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcIkpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlTmFtZXNwYWNlKG5hbWVzcGFjZSlcIixcbiAgICAgICAgICAgICAgICByZWFzb246IFwibXVzdCBiZSBhbHBoYW51bWVyaWMsIHVuZGVyc2NvcmUsIGRvdCBhbmQgY29sb24gY2hhcmFjdGVyc1wiLFxuICAgICAgICAgICAgICAgIGdpdmVuOiBuYW1lc3BhY2VcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH07XG59IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IEpGYWN0b3J5UHJvbWlzZSB9IGZyb20gXCIuL0pGYWN0b3J5UHJvbWlzZVwiO1xuaW1wb3J0IHsgakZhY3RvcnlFcnJvciB9IGZyb20gXCIuL0pGYWN0b3J5RXJyb3JcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeUZldGNoXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUZldGNoIGV4dGVuZHMgSkZhY3RvcnlQcm9taXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbmFsQXJncywgdXJsLCBmZXRjaE9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbmFsQXJncyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBzdXBlcihvcHRpb25hbEFyZ3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25hbEFyZ3MgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBbb3B0aW9uYWxBcmdzLCB1cmwsIGZldGNoT3B0aW9uc10gPSBbe30sIGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdXVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZmV0Y2hSZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLCBmZXRjaE9wdGlvbnMpO1xuXG4gICAgICAgICAgICBzdXBlcihvcHRpb25hbEFyZ3MsIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvbWlzZSA9IGZldGNoKGZldGNoUmVxdWVzdClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kY2hhaW4uZmV0Y2hSZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKHJlc3BvbnNlLnN0YXR1cyArIFwiOlwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZmV0Y2hPcHRpb25zLiR0eXBlVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ociA9PiB0aGlzLiRjaGFpbi5yZXNwb25zZVRleHQgPSByKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmV0Y2hPcHRpb25zLiR0eXBlSlNPTikge1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ociA9PiB0aGlzLiRjaGFpbi5yZXNwb25zZUpTT04gPSByKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS5jYXRjaChyZWFzb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5SRVFVRVNUX0VSUk9SKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogcmVhc29uLm1lc3NhZ2UgfHwgcmVhc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLiRjaGFpbi5mZXRjaFJlc3BvbnNlICYmIHRoaXMuJGNoYWluLmZldGNoUmVzcG9uc2UudXJsIHx8IHVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hSZXF1ZXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hSZXNwb25zZTogdGhpcy4kY2hhaW4uZmV0Y2hSZXNwb25zZSB8fCBudWxsXG4gICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbmFsQXJncy50cmFjZVNvdXJjZSlcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy4kY2hhaW4uZmV0Y2hPcHRpb25zID0gZmV0Y2hPcHRpb25zO1xuICAgICAgICAgICAgdGhpcy4kY2hhaW4uZmV0Y2hSZXF1ZXN0ID0gZmV0Y2hSZXF1ZXN0O1xuXG4gICAgICAgICAgICBsZXQgYWJvcnRDdHJsID0gZmV0Y2hPcHRpb25zLmFib3J0Q29udHJvbGxlciB8fCBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgICAgICBmZXRjaE9wdGlvbnMuc2lnbmFsID0gYWJvcnRDdHJsLnNpZ25hbDtcbiAgICAgICAgICAgIHRoaXMuJGNoYWluLmZldGNoQWJvcnRDb250cm9sbGVyID0gYWJvcnRDdHJsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgJGNoYWluQWJvcnQocmVhc29uID0gXCJyZXF1ZXN0IGFib3J0ZWRcIikge1xuICAgICAgICBzdXBlci4kY2hhaW5BYm9ydChyZWFzb24pO1xuICAgICAgICB0aGlzLiRjaGFpbi5mZXRjaEFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbn0iLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgSkZBQ1RPUllfREVWLCBKRkFDVE9SWV9DTEkgfSBmcm9tIFwiLi9qRmFjdG9yeS1lbnZcIjtcbmltcG9ydCB7IEpGYWN0b3J5RXhwZWN0IH0gZnJvbSBcIi4vSkZhY3RvcnlFeHBlY3RcIjtcbmltcG9ydCB7IGpGYWN0b3J5RnVuY3Rpb25Db25kaXRpb25hbCB9IGZyb20gXCIuL0pGYWN0b3J5RnVuY3Rpb25cIjtcbmltcG9ydCB7IGhlbHBlcl9kZWZhdWx0c0RlZXAsIE5PT1AgfSBmcm9tIFwiLi9qRmFjdG9yeS1oZWxwZXJzXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlMb2dnZXJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQSBjb250ZXh0dWFsIGxvZ2dlciB0aGF0IHByZXBlbmRzIGEgbGFiZWwgYW5kIGFsbG93cyBydW50aW1lIGZpbHRlcmluZyB3aGlsZSBwcmVzZXJ2aW5nIHRoZSBjYWxsZXIgbGluZSBudW1iZXJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gbG9nZ2VyLmNyZWF0ZVN1YkxvZ2dlcihsYWJlbCkgY3JlYXRlIGEgc3ViLWxvZ2dlciBvZiBsb2dnZXI7IFwibG9nZ2VyXCIgY2FuIGJlIGEgc3ViLWxvZ2dlci5cbi8vIGxvZ2dlci5kaXNhYmxlKCkgZGlzYWJsZSBjb25zb2xlIGZvciBpdHNlbGYgYW5kIHN1Yi1sb2dnZXJzXG4vLyBsb2dnZXIuZGlzYWxsb3coJ2xvZycpIGRpc2FsbG93IGxvZ2dlci5sb2coKSBvbmx5XG4vLyBsb2dnZXIuZGlzYWxsb3coJ2xvZycsIHN1YkxvZ2dlci5sYWJlbCkgZGlzYWxsb3cgc3ViLWxvZ2dlci5sb2coKSBvbmx5LiBUaGlzIGlzIGNhbGxhYmxlIGZyb20gYW55IGxvZ2dlci9zdWItbG9nZ2VyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1cyA6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5jb25zdCBTWU1CT0xfRU5BQkxFRCA9IFN5bWJvbCgpO1xuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlMb2dnZXIge1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWICYmIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlMb2dnZXIob3B0aW9ucylcIiwgb3B0aW9ucylcbiAgICAgICAgICAgICAgICAucHJvcGVydGllcyhPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhKRmFjdG9yeUxvZ2dlci5ERUZBVUxUX0NPTkZJRykpXG4gICAgICAgIH1cbiAgICAgICAgaGVscGVyX2RlZmF1bHRzRGVlcCh0aGlzLCBvcHRpb25zLCBKRmFjdG9yeUxvZ2dlci5ERUZBVUxUX0NPTkZJRyk7XG4gICAgICAgIHRoaXMuY29uZGl0aW9uID0gakZhY3RvcnlGdW5jdGlvbkNvbmRpdGlvbmFsKEpGYWN0b3J5TG9nZ2VyLkRFRkFVTFRfQ09ORElUSU9OKTtcbiAgICAgICAgdGhpcy5pbnN0YWxsQWNjZXNzb3IoXCJsb2dcIik7XG4gICAgICAgIHRoaXMuaW5zdGFsbEFjY2Vzc29yKFwid2FyblwiKTtcbiAgICAgICAgdGhpcy5pbnN0YWxsQWNjZXNzb3IoXCJlcnJvclwiKVxuICAgIH1cblxuICAgIGdldCBlbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpc1tTWU1CT0xfRU5BQkxFRF0gJiYgKHRoaXMucGFyZW50TG9nZ2VyID8gdGhpcy5wYXJlbnRMb2dnZXIuZW5hYmxlZCA6IHRydWUpXG4gICAgfVxuXG4gICAgc2V0IGVuYWJsZWQodikge1xuICAgICAgICB2ID8gdGhpcy5lbmFibGUoKSA6IHRoaXMuZGlzYWJsZSgpXG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICBpZiAodGhpc1tTWU1CT0xfRU5BQkxFRF0gIT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXNbU1lNQk9MX0VOQUJMRURdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIGlmICh0aGlzW1NZTUJPTF9FTkFCTEVEXSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXNbU1lNQk9MX0VOQUJMRURdID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNhbGxvdyhuYXRpdmVOYW1lLCBsYWJlbCA9IHRoaXMubGFiZWwpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZpbHRlcnNbbGFiZWxdKSB7dGhpcy5maWx0ZXJzW2xhYmVsXSA9IHt9fVxuICAgICAgICB0aGlzLmZpbHRlcnNbbGFiZWxdW25hdGl2ZU5hbWVdID0gdHJ1ZVxuICAgIH1cblxuICAgIGFsbG93KG5hdGl2ZU5hbWUsIGxhYmVsID0gdGhpcy5sYWJlbCkge1xuICAgICAgICBpZiAodGhpcy5maWx0ZXJzW2xhYmVsXSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZmlsdGVyc1tsYWJlbF1bbmF0aXZlTmFtZV1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluc3RhbGxBY2Nlc3NvcihuYXRpdmVOYW1lLCB0YXJnZXROYW1lID0gbmF0aXZlTmFtZSwgdGFyZ2V0ID0gdGhpcykge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5TG9nZ2VyKG5hdGl2ZU5hbWUpXCIsIG5hdGl2ZU5hbWUpLmVxdWFsSW4oW1wibG9nXCIsIFwid2FyblwiLCBcImVycm9yXCJdKTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHtcbiAgICAgICAgICAgIFt0YXJnZXROYW1lXToge1xuICAgICAgICAgICAgICAgIGdldDogdGhpcy5hY2Nlc3Nvci5iaW5kKHRoaXMsIG5hdGl2ZU5hbWUvKiwgdGFyZ2V0Ki8pLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGFjY2Vzc29yKG5hdGl2ZU5hbWUvKiwgdGFyZ2V0Ki8pIHtcbiAgICAgICAgaWYgKCF0aGlzW1NZTUJPTF9FTkFCTEVEXSkge1xuICAgICAgICAgICAgcmV0dXJuIE5PT1A7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZGl0aW9uKG5hdGl2ZU5hbWUpICYmIHRoaXMuZm9ybWF0dGVyW25hdGl2ZU5hbWVdKHRoaXMpIHx8IE5PT1BcbiAgICB9XG5cbiAgICBjcmVhdGVTdWJMb2dnZXIobGFiZWwpIHtcbiAgICAgICAgLyoqIEB0eXBlIEpGYWN0b3J5TG9nZ2VyICovXG4gICAgICAgIGxldCBzdWIgPSBuZXcgSkZhY3RvcnlMb2dnZXIoe1xuICAgICAgICAgICAgZW5hYmxlZDogdGhpcy5lbmFibGVkLFxuICAgICAgICAgICAgbGFiZWw6IHRoaXMubGFiZWwgKyBcIi5cIiArIGxhYmVsLFxuICAgICAgICAgICAgc3R5bGVzX2NzczogdGhpcy5zdHlsZXNfY3NzLFxuICAgICAgICAgICAgc3R5bGVzX2NsaTogdGhpcy5zdHlsZXNfY2xpLFxuICAgICAgICAgICAgY29uc29sZTogdGhpcy5jb25zb2xlLFxuICAgICAgICAgICAgZm9ybWF0dGVyOiB0aGlzLmZvcm1hdHRlclxuICAgICAgICB9KTtcbiAgICAgICAgc3ViLnBhcmVudExvZ2dlciA9IHRoaXM7XG4gICAgICAgIHN1Yi5jb25kaXRpb24uYWRkQ29uZGl0aW9uKCgpID0+IHRoaXMuZW5hYmxlZCk7XG4gICAgICAgIHN1Yi5maWx0ZXJzID0gdGhpcy5maWx0ZXJzOyAvLyBzaGFyZWQgdG8gYWxsb3cvZGlzYWxsb3cgZnJvbSBhbnl3aGVyZVxuICAgICAgICByZXR1cm4gc3ViXG4gICAgfVxufVxuXG4vLyAjbGltaXRhdGlvbiMgVG8gcHJlc2VydmUgdGhlIGxpbmUgbnVtYmVyLCB3ZSBjYW4gb25seSB1c2UgbmF0aXZlIGZ1bmN0aW9ucywgbGlrZSBiaW5kXG4vLyAjbGltaXRhdGlvbiMgQmVjYXVzZSB3ZSB1c2UgYmluZCgpLCBvbmx5IHRoZSBzdHlsZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBjYW4gYmUgZWZmaWNpZW50bHkgZGVmaW5lZFxuXG5KRmFjdG9yeUxvZ2dlci5GT1JNQVRURVJfTkFUSVZFID0ge1xuICAgIGxvZzogbG9nZ2VyID0+IGxvZ2dlci5jb25zb2xlLmxvZy5iaW5kKGxvZ2dlci5jb25zb2xlLCBsb2dnZXIubGFiZWwgKyBcIj5cIiksXG4gICAgd2FybjogbG9nZ2VyID0+IGxvZ2dlci5jb25zb2xlLndhcm4uYmluZChsb2dnZXIuY29uc29sZSwgbG9nZ2VyLmxhYmVsICsgXCI+XCIpLFxuICAgIGVycm9yOiBsb2dnZXIgPT4gbG9nZ2VyLmNvbnNvbGUuZXJyb3IuYmluZChsb2dnZXIuY29uc29sZSwgbG9nZ2VyLmxhYmVsICsgXCI+XCIpXG59O1xuXG5KRmFjdG9yeUxvZ2dlci5GT1JNQVRURVJfQ0xJID0ge1xuICAgIGxvZzogbG9nZ2VyID0+IGxvZ2dlci5jb25zb2xlLmxvZy5iaW5kKGxvZ2dlci5jb25zb2xlLCBsb2dnZXIuc3R5bGVzX2NsaS5sYWJlbCwgbG9nZ2VyLmxhYmVsICsgXCI+XCIpLFxuICAgIHdhcm46IGxvZ2dlciA9PiBsb2dnZXIuY29uc29sZS53YXJuLmJpbmQobG9nZ2VyLmNvbnNvbGUsIGxvZ2dlci5zdHlsZXNfY2xpLmxhYmVsLCBsb2dnZXIubGFiZWwgKyBcIj5cIiksXG4gICAgZXJyb3I6IGxvZ2dlciA9PiBsb2dnZXIuY29uc29sZS5lcnJvci5iaW5kKGxvZ2dlci5jb25zb2xlLCBsb2dnZXIuc3R5bGVzX2NsaS5sYWJlbCwgbG9nZ2VyLmxhYmVsICsgXCI+XCIpXG59O1xuXG5KRmFjdG9yeUxvZ2dlci5GT1JNQVRURVJfQlJPV1NFUiA9IHtcbiAgICBsb2c6IGxvZ2dlciA9PiBsb2dnZXIuY29uc29sZS5sb2cuYmluZChsb2dnZXIuY29uc29sZSwgXCIlY1wiICsgbG9nZ2VyLmxhYmVsICsgXCI+XCIsIGxvZ2dlci5zdHlsZXNfY3NzLmxhYmVsKSxcbiAgICB3YXJuOiBsb2dnZXIgPT4gbG9nZ2VyLmNvbnNvbGUud2Fybi5iaW5kKGxvZ2dlci5jb25zb2xlLCBcIiVjXCIgKyBsb2dnZXIubGFiZWwgKyBcIj5cIiwgbG9nZ2VyLnN0eWxlc19jc3MubGFiZWwpLFxuICAgIGVycm9yOiBsb2dnZXIgPT4gbG9nZ2VyLmNvbnNvbGUuZXJyb3IuYmluZChsb2dnZXIuY29uc29sZSwgXCIlY1wiICsgbG9nZ2VyLmxhYmVsICsgXCI+XCIsIGxvZ2dlci5zdHlsZXNfY3NzLmxhYmVsKVxufTtcblxuLyoqIEByZXR1cm4ge2Jvb2xlYW59ICovXG5KRmFjdG9yeUxvZ2dlci5ERUZBVUxUX0NPTkRJVElPTiA9IGZ1bmN0aW9uKG5hdGl2ZU5hbWUpIHtcbiAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlMb2dnZXIuY29uZGl0aW9uKG5hdGl2ZU5hbWUpXCIsIG5hdGl2ZU5hbWUpLmVxdWFsSW4oW1wibG9nXCIsIFwid2FyblwiLCBcImVycm9yXCJdKTtcbiAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUxvZ2dlci5lbmFibGVkXCIsIHRoaXMuZW5hYmxlZCkuZXF1YWwodHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiAhKHRoaXMuZmlsdGVyc1t0aGlzLmxhYmVsXSAmJiB0aGlzLmZpbHRlcnNbdGhpcy5sYWJlbF1bbmF0aXZlTmFtZV0pXG59O1xuXG5KRmFjdG9yeUxvZ2dlci5ERUZBVUxUX0NPTkZJRyA9IC8qKiBAbGVuZHMgSkZhY3RvcnlMb2dnZXIjICovIHtcbiAgICBsYWJlbDogXCJcIixcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIHBhcmVudExvZ2dlcjogbnVsbCxcbiAgICBmb3JtYXR0ZXI6IEpGQUNUT1JZX0NMSSA/XG4gICAgICAgIEpGYWN0b3J5TG9nZ2VyLkZPUk1BVFRFUl9DTEkgOlxuICAgICAgICBKRmFjdG9yeUxvZ2dlci5GT1JNQVRURVJfQlJPV1NFUixcbiAgICBjb25zb2xlLFxuICAgIGZpbHRlcnM6IHtcbiAgICB9LFxuICAgIHN0eWxlc19jbGk6IHtcbiAgICAgICAgbGFiZWw6IFwiXFx4MWJbMTszMG0lc1xceDFiWzBtXCJcbiAgICB9LFxuICAgIHN0eWxlc19jc3M6IHtcbiAgICAgICAgbGFiZWw6IFwiY29sb3I6IGdyYXlcIlxuICAgIH1cbn07IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlUaW1lXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeVRpbWUgZXh0ZW5kcyBEYXRlIHtcbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9Mb2NhbGVUaW1lU3RyaW5nKCkgKyBcIiwgXCIgKyB0aGlzLmdldFVUQ01pbGxpc2Vjb25kcygpICsgXCJtcyAoXCIgKyB0aGlzLnZhbHVlT2YoKSArIFwiKVwiXG4gICAgfVxuICAgICR0b0R1cmF0aW9uU3RyaW5nKCkge1xuICAgICAgICBsZXQgaG91cnMgPSB0aGlzLmdldFVUQ0hvdXJzKCk7XG4gICAgICAgIGxldCBtaW51dGVzID0gdGhpcy5nZXRVVENNaW51dGVzKCk7XG4gICAgICAgIGxldCBzZWNvbmRzID0gdGhpcy5nZXRVVENTZWNvbmRzKCk7XG4gICAgICAgIGxldCBtaWxsaXNlY29uZHMgPSB0aGlzLmdldFVUQ01pbGxpc2Vjb25kcygpO1xuXG4gICAgICAgIGxldCBhID0gW107XG4gICAgICAgIGlmIChob3Vycykge1xuICAgICAgICAgICAgYS5wdXNoKGhvdXJzICsgXCJoXCIpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1pbnV0ZXMpIHtcbiAgICAgICAgICAgIGEucHVzaChtaW51dGVzICsgXCJtaW5cIilcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Vjb25kcykge1xuICAgICAgICAgICAgYS5wdXNoKHNlY29uZHMgKyBcInNcIilcbiAgICAgICAgfVxuICAgICAgICBhLnB1c2gobWlsbGlzZWNvbmRzICsgXCJtc1wiKTtcbiAgICAgICAgaWYgKGEubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gYVswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBhLmpvaW4oXCIsXCIpICsgXCIgKFwiICsgdGhpcy52YWx1ZU9mKCkgKyBcIilcIjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5VGltZVRyYWNlIGV4dGVuZHMgRGF0ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZWxhcHNlZCA9IG51bGw7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgICAgIHQxOiB7IHZhbHVlOiBudWxsLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgICAgICAgICAgdDA6IHsgdmFsdWU6IG5ldyBKRmFjdG9yeVRpbWUoKSB9XG4gICAgICAgIH0pXG4gICAgfVxuICAgIGVuZCgpIHtcbiAgICAgICAgdGhpcy50MSA9IG5ldyBKRmFjdG9yeVRpbWUoKTtcbiAgICAgICAgdGhpcy5lbGFwc2VkID0gbmV3IEpGYWN0b3J5VGltZSh0aGlzLnQxIC0gdGhpcy50MCkuJHRvRHVyYXRpb25TdHJpbmcoKVxuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxhcHNlZFxuICAgIH1cbn0iLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0Q29yZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuaW1wb3J0IHsgSkZBQ1RPUllfREVWLCBqRmFjdG9yeUNvbmZpZyB9IGZyb20gXCIuL2pGYWN0b3J5LWVudlwiO1xuaW1wb3J0IHsgakZhY3RvcnlFcnJvciwgSkZhY3RvcnlFcnJvciB9IGZyb20gXCIuL0pGYWN0b3J5RXJyb3JcIjtcbmltcG9ydCB7IGpGYWN0b3J5IH0gZnJvbSBcIi4vakZhY3RvcnlcIjtcbmltcG9ydCB7IEpGYWN0b3J5RXhwZWN0IH0gZnJvbSBcIi4vSkZhY3RvcnlFeHBlY3RcIjtcbmltcG9ydCB7IEpGYWN0b3J5QWJvdXQgfSBmcm9tIFwiLi9KRmFjdG9yeUFib3V0XCI7XG5pbXBvcnQgeyBKRmFjdG9yeUxvZ2dlciB9IGZyb20gXCIuL0pGYWN0b3J5TG9nZ2VyXCI7XG5pbXBvcnQgeyBKRmFjdG9yeVByb21pc2UsIEpGYWN0b3J5UHJvbWlzZVN5bmMgfSBmcm9tIFwiLi9KRmFjdG9yeVByb21pc2VcIjtcbmltcG9ydCB7IEpGYWN0b3J5RXZlbnRzTWFuYWdlciB9IGZyb20gXCIuL0pGYWN0b3J5RXZlbnRzXCI7XG5pbXBvcnQgeyBKRmFjdG9yeU9iamVjdCB9IGZyb20gXCIuL0pGYWN0b3J5T2JqZWN0XCI7XG5pbXBvcnQgeyBKRmFjdG9yeVRpbWVUcmFjZSB9IGZyb20gXCIuL0pGYWN0b3J5VGltZVwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0IE9iamVjdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBUcmFpdENvcmUge1xuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBvd25lciA9IHRoaXM7XG5cbiAgICAgICAgY2xhc3MgU3ViTWFwIGV4dGVuZHMgTWFwIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBzdXBlciguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpZF9hdXRvaW5jXCIsIHsgdmFsdWU6IDAsIHdyaXRhYmxlOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHJlZ2lzdGVyU3luYyhrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN1YiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHt9LCB7XG4gICAgICAgICAgICAgICAgICAgICR2YWx1ZTogeyB2YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAkcGhhc2VSZW1vdmU6IHsgdmFsdWU6IFRyYWl0U2VydmljZS5nZXRDb250ZXh0dWFsUmVtb3ZlUGhhc2Uob3duZXIpIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChrZXksIHN1Yik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHJlZ2lzdGVyQXN5bmMoa2V5LCB0YXNrTmFtZSwgcHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGxldCB0YXNrID0gb3duZXIuJHRhc2sodGFza05hbWUsIHByb21pc2UuJGNoYWluKTtcblxuICAgICAgICAgICAgICAgIC8vIEVuZCBvZiBwcm9taXNlIGNoYWluIG11c3QgY29tcGxldGUgdGhlIHRhc2tcbiAgICAgICAgICAgICAgICBwcm9taXNlLiRjaGFpbi50aGVuKCgpID0+IHsgLy8gc3luY2hyb25vdXMgdGhlblxuICAgICAgICAgICAgICAgICAgICAvLyB0YXNrLiRjaGFpbkNvbXBsZXRlKFwidGFzayBjb21wbGV0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgdGFzay4kY2hhaW5BdXRvQ29tcGxldGUoKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gQWJvcnRlZCB0YXNrIG11c3QgYWJvcnQgdGhlIHByb21pc2UgaWYgc3RpbGwgcnVubmluZ1xuICAgICAgICAgICAgICAgIHRhc2suJGNoYWluLnRoZW4oKCkgPT4gey8vIHN5bmNocm9ub3VzIHRoZW5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9taXNlLiRjaGFpbi5pc0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS4kY2hhaW5BYm9ydChcImFib3J0ZWQgYnkgdGFza1wiKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCIkcGhhc2VSZW1vdmVcIiwgeyB2YWx1ZTogdGFzay4kcGhhc2VSZW1vdmUgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCBwcm9taXNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFza1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkaWRfcmVzb2x2ZShzdHIpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RyLmluZGV4T2YoXCI/XCIpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlkID0gKyt0aGlzLmlkX2F1dG9pbmM7XG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9cXD8vZywgaWQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCB7XG4gICAgICAgICAgICBbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXTogT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgICAgICAgIGFzc2lnbjogZnVuY3Rpb24ocHJvcGVydHksIHZhbHVlLCBkZXNjcmlwdG9yKSB7SkZhY3RvcnlPYmplY3QuYXNzaWduKHRoaXMsIHByb3BlcnR5LCB2YWx1ZSwgZGVzY3JpcHRvcil9LFxuICAgICAgICAgICAgY3JlYXRlU3ViTWFwOiAoKSA9PiBuZXcgU3ViTWFwKClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiJFwiLCB7IHZhbHVlOiBPYmplY3QuY3JlYXRlKHByb3RvKSB9KTtcblxuICAgICAgICAvLyBwcmUtZGVmaW5lIG1vc3QgaW1wb3J0YW50IHByb3BlcnRpZXNcbiAgICAgICAgLy8gdG8gb3JkZXIgdGhlbSBmaXJzdCBpbiBkZXZ0b29sIChyZWR1Y2VkIGZvcm0gb25seSlcbiAgICAgICAgdGhpcy4kLmFzc2lnbih7XG4gICAgICAgICAgICB0YXNrczogbnVsbCxcbiAgICAgICAgICAgIHJlcXVlc3RzOiBudWxsXG4gICAgICAgIH0sIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLkVOVU1FUkFCTEVfV1JJVEFCTEUpO1xuICAgIH1cbn1cblxuVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFID0gU3ltYm9sKFwiX1wiKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBBYm91dFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBUcmFpdEFib3V0IHtcblxuICAgIHRyYWl0X2NvbnN0cnVjdG9yKGFib3V0KSB7XG4gICAgICAgIEpGYWN0b3J5T2JqZWN0LmFzc2lnbih0aGlzLiQsIFwiYWJvdXRcIixcbiAgICAgICAgICAgIG5ldyBKRmFjdG9yeUFib3V0KHRoaXMsIGFib3V0KSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuUkVBRE9OTFkpXG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0IExvZ1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBUcmFpdExvZyB7XG5cbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgbGV0IGNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgbGFiZWw6IHRoaXMuJC5hYm91dC5uYW1lXG4gICAgICAgIH0sIGpGYWN0b3J5Q29uZmlnLlRyYWl0TG9nIHx8IHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBsb2dnZXIgPSBuZXcgSkZhY3RvcnlMb2dnZXIoY29uZmlnKTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy4kLCBcImxvZ2dlclwiLCB7IHZhbHVlOiBsb2dnZXIgfSk7XG5cbiAgICAgICAgbG9nZ2VyLmluc3RhbGxBY2Nlc3NvcihcImxvZ1wiLCAgIFwiJGxvZ1wiLCAgICAgdGhpcyk7XG4gICAgICAgIGxvZ2dlci5pbnN0YWxsQWNjZXNzb3IoXCJ3YXJuXCIsICBcIiRsb2dXYXJuXCIsIHRoaXMpO1xuICAgICAgICBsb2dnZXIuaW5zdGFsbEFjY2Vzc29yKFwiZXJyb3JcIiwgXCIkbG9nRXJyXCIsICB0aGlzKTtcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgVGFza3Ncbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRUYXNrIHtcblxuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLiQuYXNzaWduKFwidGFza3NcIiwgdGhpcy4kLmNyZWF0ZVN1Yk1hcCgpLCBKRmFjdG9yeU9iamVjdC5kZXNjcmlwdG9ycy5FTlVNRVJBQkxFKTtcbiAgICB9XG5cbiAgICAkdGFzayhpZCwgZXhlY3V0b3JPclZhbHVlKSB7XG4gICAgICAgIGlkID0gdGhpcy4kLnRhc2tzLiRpZF9yZXNvbHZlKGlkKTtcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiR0YXNrKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkdGFzayhleGVjdXRvck9yVmFsdWUpXCIsIGV4ZWN1dG9yT3JWYWx1ZSkubm90VW5kZWZpbmVkKCk7XG4gICAgICAgICAgICBpZiAodGhpcy4kLnRhc2tzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfRFVQTElDQVRFRCh7IHRhcmdldDogXCIkdGFzayhpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGFzaztcblxuICAgICAgICBpZiAodHlwZW9mIGV4ZWN1dG9yT3JWYWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0YXNrICA9IG5ldyBKRmFjdG9yeVByb21pc2UoeyBuYW1lOiBpZCwgb3duZXI6IHRoaXMgfSwgZXhlY3V0b3JPclZhbHVlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFzayA9IEpGYWN0b3J5UHJvbWlzZS5yZXNvbHZlKHsgbmFtZTogaWQsIG93bmVyOiB0aGlzIH0sIGV4ZWN1dG9yT3JWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0YXNrLiRwaGFzZVJlbW92ZSA9IFRyYWl0U2VydmljZS5nZXRDb250ZXh0dWFsUmVtb3ZlUGhhc2UodGhpcyk7XG5cbiAgICAgICAgbGV0IG1ldHJpY3M7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIG1ldHJpY3MgPSBuZXcgSkZhY3RvcnlUaW1lVHJhY2UoKTtcbiAgICAgICAgICAgIHRhc2suJHRhc2tNZXRyaWNzID0geyAkZGV2X3RpbWluZzogbWV0cmljcyB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGFzay4kY2hhaW4udGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICAgICAgbWV0cmljcy5lbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLiQudGFza3MuZ2V0KGlkKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHRhc2tSZW1vdmUoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiQudGFza3Muc2V0KGlkLCB0YXNrKTtcbiAgICAgICAgcmV0dXJuIHRhc2tcbiAgICB9XG5cbiAgICAkdGFza1JlbW92ZShpZCwgcmVhc29uKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJHRhc2tSZW1vdmUoaWQpXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICByZWFzb24gJiYgSkZhY3RvcnlFeHBlY3QoXCIkdGFza1JlbW92ZShyZWFzb24pXCIsIHJlYXNvbikudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiQudGFza3MuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9NSVNTSU5HKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIiR0YXNrUmVtb3ZlKGlkKVwiLFxuICAgICAgICAgICAgICAgICAgICBnaXZlbjogaWRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyXG4gICAgICAgICAgICBpZiAodGhpcy4kLnRhc2tzLmdldChpZCkuX2NhbGxlZCkge2RlYnVnZ2VyfVxuICAgICAgICAgICAgdGhpcy4kLnRhc2tzLmdldChpZCkuX2NhbGxlZCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlbnRyeSA9IHRoaXMuJC50YXNrcy5nZXQoaWQpO1xuICAgICAgICAvLyBkZWxldGluZyBiZWZvcmUgY2hhaW5BYm9ydCgpIHRvIHByZXZlbnQgcmVtb3ZlKCkgcmVjYWxsXG4gICAgICAgIHRoaXMuJC50YXNrcy5kZWxldGUoaWQpO1xuICAgICAgICBlbnRyeS4kY2hhaW5BYm9ydChyZWFzb24gfHwgXCIkdGFza1JlbW92ZSgpXCIpO1xuICAgIH1cblxuICAgICR0YXNrUmVtb3ZlQWxsKHJlbW92ZVBoYXNlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJHRhc2tSZW1vdmVBbGwocmVtb3ZlUGhhc2UpXCIsIHJlbW92ZVBoYXNlKVxuICAgICAgICAgICAgICAgIC5lcXVhbEluKFRyYWl0U2VydmljZS5QSEFTRVMpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRhc2tzID0gdGhpcy4kLnRhc2tzO1xuICAgICAgICBpZiAodGFza3Muc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB0YXNrXSBvZiB0YXNrcykge1xuICAgICAgICAgICAgICAgIGlmICh0YXNrLiRwaGFzZVJlbW92ZSA9PT0gcmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGFza1JlbW92ZShrZXksIFwiJHRhc2tSZW1vdmVBbGwoXCIgKyByZW1vdmVQaGFzZSArIFwiKVwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgICR0YXNrUHJvbWlzZUFsbChhdXRvQ29tcGxldGUgPSBmYWxzZSkge1xuICAgICAgICBsZXQgcGVuZGluZyA9IFtdO1xuICAgICAgICBpZiAodGhpcy4kLnRhc2tzLnNpemUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHRhc2sgb2YgdGhpcy4kLnRhc2tzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF1dG9Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZXNvbHZlcyB0aGUgY2hhaW4gYXMgc29vbiBhcyBubyBtb3JlIHBlbmRpbmcgcHJvbWlzZSBpbiB0aGUgY2hhaW5cbiAgICAgICAgICAgICAgICAgICAgdGFzay4kY2hhaW4uY2hhaW5Db25maWcuY2hhaW5BdXRvQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzdGlsbCBwZW5kaW5nID9cbiAgICAgICAgICAgICAgICBpZiAodGFzay4kY2hhaW4uaXNQZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmcucHVzaCh0YXNrLiRjaGFpbilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBlbmRpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gSkZhY3RvcnlQcm9taXNlU3luYy5yZXNvbHZlKClcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBFdmVudHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRFdmVudHMge1xuXG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGFzc2lnblByaXZhdGUodGhpcywgXCJldmVudHNcIiwge1xuICAgICAgICAgICAgY3VzdG9tOiBuZXcgSkZhY3RvcnlFdmVudHNNYW5hZ2VyKHRoaXMpLFxuICAgICAgICAgICAga2VybmVsOiBuZXcgSkZhY3RvcnlFdmVudHNNYW5hZ2VyKHRoaXMpXG4gICAgICAgIH0sIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLk5PTkUpO1xuXG4gICAgICAgIGxldCBldmVudE1hbmFnZXIgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMuY3VzdG9tO1xuXG4gICAgICAgIC8vIGlmIChKRkFDVE9SWV9ERVYpIHsgLy8gdmVyeSBzbG93OyByZXF1aXJlcyBvcHRpbWl6YXRpb25cbiAgICAgICAgLy8gICAgIC8vIHJlZ2lzdHJ5IGFyZSBhdXRvIHVwZGF0ZWQgaW4gZGV2IG1vZGUgKHVub3B0aW1pemVkIGltcGxlbWVudGF0aW9uKVxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgbGV0IGxpc3RlbmVyVXBkYXRlID0gKCkgPT4ge1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuJC5saXN0ZW5lcnMgPSBldmVudE1hbmFnZXIuZ2V0RG9tTGlzdGVuZXJzKHRoaXMuJC5hYm91dC5maW5nZXJwcmludCk7XG4gICAgICAgIC8vICAgICB9O1xuICAgICAgICAvLyAgICAgbGV0IG9ic2VydmVyVXBkYXRlID0gKCkgPT4ge1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuJC5vYnNlcnZlcnMgPSBldmVudE1hbmFnZXIuZ2V0T2JzZXJ2ZXJzKCk7XG4gICAgICAgIC8vICAgICB9O1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgZXZlbnRNYW5hZ2VyLm9uTGlzdGVuZXJVcGRhdGUgPSBsaXN0ZW5lclVwZGF0ZTtcbiAgICAgICAgLy8gICAgIGV2ZW50TWFuYWdlci5vbk9ic2VydmVyVXBkYXRlID0gb2JzZXJ2ZXJVcGRhdGU7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihsaXN0ZW5lclVwZGF0ZSk7XG4gICAgICAgIC8vICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwge2NoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZX0pO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgbGlzdGVuZXJVcGRhdGUoKTtcbiAgICAgICAgLy8gICAgIG9ic2VydmVyVXBkYXRlKCk7XG4gICAgICAgIC8vIH0gZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLiQsIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBldmVudE1hbmFnZXIuZ2V0RG9tTGlzdGVuZXJzLmJpbmQoZXZlbnRNYW5hZ2VyLCB0aGlzLiQuYWJvdXQuZmluZ2VycHJpbnQpLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvYnNlcnZlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBldmVudE1hbmFnZXIuZ2V0T2JzZXJ2ZXJzLmJpbmQoZXZlbnRNYW5hZ2VyKSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkb24oLyogZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yLCBoYW5kbGVyLCBvcHRpb25zICovKSB7XG4gICAgICAgIHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5jdXN0b20ub24oLi4uYXJndW1lbnRzKVxuICAgIH1cblxuICAgICRvZmYoLyogZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yLCBoYW5kbGVyLCBvcHRpb25zICovKSB7XG4gICAgICAgIHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5jdXN0b20ub2ZmKC4uLmFyZ3VtZW50cylcbiAgICB9XG5cbiAgICAkdHJpZ2dlcigvKiBldmVudHMsIHRhcmdldCwgZGF0YSAqLykge1xuICAgICAgICByZXR1cm4gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmN1c3RvbS50cmlnZ2VyKC4uLmFyZ3VtZW50cylcbiAgICB9XG5cbiAgICAkdHJpZ2dlclBhcmFsbGVsKC8qIGV2ZW50cywgdGFyZ2V0LCBkYXRhICovKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMuY3VzdG9tLnRyaWdnZXJQYXJhbGxlbCguLi5hcmd1bWVudHMpXG4gICAgfVxuXG4gICAgJG5vdGlmeShldmVudHMsIGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHRyaWdnZXIoZXZlbnRzLCBkYXRhKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmtlcm5lbC50cmlnZ2VyKGV2ZW50cywgZGF0YSkpXG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0IFN0YXRlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBUcmFpdFN0YXRlIHtcblxuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBzdGF0ZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBjb25zdCBzdGF0ZVJvdXRlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGNvbnN0IGtlcm5lbCA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5rZXJuZWw7XG5cbiAgICAgICAgYXNzaWduUHJpdmF0ZSh0aGlzLCB7IHN0YXRlcywgc3RhdGVSb3V0ZXMgfSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuUkVBRE9OTFkpO1xuXG4gICAgICAgIEpGYWN0b3J5T2JqZWN0LmFzc2lnbih0aGlzLiQsIFwic3RhdGVzXCIsIG5ldyBQcm94eShzdGF0ZXMsIHtcbiAgICAgICAgICAgIHNldDogKHRhcmdldCwga2V5LCB2YWwpID0+IHRoaXMuJHN0YXRlKGtleSwgdmFsKSxcbiAgICAgICAgICAgIGdldDogKHRhcmdldCwga2V5KSA9PiBzdGF0ZXNba2V5XVxuICAgICAgICB9KSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuUkVBRE9OTFkpO1xuXG4gICAgICAgIGtlcm5lbC5vbihcImJlZm9yZVN0YXRlQ2hhbmdlXCIsIChlLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICBsZXQgaDtcbiAgICAgICAgICAgIGlmIChzdGF0ZVJvdXRlc1tkYXRhLmtleV0gJiYgc3RhdGVSb3V0ZXNbZGF0YS5rZXldLmJlZm9yZVxuICAgICAgICAgICAgICAgICYmIChoID0gc3RhdGVSb3V0ZXNbZGF0YS5rZXldLmJlZm9yZShkYXRhLnZhbCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG5vdGlmeShoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAga2VybmVsLm9uKFwiYWZ0ZXJTdGF0ZUNoYW5nZVwiLCAoZSwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgbGV0IGg7XG4gICAgICAgICAgICBpZiAoc3RhdGVSb3V0ZXNbZGF0YS5rZXldICYmIHN0YXRlUm91dGVzW2RhdGEua2V5XS5hZnRlclxuICAgICAgICAgICAgICAgICYmIChoID0gc3RhdGVSb3V0ZXNbZGF0YS5rZXldLmFmdGVyKGRhdGEudmFsKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kbm90aWZ5KGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkc3RhdGUoa2V5LCB2YWwsIG5vdGlmeSA9IHRydWUpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkc3RhdGUoa2V5KVwiLCBrZXkpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJHN0YXRlKG5vdGlmeSlcIiwgbm90aWZ5KS50eXBlQm9vbGVhbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBKRmFjdG9yeVByb21pc2VTeW5jKGFzeW5jIHJlc29sdmUgPT4ge1xuXG4gICAgICAgICAgICBsZXQgc3RhdGVzID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uc3RhdGVzO1xuICAgICAgICAgICAgbGV0IHByZXZpb3VzVmFsID0gc3RhdGVzW2tleV07XG4gICAgICAgICAgICBsZXQgcGVuZGluZztcblxuICAgICAgICAgICAgaWYgKCEoa2V5IGluIHN0YXRlcykgfHwgcHJldmlvdXNWYWwgIT09IHZhbCkge1xuXG4gICAgICAgICAgICAgICAgcGVuZGluZyA9IG5vdGlmeSAmJiB0aGlzLiRub3RpZnkoXCJiZWZvcmVTdGF0ZUNoYW5nZVwiLCB7IGtleSwgdmFsLCBwcmV2aW91c1ZhbCB9KTtcbiAgICAgICAgICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmcgJiYgSkZhY3RvcnlFeHBlY3QoXCJiZWZvcmVTdGF0ZUNoYW5nZSByZXN1bHRcIiwgcGVuZGluZykudHlwZShKRmFjdG9yeVByb21pc2VTeW5jKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocGVuZGluZyAmJiAhcGVuZGluZy4kaXNTZXR0bGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlc1trZXldID0gcGVuZGluZztcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGVuZGluZztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHN0YXRlc1trZXldXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVzW2tleV0gPSB2YWw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGVuZGluZyA9IG5vdGlmeSAmJiB0aGlzLiRub3RpZnkoXCJhZnRlclN0YXRlQ2hhbmdlXCIsIHsga2V5LCB2YWwsIHByZXZpb3VzVmFsIH0pO1xuICAgICAgICAgICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZyAmJiBKRmFjdG9yeUV4cGVjdChcImFmdGVyU3RhdGVDaGFuZ2UgcmVzdWx0XCIsIHBlbmRpbmcpLnR5cGUoSkZhY3RvcnlQcm9taXNlU3luYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGVuZGluZykge1xuICAgICAgICAgICAgICAgIHBlbmRpbmcudGhlbihyZXNvbHZlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBTZXJ2aWNlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFRyYWl0U2VydmljZSB7XG5cbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIHRoaXMuJC5zZXJ2aWNlXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBKRmFjdG9yeU9iamVjdC5hc3NpZ24odGhpcy4kLCBcInNlcnZpY2VcIiwgT2JqZWN0LmNyZWF0ZShudWxsKSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuUkVBRE9OTFkpO1xuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZSA9IFRyYWl0U2VydmljZS5QSEFTRS5OT05FO1xuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlID0gSkZhY3RvcnlQcm9taXNlLnJlc29sdmUoeyBuYW1lOiBcInBoYXNlUXVldWVcIiB9LCBudWxsKTtcbiAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VUYXNrID0gbnVsbDtcbiAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAgPSB7XG4gICAgICAgICAgICBpbnN0YWxsOiBuZXcgU2V0KCksXG4gICAgICAgICAgICBlbmFibGU6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgIGRpc2FibGU6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgIHVuaW5zdGFsbDogbmV3IFNldCgpXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU2V0IGluaXRpYWwgc3RhdGVzIGJ1dCBkb24ndCB0cmlnZ2VyIGV2ZW50c1xuICAgICAgICB0aGlzLiRzdGF0ZShcImluc3RhbGxlZFwiLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLiRzdGF0ZShcImVuYWJsZWRcIiwgZmFsc2UsIGZhbHNlKTtcblxuICAgICAgICAvLyBEZWZpbmUgdGhlIGV2ZW50cyB0byBub3RpZnkgYmVmb3JlL2FmdGVyIGEgc3RhdGUgY2hhbmdlXG4gICAgICAgIC8vIHN0YXRlTmFtZSA6IHtiZWZvcmUgOiBldmVudE5hbWUsIGFmdGVyIDogZXZlbnROYW1lfVxuXG4gICAgICAgIC8vIFNQRUNcbiAgICAgICAgLy8gc3RhdCBpcyBjaGFuZ2VkIGJlZm9yZSBjYWxsaW5nIGhhbmRsZXJzIGV2ZW4gaWYgcGVuZGluZ1xuXG4gICAgICAgIGFzc2lnblByaXZhdGVNZW1iZXIodGhpcywgXCJzdGF0ZVJvdXRlc1wiLCB7XG4gICAgICAgICAgICBpbnN0YWxsZWQ6IHsgYWZ0ZXI6IHZhbCA9PiB2YWwgPyBcImluc3RhbGxcIiA6IFwidW5pbnN0YWxsXCIgfSxcbiAgICAgICAgICAgIGVuYWJsZWQ6IHsgYWZ0ZXI6IHZhbCA9PiB2YWwgPyBcImVuYWJsZVwiICA6IFwiZGlzYWJsZVwiIH1cbiAgICAgICAgfSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuTk9ORSk7XG5cbiAgICAgICAgbGV0IGN1c3RvbSA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5jdXN0b207XG4gICAgICAgIGxldCBrZXJuZWwgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMua2VybmVsO1xuXG4gICAgICAgIC8vIEF0dGFjaCBhIHJlbW92ZSBwaGFzZSBuYW1lc3BhY2VzIG9uIGV2ZW50c1xuICAgICAgICBjdXN0b20uYWZmaWxpYXRlQWRkUnVsZSgoY29udGV4dCwgcGFyc2VkRXZlbnQsIG5hbWVzcGFjZXMsIG9wdGlvbnMpID0+XG4gICAgICAgICAgICBUcmFpdFNlcnZpY2Uuc2V0RXZlbnROYW1lc3BhY2VSZW1vdmVQaGFzZSh0aGlzLCBwYXJzZWRFdmVudCwgb3B0aW9ucylcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBBdHRhY2ggbW9kdWxlIGV2ZW50IGhhbmRsZXJzXG5cbiAgICAgICAgLyoqIEBuYW1lIEpGYWN0b3J5Q29yZU9iamVjdCNvbkluc3RhbGwgKi9cbiAgICAgICAgLyoqIEBuYW1lIEpGYWN0b3J5Q29yZU9iamVjdCNvbkVuYWJsZSAqL1xuICAgICAgICAvKiogQG5hbWUgSkZhY3RvcnlDb3JlT2JqZWN0I29uRGlzYWJsZSAqL1xuICAgICAgICAvKiogQG5hbWUgSkZhY3RvcnlDb3JlT2JqZWN0I29uVW5pbnN0YWxsICovXG5cbiAgICAgICAgbGV0IHBoYXNlUmVzb2x2ZSA9IGhhbmRsZXIgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuJC50YXNrcy5zaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kdGFza1JlbW92ZUFsbCh0aGlzLiQuc2VydmljZS5waGFzZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwcm9taXNlID0gSkZhY3RvcnlQcm9taXNlU3luYy5yZXNvbHZlKCk7XG4gICAgICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IGhhbmRsZXIuY2FsbCh0aGlzKSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kdGFza1Byb21pc2VBbGwodHJ1ZSkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZVxuICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoLyp0aGlzLiQuc2VydmljZS5pc1BoYXNlS2lsbGluZyAmJiovIGUgaW5zdGFuY2VvZiBqRmFjdG9yeUVycm9yLlBST01JU0VfRVhQSVJFRCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGxvZ0VycihcInVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiBpbiBcIiArIHRoaXMuJC5zZXJ2aWNlLnBoYXNlICsgXCI7XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZSBpbnN0YW5jZW9mIEpGYWN0b3J5RXJyb3IgPyBlIDogW2VdKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAga2VybmVsLm9uKFwiaW5zdGFsbFwiLCAoKSA9PiBwaGFzZVJlc29sdmUodGhpcy5vbkluc3RhbGwpKTtcbiAgICAgICAga2VybmVsLm9uKFwiZW5hYmxlXCIsICgpID0+IHBoYXNlUmVzb2x2ZSh0aGlzLm9uRW5hYmxlKSk7XG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgKCkgPT4gcGhhc2VSZXNvbHZlKHRoaXMub25EaXNhYmxlKSk7XG4gICAgICAgIGtlcm5lbC5vbihcInVuaW5zdGFsbFwiLCAoKSA9PiBwaGFzZVJlc29sdmUodGhpcy5vblVuaW5zdGFsbCkpO1xuXG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgICAoKSA9PiB0aGlzLiRvZmYoeyByZW1vdmFsOiBUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSB9KSk7XG4gICAgICAgIGtlcm5lbC5vbihcInVuaW5zdGFsbFwiLCAoKSA9PiB0aGlzLiRvZmYoeyByZW1vdmFsOiBUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMIH0pKTtcbiAgICB9XG5cbiAgICAkaW5zdGFsbChlbmFibGUpIHtcbiAgICAgICAgbGV0IHJlc29sdmU7XG4gICAgICAgIGNvbnN0IHAgPSBuZXcgSkZhY3RvcnlQcm9taXNlKFxuICAgICAgICAgICAgeyBuYW1lOiBcImluc3RhbGxcIiwgY29uZmlnOiB7IGNoYWluQXV0b0NvbXBsZXRlOiB0cnVlIH0gfSxcbiAgICAgICAgICAgIF9yZXNvbHZlID0+IHJlc29sdmUgPSBfcmVzb2x2ZSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuJC5zdGF0ZXMuaW5zdGFsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLklOU1RBTEw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdGF0ZShcImluc3RhbGxlZFwiLCB0cnVlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlTWFwLmluc3RhbGwuYWRkKHApO1xuICAgICAgICBwLiRjaGFpbi50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlVGFzayA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZU1hcC5pbnN0YWxsLmRlbGV0ZShwKTtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLk5PTkVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZSA9IHRoaXMuJC5zZXJ2aWNlLnBoYXNlUXVldWUudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVRhc2sgPSBwO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHAuJGNoYWluXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBlbmFibGVcbiAgICAgICAgaWYgKGVuYWJsZSkge3JldHVybiB0aGlzLiRlbmFibGUoKX1cbiAgICAgICAgcmV0dXJuIHBcbiAgICB9XG5cbiAgICAkZW5hYmxlKCkge1xuICAgICAgICBsZXQgcmVzb2x2ZTtcbiAgICAgICAgY29uc3QgcCA9IG5ldyBKRmFjdG9yeVByb21pc2UoXG4gICAgICAgICAgICB7IG5hbWU6IFwiZW5hYmxlXCIsIGNvbmZpZzogeyBjaGFpbkF1dG9Db21wbGV0ZTogdHJ1ZSB9IH0sXG4gICAgICAgICAgICBfcmVzb2x2ZSA9PiByZXNvbHZlID0gX3Jlc29sdmUpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJC5zdGF0ZXMuaW5zdGFsbGVkICYmICF0aGlzLiQuc3RhdGVzLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuRU5BQkxFO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RhdGUoXCJlbmFibGVkXCIsIHRydWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuZW5hYmxlLmFkZChwKTtcbiAgICAgICAgcC4kY2hhaW4udGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVRhc2sgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuZW5hYmxlLmRlbGV0ZShwKTtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLk5PTkVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZSA9IHRoaXMuJC5zZXJ2aWNlLnBoYXNlUXVldWUudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVRhc2sgPSBwO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHAuJGNoYWluXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcFxuICAgIH1cblxuICAgICRkaXNhYmxlKCkge1xuICAgICAgICBsZXQgcmVzb2x2ZTtcbiAgICAgICAgY29uc3QgcCA9IG5ldyBKRmFjdG9yeVByb21pc2UoXG4gICAgICAgICAgICB7IG5hbWU6IFwiZGlzYWJsZVwiLCBjb25maWc6IHsgY2hhaW5BdXRvQ29tcGxldGU6IHRydWUgfSB9LFxuICAgICAgICAgICAgX3Jlc29sdmUgPT4gcmVzb2x2ZSA9IF9yZXNvbHZlKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiQuc3RhdGVzLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0YXRlKFwiZW5hYmxlZFwiLCBmYWxzZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZU1hcC5kaXNhYmxlLmFkZChwKTtcbiAgICAgICAgcC4kY2hhaW4udGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVRhc2sgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuZGlzYWJsZS5kZWxldGUocCk7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZSA9IFRyYWl0U2VydmljZS5QSEFTRS5OT05FXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGlmICh0aGlzLiQuc2VydmljZS5waGFzZSA9PT0gVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpIHtcbiAgICAgICAgLy8gICAgIC8vIHBoYXNlIGtpbGxcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIGV4cGlyZXMgYWxsIHN0YWNrZWQgZW5hYmxlXG4gICAgICAgIGZvciAobGV0IFtrZXksIHZhbF0gb2YgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuZW5hYmxlLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHZhbCA9PT0gdGhpcy4kLnNlcnZpY2UucGhhc2VUYXNrKSB7XG4gICAgICAgICAgICAgICAgVHJhaXRTZXJ2aWNlLnBoYXNlS2lsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbC4kY2hhaW5BYm9ydCgpO1xuICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuZW5hYmxlLmRlbGV0ZShrZXkpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlID0gdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlVGFzayA9IHA7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICByZXR1cm4gcC4kY2hhaW5cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwXG4gICAgfVxuXG4gICAgJHVuaW5zdGFsbCgpIHtcbiAgICAgICAgbGV0IHJlc29sdmU7XG4gICAgICAgIGNvbnN0IHAgPSBuZXcgSkZhY3RvcnlQcm9taXNlKFxuICAgICAgICAgICAgeyBuYW1lOiBcInVuaW5zdGFsbFwiLCBjb25maWc6IHsgY2hhaW5BdXRvQ29tcGxldGU6IHRydWUgfSB9LFxuICAgICAgICAgICAgX3Jlc29sdmUgPT4gcmVzb2x2ZSA9IF9yZXNvbHZlKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiQuc3RhdGVzLmluc3RhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZSA9IFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdGF0ZShcImluc3RhbGxlZFwiLCBmYWxzZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZU1hcC51bmluc3RhbGwuYWRkKHApO1xuICAgICAgICBwLiRjaGFpbi50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlVGFzayA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZU1hcC51bmluc3RhbGwuZGVsZXRlKHApO1xuICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuTk9ORVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBpZiAodGhpcy4kLnNlcnZpY2UucGhhc2UgPT09IFRyYWl0U2VydmljZS5QSEFTRS5ESVNBQkxFKSB7XG4gICAgICAgIC8vICAgICAvLyB3YWl0IHRoZW5cbiAgICAgICAgLy8gICAgIC8vIHBoYXNlIGtpbGxcbiAgICAgICAgLy8gfVxuICAgICAgICAvL1xuICAgICAgICAvLyBpZiAodGhpcy4kLnNlcnZpY2UucGhhc2UgPT09IFRyYWl0U2VydmljZS5QSEFTRS5JTlNUQUxMKSB7XG4gICAgICAgIC8vICAgICAvLyBwaGFzZSBraWxsXG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBleHBpcmVzIGFsbCBzdGFja2VkIGluc3RhbGxcbiAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsXSBvZiB0aGlzLiQuc2VydmljZS5waGFzZU1hcC5pbnN0YWxsLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHZhbCA9PT0gdGhpcy4kLnNlcnZpY2UucGhhc2VUYXNrKSB7XG4gICAgICAgICAgICAgICAgVHJhaXRTZXJ2aWNlLnBoYXNlS2lsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbC4kY2hhaW5BYm9ydCgpO1xuICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuaW5zdGFsbC5kZWxldGUoa2V5KVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcXVldWUgZGlzYWJsZSBiZWZvcmUgdW5pbnN0YWxsXG4gICAgICAgIHRoaXMuJGRpc2FibGUoKTtcblxuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlID0gdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlVGFzayA9IHA7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICByZXR1cm4gcC4kY2hhaW5cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwXG4gICAgfVxuXG4gICAgc3RhdGljIHBoYXNlS2lsbChjb21wb25lbnQpIHtcbiAgICAgICAgLy8gY29tcG9uZW50LiQuc2VydmljZS5pc1BoYXNlS2lsbGluZyA9IHRydWU7XG4gICAgICAgIGlmIChjb21wb25lbnQuJC50YXNrcy5zaXplKSB7XG4gICAgICAgICAgICBjb21wb25lbnQuJHRhc2tSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLmdldENvbnRleHR1YWxSZW1vdmVQaGFzZShjb21wb25lbnQpKTtcbiAgICAgICAgfVxuICAgICAgICBjb21wb25lbnQuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLk5PTkU7XG4gICAgfVxuXG5cblxuICAgIC8vICRpbnN0YWxsKGVuYWJsZSkge1xuICAgIC8vICAgICBjb25zdCBfaW5zdGFsbCA9IGVuYWJsZSA9PiB7XG4gICAgLy8gICAgICAgICByZXR1cm4gdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZSA9IG5ldyBKRmFjdG9yeVByb21pc2UoeyBuYW1lOiBcInBoYXNlUXVldWVcIiB9LCByZXNvbHZlID0+IHtcbiAgICAvLyAgICAgICAgICAgICBpZiAoIXRoaXMuJC5zdGF0ZXMuaW5zdGFsbGVkKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLklOU1RBTEw7XG4gICAgLy8gICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy4kc3RhdGUoXCJpbnN0YWxsZWRcIiwgdHJ1ZSkpXG4gICAgLy8gICAgICAgICAgICAgfSBlbHNlIHtyZXNvbHZlKCl9XG4gICAgLy8gICAgICAgICB9KVxuICAgIC8vICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZSAmJiAhdGhpcy4kLnN0YXRlcy5lbmFibGVkKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZSA9IFRyYWl0U2VydmljZS5QSEFTRS5FTkFCTEU7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RhdGUoXCJlbmFibGVkXCIsIHRydWUpXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgICAgICB9KVxuICAgIC8vICAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLk5PTkUpO1xuICAgIC8vICAgICB9O1xuICAgIC8vICAgICBpZiAodGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZS4kY2hhaW4uaXNQZW5kaW5nKSB7XG4gICAgLy8gICAgICAgICByZXR1cm4gdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZS50aGVuKCgpID0+IF9pbnN0YWxsKGVuYWJsZSkpXG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgcmV0dXJuIF9pbnN0YWxsKGVuYWJsZSlcbiAgICAvLyB9XG4gICAgLy9cbiAgICAvLyAkZW5hYmxlKCkge1xuICAgIC8vICAgICBjb25zdCBfZW5hYmxlID0gKCkgPT4ge1xuICAgIC8vICAgICAgICAgcmV0dXJuIHRoaXMuJC5zZXJ2aWNlLnBoYXNlUXVldWUgPSBuZXcgSkZhY3RvcnlQcm9taXNlKHsgbmFtZTogXCJwaGFzZVF1ZXVlXCIgfSwgcmVzb2x2ZSA9PiB7XG4gICAgLy8gICAgICAgICAgICAgaWYgKHRoaXMuJC5zdGF0ZXMuaW5zdGFsbGVkICYmICF0aGlzLiQuc3RhdGVzLmVuYWJsZWQpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuRU5BQkxFO1xuICAgIC8vICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuJHN0YXRlKFwiZW5hYmxlZFwiLCB0cnVlKSlcbiAgICAvLyAgICAgICAgICAgICB9IGVsc2Uge3Jlc29sdmUoKX1cbiAgICAvLyAgICAgICAgIH0pXG4gICAgLy8gICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuTk9ORSk7XG4gICAgLy8gICAgIH07XG4gICAgLy8gICAgIGlmICh0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlLiRjaGFpbi5pc1BlbmRpbmcpIHtcbiAgICAvLyAgICAgICAgIHJldHVybiB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlLnRoZW4oKCkgPT4gX2VuYWJsZSgpKVxuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHJldHVybiBfZW5hYmxlKClcbiAgICAvLyB9XG4gICAgLy9cbiAgICAvLyAkZGlzYWJsZSgpIHtcbiAgICAvLyAgICAgY29uc3QgX2Rpc2FibGUgPSAoKSA9PiB7XG4gICAgLy8gICAgICAgICByZXR1cm4gdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZSA9IG5ldyBKRmFjdG9yeVByb21pc2UoeyBuYW1lOiBcInBoYXNlUXVldWVcIiB9LCByZXNvbHZlID0+IHtcbiAgICAvLyAgICAgICAgICAgICBpZiAodGhpcy4kLnN0YXRlcy5lbmFibGVkKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEU7XG4gICAgLy8gICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy4kc3RhdGUoXCJlbmFibGVkXCIsIGZhbHNlKSlcbiAgICAvLyAgICAgICAgICAgICB9IGVsc2Uge3Jlc29sdmUoKX1cbiAgICAvLyAgICAgICAgIH0pXG4gICAgLy8gICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuTk9ORSk7XG4gICAgLy8gICAgIH07XG4gICAgLy8gICAgIGlmICh0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlLiRjaGFpbi5pc1BlbmRpbmcpIHtcbiAgICAvLyAgICAgICAgIHJldHVybiB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlLnRoZW4oKCkgPT4gX2Rpc2FibGUoKSlcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICByZXR1cm4gX2Rpc2FibGUoKVxuICAgIC8vIH1cbiAgICAvL1xuICAgIC8vICR1bmluc3RhbGwoKSB7XG4gICAgLy8gICAgIGNvbnN0IF91bmluc3RhbGwgPSAoKSA9PiB7XG4gICAgLy8gICAgICAgICByZXR1cm4gdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZSA9IG5ldyBKRmFjdG9yeVByb21pc2UoeyBuYW1lOiBcInBoYXNlUXVldWVcIiB9LCByZXNvbHZlID0+IHtcbiAgICAvLyAgICAgICAgICAgICBpZiAodGhpcy4kLnN0YXRlcy5lbmFibGVkKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEU7XG4gICAgLy8gICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy4kc3RhdGUoXCJlbmFibGVkXCIsIGZhbHNlKSlcbiAgICAvLyAgICAgICAgICAgICB9IGVsc2Uge3Jlc29sdmUoKX1cbiAgICAvLyAgICAgICAgIH0pXG4gICAgLy8gICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgIC8vICAgICAgICAgICAgICAgICBpZiAodGhpcy4kLnN0YXRlcy5pbnN0YWxsZWQpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTDtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdGF0ZShcImluc3RhbGxlZFwiLCBmYWxzZSlcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgICAgIH0pXG4gICAgLy8gICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuTk9ORSk7XG4gICAgLy8gICAgIH07XG4gICAgLy8gICAgIGlmICh0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlLiRjaGFpbi5pc1BlbmRpbmcpIHtcbiAgICAvLyAgICAgICAgIHJldHVybiB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlLnRoZW4oKCkgPT4gX3VuaW5zdGFsbCgpKVxuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHJldHVybiBfdW5pbnN0YWxsKClcbiAgICAvLyB9XG5cbiAgICBzdGF0aWMgZ2V0Q29udGV4dHVhbFJlbW92ZVBoYXNlKGpGYWN0b3J5Q29yZU9iamVjdCkge1xuICAgICAgICByZXR1cm4gVHJhaXRTZXJ2aWNlLlBIQVNFX1JFVkVSVFtqRmFjdG9yeUNvcmVPYmplY3QuJC5zZXJ2aWNlLnBoYXNlXVxuICAgIH1cblxuICAgIHN0YXRpYyBzZXRFdmVudE5hbWVzcGFjZVJlbW92ZVBoYXNlKGpGYWN0b3J5Q29yZU9iamVjdCwgcGFyc2VkRXZlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGN1clJlbW92ZVBoYXNlID0gcGFyc2VkRXZlbnQuaGFzTmFtZXNwYWNlKFRyYWl0U2VydmljZS5QSEFTRVMpO1xuICAgICAgICBsZXQgbmV3UmVtb3ZlUGhhc2UgPSBvcHRpb25zICYmIG9wdGlvbnMucmVtb3ZhbDtcblxuICAgICAgICBpZiAoIW5ld1JlbW92ZVBoYXNlKSB7XG4gICAgICAgICAgICBuZXdSZW1vdmVQaGFzZSA9IFRyYWl0U2VydmljZS5nZXRDb250ZXh0dWFsUmVtb3ZlUGhhc2UoakZhY3RvcnlDb3JlT2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNwZWNpYWwgY2FzZSA6IG9uKFwidW5pbnN0YWxsXCIpIHdpdGggcmVtb3ZhbCA9IERJU0FCTEUgKHRoZSBkZWZhdWx0IHZhbHVlKVxuICAgICAgICAvLyA9PiBkaXNhYmxlKCkgaXMgYWx3YXlzIGNhbGxlZCBiZWZvcmUgdW5pbnN0YWxsKCkgY2F1c2luZyB0aGUgZXZlbnQgdG8gYmUgcmVtb3ZlZCB0b28gZWFybHlcbiAgICAgICAgaWYgKHBhcnNlZEV2ZW50LmV2ZW50ID09PSBcInVuaW5zdGFsbFwiICYmIG5ld1JlbW92ZVBoYXNlID09PSBUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSkge1xuICAgICAgICAgICAgbmV3UmVtb3ZlUGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VyUmVtb3ZlUGhhc2UgIT09IG5ld1JlbW92ZVBoYXNlKSB7XG4gICAgICAgICAgICBwYXJzZWRFdmVudC5kZWxldGVOYW1lc3BhY2UoY3VyUmVtb3ZlUGhhc2UpO1xuICAgICAgICAgICAgcGFyc2VkRXZlbnQuYWRkTmFtZXNwYWNlKG5ld1JlbW92ZVBoYXNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnNlZEV2ZW50LmFkZE5hbWVzcGFjZShuZXdSZW1vdmVQaGFzZSk7XG4gICAgfVxufVxuXG5UcmFpdFNlcnZpY2UuUEhBU0UgPSB7XG4gICAgTk9ORTogXCJQSEFTRV9OT05FXCIsXG4gICAgSU5TVEFMTDogXCJQSEFTRV9JTlNUQUxMXCIsXG4gICAgRU5BQkxFOiBcIlBIQVNFX0VOQUJMRVwiLFxuICAgIERJU0FCTEU6IFwiUEhBU0VfRElTQUJMRVwiLFxuICAgIFVOSU5TVEFMTDogXCJQSEFTRV9VTklOU1RBTExcIlxufTtcblxuVHJhaXRTZXJ2aWNlLlBIQVNFX1JFVkVSVCA9IHtcbiAgICBbVHJhaXRTZXJ2aWNlLlBIQVNFLklOU1RBTExdOiBUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMLFxuICAgIFtUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMXTogVHJhaXRTZXJ2aWNlLlBIQVNFLklOU1RBTEwsXG4gICAgW1RyYWl0U2VydmljZS5QSEFTRS5ESVNBQkxFXTogVHJhaXRTZXJ2aWNlLlBIQVNFLkVOQUJMRSxcbiAgICBbVHJhaXRTZXJ2aWNlLlBIQVNFLkVOQUJMRV06IFRyYWl0U2VydmljZS5QSEFTRS5ESVNBQkxFLFxuICAgIFtUcmFpdFNlcnZpY2UuUEhBU0UuTk9ORV06IFRyYWl0U2VydmljZS5QSEFTRS5ESVNBQkxFXG59O1xuXG5UcmFpdFNlcnZpY2UuUEhBU0VTID0gT2JqZWN0LnZhbHVlcyhUcmFpdFNlcnZpY2UuUEhBU0UpO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduUHJpdmF0ZShzY29wZSwgcHJvcGVydHksIHZhbHVlLCBkZXNjcmlwdG9yKSB7XG4gICAgSkZhY3RvcnlPYmplY3QuYXNzaWduKHNjb3BlLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXSwgcHJvcGVydHksIHZhbHVlLCBkZXNjcmlwdG9yKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduUHJpdmF0ZU1lbWJlcihzY29wZSwgcHJvcGVydHksIHZhbHVlLCBkZXNjcmlwdG9yKSB7XG4gICAgSkZhY3RvcnlPYmplY3QuYXNzaWduKHNjb3BlLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXVtwcm9wZXJ0eV0sIHZhbHVlLCBkZXNjcmlwdG9yKVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuakZhY3RvcnkuUEhBU0UgPSBKRmFjdG9yeU9iamVjdC5kaXNpbmhlcml0KFRyYWl0U2VydmljZS5QSEFTRSk7XG5cbmpGYWN0b3J5LlRyYWl0Q29yZSA9IFRyYWl0Q29yZTtcbmpGYWN0b3J5LlRyYWl0QWJvdXQgPSBUcmFpdEFib3V0O1xuakZhY3RvcnkuVHJhaXRMb2cgPSBUcmFpdExvZztcbmpGYWN0b3J5LlRyYWl0RXZlbnRzID0gVHJhaXRFdmVudHM7XG5qRmFjdG9yeS5UcmFpdFN0YXRlID0gVHJhaXRTdGF0ZTtcbmpGYWN0b3J5LlRyYWl0U2VydmljZSA9IFRyYWl0U2VydmljZTtcbmpGYWN0b3J5LlRyYWl0VGFzayA9IFRyYWl0VGFzazsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0Q29tcG9uZW50c1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuaW1wb3J0IHsgakZhY3RvcnkgfSBmcm9tIFwiLi9qRmFjdG9yeVwiO1xuaW1wb3J0IHsgSkZBQ1RPUllfREVWIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBqRmFjdG9yeUVycm9yIH0gZnJvbSBcIi4vSkZhY3RvcnlFcnJvclwiO1xuaW1wb3J0IHsgSkZhY3RvcnlFeHBlY3QgfSBmcm9tIFwiLi9KRmFjdG9yeUV4cGVjdFwiO1xuaW1wb3J0IHsgVHJhaXRDb3JlLCBUcmFpdFNlcnZpY2UgfSBmcm9tIFwiLi9UcmFpdHNDb3JlXCI7XG5pbXBvcnQgeyBKRmFjdG9yeUZldGNoIH0gZnJvbSBcIi4vSkZhY3RvcnlGZXRjaFwiO1xuaW1wb3J0IHsgSkZhY3RvcnlQcm9taXNlIH0gZnJvbSBcIi4vSkZhY3RvcnlQcm9taXNlXCI7XG5pbXBvcnQgeyBKRmFjdG9yeU9iamVjdCB9IGZyb20gXCIuL0pGYWN0b3J5T2JqZWN0XCI7XG5pbXBvcnQgeyBqRmFjdG9yeVRyYWNlIH0gZnJvbSBcIi4vSkZhY3RvcnlUcmFjZVwiO1xuaW1wb3J0IHsgaGVscGVyX2lzUGxhaW5PYmplY3QsIGhlbHBlcl91cmxfYWJzLCBqUXVlcnkgfSBmcm9tIFwiLi9qRmFjdG9yeS1oZWxwZXJzXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgRmV0Y2hcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRGZXRjaCB7XG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGtlcm5lbCA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5rZXJuZWw7XG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgKCkgPT4gdGhpcy4kZmV0Y2hSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpKTtcbiAgICAgICAga2VybmVsLm9uKFwidW5pbnN0YWxsXCIsICgpID0+IHRoaXMuJGZldGNoUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEwpKTtcbiAgICAgICAgdGhpcy4kLmFzc2lnbihcInJlcXVlc3RzXCIsIHRoaXMuJC5jcmVhdGVTdWJNYXAoKSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuRU5VTUVSQUJMRSk7XG4gICAgfVxuXG4gICAgJGZldGNoKGlkLCB1cmwsIGZldGNoT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlkID0gdGhpcy4kLnJlcXVlc3RzLiRpZF9yZXNvbHZlKGlkKTtcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiRmZXRjaChpZClcIiwgaWQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJGZldGNoKHVybClcIiwgdXJsKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiRmZXRjaChmZXRjaE9wdGlvbnMpXCIsIGZldGNoT3B0aW9ucykudHlwZVBsYWluT2JqZWN0KCk7XG4gICAgICAgICAgICBpZiAodGhpcy4kLnJlcXVlc3RzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfRFVQTElDQVRFRCh7IHRhcmdldDogXCIkZmV0Y2goaWQpXCIsIGdpdmVuOiBpZCB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHByb21pc2UgPSBuZXcgSkZhY3RvcnlGZXRjaCh7XG4gICAgICAgICAgICBuYW1lOiBpZCxcbiAgICAgICAgICAgIHRyYWNlU291cmNlOiBqRmFjdG9yeVRyYWNlLnRyYWNlci5jYXB0dXJlVHJhY2VTb3VyY2UoXCIkZmV0Y2hcIiksXG4gICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICBjaGFpbkF1dG9Db21wbGV0ZTogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB1cmwsIGZldGNoT3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy4kLnJlcXVlc3RzLiRyZWdpc3RlckFzeW5jKGlkLCAnJGZldGNoKFwiJyArIGlkICsgJ1wiKScsIHByb21pc2UpO1xuXG4gICAgICAgIHByb21pc2UuJGNoYWluLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuJC5yZXF1ZXN0cy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZmV0Y2hSZW1vdmUoaWQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuICAgICRmZXRjaFRleHQoaWQsIHVybCwgZmV0Y2hPcHRpb25zID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGZldGNoKGlkLCB1cmwsIHsgLi4uZmV0Y2hPcHRpb25zLCAkdHlwZVRleHQ6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgJGZldGNoSlNPTihpZCwgdXJsLCBmZXRjaE9wdGlvbnMgPSB7fSkge1xuICAgICAgICByZXR1cm4gdGhpcy4kZmV0Y2goaWQsIHVybCwgeyAuLi5mZXRjaE9wdGlvbnMsICR0eXBlSlNPTjogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICAkZmV0Y2hSZW1vdmUoaWQsIHJlYXNvbikge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiRmZXRjaFJlbW92ZShpZClcIiwgaWQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIHJlYXNvbiAmJiBKRmFjdG9yeUV4cGVjdChcIiRmZXRjaFJlbW92ZShyZWFzb24pXCIsIHJlYXNvbikudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiQucmVxdWVzdHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9NSVNTSU5HKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIiRmZXRjaFJlbW92ZShpZClcIixcbiAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IGlkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1kZWJ1Z2dlcixicmFjZS1zdHlsZVxuICAgICAgICAgICAgaWYgKHRoaXMuJC5yZXF1ZXN0cy5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkKSB7ZGVidWdnZXJ9XG4gICAgICAgICAgICB0aGlzLiQucmVxdWVzdHMuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlbnRyeSA9IHRoaXMuJC5yZXF1ZXN0cy5nZXQoaWQpO1xuICAgICAgICB0aGlzLiQucmVxdWVzdHMuZGVsZXRlKGlkKTtcbiAgICAgICAgZW50cnkuJGNoYWluQWJvcnQocmVhc29uIHx8IFwiJGZldGNoUmVtb3ZlKClcIik7XG4gICAgfVxuXG4gICAgJGZldGNoUmVtb3ZlQWxsKHJlbW92ZVBoYXNlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwicmVtb3ZlUGhhc2VcIiwgcmVtb3ZlUGhhc2UpXG4gICAgICAgICAgICAgICAgLmVxdWFsSW4oVHJhaXRTZXJ2aWNlLlBIQVNFUylcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3VicyA9IHRoaXMuJC5yZXF1ZXN0cztcbiAgICAgICAgaWYgKHN1YnMuc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBzdWJdIG9mIHN1YnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ViLiRwaGFzZVJlbW92ZSA9PT0gcmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZmV0Y2hSZW1vdmUoa2V5LCBcIiRmZXRjaFJlbW92ZUFsbChcIiArIHJlbW92ZVBoYXNlICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0IFRpbWVvdXRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRUaW1lb3V0IHtcbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3Qga2VybmVsID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmtlcm5lbDtcbiAgICAgICAga2VybmVsLm9uKFwiZGlzYWJsZVwiLCAoKSA9PiB0aGlzLiR0aW1lb3V0UmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5ESVNBQkxFKSk7XG4gICAgICAgIGtlcm5lbC5vbihcInVuaW5zdGFsbFwiLCAoKSA9PiB0aGlzLiR0aW1lb3V0UmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEwpKTtcbiAgICAgICAgdGhpcy4kLmFzc2lnbihcInRpbWVvdXRzXCIsIHRoaXMuJC5jcmVhdGVTdWJNYXAoKSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuRU5VTUVSQUJMRSk7XG4gICAgfVxuXG4gICAgJHRpbWVvdXQoaWQsIGRlbGF5LCBoYW5kbGVyID0gbnVsbCwgLi4uYXJncykge1xuICAgICAgICAvLyBpZFxuICAgICAgICAvLyBpZCwgZGVsYXlcbiAgICAgICAgLy8gaWQsIGRlbGF5LCBoYW5kbGVyLCAuLi5hcmdzXG5cbiAgICAgICAgaWQgPSB0aGlzLiQudGltZW91dHMuJGlkX3Jlc29sdmUoaWQpO1xuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiaWRcIiwgaWQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiZGVsYXlcIiwgZGVsYXkpLnR5cGVOdW1iZXIoKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiaGFuZGxlclwiLCBoYW5kbGVyKS50eXBlKEZ1bmN0aW9uLCBudWxsKTtcbiAgICAgICAgICAgIGlmICh0aGlzLiQudGltZW91dHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiR0aW1lb3V0KGlkKVwiLCBnaXZlbjogaWQgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0aW1lcjtcbiAgICAgICAgbGV0IHByb21pc2UgPSBuZXcgSkZhY3RvcnlQcm9taXNlKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IGlkLFxuICAgICAgICAgICAgICAgIHRyYWNlU291cmNlOiBqRmFjdG9yeVRyYWNlLnRyYWNlci5jYXB0dXJlVHJhY2VTb3VyY2UoXCIkdGltZW91dFwiKSxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5BdXRvQ29tcGxldGU6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9taXNlLiRpc0V4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaGFuZGxlciA/IGhhbmRsZXIoLi4uYXJncykgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgZGVsYXkpXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgcHJvbWlzZS4kY2hhaW4uZGF0YS50aW1lciA9IHRpbWVyO1xuICAgICAgICB0aGlzLiQudGltZW91dHMuJHJlZ2lzdGVyQXN5bmMoaWQsICckdGltZW91dChcIicgKyBpZCArICdcIiknLCBwcm9taXNlKTtcblxuICAgICAgICBwcm9taXNlLiRjaGFpbi50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLiQudGltZW91dHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHRpbWVvdXRSZW1vdmUoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICAkdGltZW91dFJlbW92ZShpZCwgcmVhc29uKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJHRpbWVvdXRSZW1vdmUoaWQpXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICByZWFzb24gJiYgSkZhY3RvcnlFeHBlY3QoXCIkdGltZW91dFJlbW92ZShyZWFzb24pXCIsIHJlYXNvbikudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiQudGltZW91dHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9NSVNTSU5HKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIiR0aW1lb3V0UmVtb3ZlKGlkKVwiLFxuICAgICAgICAgICAgICAgICAgICBnaXZlbjogaWRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyLGJyYWNlLXN0eWxlXG4gICAgICAgICAgICBpZiAodGhpcy4kLnRpbWVvdXRzLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQpIHtkZWJ1Z2dlcn1cbiAgICAgICAgICAgIHRoaXMuJC50aW1lb3V0cy5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlbnRyeSA9IHRoaXMuJC50aW1lb3V0cy5nZXQoaWQpO1xuICAgICAgICBjbGVhclRpbWVvdXQoZW50cnkuJGNoYWluLmRhdGEudGltZXIpO1xuICAgICAgICAvLyBkZWxldGluZyBiZWZvcmUgY2hhaW5BYm9ydCgpIHRvIHByZXZlbnQgcmVtb3ZlKCkgcmVjYWxsXG4gICAgICAgIHRoaXMuJC50aW1lb3V0cy5kZWxldGUoaWQpO1xuICAgICAgICBlbnRyeS4kY2hhaW5BYm9ydChyZWFzb24gfHwgXCIkdGltZW91dFJlbW92ZSgpXCIpO1xuICAgIH1cblxuICAgICR0aW1lb3V0UmVtb3ZlQWxsKHJlbW92ZVBoYXNlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwicmVtb3ZlUGhhc2VcIiwgcmVtb3ZlUGhhc2UpXG4gICAgICAgICAgICAgICAgLmVxdWFsSW4oVHJhaXRTZXJ2aWNlLlBIQVNFUyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN1YnMgPSB0aGlzLiQudGltZW91dHM7XG4gICAgICAgIGlmIChzdWJzLnNpemUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgc3ViXSBvZiBzdWJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1Yi4kcGhhc2VSZW1vdmUgPT09IHJlbW92ZVBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHRpbWVvdXRSZW1vdmUoa2V5LCBcIiR0aW1lb3V0UmVtb3ZlQWxsKClcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgSW50ZXJ2YWxcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRJbnRlcnZhbCB7XG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGtlcm5lbCA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5rZXJuZWw7XG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgKCkgPT4gdGhpcy4kaW50ZXJ2YWxSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpKTtcbiAgICAgICAga2VybmVsLm9uKFwidW5pbnN0YWxsXCIsICgpID0+IHRoaXMuJGludGVydmFsUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEwpKTtcbiAgICAgICAgdGhpcy4kLmFzc2lnbihcInRpbWVpbnRzXCIsIHRoaXMuJC5jcmVhdGVTdWJNYXAoKSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuRU5VTUVSQUJMRSk7XG4gICAgfVxuXG4gICAgJGludGVydmFsKGlkLCBkZWxheSwgaGFuZGxlciwgLi4uYXJncykge1xuICAgICAgICBpZCA9IHRoaXMuJC50aW1laW50cy4kaWRfcmVzb2x2ZShpZCk7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiaWRcIiwgaWQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiaGFuZGxlclwiLCBoYW5kbGVyKS50eXBlRnVuY3Rpb24oKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiZGVsYXlcIiwgZGVsYXkpLnR5cGVOdW1iZXIoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLiQudGltZWludHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiRpbnRlcnZhbChpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRpbWVyID0gc2V0SW50ZXJ2YWwoaGFuZGxlciwgZGVsYXksIC4uLmFyZ3MpO1xuICAgICAgICB0aGlzLiQudGltZWludHMuJHJlZ2lzdGVyU3luYyhpZCwgdGltZXIpXG4gICAgfVxuXG4gICAgJGludGVydmFsUmVtb3ZlKGlkKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJGludGVydmFsUmVtb3ZlKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiQudGltZWludHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9NSVNTSU5HKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIiRpbnRlcnZhbFJlbW92ZShpZClcIixcbiAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IGlkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1kZWJ1Z2dlcixicmFjZS1zdHlsZVxuICAgICAgICAgICAgaWYgKHRoaXMuJC50aW1laW50cy5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkKSB7ZGVidWdnZXJ9XG4gICAgICAgICAgICB0aGlzLiQudGltZWludHMuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuJC50aW1laW50cy5nZXQoaWQpLiR2YWx1ZSk7XG4gICAgICAgIHRoaXMuJC50aW1laW50cy5kZWxldGUoaWQpXG4gICAgfVxuXG4gICAgJGludGVydmFsUmVtb3ZlQWxsKHJlbW92ZVBoYXNlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwicmVtb3ZlUGhhc2VcIiwgcmVtb3ZlUGhhc2UpXG4gICAgICAgICAgICAgICAgLmVxdWFsSW4oVHJhaXRTZXJ2aWNlLlBIQVNFUylcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3VicyA9IHRoaXMuJC50aW1laW50cztcbiAgICAgICAgaWYgKHN1YnMuc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBzdWJdIG9mIHN1YnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ViLiRwaGFzZVJlbW92ZSA9PT0gcmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaW50ZXJ2YWxSZW1vdmUoa2V5KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBNdXRhdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRNdXRhdGlvbiB7XG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGtlcm5lbCA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5rZXJuZWw7XG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgKCkgPT4gdGhpcy4kbXV0YXRpb25SZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpKTtcbiAgICAgICAga2VybmVsLm9uKFwidW5pbnN0YWxsXCIsICgpID0+IHRoaXMuJG11dGF0aW9uUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEwpKTtcbiAgICAgICAgdGhpcy4kLmFzc2lnbihcIm11dGF0aW9uc1wiLCB0aGlzLiQuY3JlYXRlU3ViTWFwKCksIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLkVOVU1FUkFCTEUpO1xuICAgIH1cblxuICAgICRtdXRhdGlvbihpZCwgcGFyZW50LCBjb25maWcsIGhhbmRsZXIpIHtcbiAgICAgICAgaWQgPSB0aGlzLiQubXV0YXRpb25zLiRpZF9yZXNvbHZlKGlkKTtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJpZFwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJwYXJlbnRcIiwgcGFyZW50KS50eXBlKEhUTUxFbGVtZW50LCBEb2N1bWVudCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImNvbmZpZ1wiLCBjb25maWcpLnR5cGVQbGFpbk9iamVjdCgpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJoYW5kbGVyXCIsIGhhbmRsZXIpLnR5cGVGdW5jdGlvbigpO1xuICAgICAgICAgICAgaWYgKHRoaXMuJC5tdXRhdGlvbnMuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiRtdXRhdGlvbihpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoaGFuZGxlcik7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUocGFyZW50LCBjb25maWcpO1xuICAgICAgICB0aGlzLiQubXV0YXRpb25zLiRyZWdpc3RlclN5bmMoaWQsIG9ic2VydmVyKTtcbiAgICB9XG5cbiAgICAkbXV0YXRpb25SZW1vdmUoaWQsIHJlYXNvbikge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiRtdXRhdGlvblJlbW92ZShpZClcIiwgaWQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIHJlYXNvbiAmJiBKRmFjdG9yeUV4cGVjdChcIiRtdXRhdGlvblJlbW92ZShyZWFzb24pXCIsIHJlYXNvbikudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiQubXV0YXRpb25zLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfTUlTU0lORyh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCIkbXV0YXRpb25SZW1vdmUoaWQpXCIsXG4gICAgICAgICAgICAgICAgICAgIGdpdmVuOiBpZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXIsYnJhY2Utc3R5bGVcbiAgICAgICAgICAgIGlmICh0aGlzLiQubXV0YXRpb25zLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQpIHtkZWJ1Z2dlcn1cbiAgICAgICAgICAgIHRoaXMuJC5tdXRhdGlvbnMuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiQubXV0YXRpb25zLmdldChpZCkuJHZhbHVlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy4kLm11dGF0aW9ucy5kZWxldGUoaWQpXG4gICAgfVxuXG4gICAgJG11dGF0aW9uUmVtb3ZlQWxsKHJlbW92ZVBoYXNlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwicmVtb3ZlUGhhc2VcIiwgcmVtb3ZlUGhhc2UpXG4gICAgICAgICAgICAgICAgLmVxdWFsSW4oVHJhaXRTZXJ2aWNlLlBIQVNFUylcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3VicyA9IHRoaXMuJC5tdXRhdGlvbnM7XG4gICAgICAgIGlmIChzdWJzLnNpemUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgc3ViXSBvZiBzdWJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1Yi4kcGhhc2VSZW1vdmUgPT09IHJlbW92ZVBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJG11dGF0aW9uUmVtb3ZlKGtleSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgRE9NXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFRyYWl0RE9NIHtcbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3Qga2VybmVsID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmtlcm5lbDtcbiAgICAgICAga2VybmVsLm9uKFwiZGlzYWJsZVwiLCAoKSA9PiB0aGlzLiRkb21SZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpKTtcbiAgICAgICAga2VybmVsLm9uKFwidW5pbnN0YWxsXCIsICgpID0+IHRoaXMuJGRvbVJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMKSk7XG4gICAgICAgIHRoaXMuJC5hc3NpZ24oXCJkb21cIiwgdGhpcy4kLmNyZWF0ZVN1Yk1hcCgpLCBKRmFjdG9yeU9iamVjdC5kZXNjcmlwdG9ycy5FTlVNRVJBQkxFKTtcbiAgICB9XG5cbiAgICAkZG9tKGlkLCBqUXVlcnlBcmd1bWVudCwgYXBwZW5kVG8pIHtcbiAgICAgICAgaWQgPSB0aGlzLiQuZG9tLiRpZF9yZXNvbHZlKGlkKTtcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImpRdWVyeUFyZ3VtZW50XCIsIGpRdWVyeUFyZ3VtZW50KS50eXBlKFN0cmluZywgT2JqZWN0KTtcbiAgICAgICAgICAgIGFwcGVuZFRvICYmIEpGYWN0b3J5RXhwZWN0KFwiYXBwZW5kVG9cIiwgYXBwZW5kVG8pLnR5cGUoU3RyaW5nLCBPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRvbUlkO1xuICAgICAgICBpZiAoaWRbMF0gPT09IFwiI1wiKSB7XG4gICAgICAgICAgICBpZCA9IGlkLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIGRvbUlkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFViAmJiB0aGlzLiQuZG9tLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiRkb20oaWQpXCIsIGdpdmVuOiBpZCB9KVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRvbSA9IGpRdWVyeShqUXVlcnlBcmd1bWVudCk7XG5cbiAgICAgICAgaWYgKGRvbVswXS50YWdOYW1lID09PSBcIlRFTVBMQVRFXCIpIHtcbiAgICAgICAgICAgIGRvbSA9IGpRdWVyeShqUXVlcnkoZG9tWzBdKS5odG1sKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRvbUlkKSB7XG4gICAgICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRvbVswXS5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuSU5WQUxJRF9WQUxVRSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiJGRvbSgjaWQpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnaXZlbjogZG9tLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcImNhbm5vdCBzZXQgdGhlIGRvbSBpZDogdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIHNlbGVjdGlvbiBpc24ndCBhbiBFTEVNRU5UX05PREVcIlxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvbVswXS5pZCA9IGlkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXBwZW5kVG8pIHtcbiAgICAgICAgICAgIGRvbS5hcHBlbmRUbyhhcHBlbmRUbylcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLiQuZG9tLiRyZWdpc3RlclN5bmMoaWQsIGRvbSkuJHZhbHVlO1xuICAgIH1cblxuICAgICRkb21GZXRjaChpZCwgdXJsLCBmZXRjaE9wdGlvbnMsIGFwcGVuZFRvKSB7XG4gICAgICAgIGlmIChmZXRjaE9wdGlvbnMgJiYgIWhlbHBlcl9pc1BsYWluT2JqZWN0KGZldGNoT3B0aW9ucykpIHtcbiAgICAgICAgICAgIFtmZXRjaE9wdGlvbnMsIGFwcGVuZFRvXSA9IFt7fSwgZmV0Y2hPcHRpb25zXVxuICAgICAgICB9XG5cbiAgICAgICAgaWQgPSB0aGlzLiQuZG9tLiRpZF9yZXNvbHZlKGlkKTtcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcInVybFwiLCB1cmwpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIGFwcGVuZFRvICYmIEpGYWN0b3J5RXhwZWN0KFwiYXBwZW5kVG9cIiwgYXBwZW5kVG8pLnR5cGUoU3RyaW5nLCBPYmplY3QpO1xuICAgICAgICAgICAgZmV0Y2hPcHRpb25zICYmIEpGYWN0b3J5RXhwZWN0KFwiZmV0Y2hPcHRpb25zXCIsIGZldGNoT3B0aW9ucykudHlwZShPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRvbUlkO1xuICAgICAgICBpZiAoaWRbMF0gPT09IFwiI1wiKSB7XG4gICAgICAgICAgICBpZCA9IGlkLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIGRvbUlkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFViAmJiB0aGlzLiQuZG9tLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiRkb21GZXRjaChpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuJGZldGNoVGV4dCgnJGRvbUZldGNoKFwiJyArIGlkICsgJ1wiKScsIHVybCwgZmV0Y2hPcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4ociA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGpRdWVyeShyKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9tSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tWzBdLmlkID0gaWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFwcGVuZFRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbS5hcHBlbmRUbyhhcHBlbmRUbylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kLmRvbS4kcmVnaXN0ZXJBc3luYyhpZCwgJyRkb21GZXRjaChcIicgKyBpZCArICdcIiknLCBwcm9taXNlKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2VcbiAgICB9XG5cbiAgICAkZG9tUmVtb3ZlKGlkLCByZWFzb24pIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkZG9tUmVtb3ZlKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgcmVhc29uICYmIEpGYWN0b3J5RXhwZWN0KFwiJGRvbVJlbW92ZShyZWFzb24pXCIsIHJlYXNvbikudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiQuZG9tLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfTUlTU0lORyh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCIkZG9tUmVtb3ZlKGlkKVwiLFxuICAgICAgICAgICAgICAgICAgICBnaXZlbjogaWRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyLGJyYWNlLXN0eWxlXG4gICAgICAgICAgICBpZiAodGhpcy4kLmRvbS5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkKSB7ZGVidWdnZXJ9XG4gICAgICAgICAgICB0aGlzLiQuZG9tLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQgPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZW50cnkgPSB0aGlzLiQuZG9tLmdldChpZCk7XG4gICAgICAgIGxldCB2YWx1ZSA9IGVudHJ5LiR2YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgalF1ZXJ5KSB7XG4gICAgICAgICAgICB2YWx1ZS5yZW1vdmUoKVxuICAgICAgICB9XG4gICAgICAgIGlmIChlbnRyeSBpbnN0YW5jZW9mIEpGYWN0b3J5RmV0Y2gpIHtcbiAgICAgICAgICAgIGVudHJ5LiRjaGFpbkFib3J0KHJlYXNvbiB8fCBcIiRkb21SZW1vdmUoKVwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiQuZG9tLmRlbGV0ZShpZClcbiAgICB9XG5cbiAgICAkZG9tUmVtb3ZlQWxsKHJlbW92ZVBoYXNlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwicmVtb3ZlUGhhc2VcIiwgcmVtb3ZlUGhhc2UpXG4gICAgICAgICAgICAgICAgLmVxdWFsSW4oVHJhaXRTZXJ2aWNlLlBIQVNFUylcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3VicyA9IHRoaXMuJC5kb207XG4gICAgICAgIGlmIChzdWJzLnNpemUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgc3ViXSBvZiBzdWJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1Yi4kcGhhc2VSZW1vdmUgPT09IHJlbW92ZVBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGRvbVJlbW92ZShrZXkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vICBUcmFpdCBDU1Ncbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRDU1Mge1xuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBrZXJuZWwgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMua2VybmVsO1xuICAgICAgICBrZXJuZWwub24oXCJkaXNhYmxlXCIsICgpID0+IHRoaXMuJGNzc1JlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSkpO1xuICAgICAgICBrZXJuZWwub24oXCJ1bmluc3RhbGxcIiwgKCkgPT4gdGhpcy4kY3NzUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEwpKTtcbiAgICAgICAgdGhpcy4kLmFzc2lnbihcImNzc1wiLCB0aGlzLiQuY3JlYXRlU3ViTWFwKCksIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLkVOVU1FUkFCTEUpO1xuICAgIH1cblxuICAgICRjc3MoaWQsIHN0eWxlQm9keSkge1xuICAgICAgICBpZCA9IHRoaXMuJC5jc3MuJGlkX3Jlc29sdmUoaWQpO1xuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiaWRcIiwgaWQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiY3NzXCIsIHN0eWxlQm9keSkudHlwZVN0cmluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNzc0lkO1xuICAgICAgICBpZiAoaWRbMF0gPT09IFwiI1wiKSB7XG4gICAgICAgICAgICBpZCA9IGlkLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIGNzc0lkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFViAmJiB0aGlzLiQuY3NzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiRjc3MoaWQpXCIsIGdpdmVuOiBpZCB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuJC5jc3MuJHJlZ2lzdGVyU3luYyhpZCxcbiAgICAgICAgICAgIGpRdWVyeShcIjxzdHlsZT5cIilcbiAgICAgICAgICAgICAgICAuYXR0cihjc3NJZCA/IHsgaWQgfSA6IHt9KVxuICAgICAgICAgICAgICAgIC5odG1sKHN0eWxlQm9keSlcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oXCJoZWFkXCIpXG4gICAgICAgICkuJHZhbHVlO1xuICAgIH1cblxuICAgICRjc3NGZXRjaChpZCwgdXJsLCBhcHBlbmRUbyA9IFwiaGVhZFwiKSB7XG4gICAgICAgIGlkID0gdGhpcy4kLmNzcy4kaWRfcmVzb2x2ZShpZCk7XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJpZFwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJ1cmxcIiwgdXJsKS50eXBlU3RyaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3NzSWQ7XG4gICAgICAgIGlmIChpZFswXSA9PT0gXCIjXCIpIHtcbiAgICAgICAgICAgIGlkID0gaWQuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgY3NzSWQgPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWICYmIHRoaXMuJC5jc3MuaGFzKGlkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX0RVUExJQ0FURUQoeyB0YXJnZXQ6IFwiJGNzc0ZldGNoKGlkKVwiLCBnaXZlbjogaWQgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHVybCA9IGhlbHBlcl91cmxfYWJzKHVybCk7XG5cbiAgICAgICAgbGV0IGV4aXN0ID0galF1ZXJ5KGFwcGVuZFRvKS5maW5kKGBsaW5rW2hyZWY9XCIke3VybH1cIl1gKVswXTtcbiAgICAgICAgaWYgKGV4aXN0KSB7XG4gICAgICAgICAgICBleGlzdC5kYXRhc2V0LnVzYWdlID0gcGFyc2VJbnQoZXhpc3QuZGF0YXNldC51c2FnZSkgKyAxO1xuICAgICAgICAgICAgbGV0IGRvbSA9IGpRdWVyeShleGlzdCk7XG5cbiAgICAgICAgICAgIGxldCBwcm9taXNlID0gSkZhY3RvcnlQcm9taXNlLnJlc29sdmUoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiB7IGNoYWluQXV0b0NvbXBsZXRlOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIHRyYWNlU291cmNlOiBqRmFjdG9yeVRyYWNlLnRyYWNlci5jYXB0dXJlVHJhY2VTb3VyY2UoXCIkY3NzRmV0Y2hcIilcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRvbVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHByb21pc2UuJGNoYWluLmRhdGEuZG9tID0gZG9tO1xuICAgICAgICAgICAgdGhpcy4kLmNzcy4kcmVnaXN0ZXJBc3luYyhpZCwgJyRjc3NGZXRjaChcIicgKyBpZCArICdcIiknLCBwcm9taXNlKTtcblxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkb207XG4gICAgICAgICAgICBsZXQgcHJvbWlzZSA9IG5ldyBKRmFjdG9yeVByb21pc2UoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiB7IGNoYWluQXV0b0NvbXBsZXRlOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIHRyYWNlU291cmNlOiBqRmFjdG9yeVRyYWNlLnRyYWNlci5jYXB0dXJlVHJhY2VTb3VyY2UoXCIkY3NzRmV0Y2hcIilcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlc29sdmUgPT4gZG9tID0galF1ZXJ5KFwiPGxpbms+XCIsXG4gICAgICAgICAgICAgICAgICAgIHsgaWQ6IGNzc0lkID8gaWQgOiBcIlwiLCByZWw6IFwic3R5bGVzaGVldFwiLCB0eXBlOiBcInRleHQvY3NzXCIsIFwiZGF0YS11c2FnZVwiOiBcIjFcIiB9KVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oYXBwZW5kVG8pXG4gICAgICAgICAgICAgICAgICAgIC5vbihcImxvYWRcIiwgKCkgPT4gcmVzb2x2ZShkb20pKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImhyZWZcIiwgdXJsKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcHJvbWlzZS4kY2hhaW4uZGF0YS5kb20gPSBkb207XG4gICAgICAgICAgICB0aGlzLiQuY3NzLiRyZWdpc3RlckFzeW5jKGlkLCAnJGNzc0ZldGNoKFwiJyArIGlkICsgJ1wiKScsIHByb21pc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VcbiAgICAgICAgfVxuICAgIH1cblxuICAgICRjc3NSZW1vdmUoaWQsIHJlYXNvbikge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiRjc3NSZW1vdmUoaWQpXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICByZWFzb24gJiYgSkZhY3RvcnlFeHBlY3QoXCIkY3NzUmVtb3ZlKHJlYXNvbilcIiwgcmVhc29uKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJC5jc3MuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9NSVNTSU5HKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIiRjc3NSZW1vdmUoaWQpXCIsXG4gICAgICAgICAgICAgICAgICAgIGdpdmVuOiBpZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXIsYnJhY2Utc3R5bGVcbiAgICAgICAgICAgIGlmICh0aGlzLiQuY3NzLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQpIHtkZWJ1Z2dlcn1cbiAgICAgICAgICAgIHRoaXMuJC5jc3MuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlbnRyeSA9IHRoaXMuJC5jc3MuZ2V0KGlkKTtcbiAgICAgICAgbGV0IHZhbHVlID0gZW50cnkuJGNoYWluICYmIGVudHJ5LiRjaGFpbi5kYXRhLmRvbSB8fCBlbnRyeS4kdmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGpRdWVyeSkge1xuICAgICAgICAgICAgbGV0IHVzYWdlID0gcGFyc2VJbnQodmFsdWVbMF0uZGF0YXNldC51c2FnZSkgLSAxO1xuICAgICAgICAgICAgaWYgKHVzYWdlKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVbMF0uZGF0YXNldC51c2FnZSA9IHVzYWdlXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlLnJlbW92ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVudHJ5IGluc3RhbmNlb2YgSkZhY3RvcnlQcm9taXNlKSB7XG4gICAgICAgICAgICBlbnRyeS4kY2hhaW5BYm9ydChyZWFzb24gfHwgXCIkY3NzUmVtb3ZlKClcIilcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiQuY3NzLmRlbGV0ZShpZClcbiAgICB9XG5cbiAgICAkY3NzUmVtb3ZlQWxsKHJlbW92ZVBoYXNlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwicmVtb3ZlUGhhc2VcIiwgcmVtb3ZlUGhhc2UpXG4gICAgICAgICAgICAgICAgLmVxdWFsSW4oVHJhaXRTZXJ2aWNlLlBIQVNFUylcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3VicyA9IHRoaXMuJC5jc3M7XG4gICAgICAgIGlmIChzdWJzLnNpemUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgc3ViXSBvZiBzdWJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1Yi4kcGhhc2VSZW1vdmUgPT09IHJlbW92ZVBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGNzc1JlbW92ZShrZXkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVHJhaXRMaWJWdWUge1xuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBrZXJuZWwgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMua2VybmVsO1xuICAgICAgICBrZXJuZWwub24oXCJkaXNhYmxlXCIsICgpID0+IHRoaXMuJHZ1ZVJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSkpO1xuICAgICAgICBrZXJuZWwub24oXCJ1bmluc3RhbGxcIiwgKCkgPT4gdGhpcy4kdnVlUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEwpKTtcbiAgICAgICAgdGhpcy4kLmFzc2lnbihcInZ1ZVwiLCB0aGlzLiQuY3JlYXRlU3ViTWFwKCksIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLkVOVU1FUkFCTEUpO1xuICAgIH1cblxuICAgICR2dWUoaWQsIHZ1ZSkge1xuICAgICAgICBpZCA9IHRoaXMuJC52dWUuJGlkX3Jlc29sdmUoaWQpO1xuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiaWRcIiwgaWQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwidnVlXCIsIHZ1ZSkudHlwZShPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFViAmJiB0aGlzLiQudnVlLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiR2dWUoaWQpXCIsIGdpdmVuOiBpZCB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuJC52dWUuJHJlZ2lzdGVyU3luYyhpZCwgdnVlKS4kdmFsdWU7XG4gICAgfVxuXG4gICAgJHZ1ZVJlbW92ZShpZCkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiR2dWVSZW1vdmUoaWQpXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJC52dWUuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9NSVNTSU5HKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIiR2dWVSZW1vdmUoaWQpXCIsXG4gICAgICAgICAgICAgICAgICAgIGdpdmVuOiBpZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXIsYnJhY2Utc3R5bGVcbiAgICAgICAgICAgIGlmICh0aGlzLiQudnVlLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQpIHtkZWJ1Z2dlcn1cbiAgICAgICAgICAgIHRoaXMuJC52dWUuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlbnRyeSA9IHRoaXMuJC52dWUuZ2V0KGlkKTtcbiAgICAgICAgalF1ZXJ5KGVudHJ5LiR2YWx1ZS4kZWwpLnJlbW92ZSgpO1xuICAgICAgICBlbnRyeS4kdmFsdWUuJGRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy4kLnZ1ZS5kZWxldGUoaWQpXG4gICAgfVxuXG4gICAgJHZ1ZVJlbW92ZUFsbChyZW1vdmVQaGFzZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcInJlbW92ZVBoYXNlXCIsIHJlbW92ZVBoYXNlKVxuICAgICAgICAgICAgICAgIC5lcXVhbEluKFRyYWl0U2VydmljZS5QSEFTRVMpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN1YnMgPSB0aGlzLiQudnVlO1xuICAgICAgICBpZiAoc3Vicy5zaXplKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHN1Yl0gb2Ygc3Vicykge1xuICAgICAgICAgICAgICAgIGlmIChzdWIuJHBoYXNlUmVtb3ZlID09PSByZW1vdmVQaGFzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiR2dWVSZW1vdmUoa2V5KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRyYWl0TGliUmVhY3Qge1xuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBrZXJuZWwgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMua2VybmVsO1xuICAgICAgICBrZXJuZWwub24oXCJkaXNhYmxlXCIsICgpID0+IHRoaXMuJHJlYWN0UmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5ESVNBQkxFKSk7XG4gICAgICAgIGtlcm5lbC5vbihcInVuaW5zdGFsbFwiLCAoKSA9PiB0aGlzLiRyZWFjdFJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMKSk7XG4gICAgICAgIHRoaXMuJC5hc3NpZ24oXCJyZWFjdFwiLCB0aGlzLiQuY3JlYXRlU3ViTWFwKCksIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLkVOVU1FUkFCTEUpO1xuICAgIH1cblxuICAgICRyZWFjdChpZCwgY29udGFpbmVyLCBlbGVtZW50LCAuLi5yZW5kZXJPdGhlckFyZ3VtZW50cykge1xuICAgICAgICBpZCA9IHRoaXMuJC5yZWFjdC4kaWRfcmVzb2x2ZShpZCk7XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgaWYgKCFqRmFjdG9yeS5SZWFjdERPTSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImpGYWN0b3J5LlJlYWN0RE9NPVJlYWN0RE9NIG11c3QgYmUgc2V0IGJlZm9yZSB1c2luZyB0aGUgUmVhY3QgVHJhaXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImNvbnRhaW5lclwiLCBjb250YWluZXIpLnR5cGUoSFRNTEVsZW1lbnQsIGpRdWVyeSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWICYmIHRoaXMuJC5yZWFjdC5oYXMoaWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfRFVQTElDQVRFRCh7IHRhcmdldDogXCIkcmVhY3QoaWQpXCIsIGdpdmVuOiBpZCB9KVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyID0galF1ZXJ5KGNvbnRhaW5lcilbMF07XG4gICAgICAgIGxldCB2aWV3ID0gakZhY3RvcnkuUmVhY3RET00ucmVuZGVyKGVsZW1lbnQsIGNvbnRhaW5lciwgLi4ucmVuZGVyT3RoZXJBcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gdGhpcy4kLnJlYWN0LiRyZWdpc3RlclN5bmMoaWQsIHsgY29udGFpbmVyLCB2aWV3IH0pLiR2YWx1ZS52aWV3O1xuICAgIH1cblxuICAgICRyZWFjdFJlbW92ZShpZCkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiRyZWFjdFJlbW92ZShpZClcIiwgaWQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy4kLnJlYWN0LmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfTUlTU0lORyh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCIkcmVhY3RSZW1vdmUoaWQpXCIsXG4gICAgICAgICAgICAgICAgICAgIGdpdmVuOiBpZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXIsYnJhY2Utc3R5bGVcbiAgICAgICAgICAgIGlmICh0aGlzLiQucmVhY3QuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCkge2RlYnVnZ2VyfVxuICAgICAgICAgICAgdGhpcy4kLnJlYWN0LmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQgPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLiQucmVhY3QuZ2V0KGlkKS4kdmFsdWU7XG4gICAgICAgIGxldCBlbCA9IHZhbHVlLmNvbnRhaW5lcjtcbiAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICBpZiAoIWpGYWN0b3J5LlJlYWN0RE9NLnVubW91bnRDb21wb25lbnRBdE5vZGUoZWwpKSB7XG4gICAgICAgICAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRsb2dXYXJuKFwidW5tb3VudENvbXBvbmVudEF0Tm9kZSBmYWlsZWQgdG8gdW5tb3VudFwiLCBlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgalF1ZXJ5KGVsKS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiQucmVhY3QuZGVsZXRlKGlkKVxuICAgIH1cblxuICAgICRyZWFjdFJlbW92ZUFsbChyZW1vdmVQaGFzZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcInJlbW92ZVBoYXNlXCIsIHJlbW92ZVBoYXNlKVxuICAgICAgICAgICAgICAgIC5lcXVhbEluKFRyYWl0U2VydmljZS5QSEFTRVMpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN1YnMgPSB0aGlzLiQucmVhY3Q7XG4gICAgICAgIGlmIChzdWJzLnNpemUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgc3ViXSBvZiBzdWJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1Yi4kcGhhc2VSZW1vdmUgPT09IHJlbW92ZVBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlYWN0UmVtb3ZlKGtleSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5qRmFjdG9yeS5UcmFpdEZldGNoID0gVHJhaXRGZXRjaDtcbmpGYWN0b3J5LlRyYWl0VGltZW91dCA9IFRyYWl0VGltZW91dDtcbmpGYWN0b3J5LlRyYWl0SW50ZXJ2YWwgPSBUcmFpdEludGVydmFsO1xuakZhY3RvcnkuVHJhaXRNdXRhdGlvbiA9IFRyYWl0TXV0YXRpb247XG5qRmFjdG9yeS5UcmFpdERPTSA9IFRyYWl0RE9NO1xuakZhY3RvcnkuVHJhaXRDU1MgPSBUcmFpdENTUztcbmpGYWN0b3J5LlRyYWl0TGliVnVlID0gVHJhaXRMaWJWdWU7XG5qRmFjdG9yeS5UcmFpdExpYlJlYWN0ID0gVHJhaXRMaWJSZWFjdDsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBqRmFjdG9yeSBidW5kbGUgaW5kZXggKHNlZSBwYWNrYWdlLmpzb24gc2NyaXB0cyB0byBjb21waWxlIHRoZSAvZGlzdClcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVXNlZCBieSB0aGUgYnVpbGQgc2NyaXB0cyB0byBjb21waWxlIG1vZHVsZXMgdGFyZ2V0aW5nIHRoZSBjb25maWd1cmF0aW9uIChwcm9kdWN0aW9uLCBkZXZlbG9wbWVudCwgZGVidWcuLi4pXG4vLyBBbG1vc3QgZXZlcnl0aGluZyBpcyBleHBvcnRlZDsgVGhlIHJlc3VsdGluZyBtb2R1bGVzIHNob3VsZCBiZSBpbXBvcnRlZCBieSBhIGJ1bmRsZXIgdGhhdCBzdXBwb3J0cyBUcmVlIFNoYWNraW5nLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmltcG9ydCB7IGpGYWN0b3J5TG9hZGVyIH0gZnJvbSBcIi4vakZhY3RvcnktbG9hZGVyXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2pGYWN0b3J5XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9qRmFjdG9yeS1lbnZcIjtcblxuZXhwb3J0ICogZnJvbSBcIi4vakZhY3RvcnktdHJhaXRzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9qRmFjdG9yeS1sb2FkZXJcIjtcblxuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlBYm91dFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlFcnJvclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlFdmVudHNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeUZldGNoXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeUZ1bmN0aW9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeUxvZ2dlclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlPYmplY3RcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0pGYWN0b3J5UHJvbWlzZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlUaW1lXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeVRyYWNlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeVRyYWl0c1wiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9UcmFpdHNDb3JlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9UcmFpdHNDb21wb25lbnRzXCI7XG5cbmlmICh0eXBlb2YgakZhY3RvcnlPdmVycmlkZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhakZhY3RvcnlPdmVycmlkZSkge1xuICAgIGpGYWN0b3J5TG9hZGVyLmluaXQoKTtcbn0iXSwibmFtZXMiOlsiSkZBQ1RPUllfQ0xJIiwicHJvY2VzcyIsInZlcnNpb25zIiwibm9kZSIsImpGYWN0b3J5Q29uZmlnIiwiVHJhaXRMb2ciLCJKRmFjdG9yeUVycm9yIiwia2V5cyIsIkpGYWN0b3J5VHJhY2UiLCJsaWJPcHRpb25zIiwib2ZmbGluZSIsIkJvb2xlYW4iLCJnbG9iYWxUaGlzIiwiY2hyb21lIiwiZmlsdGVyIiwidmFsdWUiLCJsaW5lTnVtYmVyIiwiakZhY3RvcnlEZXYiLCJyZXF1aXJlQ29tcGF0aWJpbGl0eSIsInRlc3QiLCJpbmZvIiwiZmV0Y2giLCJSZXF1ZXN0IiwiQWJvcnRDb250cm9sbGVyLCBBYm9ydFNpZ25hbCIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJqRmFjdG9yeUxvYWRlciIsInNlcSIsIltvYmplY3QgT2JqZWN0XSIsInRoaXMiLCJtb2R1bGUiLCJqRmFjdG9yeU92ZXJyaWRlIiwiaGFuZGxlciIsInB1c2giLCJjb25zb2xlIiwibG9nIiwibmFtZSIsImVudHJ5IiwiT2JqZWN0IiwiZW50cmllcyIsInBhc3MiLCJpZ25vcmUiLCJ3YXJuIiwiakZhY3RvcnlJbml0Iiwib25Jbml0IiwialF1ZXJ5IiwiJCIsImhlbHBlcl9pc05hdGl2ZSIsIl8iLCJpc05hdGl2ZSIsImhlbHBlcl9pc1N0cmluZyIsImlzU3RyaW5nIiwiaGVscGVyX2lzTnVtYmVyIiwiaXNOdW1iZXIiLCJoZWxwZXJfaXNQbGFpbk9iamVjdCIsImlzUGxhaW5PYmplY3QiLCJoZWxwZXJfZGVmYXVsdHNEZWVwIiwiZGVmYXVsdHNEZWVwIiwiaGVscGVyX2xvd2VyRmlyc3QiLCJsb3dlckZpcnN0IiwiaGVscGVyX2dldCIsImdldCIsImhlbHBlcl90ZW1wbGF0ZSIsInRlbXBsYXRlIiwiaGVscGVyX2NhbWVsQ2FzZSIsImNhbWVsQ2FzZSIsIk5PT1AiLCJoZWxwZXJfc2V0RnVuY3Rpb25OYW1lIiwiZiIsImRlZmluZVByb3BlcnR5IiwiaGVscGVyX3VybF9hYnMiLCJ1cmwiLCJhIiwiaHJlZiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIkpGYWN0b3J5VHJhY2VfTk9GSUxURVIiLCJsYWJlbCIsInN0YWNrVHJhY2VMaW1pdCIsIkluZmluaXR5Iiwib21pdEFib3ZlRnVuY3Rpb25OYW1lIiwib21pdFNlbGYiLCJfc3RhY2tUcmFjZUxpbWl0IiwiRXJyb3IiLCJ0cmFjZVNvdXJjZSIsInNvdXJjZSIsInRhcmdldE9iamVjdCIsImNhcHR1cmVUcmFjZVNvdXJjZSIsInRyYWNlIiwidG9QcmludGFibGVUcmFjZSIsInRoZW4iLCJyIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiSkZhY3RvcnlUcmFjZV9MSUJfU1RBQ0tUUkFDRSIsImNvbmZpZyIsInN1cGVyIiwiU3RhY2tUcmFjZSIsImZyb21FcnJvciIsInRyYWNlRnJhbWVzIiwic2xpY2UiLCJmaW5kSW5kZXgiLCJmdW5jdGlvbk5hbWUiLCJlbmRzV2l0aCIsImZvcm1hdFRyYWNlRnJhbWVzIiwiaGVhZGVyIiwibGluZVByZWZpeCIsIndpbmRvdyIsIm1hcCIsInNmIiwidG9TdHJpbmciLCJqb2luIiwiakZhY3RvcnlUcmFjZSIsInVzZSIsImNvbnN0cnVjdG9yIiwidHJhY2VyIiwiYXR0YWNoVHJhY2UiLCJtZXNzYWdlIiwiZGF0YSIsImFzc2lnbiIsImNyZWF0ZSIsInRvUHJpbnRhYmxlIiwiJGRhdGEiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9iamVjdCIsIkRFRkFVTFRfS0VZUyIsImZpbmQiLCJrZXkiLCJ2YWwiLCJ0ZW1wbGF0ZURhdGEiLCJudiIsInVuZGVmaW5lZCIsImdldElkIiwiSlNPTiIsInN0cmluZ2lmeSIsImxlbmd0aCIsIkpTT05fTUFYIiwic3Vic3RyaW5nIiwiZSIsIlN0cmluZyIsInRlbXBsYXRlTWVzc2FnZSIsInBhcnQiLCJzcGxpdCIsInBsYWNlaG9sZGVyIiwiUkVfUExBQ0VIT0xERVIiLCJsYXN0SW5kZXgiLCJleGVjIiwidHJpbSIsInRvUHJpbnRhYmxlRGF0YSIsImpGYWN0b3J5RXJyb3IiLCJQcm94eSIsInNldCIsInRhcmdldCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiSkZhY3RvcnlFeHBlY3QiLCJJTlZBTElEX1ZBTFVFIiwiSU5WQUxJRF9DQUxMIiwiUFJPTUlTRV9FWFBJUkVEIiwiUkVRVUVTVF9FUlJPUiIsIktFWV9EVVBMSUNBVEVEIiwiS0VZX01JU1NJTkciLCJlcnJvciIsInJlYXNvbiIsImdpdmVuIiwic3RhdGljTWV0aG9kcyIsIm5vdFVuZGVmaW5lZCIsIm5vdEVtcHR5U3RyaW5nIiwibm90RmFsc3kiLCJ2YWxpZFNwYWNlcyIsInJlcGxhY2UiLCJtYXRjaFJlZyIsInJlZyIsImV4cGVjdGVkIiwib2siLCJ0eXBlTnVsbCIsInR5cGVCb29sZWFuIiwidHlwZVN0cmluZyIsInR5cGVOdW1iZXIiLCJ0eXBlRnVuY3Rpb24iLCJ0eXBlUGxhaW5PYmplY3QiLCJlcXVhbEluIiwiQXJyYXkiLCJpc0FycmF5IiwidmFsdWVzIiwiaW5jbHVkZXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwid3JpdGFibGUiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJub3RXcml0YWJsZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiY2FsbCIsIm5vdEVudW1lcmFibGUiLCJub3RDb25maWd1cmFibGUiLCJyZXNlcnZlZFByb3BlcnR5IiwiYXJncyIsIkpGYWN0b3J5VHJhaXRzIiwiY2FsbGVySW5zdGFuY2UiLCJjYWxsZXJDb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJ0cmFpdCIsInRyYWl0QXJncyIsImNhY2hlIiwiQ0FDSEUiLCJoYXMiLCJhZGQiLCJXZWFrU2V0IiwiSkZhY3RvcnlUcmFpdCIsImV4cG9ydCIsInRyYWl0SW5zdGFuY2UiLCJ0cmFpdF9jb25zdHJ1Y3RvciIsImFwcGx5IiwiaXNTdGF0aWMiLCJzb3VyY2VEZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsInByb3BlcnR5TmFtZSIsInByZWZpeCIsImdldFByZWZpeCIsImdldFRhcmdldCIsInByb3BlcnR5RGVzY3JpcHRvciIsInBhcnNlZCIsInBhcnNlciIsImRlZmF1bHRQYXJzZXIiLCJFWENMVURFUyIsIldlYWtNYXAiLCJKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXIiLCJoYW5kbGVycyIsImhhbmRsZXJHcm91cHMiLCJoYW5kbGVyR3JvdXAiLCJhcmd1bWVudHMiLCJ1bnNoaWZ0IiwiY29tcG9zZXIiLCJjb21wb3NpdGUiLCJjb250ZXh0IiwiY2FuY2VsZWQiLCJwYXJhbWV0ZXJzIiwiZnJvbSIsInJlc3VsdCIsIml0ZXJhdGlvbiIsIm5leHQiLCJjb21wb3NpdGVfaXRlcmF0b3IiLCJzY29wZSIsImRvbmUiLCJKRmFjdG9yeUZ1bmN0aW9uRXhwaXJhYmxlIiwib3JpZ2luYWxIYW5kbGVyIiwiZXhwaXJlZENhbGxzIiwiZXhwaXJlZCIsImlzRXhwaXJlZCIsImNvbXBvc2UiLCJleHBpcmFibGUiLCJzZXRFeHBpcmVkIiwiYWRkRXhwaXJlQ29uZGl0aW9uIiwiY29uZGl0aW9uIiwibGFzdCIsInR5cGUiLCJiaW5kIiwib25FeHBpcmVkIiwib25Ob3RFeHBpcmVkIiwiTWF4V2FybmluZ0V4cGlyYXRpb24iLCJqRmFjdG9yeUZ1bmN0aW9uQ29uZGl0aW9uYWwiLCJKRmFjdG9yeUZ1bmN0aW9uQ29uZGl0aW9uYWwiLCJmaXJzdCIsImNvbmRpdGlvbmFsIiwiYWRkQ29uZGl0aW9uIiwiaGFuZGxlIiwiakZhY3RvcnlGdW5jdGlvbldyYXBwYWJsZSIsIkpGYWN0b3J5RnVuY3Rpb25XcmFwcGFibGUiLCJ3cmFwcGFibGUiLCJiZWZvcmVBbGwiLCJqdXN0QmVmb3JlIiwianVzdEFmdGVyIiwiYWZ0ZXJBbGwiLCJqRmFjdG9yeVRyYWl0cyIsInN0YXRlcyIsImVuYWJsZWQiLCJzZXJ2aWNlIiwicGhhc2UiLCJvd25lciIsIiRsb2dFcnIiLCJKRmFjdG9yeUNvcmVPYmplY3QiLCJpbmplY3QiLCJqRmFjdG9yeSIsIlRyYWl0Q29yZSIsIlRyYWl0QWJvdXQiLCJUcmFpdEV2ZW50cyIsIlRyYWl0U3RhdGUiLCJUcmFpdFNlcnZpY2UiLCJUcmFpdFRhc2siLCJKRmFjdG9yeUNvbXBvbmVudCIsIlRyYWl0RmV0Y2giLCJUcmFpdERPTSIsIlRyYWl0Q1NTIiwiVHJhaXRNdXRhdGlvbiIsIlRyYWl0VGltZW91dCIsIlRyYWl0SW50ZXJ2YWwiLCJUcmFpdExpYlZ1ZSIsIlRyYWl0TGliUmVhY3QiLCJwcm9wZXJ0aWVzIiwiSkZhY3RvcnlPYmplY3QiLCJkZXNjcmlwdG9yUHJvdG90eXBlIiwiREVTQ1JJUFRPUlNfUFJPVE9UWVBFIiwibyIsIk5PTkUiLCJXUklUQUJMRSIsIkVOVU1FUkFCTEUiLCJDT05GSUdVUkFCTEUiLCJDT05GSUdVUkFCTEVfV1JJVEFCTEUiLCJXUklUQUJMRV9DT05GSUdVUkFCTEUiLCJDT05GSUdVUkFCTEVfRU5VTUVSQUJMRSIsIkVOVU1FUkFCTEVfQ09ORklHVVJBQkxFIiwiRU5VTUVSQUJMRV9XUklUQUJMRSIsIldSSVRBQkxFX0VOVU1FUkFCTEUiLCJXUklUQUJMRV9FTlVNRVJBQkxFX0NPTkZJR1VSQUJMRSIsIldSSVRBQkxFX0NPTkZJR1VSQUJMRV9FTlVNRVJBQkxFIiwiRU5VTUVSQUJMRV9DT05GSUdVUkFCTEVfV1JJVEFCTEUiLCJFTlVNRVJBQkxFX1dSSVRBQkxFX0NPTkZJR1VSQUJMRSIsIkNPTkZJR1VSQUJMRV9XUklUQUJMRV9FTlVNRVJBQkxFIiwiQ09ORklHVVJBQkxFX0VOVU1FUkFCTEVfV1JJVEFCTEUiLCJSRUFET05MWSIsImRlc2NyaXB0b3IiLCJkZXNjcmlwdG9ycyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImRlZmluZVByb3BlcnRpZXMiLCJmbGF0IiwiZGlzaW5oZXJpdCIsImNyZWF0ZURlc2NyaXB0b3JzIiwibW9kdWxlR2VuSWQiLCJ1aWQiLCJKRmFjdG9yeUFib3V0IiwiYWJvdXQiLCJmaW5nZXJwcmludCIsInRvTG93ZXJDYXNlIiwiSkZhY3RvcnlQcm9taXNlIiwiZXhlY3V0b3IiLCJjaGFpbklkIiwicmVqZWN0IiwiREVGQVVMVF9DT05GSUciLCJOdW1iZXIiLCJfcmVzb2x2ZSIsIl9yZWplY3QiLCJjaGFpbiIsIkpGYWN0b3J5UHJvbWlzZUNoYWluIiwiJGNoYWluIiwiJHR5cGUiLCIkdmFsdWUiLCIkaXNTZXR0bGVkIiwiJGlzUmVqZWN0ZWQiLCIkaXNGdWxmaWxsZWQiLCIkaXNFeHBpcmVkIiwiJGlzQWJvcnRlZCIsIiRkZXZfbmFtZSIsIiRkZXZfcGF0aCIsIkpGYWN0b3J5UHJvbWlzZVBhdGgiLCIkZGV2X3Bvc2l0aW9uIiwiJGRldl9zb3VyY2UiLCJ0cnlBdXRvQ29tcGxldGUiLCJpc1BlbmRpbmciLCIkY2hhaW5Db21wbGV0ZSIsIm9uUmVzb2x2ZSIsIm9uUmVqZWN0IiwiVHlwZUVycm9yIiwieCIsImNhbGxlZCIsInJlc29sdmVQcm9taXNlIiwieSIsInJlamVjdFByb21pc2UiLCJlcnJvckV4cGlyZWQiLCJvblNldHRsZSIsImNoYWluTWFwIiwiY2hhaW5Db25maWciLCJjaGFpbkF1dG9Db21wbGV0ZSIsInNpemUiLCJfY2hhaW5BdXRvQ29tcGxldGUiLCJfX3Jlc29sdmVfXyIsIl9fcmVqZWN0X18iLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJmb3JjZVR5cGUiLCJ3cmFwcGVkRnVsZmlsbGVkIiwid3JhcHBlZFJlamVjdGVkIiwibmV3UHJvbWlzZSIsInN0YXJ0c1dpdGgiLCJmTmFtZXMiLCJjaGFpbk5hbWUiLCIkZGV2X29uRnVsZmlsbGVkIiwiJGRldl9vblJlamVjdGVkIiwiY2hhaW5Sb290Iiwib3B0aW9uYWxBcmdzIiwiY29tcGxldGUiLCJwcm9taXNlIiwiYWJvcnQiLCJzaWxlbnQiLCJNYXAiLCJpc0NvbXBsZXRlZCIsIl9fZGVmZXJyZWRfXyIsIkRlZmVycmVkIiwiaXRlbSIsImkiLCJwcmludGFibGUiLCJ2IiwiSkZhY3RvcnlQcm9taXNlU3luYyIsIkpGYWN0b3J5RXZlbnRzIiwicmVnaXN0cnkiLCJvbkxpc3RlbmVyVXBkYXRlIiwib25PYnNlcnZlclVwZGF0ZSIsImV2ZW50cyIsInNlbGVjdG9yIiwidmFsaWRhdGVTZWxlY3RvciIsIkhUTUxFbGVtZW50Iiwid3JhcHBlZEhhbmRsZXIiLCJvbiIsInN0YWNrIiwib2ZmIiwicGVuZGluZyIsImV2ZW50IiwidHJpZ2dlciIsInRyaWdnZXJIYW5kbGVyIiwiYWxsIiwiYXN5bmMiLCJKRmFjdG9yeUV2ZW50c01hbmFnZXIiLCJwYXJlbnQiLCJhZmZpbGlhdGVSdWxlcyIsImFmZmlsaWF0ZUFkZFJ1bGUiLCJydWxlX25hbWVzcGFjZSIsIm5hbWVzcGFjZXMiLCJKRmFjdG9yeUV2ZW50U2VsZWN0b3JQYXJzZXIiLCJwYXJzZWRFdmVudCIsIm5hbWVzcGFjZSIsImFkZE5hbWVzcGFjZSIsImFmZmlsaWF0ZSIsImFyZ0wiLCJqcXVlcnkiLCJ0cmlnZ2VyU2VyaWVzIiwidHJpZ2dlclBhcmFsbGVsIiwiZWxtIiwiX2RhdGEiLCJ0eXBlcyIsIkpGYWN0b3J5RXZlbnRTZWxlY3RvciIsImhhc05hbWVzcGFjZSIsIl9ldmVudHMiLCJleHBhbmRvIiwiayIsImluZGV4T2YiLCJldmVudFR5cGVFbnRyeSIsInNlbGVjdG9ycyIsInMiLCJTZXQiLCJkZWxldGUiLCJucyIsInNoaWZ0IiwidmFsaWRhdGVFdmVudCIsInZhbGlkYXRlTmFtZXNwYWNlIiwiSkZhY3RvcnlGZXRjaCIsImZldGNoT3B0aW9ucyIsImZldGNoUmVxdWVzdCIsInJlc3BvbnNlIiwiZmV0Y2hSZXNwb25zZSIsInN0YXR1cyIsInN0YXR1c1RleHQiLCIkdHlwZVRleHQiLCJ0ZXh0IiwicmVzcG9uc2VUZXh0IiwiJHR5cGVKU09OIiwianNvbiIsInJlc3BvbnNlSlNPTiIsImNhdGNoIiwiYWJvcnRDdHJsIiwiYWJvcnRDb250cm9sbGVyIiwiZmV0Y2hBYm9ydENvbnRyb2xsZXIiLCIkY2hhaW5BYm9ydCIsIlNZTUJPTF9FTkFCTEVEIiwiSkZhY3RvcnlMb2dnZXIiLCJERUZBVUxUX0NPTkRJVElPTiIsImluc3RhbGxBY2Nlc3NvciIsInBhcmVudExvZ2dlciIsImVuYWJsZSIsImRpc2FibGUiLCJuYXRpdmVOYW1lIiwiZmlsdGVycyIsInRhcmdldE5hbWUiLCJhY2Nlc3NvciIsImZvcm1hdHRlciIsInN1YiIsInN0eWxlc19jc3MiLCJzdHlsZXNfY2xpIiwiRk9STUFUVEVSX05BVElWRSIsImxvZ2dlciIsIkZPUk1BVFRFUl9DTEkiLCJGT1JNQVRURVJfQlJPV1NFUiIsImVxdWFsIiwiSkZhY3RvcnlUaW1lIiwiRGF0ZSIsInRvTG9jYWxlVGltZVN0cmluZyIsImdldFVUQ01pbGxpc2Vjb25kcyIsInZhbHVlT2YiLCJob3VycyIsImdldFVUQ0hvdXJzIiwibWludXRlcyIsImdldFVUQ01pbnV0ZXMiLCJzZWNvbmRzIiwiZ2V0VVRDU2Vjb25kcyIsIm1pbGxpc2Vjb25kcyIsIkpGYWN0b3J5VGltZVRyYWNlIiwiZWxhcHNlZCIsInQxIiwidDAiLCIkdG9EdXJhdGlvblN0cmluZyIsIlN1Yk1hcCIsIiRwaGFzZVJlbW92ZSIsImdldENvbnRleHR1YWxSZW1vdmVQaGFzZSIsInRhc2tOYW1lIiwidGFzayIsIiR0YXNrIiwiJGNoYWluQXV0b0NvbXBsZXRlIiwic3RyIiwiaWQiLCJpZF9hdXRvaW5jIiwicHJvdG8iLCJTWU1CT0xfUFJJVkFURSIsImNyZWF0ZVN1Yk1hcCIsInRhc2tzIiwicmVxdWVzdHMiLCJleGVjdXRvck9yVmFsdWUiLCIkaWRfcmVzb2x2ZSIsIm1ldHJpY3MiLCIkdGFza01ldHJpY3MiLCIkZGV2X3RpbWluZyIsImVuZCIsIiR0YXNrUmVtb3ZlIiwiX2NhbGxlZCIsInJlbW92ZVBoYXNlIiwiUEhBU0VTIiwiYXV0b0NvbXBsZXRlIiwiYXNzaWduUHJpdmF0ZSIsImN1c3RvbSIsImtlcm5lbCIsImV2ZW50TWFuYWdlciIsImxpc3RlbmVycyIsImdldERvbUxpc3RlbmVycyIsIm9ic2VydmVycyIsImdldE9ic2VydmVycyIsIiR0cmlnZ2VyIiwic3RhdGVSb3V0ZXMiLCIkc3RhdGUiLCJoIiwiYmVmb3JlIiwiJG5vdGlmeSIsImFmdGVyIiwibm90aWZ5IiwicHJldmlvdXNWYWwiLCJQSEFTRSIsInBoYXNlUXVldWUiLCJwaGFzZVRhc2siLCJwaGFzZU1hcCIsImluc3RhbGwiLCJ1bmluc3RhbGwiLCJhc3NpZ25Qcml2YXRlTWVtYmVyIiwiaW5zdGFsbGVkIiwic2V0RXZlbnROYW1lc3BhY2VSZW1vdmVQaGFzZSIsInBoYXNlUmVzb2x2ZSIsIiR0YXNrUmVtb3ZlQWxsIiwiJHRhc2tQcm9taXNlQWxsIiwib25JbnN0YWxsIiwib25FbmFibGUiLCJvbkRpc2FibGUiLCJvblVuaW5zdGFsbCIsIiRvZmYiLCJyZW1vdmFsIiwiRElTQUJMRSIsIlVOSU5TVEFMTCIsInAiLCJJTlNUQUxMIiwiJGVuYWJsZSIsIkVOQUJMRSIsInBoYXNlS2lsbCIsIiRkaXNhYmxlIiwiY29tcG9uZW50IiwiakZhY3RvcnlDb3JlT2JqZWN0IiwiUEhBU0VfUkVWRVJUIiwiY3VyUmVtb3ZlUGhhc2UiLCJuZXdSZW1vdmVQaGFzZSIsImRlbGV0ZU5hbWVzcGFjZSIsIiRmZXRjaFJlbW92ZUFsbCIsIiRyZWdpc3RlckFzeW5jIiwiJGZldGNoUmVtb3ZlIiwiJGZldGNoIiwiX2RlYnVnX3JlbW92ZV9jYWxsZWQiLCJzdWJzIiwiJHRpbWVvdXRSZW1vdmVBbGwiLCJkZWxheSIsInRpbWVvdXRzIiwiRnVuY3Rpb24iLCJ0aW1lciIsInNldFRpbWVvdXQiLCIkdGltZW91dFJlbW92ZSIsImNsZWFyVGltZW91dCIsIiRpbnRlcnZhbFJlbW92ZUFsbCIsInRpbWVpbnRzIiwic2V0SW50ZXJ2YWwiLCIkcmVnaXN0ZXJTeW5jIiwiY2xlYXJJbnRlcnZhbCIsIiRpbnRlcnZhbFJlbW92ZSIsIiRtdXRhdGlvblJlbW92ZUFsbCIsIm11dGF0aW9ucyIsIkRvY3VtZW50Iiwib2JzZXJ2ZXIiLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsIiRtdXRhdGlvblJlbW92ZSIsIiRkb21SZW1vdmVBbGwiLCJqUXVlcnlBcmd1bWVudCIsImFwcGVuZFRvIiwiZG9tSWQiLCJkb20iLCJ0YWdOYW1lIiwiaHRtbCIsIm5vZGVUeXBlIiwiTm9kZSIsIkVMRU1FTlRfTk9ERSIsIiRmZXRjaFRleHQiLCJyZW1vdmUiLCIkZG9tUmVtb3ZlIiwiJGNzc1JlbW92ZUFsbCIsInN0eWxlQm9keSIsImNzc0lkIiwiY3NzIiwiYXR0ciIsImV4aXN0IiwiZGF0YXNldCIsInVzYWdlIiwicGFyc2VJbnQiLCJyZWwiLCJkYXRhLXVzYWdlIiwiJGNzc1JlbW92ZSIsIiR2dWVSZW1vdmVBbGwiLCJ2dWUiLCIkZWwiLCIkZGVzdHJveSIsIiR2dWVSZW1vdmUiLCIkcmVhY3RSZW1vdmVBbGwiLCJjb250YWluZXIiLCJlbGVtZW50IiwicmVuZGVyT3RoZXJBcmd1bWVudHMiLCJyZWFjdCIsIlJlYWN0RE9NIiwidmlldyIsInJlbmRlciIsImVsIiwidW5tb3VudENvbXBvbmVudEF0Tm9kZSIsIiRsb2dXYXJuIiwiJHJlYWN0UmVtb3ZlIiwiaW5pdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFVWSxNQUVDQSxFQUNVLG9CQUFaQyxTQUEyQkEsUUFBUUMsVUFBWUQsUUFBUUMsU0FBU0MsS0FHOURDLEVBQWlCLENBQzFCQyxVQUEyQkwsR0FOK0MsTUFPMUVNLGNBQWUsQ0FDWEMsS0FBTSxDQUFDLGVBQWdCLFlBQWEsUUFBUyxPQUFRLE9BRXpEQyxlQUFnQ1IsR0FDekIsQ0FDQ08sS0FBTSxDQUFDLGdCQUFpQixvQkFDeEJFLFdBQVksQ0FDUkMsUUFBU0MsUUFBUUMsV0FBV0MsUUFDNUJDLE9BQVEsU0FBU0MsR0FDYixPQUFPQSxFQUFNQyxjQUs3QkMsWUFDTyxDQUNDQyxxQkFBc0IsQ0FDbEJOLFdBQVksQ0FDUk8sS0FBTSxJQUFNUCxXQUNaUSxLQUFNLHlGQUVWQyxNQUFPLENBQ0hGLEtBQU0sSUFBTUUsTUFDWkQsS0FBTSxvRUFFVkUsUUFBUyxDQUNMSCxLQUFNLElBQU1HLFFBQ1pGLEtBQU0sc0RBRVZHLCtCQUFnQyxDQUM1QkosS0FBTSxLQUFNLElBQUlLLGlCQUFrQkMsT0FDbENMLEtBQU0sc0hBR1ZNLGlCQUFrQixDQUNkUCxLQUFNLElBQU1PLGlCQUNaTixLQUFNLGtFQzVDYk8sRUFBaUIsQ0FDMUJDLElBQUssR0FDTEMsT0FDSSxHQUFJQyxLQUFLRixJQUFLLENBQ1YsSUFBSUEsRUFBTUUsS0FBS0YsV0FDUkUsS0FBS0YsSUFDWixJQUFLLElBQUlHLEtBQVVILEVBQ2ZHLFdBRUduQixXQUFXb0IsbUJBRzFCSCxPQUFPSSxHQUNISCxLQUFLRixJQUFJTSxLQUFLRCxLQUlmLFNBQVNoQixJQUNaa0IsUUFBUUMsSUFBSSwwRUFDWixJQUFLLElBQUtDLEVB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
