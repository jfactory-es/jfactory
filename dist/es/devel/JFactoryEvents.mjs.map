{"version":3,"file":"JFactoryEvents.mjs","sources":["../../../src/JFactoryEvents.mjs"],"sourcesContent":["import { JFACTORY_DEV } from \"./jFactory-env.mjs\";\nimport { JFACTORY_ERR_INVALID_VALUE } from \"./JFactoryError.mjs\";\nimport { JFactoryExpect } from \"./JFactoryExpect.mjs\";\nimport { JFactoryPromiseSync } from \"./JFactoryPromise.mjs\";\nimport { JFactoryFunctionComposer } from \"./JFactoryFunction.mjs\";\nimport { jQuery, helper_isPlainObject } from \"./jFactory-helpers.mjs\";\n\n// ---------------------------------------------------------------------------------------------------------------------\n// JFactoryEvents\n// ---------------------------------------------------------------------------------------------------------------------\n// https://learn.jquery.com/events/event-extensions/\n// ---------------------------------------------------------------------------------------------------------------------\n// Status: Beta\n// ---------------------------------------------------------------------------------------------------------------------\n\nexport class JFactoryEvents {\n    // -----------------------------------------------------------------------------------------------------------------\n    // jQuery doesn't handle async trigger so jFactory provides the following :\n    //\n    // - triggerParallel(): the trigger function returns a Promise.all(pendingArray)\n    //   where pendingArray is filled by any async running handler.\n    //   Not recommended because it's the best way to produce unpredictable async side effects\n    //\n    // - triggerSeries(): handlers are run in a synchronous order, with \"await\"\n    //   This avoids unpredictable async race condition\n    //\n    //  Both returns a JFactoryPromiseSync that contains the jFactory_fulfilled flag\n    //  This flag is immediately (not async) set to true if no async handler is still pending\n    //\n    // => handlers are wrapped. OriginalHandlers and wrappedHandlers relations are stored in a WeakMap\n    // -----------------------------------------------------------------------------------------------------------------\n\n    constructor() {\n        Object.defineProperties(this, /** @lends JFactoryEvents# */ {\n            registry: { value: jQuery(Object.create(null)) },\n            handlers: { value: new WeakMap },\n            onListenerUpdate: { value: null, writable: true },\n            onObserverUpdate: { value: null, writable: true }\n        });\n    }\n\n    on({ events, handler, target, selector }) {\n        if (JFACTORY_DEV) {\n            JFactoryEvents.validateSelector(events);\n            JFactoryExpect(\"JFactoryEvents.on({handler})\", handler).typeFunction();\n            target && JFactoryExpect(\"JFactoryEvents.on({target})\", target).type(String, jQuery, HTMLElement);\n            selector && JFactoryExpect(\"JFactoryEvents.on({selector})\", target).typeString();\n        }\n\n        let wrappedHandler = this.handlers.get(handler);\n        if (target) {\n            // don't need to wrap DOM handlers\n            if (!wrappedHandler) {\n                this.handlers.set(handler, true);\n            }\n            if (selector) {\n                jQuery(target).on(events, selector, handler);\n            } else {\n                jQuery(target).on(events, handler);\n            }\n            if (this.onListenerUpdate) {\n                this.onListenerUpdate(arguments)\n            }\n        } else {\n            if (!wrappedHandler) {\n                this.handlers.set(handler, wrappedHandler = function(e, { data, stack }) {\n                    stack.push(() => handler(e, data))\n                });\n                wrappedHandler.originalHandler = handler;\n            }\n            this.registry.on(events, wrappedHandler);\n            if (this.onObserverUpdate) {\n                this.onObserverUpdate(arguments)\n            }\n        }\n    }\n\n    off({ events, handler, target, selector }) {\n        if (JFACTORY_DEV) {\n            if (events !== undefined) { // off() is valid\n                JFactoryEvents.validateSelector(events);\n                handler && JFactoryExpect(\"JFactoryEvents.off({handler})\", handler).typeFunction();\n                target && JFactoryExpect(\"JFactoryEvents.off({target})\", target).type(String, jQuery, HTMLElement);\n                selector && JFactoryExpect(\"JFactoryEvents.off({selector})\", target).typeString();\n            }\n        }\n\n        if (target) {\n            if (selector) {\n                jQuery(target).off(events, selector, handler)\n            } else {\n                jQuery(target).off(events, handler)\n            }\n        } else {\n            jQuery(\"*\").off(events, handler);\n\n            if (handler) {\n                handler = this.handlers.get(handler);\n                if (!handler) {\n                    throw new JFACTORY_ERR_INVALID_VALUE({\n                        target: \"handler\",\n                        reason: \"not registered\",\n                        given: handler\n                    })\n                }\n            }\n            this.registry.off(events, handler);\n        }\n        if (this.onObserverUpdate) {\n            this.onObserverUpdate(arguments)\n        }\n        if (this.onListenerUpdate) {\n            this.onListenerUpdate(arguments)\n        }\n    }\n\n    /**\n     * Run in parallel. Don't \"await\" for async handlers\n     * Obviously produces unpredictable race conditions\n     */\n    triggerParallel({ events, data, target }) {\n        if (JFACTORY_DEV) {\n            JFactoryEvents.validateSelector(events);\n            target\n                && JFactoryExpect(\"JFactoryEvents.triggerParallel({target})\", target).type(String, jQuery, HTMLElement)\n        }\n\n        const stack = [];\n        const pending = [];\n        events = events.split(\" \");\n\n        if (target) {\n            for (let event of events) {\n                jQuery(target).trigger(event, { data, stack });\n            }\n        } else {\n            for (let event of events) {\n                this.registry.triggerHandler(event, { data, stack })\n            }\n        }\n\n        for (let handler of stack) {\n            let result = handler();\n            if (result instanceof Promise\n                && !result.$isSettled // don't need to await\n            ) {\n                pending.push(result)\n            }\n        }\n\n        if (pending.length) {\n            return Promise.all(pending)\n        } else {\n            return JFactoryPromiseSync.resolve()\n        }\n    }\n\n    /**\n     * Run in declaration order synchronously. Will \"await\" for async handlers\n     * Prevents unpredictable race conditions\n     */\n    triggerSeries({ events, data, target }) {\n        if (JFACTORY_DEV) {\n            JFactoryEvents.validateSelector(events);\n            target && JFactoryExpect(\"JFactoryEvents.triggerSeries({target})\", target).type(String, jQuery, HTMLElement)\n        }\n\n        return new JFactoryPromiseSync(async resolve => {\n            const stack = [];\n            events = events.split(\" \");\n\n            if (target) {\n                for (let event of events) {\n                    jQuery(target).trigger(event, { data, stack });\n                }\n            } else {\n                for (let event of events) {\n                    this.registry.triggerHandler(event, { data, stack })\n                }\n            }\n\n            for (let handler of stack) {\n                let result = handler();\n                if (result instanceof Promise\n                    && !result.$isSettled // don't need to await\n                ) {\n                    await result\n                }\n            }\n            resolve()\n        })\n    }\n}\n\n// ---------------------------------------------------------------------------------------------------------------------\n// ---------------------------------------------------------------------------------------------------------------------\n\nexport class JFactoryEventsManager extends JFactoryEvents {\n    constructor(parent) {\n        super();\n        Object.defineProperties(this, {\n            parent: { value: parent },\n            affiliateRules: { value: new JFactoryFunctionComposer().compose() }\n        });\n        this.affiliateAddRule(JFactoryEventsManager.rule_namespace)\n    }\n\n    affiliate(events = \"\", namespaces = \"\", options) {\n        let parser = new JFactoryEventSelectorParser(events);\n        for (let parsedEvent of parser.events) {\n            this.affiliateRules(parsedEvent, namespaces, options)\n        }\n        return parser.toString();\n    }\n\n    affiliateAddRule(handler) {\n        this.affiliateRules.composer.last(handler)\n    }\n\n    static rule_namespace(context, parsedEvent, namespaces) {\n        namespaces = namespaces.split(\".\");\n        for (let namespace of namespaces) {\n            namespace && parsedEvent.addNamespace(namespace);\n        }\n    }\n\n    on(events, target, selector, handler, options) {\n        // Observers:\n        // events, handler\n        // events, handler, options\n\n        // DOM Events:\n        // events, target, handler\n        // events, target, handler, options\n        // events, target, selector, handler,\n        // events, target, selector, handler, options\n\n        switch (arguments.length) {\n            case 2:\n                // events, handler\n                [handler, target] = [target/*, undefined*/];\n                break;\n            case 3:\n                if (typeof arguments[2] === \"function\") {\n                    // events, target, handler\n                    [handler, selector] = [selector/*, undefined*/];\n                } else {\n                    // events, handler, options\n                    [handler, options, target, selector] = [target, selector/*, undefined, undefined*/];\n                }\n                break;\n            case 4:\n                if (typeof arguments[3] === \"object\") {\n                    // events, target, handler, options\n                    [options, handler, selector] = [handler, selector/*, undefined*/];\n                }\n                break;\n        }\n\n        events = this.affiliate(events, this.parent.$.about.fingerprint, options);\n\n        target === undefined ?\n            super.on({ events, handler }) :\n            super.on({ events, target, selector, handler/*, options*/ })\n    }\n\n    off(events, target, selector, handler, options) {\n        // Both:\n        // events (can be namespaces)\n        // events, options\n        // options (can be removal)\n\n        // Observer:\n        // events, handler\n        // events, handler, options\n\n        // DOM Events:\n        // events, target, handler\n        // events, target, handler, options\n        // events, target, selector\n        // events, target, selector, handler,\n        // events, target, selector, handler, options\n\n        const argL = arguments.length;\n        switch (argL) {\n            case 1:\n                if (typeof arguments[0] === \"object\") {\n                    // options\n                    [options, events] = [events/*, undefined*/];\n                }\n                // else events (can namespaces)\n                break;\n            case 2:\n                if (typeof arguments[1] === \"function\") {\n                    // events, handler\n                    [handler, target] = [target/*, undefined*/];\n                } else if (helper_isPlainObject(arguments[1])) {\n                    // events, options\n                    [options, target] = [target/*, undefined*/]\n                }\n                // else events, target\n                break;\n            case 3:\n                if (typeof arguments[2] === \"function\") {\n                    // events, target, handler\n                    [handler, selector] = [selector/*, undefined*/];\n                } else if (typeof arguments[1] === \"function\") {\n                    // events, handler, options\n                    [handler, options, target, selector] = [target, selector/*, undefined, undefined*/];\n                } else {\n                    // events, target, selector\n                }\n                break;\n            case 4:\n                if (typeof arguments[3] === \"object\") {\n                    // events, target, handler, options\n                    [options, handler, selector] = [handler, selector/*, undefined*/];\n                }\n                break;\n        }\n\n        events = this.affiliate(events, this.parent.$.about.fingerprint, options);\n\n        if (argL < 2) {\n            super.off({ events });\n        } else {\n            target ?\n                super.off({ events, target, selector, handler/*, options*/ }) :\n                super.off({ events, handler })\n        }\n    }\n\n    trigger(events, target, data) {\n        // events\n        // events, target\n        // events, data\n        // events, target, data\n\n        switch (arguments.length) {\n            case 2:\n                if (typeof target === \"object\" && !target.jquery) {\n                    // events, data\n                    [data, target] = [target]\n                }\n                // events, target\n                break\n        }\n\n        return target ?\n            super.triggerSeries({ events, target, data }) :\n            super.triggerSeries({ events, data })\n    }\n\n    triggerParallel(events, target, data) {\n        // events\n        // events, target\n        // events, data\n        // events, target, data\n\n        switch (arguments.length) {\n            case 2:\n                if (typeof target === \"object\" && !target.jquery) {\n                    // events, data\n                    [data, target] = [target]\n                }\n                // events, target\n                break\n        }\n\n        return target ?\n            super.triggerParallel({ events, target, data }) :\n            super.triggerParallel({ events, data })\n    }\n\n    // #unoptimized draft#\n    // It's not easy to keep this list up to date because:\n    // - listeners can be removed by external dom mutations\n    // - listeners can be delegated\n    // - off() method can remove listeners globally\n    getDomListeners(namespace) {\n        let result = new Map();\n        for (let elm of jQuery(\"*\")) {\n            let data = jQuery._data(elm, \"events\");\n            if (data) {// data = {click: [{}], ... }\n                for (let entries of Object.values(data)) {// entries = [{type:...}]\n                    for (let entry of entries) {// entry = {type, namespace, handler, ...}\n                        let parser = new JFactoryEventSelector(entry.namespace);\n                        let types;\n                        if (parser.hasNamespace(namespace)) {\n                            if (!(types = result.get(elm))) {\n                                result.set(elm, types = {})\n                            }\n                            let type = types[entry.type] || (types[entry.type] = []);\n                            type.push({\n                                // ...entry,\n                                selector: entry.selector || null,\n                                handler: entry.handler,\n                                namespace: entry.namespace\n                            });\n                        }\n                    }\n                }\n            }\n        }\n        return result\n    }\n\n    // #unoptimized draft#\n    getObservers() {\n        let result = new Map();\n        let events = this.registry._events;\n\n        if (!events) {\n            let registry = Object.values(this.registry)[0];\n            let expando = Object.getOwnPropertyNames(registry).find(k => k.indexOf(\"jQuery\") === 0);\n            if (registry && expando) {\n                events = this.registry._events = registry[expando].events;\n            }\n        }\n\n        if (events) {\n            for (let [key, val] of Object.entries(events)) {\n                let event = result.get(key);\n                if (!event) {\n                    event = [];\n                    result.set(key, event);\n                }\n                for (let eventTypeEntry of val) {\n                    event.push({\n                        handler: eventTypeEntry.handler.originalHandler,\n                        namespace: eventTypeEntry.namespace\n                    })\n                }\n            }\n        }\n\n        return result\n    }\n}\n\n// ---------------------------------------------------------------------------------------------------------------------\n// ---------------------------------------------------------------------------------------------------------------------\n\nexport class JFactoryEventSelectorParser {\n    constructor(selectors) {\n        if (JFACTORY_DEV) {\n            JFactoryEvents.validateSelector(selectors);\n        }\n        /**\n         * @type Array<JFactoryEventSelector>\n         */\n        this.events = selectors.split(\" \").map(selector => new JFactoryEventSelector(selector))\n    }\n\n    toString() {\n        let s = [];\n        for (let event of this.events) {\n            s.push(event.toString())\n        }\n        return s.join(\" \")\n    }\n}\n\nexport class JFactoryEventSelector {\n    constructor(selector) {\n        let [event, ...namespace] = selector.split(\".\");\n        this.event = event;\n        this.namespace = new Set(namespace)\n    }\n\n    /** @return {Boolean|String} */\n    hasNamespace(namespaces) {\n        if (!Array.isArray(namespaces)) {\n            namespaces = [namespaces]\n        }\n        for (let namespace of namespaces) {\n            if (JFACTORY_DEV) {\n                if (!/^[\\w:]+$/.test(namespace)) {\n                    throw new JFACTORY_ERR_INVALID_VALUE({\n                        target: \"namespace\",\n                        reason: \"must be alphanumeric, underscore and colon characters\",\n                        given: namespace\n                    })\n                }\n            }\n            if (namespace && this.namespace.has(namespace)) {\n                return namespace\n            }\n        }\n        return false\n    }\n\n    addNamespace(namespace) {\n        if (JFACTORY_DEV) {\n            if (!/^[\\w:]+$/.test(namespace)) {\n                throw new JFACTORY_ERR_INVALID_VALUE({\n                    target: \"namespace\",\n                    reason: \"must be alphanumeric, underscore and colon characters\",\n                    given: namespace\n                })\n            }\n        }\n        this.namespace.add(namespace)\n    }\n\n    deleteNamespace(namespace) {\n        if (JFACTORY_DEV) {\n            if (!/^[\\w:]+$/.test(namespace)) {\n                throw new JFACTORY_ERR_INVALID_VALUE({\n                    target: \"namespace\",\n                    reason: \"must be alphanumeric, underscore and colon characters\",\n                    given: namespace\n                })\n            }\n        }\n        this.namespace.delete(namespace)\n    }\n\n    toString() {\n        return this.namespace.size ? this.event + \".\" + Array.from(this.namespace.values()).join(\".\") : this.event;\n    }\n}\n\n// -----------------------------------------------------------------------------------------------------------------\n// -----------------------------------------------------------------------------------------------------------------\n\nif (JFACTORY_DEV) {\n    JFactoryEvents.validateSelector = function(selector) {\n        if (JFACTORY_DEV) {\n            JFactoryExpect(\"JFactoryEvents.validateSelector(selector)\", selector)\n                .notUndefined()\n                .validSpaces();\n        }\n\n        for (let [event, ns] of selector.split(\" \")\n            .map(v => v.split(\".\"))\n            .map(v => [v.shift(), v.join(\".\")])) {\n            event && JFactoryEvents.validateEvent(event);\n            ns && JFactoryEvents.validateNamespace(ns);\n        }\n        return true\n    };\n\n    JFactoryEvents.validateEvent = function(event) {\n        if (JFACTORY_DEV) {\n            JFactoryExpect(\"JFactoryEvents.validateEvent(event)\", event)\n                .notUndefined()\n                .notEmptyString()\n                .validSpaces();\n        }\n\n        if (!/^[\\w:]+$/.test(event)) {\n            throw new JFACTORY_ERR_INVALID_VALUE({\n                target: \"JFactoryEvents.validateEvent(event)\",\n                reason: \"must be alphanumeric, underscore and colon characters\",\n                given: event\n            })\n        }\n\n        return true\n    };\n\n    JFactoryEvents.validateNamespace = function(namespace) { // ex: ns.ns2.ns3\n        if (JFACTORY_DEV) {\n            JFactoryExpect(\"JFactoryEvents.validateNamespace(namespace)\", namespace)\n                .notUndefined()\n                .notEmptyString()\n                .validSpaces();\n        }\n\n        if (!/^[\\w:.]+$/.test(namespace)) {\n            throw new JFACTORY_ERR_INVALID_VALUE({\n                target: \"JFactoryEvents.validateNamespace(namespace)\",\n                reason: \"must be alphanumeric, underscore, dot and colon characters\",\n                given: namespace\n            })\n        }\n\n        return true\n    };\n}"],"names":[],"mappings":"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"}