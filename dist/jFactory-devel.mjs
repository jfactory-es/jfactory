/*!
 * jFactory v1.7.2
 * https://github.com/jfactory-es/jfactory
 *
 * Copyright (c) 2019, StÃ©phane Plazis
 * https://github.com/jfactory-es/jfactory/blob/master/LICENSE.txt
 */
import e from"lodash";import t from"jquery";const s=!0,i=!1,r="undefined"!=typeof process&&process.versions&&process.versions.node,n={enabled:!r||false},a={keys:["$.about.name","$dev_name","$name","name","id"]},o=!r&&{keys:["$dev_traceLog","$dev_traceSource"],libOptions:{offline:Boolean(globalThis.chrome),filter:function(e){return e.lineNumber}}},l=t,c=e.isNative,h=e.isString,u=e.isNumber,d=e.isPlainObject,p=e.defaultsDeep,m=e.lowerFirst,$=e.get,f=e.template,g=e.camelCase,v=()=>{},b=(e,t)=>Object.defineProperty(t,"name",{value:e}),E=document.createElement("a"),A=e=>(E.href=e,E.href);let y=[];function S(){if(y){for(let e of y)e();y=null,delete globalThis.jFactoryOverride}}function R(e){y.push(e)}class _{constructor({label:e,stackTraceLimit:t,keys:s,libOptions:i}={}){this.label=e||"The stack has been printed in the console",this.stackTraceLimit=t||1/0,this.keys=s||["stackLog","stackSource"],this.libOptions=i||{}}captureTraceSource(e,t){let s;this.stackTraceLimit&&(s=Error.stackTraceLimit,Error.stackTraceLimit=this.stackTraceLimit),e||(e="captureTraceSource",t=!0);let i={source:new Error,omitAboveFunctionName:e,omitSelf:t};return this.stackTraceLimit&&(Error.stackTraceLimit=s),i}attachTrace(e,t){"object"!=typeof t&&(t=this.captureTraceSource(t||"attachTrace",!t));let s=t.source;this.toPrintableTrace(t).then((e=>s=e));let i=()=>console.log(s)||this.label;Object.defineProperty(e,this.keys[0],{enumerable:!1,configurable:!0,get:()=>i()}),Object.defineProperty(e,this.keys[1],{enumerable:!1,configurable:!0,get:()=>t})}toPrintableTrace(e){return Promise.resolve(e.source)}}class w extends _{constructor(e){super(e)}toPrintableTrace(e){return StackTrace.fromError(e.source,this.libOptions).then((t=>{if(e.omitAboveFunctionName){let s=t.findIndex((t=>t.functionName&&t.functionName.endsWith(e.omitAboveFunctionName)));s>0&&(e.omitSelf&&s++,t=t.slice(s))}return t=t.filter(this.libOptions.filter),this.formatTraceFrames(t)}))}formatTraceFrames(e){let t,s;return this.libOptions.offline&&window.chrome?(t="Error\n",s="\tat "):(t="",s=""),t+e.map((e=>s+e.toString())).join("\n")}}const O={};R((function(){let e=o;if(e&&!1!==e.use){let t;t="function"==typeof e.use?e.use:"object"==typeof StackTrace?w:_,t===w&&console.warn("jFactory: Stack trace enabled; Performance will be affected"),O.tracer=new t(e)}else O.tracer={captureTraceSource:v,attachTrace:v}}));class T extends Error{constructor(e="unspecified error",t=null){t=Object.assign(Object.create(null),t),super(e=T.toPrintable(e,t)),this.$data=Object.assign(Object.create(null),t)}toString(){return this.message}*[Symbol.iterator](){yield this.message,yield this.$data}static getId(e){return e[(a.keys||T.DEFAULT_KEYS).find((t=>{let s=$(e,t);return s||0===s}))]}static toPrintableData(e){const t={};let s;for(let[i,r]of Object.entries(e)){switch(typeof r){case"function":r=r.name+"()";break;case"object":if(null===r){r="null";break}if(r instanceof Error){r=r.toString();break}if(void 0!==(s=T.getId(r)))r='"'+s+'"';else if(c(r.toString))try{s=JSON.stringify(r),r=s.length>T.JSON_MAX?s.substring(0,T.JSON_MAX)+"[...]":s}catch(e){r="[object "+r.constructor.name+"]"}else r=r.toString();break;case"string":r='"'+r+'"';break;default:r=String(r)}t[i]=r}return t}static toPrintable(e,t){const s=[];for(let i of e.split(";")){let e,r=T.RE_PLACEHOLDER;if(r.lastIndex=0,e=r.exec(i)){do{if(e[1]&&e[1]in t){s.push(i.trim());break}}while(null!==(e=r.exec(i)))}else s.push(i.trim())}return m(f(s.join("; "))(T.toPrintableData(t)))}static factory(e,t){let s=class extends T{constructor(e,s){super(t,e),O.tracer.attachTrace(this.$data,s)}};return s.prototype.name="Error JFACTORY_ERR_"+e,s}}T.JSON_MAX=40,T.DEFAULT_KEYS=["name","id"],T.RE_PLACEHOLDER=/\${([^}]+)}/g;const P=T.factory,L=P("INVALID_VALUE","invalid value for ${target}; Reason: ${reason}; Given: ${given}"),N=P("INVALID_CALL","invalid call ${target}; Reason: ${reason}; Owner: ${owner}"),j=P("PROMISE_EXPIRED","expired promise ${target}; Reason: ${reason}"),I=P("REQUEST_ERROR","error requesting ${target}; Reason: ${reason}; Owner: ${owner}"),k=P("KEY_DUPLICATED","duplicated key for ${target}; Given: ${given}"),M=P("KEY_MISSING","missing key for ${target}; Given: ${given}");function C(e,t){if(!new.target)return new C(e,t);this.label=e,this.value=t}const F=function(e,t,s){throw new L({target:e,reason:s,given:t})},B={notUndefined:(e,t)=>(void 0===t&&F(e,t,"cannot be undefined"),!0),notEmptyString:(e,t)=>(""===t&&F(e,t,"cannot be empty string"),!0),notFalsy:(e,t)=>(t||F(e,t,'cannot be a falsy value (undefined, null, NaN, 0, "")'),!0),validSpaces:(e,t)=>(t.replace&&t.replace(/\s+/g," ").trim()===t||F(e,t,"invalid space delimiters"),!0),matchReg:(e,t,s)=>(s.test(t)||F(e,t,'string "'+t+'" must match '+s),!0),type(e,t,...s){let i,r=!1;for(let n of s){null===n?i="Null":"name"in n&&(i=n.name);let s=B["type"+i];if(s)try{r=s(e,t)}catch(e){}else r=t instanceof n;if(r)break}return r||F(e,t,"must be an instance of ["+s.map((e=>e.name)).join(", ")+"]"),!0},typeNull:(e,t)=>(null!==t&&F(e,t,"must be null"),!0),typeBoolean:(e,t)=>(!0!==t&&!1!==t&&F(e,t,"must be a boolean"),!0),typeString:(e,t)=>(h(t)||F(e,t,"must be a string"),!0),typeNumber:(e,t)=>(u(t)||F(e,t,"must be a number"),!0),typeFunction:(e,t)=>("function"!=typeof t&&F(e,t,"must be a function"),!0),typePlainObject:(e,t)=>(d(t)||F(e,t,"must be a plain object"),!0),equal(e,t,...s){let i=!1;for(let e of s)if(i=t===e)break;return i||F(e,t,"must be one of ["+s+"]"),!0},equalIn:(e,t,s)=>(Array.isArray(s)||(s=Object.values(s)),s.includes(t)||F(e,t,"must be one from ["+s.join(", ")+"]"),!0),properties(e,t,s){for(let i of Object.getOwnPropertyNames(t))C(e+', property name "'+i+'"',i).equalIn(s);return!0},writable:(e,t,s)=>(Object.getOwnPropertyDescriptor(t,s).writable||F(e,t,"must be writable"),!0),notWritable:(e,t,s)=>(Object.getOwnPropertyDescriptor(t,s).writable&&F(e,t,"must not be writable"),!0),enumerable:(e,t,s)=>(Object.prototype.propertyIsEnumerable.call(t,s)||F(e,t,"must be enumerable"),!0),notEnumerable:(e,t,s)=>(Object.prototype.propertyIsEnumerable.call(t,s)&&F(e,t,"must not be enumerable"),!0),configurable:(e,t,s)=>(Object.getOwnPropertyDescriptor(t,s).configurable||F(e,t,"must be configurable"),!0),notConfigurable:(e,t,s)=>(Object.getOwnPropertyDescriptor(t,s).configurable&&F(e,t,"must not be configurable"),!0),reservedProperty:(e,t,s)=>(s in t&&F(e,t,"is a reserved property"),!0)};R((function(){Object.assign(C,B);for(const e of Object.getOwnPropertyNames(B))C.prototype[e]=function(...t){return C[e](this.label,this.value,...t),this}}));class H{constructor(e,t,s={}){this.callerInstance=e,this.callerConstructor=t,this.options=s}use(e,...t){C("JFactoryTraits(trait)",e).typeFunction();let{callerInstance:s,callerConstructor:i}=this,r=H.CACHE.get(s);if(r){if(r.has(e))return n.enabled&&console.warn(`${e.name} already called on`,s),this;r.add(e)}else H.CACHE.set(s,new WeakSet([e]));!i.JFactoryTrait&&(i.JFactoryTrait=new WeakSet),i.JFactoryTrait.has(e)||(i.JFactoryTrait.add(e),this.export(e.prototype,i.prototype),this.export(e,i,!0));let a=new e(s,...t);return a.trait_constructor&&a.trait_constructor.apply(s,t),this}export(e,t,s){let i=Object.getOwnPropertyDescriptors(e);for(let r of Object.keys(i)){let n=H.getPrefix(r);if(H.getTarget(r,t,n)){let n=i[r],a=(this.options.parser||H.defaultParser)(r,n,e,t,s);a&&(({propertyName:r,propertyDescriptor:n}=a),Object.defineProperty(t,r,n))}}}static defaultParser(e,t,s,i,r){let a=t.value;return r?null:e in i?(n.enabled&&console.warn(`${i.constructor.name}> skipping export of existing property "${e}"`,a),null):"object"==typeof a?(n.enabled&&console.warn(`${i.constructor.name}> skipping export of shared object "${e}"`,a),null):{propertyName:e,propertyDescriptor:t}}static getPrefix(e){let t=e.split("_");return t.length>1?t[0]:null}static getTarget(e,t,s){return H.EXCLUDES.includes(e)||"trait"===s?null:t}}H.CACHE=new WeakMap,H.EXCLUDES=["constructor","prototype","length","size"];class U{constructor(){this.handlers=Object.create(null)}*[Symbol.iterator](e=[]){e.length||(e=Object.keys(this.handlers)),e.length||(e=["default"]);for(let t of e)t in this.handlers&&(yield*this.handlers[t])}first(e,t){return 1===arguments.length&&([e,t]=["default",e]),(this.handlers[e]||(this.handlers[e]=[])).unshift(t),this}last(e,t){return 1===arguments.length&&([e,t]=["default",e]),(this.handlers[e]||(this.handlers[e]=[])).push(t),this}compose(...e){let t=this,s=function(){let s={canceled:!1,parameters:Array.from(arguments),result:void 0},i=t[Symbol.iterator](e),r=i.next();return U.composite_iterator(this,s,r,i)};return s.composer=t,s}static composite_iterator(e,t,s,i){let r,n;for(;!t.canceled&&!s.done;)if(r=s.value,n=e?r.call(e,t,...t.parameters):r(t,...t.parameters),s=i.next(),n instanceof Promise){if(!s.done||n.constructor===Promise)return n.then(b([r.name,"[compositeAsyncHandler]"].filter(Boolean).join(" "),(function(r){return t.result=r,U.composite_iterator(e,t,s,i)})));t.result=n}else t.result=n;return t.result}}function D(e){return new q(e).compose()}class q{constructor(e){this.originalHandler=e,this.expiredCalls=0,this.composer=new U;let t,s=this.composer.compose("conditions"),i=this;this.isExpired=e=>t||s.call(e)||!1,this.setExpired=e=>t=e?e instanceof Error?e:new N({target:this.originalHandler,reason:"manually expired"}):Boolean(this.expiredCalls=0),this.addExpireCondition=function(e){this.composer.last("conditions",(function(t){let s=function(s){return C("JFactoryFunctionExpirable.addExpireCondition(), result",s).type(Boolean,Error),i.setExpired(!!s&&((t.canceled=!0)&&(s instanceof Error?s:new N({target:i.originalHandler,reason:"conditionally expired",condition:e}))))},r=e.apply(this,t.parameters);return r instanceof Promise?r.then(s):s(r)}))}}compose(){let e=this,t=function(){let t=e.isExpired(this),s=e.constructor.call.bind(void 0,e,this,arguments);return t instanceof Promise?t.then(s):s(t)};return Object.assign(t,{expirable:this,isExpired:e=>this.isExpired(e),setExpired:e=>this.setExpired(e),addExpireCondition:e=>(this.addExpireCondition(e),t)})}static call(e,t,s,i){return i?e.onExpired(i):e.onNotExpired(t,s)}onExpired(e){return this.expiredCalls<q.MaxWarningExpiration&&(this.expiredCalls++,n.enabled&&console.warn(...new N({...e.$data,reason:e.$data.reason+"; expiredCalls="+this.expiredCalls+(this.expiredCalls===q.MaxWarningExpiration?"; Max Warning Exceeded":"")}))),e}onNotExpired(e,t){return this.originalHandler.apply(e,t)}}function J(e){return new Y(e).compose()}q.MaxWarningExpiration=10;class Y{constructor(e){this.originalHandler=e,this.composer=new U,this.composer.first("original",b([e.name,"[condition]"].filter(Boolean).join(" "),(function(t){return e.apply(this,t.parameters)})))}compose(){let e=this.composer.compose("conditions","original");return Object.assign(e,{conditional:this,addCondition:t=>(this.addCondition(t),e)})}addCondition(e){this.composer.last("conditions",(function(t){let s=function(e){C("JFactoryFunctionConditional.addCondition(), result",e).typeBoolean(),!e&&(t.canceled=!0)},i=e.apply(this,t.parameters);return i instanceof Promise?i.then(s):s(i)}))}}function V(e){return new W(e).compose()}class W{constructor(e){this.originalHandler=e,this.composer=new U,this.composer.first("original",b([e.name,"[wrapped]"].filter(Boolean).join(" "),(function(t){return e.apply(this,t.parameters)})))}compose(){let e=this.composer.compose("before","original","after");return Object.assign(e,{wrappable:this,beforeAll:t=>(this.beforeAll(t),e),justBefore:t=>(this.justBefore(t),e),justAfter:t=>(this.justAfter(t),e),afterAll:t=>(this.afterAll(t),e)})}beforeAll(e){this.composer.first("before",e)}justBefore(e){this.composer.last("before",e)}justAfter(e){this.composer.first("after",e)}afterAll(e){this.composer.last("after",e)}}function z(e,t){return new H(e,t,{parser(e,t){let s=H.defaultParser(...arguments);if(s){({propertyName:e,propertyDescriptor:t}=s);let i=t.value;if("function"==typeof i)switch(i.name){case"$install":case"$uninstall":case"$enable":case"$disable":case"$state":break;default:t.value=V(i).beforeAll((function(){if(!this.$.states.enabled&&"PHASE_NONE"===this.$.service.phase){let e=new N({owner:this,target:i,reason:"component disabled"});throw this.$logErr(...e),e}}))}return{propertyName:e,propertyDescriptor:t}}}})}class G{constructor(e){G.inject(this,G,e)}static inject(e,t,s){z(e,t).use(K.TraitCore).use(K.TraitAbout,{name:s}).use(K.TraitLog).use(K.TraitEvents).use(K.TraitState).use(K.TraitService).use(K.TraitTask)}}class Q extends G{constructor(e){super(e),Q.inject(this,Q)}static inject(e,t){z(e,t).use(K.TraitFetch).use(K.TraitDOM).use(K.TraitCSS).use(K.TraitMutation).use(K.TraitTimeout).use(K.TraitInterval).use(K.TraitLibVue).use(K.TraitLibReact)}}const K=(e,t)=>Object.assign(new Q(e),t),X={name:"globalThis",test:()=>globalThis,info:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/globalThis"},Z={name:"fetch",test:()=>fetch,info:"https://developer.mozilla.org/docs/Web/API/Fetch_API/Using_Fetch"},ee={name:"Request",test:()=>Request,info:"https://developer.mozilla.org/docs/Web/API/Request"},te={name:"AbortController/AbortSignal",test:()=>(new AbortController).signal,info:"https://developer.mozilla.org/docs/Web/API/AbortController, https://developer.mozilla.org/docs/Web/API/AbortSignal"},se={name:"MutationObserver",test:()=>MutationObserver,info:"https://developer.mozilla.org/docs/Web/API/MutationObserver"};let ie={};function re(...e){for(let t of e)ie[t.name]=t}function ne(){for(let[e,t]of Object.entries(ie)){let s;try{s=Boolean(t.test())}catch(e){}s||console.warn(`jFactory may require the support of "${e}", ${t.info}`)}ie=null}function ae(){console.log("jFactory is running in development mode; performances will be affected"),!n.enabled&&console.warn("jFactory logs disabled"),S(),ne()}re(X);class oe{static createDescriptors(e=oe.DESCRIPTORS_PROTOTYPE){let t=oe.create(e,!0,!0),s=Object.create(null);return s.NONE=t(),s.WRITABLE=t({writable:!0}),s.ENUMERABLE=t({enumerable:!0}),s.CONFIGURABLE=t({configurable:!0}),s.CONFIGURABLE_WRITABLE=s.WRITABLE_CONFIGURABLE=t({writable:!0,configurable:!0}),s.CONFIGURABLE_ENUMERABLE=s.ENUMERABLE_CONFIGURABLE=t({enumerable:!0,configurable:!0}),s.ENUMERABLE_WRITABLE=s.WRITABLE_ENUMERABLE=t({writable:!0,enumerable:!0}),s.WRITABLE_ENUMERABLE_CONFIGURABLE=s.WRITABLE_CONFIGURABLE_ENUMERABLE=s.ENUMERABLE_CONFIGURABLE_WRITABLE=s.ENUMERABLE_WRITABLE_CONFIGURABLE=s.CONFIGURABLE_WRITABLE_ENUMERABLE=s.CONFIGURABLE_ENUMERABLE_WRITABLE=t({writable:!0,enumerable:!0,configurable:!0}),s.READONLY=t({writable:!1,enumerable:!1,configurable:!1}),s}static assign(e,t,s,i){let r={};switch(typeof t){case"string":case"symbol":if(!i)throw new Error("missing descriptor argument; use Object.assign instead");(i=Object.create(i)).value=s,Object.defineProperty(e,t,i);break;case"object":if([s,i]=[t,s],!i)throw new Error("missing descriptor argument; use Object.assign instead");for(let e of Object.getOwnPropertyNames(s))r[e]=Object.create(i),r[e].value=s[e];for(let e of Object.getOwnPropertySymbols(s))r[e]=Object.create(i),r[e].value=s[e];Object.defineProperties(e,r);break;default:throw new Error("invalid property argument")}return e}static create(e,t=!1,s=!1){return function(i){return t?Object.assign(s?Object.create(null):{},e,i):Object.assign(Object.create(s?Object.assign(Object.create(null),e):e),i)}}static disinherit(e){return Object.assign(Object.create(null),e)}}oe.DESCRIPTORS_PROTOTYPE={writable:!1,enumerable:!1,configurable:!1},R((function(){oe.descriptors=oe.createDescriptors()}));const le=()=>++le.uid;le.uid=0;class ce{constructor(e,t={}){let s,i;C("JFactoryAbout(owner)",e).type(Object),C("JFactoryAbout(about)",t).typePlainObject().reservedProperty("uid").reservedProperty("fingerprint"),"name"in t&&C("JFactoryAbout(about.name)",t.name).typeString().notEmptyString();let r=le();t.name?(s=t.name,delete t.name,i="jFactory_"+g(s.toLowerCase())+"_"+r):(delete t.name,s=`[${e.constructor.name}#${r}]`,i="jFactory_"+e.constructor.name+"_"+r),oe.assign(this,{uid:r,name:s,fingerprint:i},oe.descriptors.ENUMERABLE),Object.assign(this,t),C("JFactoryAbout.name",this.name).matchReg(/^[\w[\]#]+$/),C("JFactoryAbout.fingerprint",this.fingerprint).matchReg(/^[\w]+$/)}}const he=()=>++he.uid;he.uid=0;class ue extends Promise{constructor({name:e,config:t,traceSource:s},i){1===arguments.length&&([e,t,i]=[null,null,arguments[0]]);const r=he();let n,a;t={...ue.DEFAULT_CONFIG,...t},C("name",e=e||"unnamed").type(String,Number).matchReg(/^[^. ]+$/),C("config",t).typePlainObject(),C("executor",i).typeFunction(),super(((e,t)=>{n=e,a=t}));const o=new de(this,r,e,t);Object.defineProperties(this,{$chain:{enumerable:!0,writable:!0,value:o},$type:{writable:!0,value:"promise"},$value:{writable:!0,value:void 0},$isSettled:{writable:!0,value:!1},$isRejected:{writable:!0,value:null},$isFulfilled:{writable:!0,value:null},$isExpired:{writable:!0,value:!1},$isAborted:{writable:!0,value:!1}}),Object.defineProperties(this,{$dev_name:{configurable:!0,value:e+"["+r+":0]"},$dev_path:{writable:!0,value:new pe(this)},$dev_position:{writable:!0,value:0}}),c(i)||Object.defineProperties(this,{$dev_source:{value:i}}),O.tracer.attachTrace(this,s);const l=()=>{if(!this.$chain.isPending)try{this.$chainComplete("auto-completed")}catch(e){console.error(e)}},h=e=>{if(!this.$isSettled){if(e===this)return void u(new TypeError("Chaining cycle detected for promise "+this.$dev_name));let t;if(null!==e&&("object"==typeof e||"function"==typeof x))try{t=e.then}catch(e){return void u(e)}if("function"==typeof t){let s=!1,i=function(e){s||(s=!0,h(e))},r=function(e){s||(s=!0,u(e))};try{t.call(e,i,r)}catch(e){s||u(e)}}else this.$isRejected=!1,this.$isFulfilled=!0,this.$isExpired&&(e=this.$chain.errorExpired),n(e),d(e)}},u=e=>{this.$isSettled||(this.$isRejected=!0,this.$isFulfilled=!1,a(e),d(e))},d=e=>{this.$value=e,this.$isSettled=!0,this.$chain.chainMap.set(this,!0),this.$chain.chainConfig.chainAutoComplete&&(1!==this.$chain.chainMap.size||this.$isExpired?l():this.then(l))};let p=t.chainAutoComplete;Object.defineProperty(t,"chainAutoComplete",{get:()=>p,set:e=>{p!==e&&(p=e,e&&l())}}),o.chainMap.set(this,!1),Object.defineProperties(this,{__resolve__:{value:h},__reject__:{value:u}});try{i(h,u)}catch(e){u(e)}}then(e,t,s){let i,r,n,a=c(e)&&!e.name.startsWith("bound ");e&&"function"==typeof e&&(i=function(s){return"await"===o?n.$isAborted?t(n.$chain.errorExpired):e(s):n.$isExpired?void 0:(n.$isSettled,e(s))}),t&&"function"==typeof t&&(r=function(e){return n.$isSettled,t(e)});let o=s||(a?"await":void 0===e?"catch":"then");n=Object.assign(super.then(i,r),this),he.uid--,n.$type=o;{n.$dev_position=this.$chain.chainMap.size;let s="";e&&e.name&&(s+=e.name),t&&t.name&&(s+=","+t.name),Object.defineProperties(n,{$dev_name:{value:this.$chain.chainName+"["+this.$chain.chainId+":"+this.$dev_position+"]."+n.$type+(s?"("+s+")":"")+"["+n.$chain.chainId+":"+n.$dev_position+"]"},$dev_path:{value:new pe(this.$dev_path,n)},$dev_onFulfilled:{value:e},$dev_onRejected:{value:t}})}return n.$chain.chainMap.set(n,!1),this.$isExpired&&ue.setExpired(n,!0,!this.$isAborted,this.$chain.errorExpired),n}$catchExpired(e){return this.then((t=>this.$chain.chainRoot.$isExpired?e(t):t),void 0,"$catchExpired")}static resolve(e,t){return 1===arguments.length&&([e,t]=[{},e]),e||(e={}),t instanceof this&&1===arguments.length?t:new this(e,(function(e){e(t)}))}static reject(e,t){return 1===arguments.length&&([e,t]=[{},e]),e||(e={}),new this(e,(function(e,s){s(t)}))}$toPromise(){return Promise.resolve(this)}$chainAbort(e="$chainAbort()"){return this.$chain.complete(e,!0),this}$chainComplete(e="$chainComplete()"){try{this.$chain.complete(e,!1)}catch(e){throw e instanceof N?new N({target:e.$data.target,reason:"Trying to complete a pending chain. Use $chainAbort() if you want to stop it."}):e}return this}$chainAutoComplete(){return this.$chain.chainConfig.chainAutoComplete=!0,this}static setExpired(e,t,s,i){if(!e.$isSettled){if(!t)throw new N({target:e,reason:"promise must be aborted or settled before setting it to expired."});e.$isAborted=!s,e.__resolve__(i)}e.$isExpired=!0}}ue.DEFAULT_CONFIG={chainAutoComplete:!1};class de{constructor(e,t,s,i){Object.defineProperties(this,{chainConfig:{value:i},chainRoot:{value:e},chainId:{value:t},chainName:{value:s},chainMap:{value:new Map},isCompleted:{value:!1,configurable:!0},data:{value:{}},__deferred__:{value:l.Deferred()}})}get isPending(){return Array.from(this.chainMap.values()).includes(!1)}then(e){return this.__deferred__.done(e),this}complete(e="chain.complete()",t){let s=this.chainRoot;if(!s.$isExpired){let i=s.$chain.errorExpired=new j({target:s,reason:e}),r=this.chainMap;for(let e of r.keys())ue.setExpired(e,t,!1,i);Object.defineProperty(this,"isCompleted",{value:!0}),this.__deferred__.resolve()}return this}}class pe extends Array{constructor(){super();for(let e of arguments)Array.isArray(e)?this.push(...e):this.push(e)}get printable(){return this.map(((e,t)=>0===t?e.$dev_name:e.$dev_name.split(".")[1])).join(".")}toString(){return this.printable}}class me extends Promise{constructor(e){let t={$isSettled:!1,$isRejected:null,$value:void 0};super(((s,i)=>{let r=!1,n=e=>{e instanceof Promise?me.resolve(e).then(n,a):r||(r=!0,t.$isSettled=!0,t.$isRejected=!1,t.$value=e,s(e))},a=e=>{r||(r=!0,t.$isSettled=!0,t.$isRejected=!0,t.$value=e,i(e))};try{e(n,a)}catch(e){a(e)}})),Object.assign(this,t),t=this}then(e,t){if(this.$isSettled){let s=this.$value;try{if(this.$isRejected){if(super.then(void 0,(()=>null)),!t||"function"!=typeof t)return me.reject(s);s=t(s)}else e&&"function"==typeof e&&(s=e(s))}catch(e){return me.reject(e)}return me.resolve(s)}return super.then(e,t)}static resolve(e){return e instanceof me?e:new me(e instanceof Promise?e.then.bind(e):t=>t(e))}}re(Z,ee,te);class $e{constructor(){Object.defineProperties(this,{registry:{value:l(Object.create(null))},handlers:{value:new WeakMap},onListenerUpdate:{value:null,writable:!0},onObserverUpdate:{value:null,writable:!0}})}on({events:e,handler:t,target:s,selector:i}){$e.validateSelector(e),C("JFactoryEvents.on({handler})",t).typeFunction(),s&&C("JFactoryEvents.on({target})",s).type(String,l,HTMLElement),i&&C("JFactoryEvents.on({selector})",s).typeString();let r=this.handlers.get(t);s?(r||this.handlers.set(t,!0),i?l(s).on(e,i,t):l(s).on(e,t),this.onListenerUpdate&&this.onListenerUpdate(arguments)):(r||(this.handlers.set(t,r=function(e,{data:s,stack:i}){i.push((()=>t(e,s)))}),r.originalHandler=t),this.registry.on(e,r),this.onObserverUpdate&&this.onObserverUpdate(arguments))}off({events:e,handler:t,target:s,selector:i}){if(void 0!==e&&($e.validateSelector(e),t&&C("JFactoryEvents.off({handler})",t).typeFunction(),s&&C("JFactoryEvents.off({target})",s).type(String,l,HTMLElement),i&&C("JFactoryEvents.off({selector})",s).typeString()),s)i?l(s).off(e,i,t):l(s).off(e,t);else{if(l("*").off(e,t),t&&!(t=this.handlers.get(t)))throw new L({target:"handler",reason:"not registered",given:t});this.registry.off(e,t)}this.onObserverUpdate&&this.onObserverUpdate(arguments),this.onListenerUpdate&&this.onListenerUpdate(arguments)}triggerParallel({events:e,data:t,target:s}){$e.validateSelector(e),s&&C("JFactoryEvents.triggerParallel({target})",s).type(String,l,HTMLElement);const i=[],r=[];if(e=e.split(" "),s)for(let r of e)l(s).trigger(r,{data:t,stack:i});else for(let s of e)this.registry.triggerHandler(s,{data:t,stack:i});for(let e of i){let t=e();t instanceof Promise&&!t.$isSettled&&r.push(t)}return r.length?Promise.all(r):me.resolve()}triggerSeries({events:e,data:t,target:s}){return $e.validateSelector(e),s&&C("JFactoryEvents.triggerSeries({target})",s).type(String,l,HTMLElement),new me((async i=>{const r=[];if(e=e.split(" "),s)for(let i of e)l(s).trigger(i,{data:t,stack:r});else for(let s of e)this.registry.triggerHandler(s,{data:t,stack:r});for(let e of r){let t=e();t instanceof Promise&&!t.$isSettled&&await t}i()}))}}class fe extends $e{constructor(e){super(),Object.defineProperties(this,{parent:{value:e},affiliateRules:{value:(new U).compose()}}),this.affiliateAddRule(fe.rule_namespace)}affiliate(e="",t="",s){let i=new ge(e);for(let e of i.events)this.affiliateRules(e,t,s);return i.toString()}affiliateAddRule(e){this.affiliateRules.composer.last(e)}static rule_namespace(e,t,s){s=s.split(".");for(let e of s)e&&t.addNamespace(e)}on(e,t,s,i,r){switch(arguments.length){case 2:[i,t]=[t];break;case 3:"function"==typeof arguments[2]?[i,s]=[s]:[i,r,t,s]=[t,s];break;case 4:"object"==typeof arguments[3]&&([r,i,s]=[i,s])}e=this.affiliate(e,this.parent.$.about.fingerprint,r),void 0===t?super.on({events:e,handler:i}):super.on({events:e,target:t,selector:s,handler:i})}off(e,t,s,i,r){const n=arguments.length;switch(n){case 1:"object"==typeof arguments[0]&&([r,e]=[e]);break;case 2:"function"==typeof arguments[1]?[i,t]=[t]:d(arguments[1])&&([r,t]=[t]);break;case 3:"function"==typeof arguments[2]?[i,s]=[s]:"function"==typeof arguments[1]&&([i,r,t,s]=[t,s]);break;case 4:"object"==typeof arguments[3]&&([r,i,s]=[i,s])}e=this.affiliate(e,this.parent.$.about.fingerprint,r),n<2?super.off({events:e}):t?super.off({events:e,target:t,selector:s,handler:i}):super.off({events:e,handler:i})}trigger(e,t,s){switch(arguments.length){case 2:"object"!=typeof t||t.jquery||([s,t]=[t])}return t?super.triggerSeries({events:e,target:t,data:s}):super.triggerSeries({events:e,data:s})}triggerParallel(e,t,s){switch(arguments.length){case 2:"object"!=typeof t||t.jquery||([s,t]=[t])}return t?super.triggerParallel({events:e,target:t,data:s}):super.triggerParallel({events:e,data:s})}getDomListeners(e){let t=new Map;for(let s of l("*")){let i=l._data(s,"events");if(i)for(let r of Object.values(i))for(let i of r){let r;if(new ve(i.namespace).hasNamespace(e)){(r=t.get(s))||t.set(s,r={}),(r[i.type]||(r[i.type]=[])).push({selector:i.selector||null,handler:i.handler,namespace:i.namespace})}}}return t}getObservers(){let e=new Map,t=this.registry._events;if(!t){let e=Object.values(this.registry)[0],s=Object.getOwnPropertyNames(e).find((e=>0===e.indexOf("jQuery")));e&&s&&(t=this.registry._events=e[s].events)}if(t)for(let[s,i]of Object.entries(t)){let t=e.get(s);t||(t=[],e.set(s,t));for(let e of i)t.push({handler:e.handler.originalHandler,namespace:e.namespace})}return e}}class ge{constructor(e){$e.validateSelector(e),this.events=e.split(" ").map((e=>new ve(e)))}toString(){let e=[];for(let t of this.events)e.push(t.toString());return e.join(" ")}}class ve{constructor(e){let[t,...s]=e.split(".");this.event=t,this.namespace=new Set(s)}hasNamespace(e){Array.isArray(e)||(e=[e]);for(let t of e){if(!/^[\w:]+$/.test(t))throw new L({target:"namespace",reason:"must be alphanumeric, underscore and colon characters",given:t});if(t&&this.namespace.has(t))return t}return!1}addNamespace(e){if(!/^[\w:]+$/.test(e))throw new L({target:"namespace",reason:"must be alphanumeric, underscore and colon characters",given:e});this.namespace.add(e)}deleteNamespace(e){if(!/^[\w:]+$/.test(e))throw new L({target:"namespace",reason:"must be alphanumeric, underscore and colon characters",given:e});this.namespace.delete(e)}toString(){return this.namespace.size?this.event+"."+Array.from(this.namespace.values()).join("."):this.event}}$e.validateSelector=function(e){C("JFactoryEvents.validateSelector(selector)",e).notUndefined().validSpaces();for(let[t,s]of e.split(" ").map((e=>e.split("."))).map((e=>[e.shift(),e.join(".")])))t&&$e.validateEvent(t),s&&$e.validateNamespace(s);return!0},$e.validateEvent=function(e){if(C("JFactoryEvents.validateEvent(event)",e).notUndefined().notEmptyString().validSpaces(),!/^[\w:]+$/.test(e))throw new L({target:"JFactoryEvents.validateEvent(event)",reason:"must be alphanumeric, underscore and colon characters",given:e});return!0},$e.validateNamespace=function(e){if(C("JFactoryEvents.validateNamespace(namespace)",e).notUndefined().notEmptyString().validSpaces(),!/^[\w:.]+$/.test(e))throw new L({target:"JFactoryEvents.validateNamespace(namespace)",reason:"must be alphanumeric, underscore, dot and colon characters",given:e});return!0};class be extends ue{constructor(e,t,s={}){if("function"==typeof e)super(e);else{"string"==typeof e&&([e,t,s]=[{},arguments[0],arguments[1]]);let i=new Request(t,s);super(e,((r,n)=>{let a=fetch(i).then((e=>{if(this.$chain.fetchResponse=e,!e.ok)throw Error(e.status+":"+e.statusText);return e}));s.$typeText?a=a.then((e=>e.text())).then((e=>this.$chain.responseText=e)):s.$typeJSON&&(a=a.then((e=>e.json())).then((e=>this.$chain.responseJSON=e))),a=a.catch((r=>{throw new I({reason:r.message||r,target:this.$chain.fetchResponse&&this.$chain.fetchResponse.url||t,owner:this,fetchOptions:s,fetchRequest:i,fetchResponse:this.$chain.fetchResponse||null},e.traceSource)})),a.then(r,n)})),this.$chain.fetchOptions=s,this.$chain.fetchRequest=i;let r=s.abortController||new AbortController;s.signal=r.signal,this.$chain.fetchAbortController=r}}$chainAbort(e="request aborted"){return super.$chainAbort(e),this.$chain.fetchAbortController.abort(),this}}const Ee=Symbol();class Ae{constructor(e){e&&C("JFactoryLogger(options)",e).properties(Object.getOwnPropertyNames(Ae.DEFAULT_CONFIG)),p(this,e,Ae.DEFAULT_CONFIG),this.condition=J(Ae.DEFAULT_CONDITION),this.installAccessor("log"),this.installAccessor("warn"),this.installAccessor("error")}get enabled(){return this[Ee]&&(!this.parentLogger||this.parentLogger.enabled)}set enabled(e){e?this.enable():this.disable()}enable(){!0!==this[Ee]&&(this[Ee]=!0)}disable(){!1!==this[Ee]&&(this[Ee]=!1)}disallow(e,t=this.label){this.filters[t]||(this.filters[t]={}),this.filters[t][e]=!0}allow(e,t=this.label){this.filters[t]&&delete this.filters[t][e]}installAccessor(e,t=e,s=this){C("JFactoryLogger(nativeName)",e).equalIn(["log","warn","error"]),Object.defineProperties(s,{[t]:{get:this.accessor.bind(this,e),configurable:!0}})}accessor(e){return this[Ee]&&this.condition(e)&&this.formatter[e](this)||v}createSubLogger(e){let t=new Ae({enabled:this.enabled,label:this.label+"."+e,styles_css:this.styles_css,styles_cli:this.styles_cli,console:this.console,formatter:this.formatter});return t.parentLogger=this,t.condition.addCondition((()=>this.enabled)),t.filters=this.filters,t}}Ae.FORMATTER_NATIVE={log:e=>e.console.log.bind(e.console,e.label+">"),warn:e=>e.console.warn.bind(e.console,e.label+">"),error:e=>e.console.error.bind(e.console,e.label+">")},Ae.FORMATTER_CLI={log:e=>e.console.log.bind(e.console,e.styles_cli.label,e.label+">"),warn:e=>e.console.warn.bind(e.console,e.styles_cli.label,e.label+">"),error:e=>e.console.error.bind(e.console,e.styles_cli.label,e.label+">")},Ae.FORMATTER_BROWSER={log:e=>e.console.log.bind(e.console,"%c"+e.label+">",e.styles_css.label),warn:e=>e.console.warn.bind(e.console,"%c"+e.label+">",e.styles_css.label),error:e=>e.console.error.bind(e.console,"%c"+e.label+">",e.styles_css.label)},Ae.DEFAULT_CONDITION=function(e){return C("JFactoryLogger.condition(nativeName)",e).equalIn(["log","warn","error"]),C("JFactoryLogger.enabled",this.enabled).equal(!0),!(this.filters[this.label]&&this.filters[this.label][e])},Ae.DEFAULT_CONFIG={label:"",enabled:!0,parentLogger:null,formatter:r?Ae.FORMATTER_CLI:Ae.FORMATTER_BROWSER,console:console,filters:{},styles_cli:{label:"[1;30m%s[0m"},styles_css:{label:"color: gray"}};class ye extends Date{toString(){return this.toLocaleTimeString()+", "+this.getUTCMilliseconds()+"ms ("+this.valueOf()+")"}$toDurationString(){let e=this.getUTCHours(),t=this.getUTCMinutes(),s=this.getUTCSeconds(),i=this.getUTCMilliseconds(),r=[];return e&&r.push(e+"h"),t&&r.push(t+"min"),s&&r.push(s+"s"),r.push(i+"ms"),1===r.length?r[0]:r.join(",")+" ("+this.valueOf()+")"}}class Se extends Date{constructor(){super(),this.elapsed=null,Object.defineProperties(this,{t1:{value:null,writable:!0},t0:{value:new ye}})}end(){this.t1=new ye,this.elapsed=new ye(this.t1-this.t0).$toDurationString()}toString(){return this.elapsed}}class Re{trait_constructor(){const e=this;class t extends Map{constructor(...e){super(...e),Object.defineProperty(this,"id_autoinc",{value:0,writable:!0})}$registerSync(t,s){let i=Object.defineProperties({},{$value:{value:s},$phaseRemove:{value:Le.getContextualRemovePhase(e)}});return this.set(t,i),i}$registerAsync(t,s,i){let r=e.$task(s,i.$chain);return i.$chain.then((()=>{r.$chainAutoComplete()})),r.$chain.then((()=>{i.$chain.isCompleted||i.$chainAbort("aborted by task")})),Object.defineProperty(i,"$phaseRemove",{value:r.$phaseRemove}),this.set(t,i),r}$id_resolve(e){if(e.indexOf("?")>=0){let t=++this.id_autoinc;e=e.replace(/\?/g,t)}return e}}const s=Object.assign(Object.create(null),{[Re.SYMBOL_PRIVATE]:Object.create(null),assign:function(e,t,s){oe.assign(this,e,t,s)},createSubMap:()=>new t});Object.defineProperty(this,"$",{value:Object.create(s)}),this.$.assign({tasks:null,requests:null},oe.descriptors.ENUMERABLE_WRITABLE)}}Re.SYMBOL_PRIVATE=Symbol("_");class _e{trait_constructor(e){oe.assign(this.$,"about",new ce(this,e),oe.descriptors.READONLY)}}class we{trait_constructor(){let e=Object.assign({label:this.$.about.name},n.enabled||{enabled:!1}),t=new Ae(e);Object.defineProperty(this.$,"logger",{value:t}),t.installAccessor("log","$log",this),t.installAccessor("warn","$logWarn",this),t.installAccessor("error","$logErr",this)}}class Oe{trait_constructor(){this.$.assign("tasks",this.$.createSubMap(),oe.descriptors.ENUMERABLE)}$task(e,t){if(C("$task(id)",e=this.$.tasks.$id_resolve(e)).typeString(),C("$task(executorOrValue)",t).notUndefined(),this.$.tasks.has(e))throw new k({target:"$task(id)",given:e});let s,i;return s="function"==typeof t?new ue({name:e,owner:this},t):ue.resolve({name:e,owner:this},t),s.$phaseRemove=Le.getContextualRemovePhase(this),i=new Se,s.$taskMetrics={$dev_timing:i},s.$chain.then((()=>{i.end(),this.$.tasks.get(e)&&this.$taskRemove(e)})),this.$.tasks.set(e,s),s}$taskRemove(e,t){if(C("$taskRemove(id)",e).typeString(),t&&C("$taskRemove(reason)",t).typeString(),!this.$.tasks.has(e))throw new M({target:"$taskRemove(id)",given:e});this.$.tasks.get(e)._called,this.$.tasks.get(e)._called=!0;let s=this.$.tasks.get(e);this.$.tasks.delete(e),s.$chainAbort(t||"$taskRemove()")}$taskRemoveAll(e){C("$taskRemoveAll(removePhase)",e).equalIn(Le.PHASES);let t=this.$.tasks;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$taskRemove(s,"$taskRemoveAll("+e+")")}$taskPromiseAll(e=!1){let t=[];if(this.$.tasks.size)for(let s of this.$.tasks.values())e&&(s.$chain.chainConfig.chainAutoComplete=!0),s.$chain.isPending&&t.push(s.$chain);return t.length?Promise.all(t):me.resolve()}}class Te{trait_constructor(){Ne(this,"events",{custom:new fe(this),kernel:new fe(this)},oe.descriptors.NONE);let e=this.$[Re.SYMBOL_PRIVATE].events.custom;Object.defineProperties(this.$,{listeners:{get:e.getDomListeners.bind(e,this.$.about.fingerprint),enumerable:!0},observers:{get:e.getObservers.bind(e),enumerable:!0}})}$on(){this.$[Re.SYMBOL_PRIVATE].events.custom.on(...arguments)}$off(){this.$[Re.SYMBOL_PRIVATE].events.custom.off(...arguments)}$trigger(){return this.$[Re.SYMBOL_PRIVATE].events.custom.trigger(...arguments)}$triggerParallel(){return this.$[Re.SYMBOL_PRIVATE].events.custom.triggerParallel(...arguments)}$notify(e,t){return this.$trigger(e,t).then((()=>this.$[Re.SYMBOL_PRIVATE].events.kernel.trigger(e,t)))}}class Pe{trait_constructor(){const e=Object.create(null),t=Object.create(null),s=this.$[Re.SYMBOL_PRIVATE].events.kernel;Ne(this,{states:e,stateRoutes:t},oe.descriptors.READONLY),oe.assign(this.$,"states",new Proxy(e,{set:(e,t,s)=>this.$state(t,s),get:(t,s)=>e[s]}),oe.descriptors.READONLY),s.on("beforeStateChange",((e,s)=>{let i;if(t[s.key]&&t[s.key].before&&(i=t[s.key].before(s.val)))return this.$notify(i)})),s.on("afterStateChange",((e,s)=>{let i;if(t[s.key]&&t[s.key].after&&(i=t[s.key].after(s.val)))return this.$notify(i)}))}$state(e,t,s=!0){return C("$state(key)",e).typeString(),C("$state(notify)",s).typeBoolean(),new me((async i=>{let r,n=this.$[Re.SYMBOL_PRIVATE].states,a=n[e];e in n&&a===t||(r=s&&this.$notify("beforeStateChange",{key:e,val:t,previousVal:a}),r&&C("beforeStateChange result",r).type(me),r&&!r.$isSettled&&(n[e]=r,await r),void 0===t?delete n[e]:n[e]=t,r=s&&this.$notify("afterStateChange",{key:e,val:t,previousVal:a}),r&&C("afterStateChange result",r).type(me)),r?r.then(i):i()}))}}class Le{trait_constructor(){oe.assign(this.$,"service",Object.create(null),oe.descriptors.READONLY),this.$.service.phase=Le.PHASE.NONE,this.$.service.phaseQueue=ue.resolve({name:"phaseQueue"},null),this.$.service.phaseTask=null,this.$.service.phaseMap={install:new Set,enable:new Set,disable:new Set,uninstall:new Set},this.$state("installed",!1,!1),this.$state("enabled",!1,!1),je(this,"stateRoutes",{installed:{after:e=>e?"install":"uninstall"},enabled:{after:e=>e?"enable":"disable"}},oe.descriptors.NONE);let e=this.$[Re.SYMBOL_PRIVATE].events.custom,t=this.$[Re.SYMBOL_PRIVATE].events.kernel;e.affiliateAddRule(((e,t,s,i)=>Le.setEventNamespaceRemovePhase(this,t,i)));let s=e=>{this.$.tasks.size&&this.$taskRemoveAll(this.$.service.phase);let t=me.resolve();return e&&(t=t.then((()=>e.call(this))).then((()=>this.$taskPromiseAll(!0)))),t.catch((e=>{e instanceof j||this.$logErr("unhandled promise rejection in "+this.$.service.phase+";",...e instanceof T?e:[e])}))};t.on("install",(()=>s(this.onInstall))),t.on("enable",(()=>s(this.onEnable))),t.on("disable",(()=>s(this.onDisable))),t.on("uninstall",(()=>s(this.onUninstall))),t.on("disable",(()=>this.$off({removal:Le.PHASE.DISABLE}))),t.on("uninstall",(()=>this.$off({removal:Le.PHASE.UNINSTALL})))}$install(e){let t;const s=new ue({name:"install",config:{chainAutoComplete:!0}},(e=>t=e)).then((()=>{if(!this.$.states.installed)return this.$.service.phase=Le.PHASE.INSTALL,this.$state("installed",!0)}));return this.$.service.phaseMap.install.add(s),s.$chain.then((()=>{this.$.service.phaseTask=null,this.$.service.phaseMap.install.delete(s),this.$.service.phase=Le.PHASE.NONE})),this.$.service.phaseQueue=this.$.service.phaseQueue.then((()=>(this.$.service.phaseTask=s,t(),s.$chain))),e?this.$enable():s}$enable(){let e;const t=new ue({name:"enable",config:{chainAutoComplete:!0}},(t=>e=t)).then((()=>{if(this.$.states.installed&&!this.$.states.enabled)return this.$.service.phase=Le.PHASE.ENABLE,this.$state("enabled",!0)}));return this.$.service.phaseMap.enable.add(t),t.$chain.then((()=>{this.$.service.phaseTask=null,this.$.service.phaseMap.enable.delete(t),this.$.service.phase=Le.PHASE.NONE})),this.$.service.phaseQueue=this.$.service.phaseQueue.then((()=>(this.$.service.phaseTask=t,e(),t.$chain))),t}$disable(){let e;const t=new ue({name:"disable",config:{chainAutoComplete:!0}},(t=>e=t)).then((()=>{if(this.$.states.enabled)return this.$.service.phase=Le.PHASE.DISABLE,this.$state("enabled",!1)}));this.$.service.phaseMap.disable.add(t),t.$chain.then((()=>{this.$.service.phaseTask=null,this.$.service.phaseMap.disable.delete(t),this.$.service.phase=Le.PHASE.NONE}));for(let[e,t]of this.$.service.phaseMap.enable.entries())t===this.$.service.phaseTask&&Le.phaseKill(this),t.$chainAbort(),this.$.service.phaseMap.enable.delete(e);return this.$.service.phaseQueue=this.$.service.phaseQueue.then((()=>(this.$.service.phaseTask=t,e(),t.$chain))),t}$uninstall(){let e;const t=new ue({name:"uninstall",config:{chainAutoComplete:!0}},(t=>e=t)).then((()=>{if(this.$.states.installed)return this.$.service.phase=Le.PHASE.UNINSTALL,this.$state("installed",!1)}));this.$.service.phaseMap.uninstall.add(t),t.$chain.then((()=>{this.$.service.phaseTask=null,this.$.service.phaseMap.uninstall.delete(t),this.$.service.phase=Le.PHASE.NONE}));for(let[e,t]of this.$.service.phaseMap.install.entries())t===this.$.service.phaseTask&&Le.phaseKill(this),t.$chainAbort(),this.$.service.phaseMap.install.delete(e);return this.$disable(),this.$.service.phaseQueue=this.$.service.phaseQueue.then((()=>(this.$.service.phaseTask=t,e(),t.$chain))),t}static phaseKill(e){e.$.tasks.size&&e.$taskRemoveAll(Le.getContextualRemovePhase(e)),e.$.service.phase=Le.PHASE.NONE}static getContextualRemovePhase(e){return Le.PHASE_REVERT[e.$.service.phase]}static setEventNamespaceRemovePhase(e,t,s){let i=t.hasNamespace(Le.PHASES),r=s&&s.removal;r||(r=Le.getContextualRemovePhase(e)),"uninstall"===t.event&&r===Le.PHASE.DISABLE&&(r=Le.PHASE.UNINSTALL),i!==r&&(t.deleteNamespace(i),t.addNamespace(r)),t.addNamespace(r)}}function Ne(e,t,s,i){oe.assign(e.$[Re.SYMBOL_PRIVATE],t,s,i)}function je(e,t,s,i){oe.assign(e.$[Re.SYMBOL_PRIVATE][t],s,i)}Le.PHASE={NONE:"PHASE_NONE",INSTALL:"PHASE_INSTALL",ENABLE:"PHASE_ENABLE",DISABLE:"PHASE_DISABLE",UNINSTALL:"PHASE_UNINSTALL"},Le.PHASE_REVERT={[Le.PHASE.INSTALL]:Le.PHASE.UNINSTALL,[Le.PHASE.UNINSTALL]:Le.PHASE.INSTALL,[Le.PHASE.DISABLE]:Le.PHASE.ENABLE,[Le.PHASE.ENABLE]:Le.PHASE.DISABLE,[Le.PHASE.NONE]:Le.PHASE.DISABLE},Le.PHASES=Object.values(Le.PHASE),K.PHASE=oe.disinherit(Le.PHASE),K.TraitCore=Re,K.TraitAbout=_e,K.TraitLog=we,K.TraitEvents=Te,K.TraitState=Pe,K.TraitService=Le,K.TraitTask=Oe;class Ie{trait_constructor(){const e=this.$[Re.SYMBOL_PRIVATE].events.kernel;e.on("disable",(()=>this.$fetchRemoveAll(Le.PHASE.DISABLE))),e.on("uninstall",(()=>this.$fetchRemoveAll(Le.PHASE.UNINSTALL))),this.$.assign("requests",this.$.createSubMap(),oe.descriptors.ENUMERABLE)}$fetch(e,t,s={}){if(C("$fetch(id)",e=this.$.requests.$id_resolve(e)).typeString(),C("$fetch(url)",t).typeString(),C("$fetch(fetchOptions)",s).typePlainObject(),this.$.requests.has(e))throw new k({target:"$fetch(id)",given:e});let i=new be({name:e,traceSource:O.tracer.captureTraceSource("$fetch"),config:{chainAutoComplete:!0}},t,s);return this.$.requests.$registerAsync(e,'$fetch("'+e+'")',i),i.$chain.then((()=>{this.$.requests.has(e)&&this.$fetchRemove(e)})),i}$fetchText(e,t,s={}){return this.$fetch(e,t,{...s,$typeText:!0})}$fetchJSON(e,t,s={}){return this.$fetch(e,t,{...s,$typeJSON:!0})}$fetchRemove(e,t){if(C("$fetchRemove(id)",e).typeString(),t&&C("$fetchRemove(reason)",t).typeString(),!this.$.requests.has(e))throw new M({target:"$fetchRemove(id)",given:e});this.$.requests.get(e)._debug_remove_called,this.$.requests.get(e)._debug_remove_called=!0;let s=this.$.requests.get(e);this.$.requests.delete(e),s.$chainAbort(t||"$fetchRemove()")}$fetchRemoveAll(e){C("removePhase",e).equalIn(Le.PHASES);let t=this.$.requests;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$fetchRemove(s,"$fetchRemoveAll("+e+")")}}class ke{trait_constructor(){const e=this.$[Re.SYMBOL_PRIVATE].events.kernel;e.on("disable",(()=>this.$timeoutRemoveAll(Le.PHASE.DISABLE))),e.on("uninstall",(()=>this.$timeoutRemoveAll(Le.PHASE.UNINSTALL))),this.$.assign("timeouts",this.$.createSubMap(),oe.descriptors.ENUMERABLE)}$timeout(e,t,s=null,...i){if(C("id",e=this.$.timeouts.$id_resolve(e)).typeString(),C("delay",t).typeNumber(),C("handler",s).type(Function,null),this.$.timeouts.has(e))throw new k({target:"$timeout(id)",given:e});let r,n=new ue({name:e,traceSource:O.tracer.captureTraceSource("$timeout"),config:{chainAutoComplete:!0}},(e=>{r=setTimeout((()=>{n.$isExpired||e(s?s(...i):void 0)}),t)}));return n.$chain.data.timer=r,this.$.timeouts.$registerAsync(e,'$timeout("'+e+'")',n),n.$chain.then((()=>{this.$.timeouts.has(e)&&this.$timeoutRemove(e)})),n}$timeoutRemove(e,t){if(C("$timeoutRemove(id)",e).typeString(),t&&C("$timeoutRemove(reason)",t).typeString(),!this.$.timeouts.has(e))throw new M({target:"$timeoutRemove(id)",given:e});this.$.timeouts.get(e)._debug_remove_called,this.$.timeouts.get(e)._debug_remove_called=!0;let s=this.$.timeouts.get(e);clearTimeout(s.$chain.data.timer),this.$.timeouts.delete(e),s.$chainAbort(t||"$timeoutRemove()")}$timeoutRemoveAll(e){C("removePhase",e).equalIn(Le.PHASES);let t=this.$.timeouts;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$timeoutRemove(s,"$timeoutRemoveAll()")}}class Me{trait_constructor(){const e=this.$[Re.SYMBOL_PRIVATE].events.kernel;e.on("disable",(()=>this.$intervalRemoveAll(Le.PHASE.DISABLE))),e.on("uninstall",(()=>this.$intervalRemoveAll(Le.PHASE.UNINSTALL))),this.$.assign("timeints",this.$.createSubMap(),oe.descriptors.ENUMERABLE)}$interval(e,t,s,...i){if(C("id",e=this.$.timeints.$id_resolve(e)).typeString(),C("handler",s).typeFunction(),C("delay",t).typeNumber(),this.$.timeints.has(e))throw new k({target:"$interval(id)",given:e});let r=setInterval(s,t,...i);this.$.timeints.$registerSync(e,r)}$intervalRemove(e){if(C("$intervalRemove(id)",e).typeString(),!this.$.timeints.has(e))throw new M({target:"$intervalRemove(id)",given:e});this.$.timeints.get(e)._debug_remove_called,this.$.timeints.get(e)._debug_remove_called=!0,clearInterval(this.$.timeints.get(e).$value),this.$.timeints.delete(e)}$intervalRemoveAll(e){C("removePhase",e).equalIn(Le.PHASES);let t=this.$.timeints;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$intervalRemove(s)}}re(se);class Ce{trait_constructor(){const e=this.$[Re.SYMBOL_PRIVATE].events.kernel;e.on("disable",(()=>this.$mutationRemoveAll(Le.PHASE.DISABLE))),e.on("uninstall",(()=>this.$mutationRemoveAll(Le.PHASE.UNINSTALL))),this.$.assign("mutations",this.$.createSubMap(),oe.descriptors.ENUMERABLE)}$mutation(e,t,s,i){if(C("id",e=this.$.mutations.$id_resolve(e)).typeString(),C("parent",t).type(HTMLElement,Document),C("config",s).typePlainObject(),C("handler",i).typeFunction(),this.$.mutations.has(e))throw new k({target:"$mutation(id)",given:e});let r=new MutationObserver(i);r.observe(t,s),this.$.mutations.$registerSync(e,r)}$mutationRemove(e,t){if(C("$mutationRemove(id)",e).typeString(),t&&C("$mutationRemove(reason)",t).typeString(),!this.$.mutations.has(e))throw new M({target:"$mutationRemove(id)",given:e});this.$.mutations.get(e)._debug_remove_called,this.$.mutations.get(e)._debug_remove_called=!0,this.$.mutations.get(e).$value.disconnect(),this.$.mutations.delete(e)}$mutationRemoveAll(e){C("removePhase",e).equalIn(Le.PHASES);let t=this.$.mutations;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$mutationRemove(s)}}class Fe{trait_constructor(){const e=this.$[Re.SYMBOL_PRIVATE].events.kernel;e.on("disable",(()=>this.$domRemoveAll(Le.PHASE.DISABLE))),e.on("uninstall",(()=>this.$domRemoveAll(Le.PHASE.UNINSTALL))),this.$.assign("dom",this.$.createSubMap(),oe.descriptors.ENUMERABLE)}$dom(e,t,s){let i;if(C("id",e=this.$.dom.$id_resolve(e)).typeString(),C("jQueryArgument",t).type(String,Object),s&&C("appendTo",s).type(String,Object),"#"===e[0]&&(e=e.substring(1),i=!0),this.$.dom.has(e))throw new k({target:"$dom(id)",given:e});let r=l(t);if("TEMPLATE"===r[0].tagName&&(r=l(l(r[0]).html())),i){if(r[0].nodeType!==Node.ELEMENT_NODE)throw new L({target:"$dom(#id)",given:r,reason:"cannot set the dom id: the first element of the selection isn't an ELEMENT_NODE"});r[0].id=e}return s&&r.appendTo(s),this.$.dom.$registerSync(e,r).$value}$domFetch(e,t,s,i){let r;if(s&&!d(s)&&([s,i]=[{},s]),C("id",e=this.$.dom.$id_resolve(e)).typeString(),C("url",t).typeString(),i&&C("appendTo",i).type(String,Object),s&&C("fetchOptions",s).type(Object),"#"===e[0]&&(e=e.substring(1),r=!0),this.$.dom.has(e))throw new k({target:"$domFetch(id)",given:e});let n=this.$fetchText('$domFetch("'+e+'")',t,s).then((t=>{let s=l(t);return r&&(s[0].id=e),i&&s.appendTo(i),s}));return this.$.dom.$registerAsync(e,'$domFetch("'+e+'")',n),n}$domRemove(e,t){if(C("$domRemove(id)",e).typeString(),t&&C("$domRemove(reason)",t).typeString(),!this.$.dom.has(e))throw new M({target:"$domRemove(id)",given:e});this.$.dom.get(e)._debug_remove_called,this.$.dom.get(e)._debug_remove_called=!0;let s=this.$.dom.get(e),i=s.$value;i instanceof l&&i.remove(),s instanceof be&&s.$chainAbort(t||"$domRemove()"),this.$.dom.delete(e)}$domRemoveAll(e){C("removePhase",e).equalIn(Le.PHASES);let t=this.$.dom;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$domRemove(s)}}class Be{trait_constructor(){const e=this.$[Re.SYMBOL_PRIVATE].events.kernel;e.on("disable",(()=>this.$cssRemoveAll(Le.PHASE.DISABLE))),e.on("uninstall",(()=>this.$cssRemoveAll(Le.PHASE.UNINSTALL))),this.$.assign("css",this.$.createSubMap(),oe.descriptors.ENUMERABLE)}$css(e,t){let s;if(C("id",e=this.$.css.$id_resolve(e)).typeString(),C("css",t).typeString(),"#"===e[0]&&(e=e.substring(1),s=!0),this.$.css.has(e))throw new k({target:"$css(id)",given:e});return this.$.css.$registerSync(e,l("<style>").attr(s?{id:e}:{}).html(t).appendTo("head")).$value}$cssFetch(e,t,s="head"){let i;if(C("id",e=this.$.css.$id_resolve(e)).typeString(),C("url",t).typeString(),"#"===e[0]&&(e=e.substring(1),i=!0),this.$.css.has(e))throw new k({target:"$cssFetch(id)",given:e});t=A(t);let r=l(s).find(`link[href="${t}"]`)[0];if(r){r.dataset.usage=parseInt(r.dataset.usage)+1;let t=l(r),s=ue.resolve({name:e,config:{chainAutoComplete:!0},traceSource:O.tracer.captureTraceSource("$cssFetch")},t);return s.$chain.data.dom=t,this.$.css.$registerAsync(e,'$cssFetch("'+e+'")',s),s}{let r,n=new ue({name:e,config:{chainAutoComplete:!0},traceSource:O.tracer.captureTraceSource("$cssFetch")},(n=>r=l("<link>",{id:i?e:"",rel:"stylesheet",type:"text/css","data-usage":"1"}).appendTo(s).on("load",(()=>n(r))).attr("href",t)));return n.$chain.data.dom=r,this.$.css.$registerAsync(e,'$cssFetch("'+e+'")',n),n}}$cssRemove(e,t){if(C("$cssRemove(id)",e).typeString(),t&&C("$cssRemove(reason)",t).typeString(),!this.$.css.has(e))throw new M({target:"$cssRemove(id)",given:e});this.$.css.get(e)._debug_remove_called,this.$.css.get(e)._debug_remove_called=!0;let s=this.$.css.get(e),i=s.$chain&&s.$chain.data.dom||s.$value;if(i instanceof l){let e=parseInt(i[0].dataset.usage)-1;e?i[0].dataset.usage=e:i.remove()}s instanceof ue&&s.$chainAbort(t||"$cssRemove()"),this.$.css.delete(e)}$cssRemoveAll(e){C("removePhase",e).equalIn(Le.PHASES);let t=this.$.css;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$cssRemove(s)}}class xe{trait_constructor(){const e=this.$[Re.SYMBOL_PRIVATE].events.kernel;e.on("disable",(()=>this.$vueRemoveAll(Le.PHASE.DISABLE))),e.on("uninstall",(()=>this.$vueRemoveAll(Le.PHASE.UNINSTALL))),this.$.assign("vue",this.$.createSubMap(),oe.descriptors.ENUMERABLE)}$vue(e,t){if(C("id",e=this.$.vue.$id_resolve(e)).typeString(),C("vue",t).type(Object),this.$.vue.has(e))throw new k({target:"$vue(id)",given:e});return this.$.vue.$registerSync(e,t).$value}$vueRemove(e){if(C("$vueRemove(id)",e).typeString(),!this.$.vue.has(e))throw new M({target:"$vueRemove(id)",given:e});this.$.vue.get(e)._debug_remove_called,this.$.vue.get(e)._debug_remove_called=!0;let t=this.$.vue.get(e);l(t.$value.$el).remove(),t.$value.$destroy(),this.$.vue.delete(e)}$vueRemoveAll(e){C("removePhase",e).equalIn(Le.PHASES);let t=this.$.vue;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$vueRemove(s)}}class He{trait_constructor(){const e=this.$[Re.SYMBOL_PRIVATE].events.kernel;e.on("disable",(()=>this.$reactRemoveAll(Le.PHASE.DISABLE))),e.on("uninstall",(()=>this.$reactRemoveAll(Le.PHASE.UNINSTALL))),this.$.assign("react",this.$.createSubMap(),oe.descriptors.ENUMERABLE)}$react(e,t,s,...i){if(e=this.$.react.$id_resolve(e),!K.ReactDOM)throw new Error("jFactory.ReactDOM=ReactDOM must be set before using the React Trait");if(C("id",e).typeString(),C("container",t).type(HTMLElement,l),this.$.react.has(e))throw new k({target:"$react(id)",given:e});t=l(t)[0];let r=K.ReactDOM.render(s,t,...i);return this.$.react.$registerSync(e,{container:t,view:r}).$value.view}$reactRemove(e){if(C("$reactRemove(id)",e).typeString(),!this.$.react.has(e))throw new M({target:"$reactRemove(id)",given:e});this.$.react.get(e)._debug_remove_called,this.$.react.get(e)._debug_remove_called=!0;let t=this.$.react.get(e).$value.container;t&&(K.ReactDOM.unmountComponentAtNode(t)||this.$logWarn("unmountComponentAtNode failed to unmount",t),l(t).remove()),this.$.react.delete(e)}$reactRemoveAll(e){C("removePhase",e).equalIn(Le.PHASES);let t=this.$.react;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$reactRemove(s)}}K.TraitFetch=Ie,K.TraitTimeout=ke,K.TraitInterval=Me,K.TraitMutation=Ce,K.TraitDOM=Fe,K.TraitCSS=Be,K.TraitLibVue=xe,K.TraitLibReact=He,"undefined"!=typeof jFactoryOverride&&jFactoryOverride||ae();export{a as JFACTORY_CFG_JFactoryError,o as JFACTORY_CFG_JFactoryTrace,n as JFACTORY_CFG_LOG,r as JFACTORY_CLI,te as JFACTORY_COMPAT_AbortController,se as JFACTORY_COMPAT_MutationObserver,ee as JFACTORY_COMPAT_Request,Z as JFACTORY_COMPAT_fetch,X as JFACTORY_COMPAT_globalThis,i as JFACTORY_DEBUG,s as JFACTORY_DEV,N as JFACTORY_ERR_INVALID_CALL,L as JFACTORY_ERR_INVALID_VALUE,k as JFACTORY_ERR_KEY_DUPLICATED,M as JFACTORY_ERR_KEY_MISSING,j as JFACTORY_ERR_PROMISE_EXPIRED,I as JFACTORY_ERR_REQUEST_ERROR,ce as JFactoryAbout,Q as JFactoryComponent,G as JFactoryCoreObject,T as JFactoryError,ve as JFactoryEventSelector,ge as JFactoryEventSelectorParser,$e as JFactoryEvents,fe as JFactoryEventsManager,C as JFactoryExpect,be as JFactoryFetch,U as JFactoryFunctionComposer,Y as JFactoryFunctionConditional,q as JFactoryFunctionExpirable,W as JFactoryFunctionWrappable,Ae as JFactoryLogger,oe as JFactoryObject,ue as JFactoryPromise,de as JFactoryPromiseChain,pe as JFactoryPromisePath,me as JFactoryPromiseSync,ye as JFactoryTime,Se as JFactoryTimeTrace,w as JFactoryTrace_LIB_STACKTRACE,_ as JFactoryTrace_NOFILTER,H as JFactoryTraits,v as NOOP,_e as TraitAbout,Be as TraitCSS,Re as TraitCore,Fe as TraitDOM,Te as TraitEvents,Ie as TraitFetch,Me as TraitInterval,He as TraitLibReact,xe as TraitLibVue,we as TraitLog,Ce as TraitMutation,Le as TraitService,Pe as TraitState,Oe as TraitTask,ke as TraitTimeout,Ne as assignPrivate,je as assignPrivateMember,g as helper_camelCase,p as helper_defaultsDeep,$ as helper_get,c as helper_isNative,u as helper_isNumber,d as helper_isPlainObject,h as helper_isString,m as helper_lowerFirst,b as helper_setFunctionName,f as helper_template,A as helper_url_abs,K as jFactory,ae as jFactoryBootstrap,re as jFactoryCompat_require,ne as jFactoryCompat_run,J as jFactoryFunctionConditional,D as jFactoryFunctionExpirable,V as jFactoryFunctionWrappable,S as jFactoryLoader_init,R as jFactoryLoader_onInit,O as jFactoryTrace,z as jFactoryTraits,l as jQuery};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiakZhY3RvcnktZGV2ZWwubWpzIiwic291cmNlcyI6WyIuLi9zcmMvakZhY3RvcnktZW52Lm1qcyIsIi4uL3NyYy9qRmFjdG9yeS1oZWxwZXJzLm1qcyIsIi4uL3NyYy9qRmFjdG9yeUxvYWRlci5tanMiLCIuLi9zcmMvSkZhY3RvcnlUcmFjZS5tanMiLCIuLi9zcmMvSkZhY3RvcnlFcnJvci5tanMiLCIuLi9zcmMvSkZhY3RvcnlFeHBlY3QubWpzIiwiLi4vc3JjL0pGYWN0b3J5VHJhaXRzLm1qcyIsIi4uL3NyYy9KRmFjdG9yeUZ1bmN0aW9uLm1qcyIsIi4uL3NyYy9qRmFjdG9yeS10cmFpdHMubWpzIiwiLi4vc3JjL2pGYWN0b3J5Lm1qcyIsIi4uL3NyYy9qRmFjdG9yeUNvbXBhdC5tanMiLCIuLi9zcmMvakZhY3RvcnktYm9vdHN0cmFwLm1qcyIsIi4uL3NyYy9KRmFjdG9yeU9iamVjdC5tanMiLCIuLi9zcmMvSkZhY3RvcnlBYm91dC5tanMiLCIuLi9zcmMvSkZhY3RvcnlQcm9taXNlLm1qcyIsIi4uL3NyYy9KRmFjdG9yeUV2ZW50cy5tanMiLCIuLi9zcmMvSkZhY3RvcnlGZXRjaC5tanMiLCIuLi9zcmMvSkZhY3RvcnlMb2dnZXIubWpzIiwiLi4vc3JjL0pGYWN0b3J5VGltZS5tanMiLCIuLi9zcmMvVHJhaXRzQ29yZS5tanMiLCIuLi9zcmMvVHJhaXRzQ29tcG9uZW50cy5tanMiLCIuLi9zcmMvaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGpGYWN0b3J5IEVudlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vIENvbXBpbGUtdGltZSBpbW11dGFibGUgRW52OyB1c2VkIGJ5IHRyZWUgc2hha2luZyB0byByZW1vdmUgdW51c2VkIGNvZGVcbmV4cG9ydCBjb25zdCBKRkFDVE9SWV9ERVYgPSB0eXBlb2YgQ09NUElMRVJfREVWID09PSBcInVuZGVmaW5lZFwiID8gZmFsc2UgOiBDT01QSUxFUl9ERVY7IC8vIERldmVsb3BlciBNb2RlXG5leHBvcnQgY29uc3QgSkZBQ1RPUllfREVCVUcgPSB0eXBlb2YgQ09NUElMRVJfREVCVUcgPT09IFwidW5kZWZpbmVkXCIgPyBmYWxzZSA6IENPTVBJTEVSX0RFQlVHOyAvLyBEZWJ1ZyB0aGUgbGlicmFyeVxuZXhwb3J0IGNvbnN0IEpGQUNUT1JZX0NMSSA9IHR5cGVvZiBDT01QSUxFUl9DTEkgPT09IFwidW5kZWZpbmVkXCIgP1xuICAgIHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MudmVyc2lvbnMgJiYgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlIDogQ09NUElMRVJfQ0xJO1xuXG4vLyBNdXRhYmxlIGNvbmZpZ3VyYXRpb247IGV4cG9ydGVkIGFzIHByb3BlcnRpZXMgZm9yIHRyZWUgc2hha2luZ1xuZXhwb3J0IGNvbnN0IEpGQUNUT1JZX0NGR19MT0cgPSB7XG4gICAgZW5hYmxlZDogSkZBQ1RPUllfREVWICYmICFKRkFDVE9SWV9DTEkgfHwgSkZBQ1RPUllfREVCVUdcbn1cbmV4cG9ydCBjb25zdCBKRkFDVE9SWV9DRkdfSkZhY3RvcnlFcnJvciA9IHtcbiAgICBrZXlzOiBbXCIkLmFib3V0Lm5hbWVcIiwgXCIkZGV2X25hbWVcIiwgXCIkbmFtZVwiLCBcIm5hbWVcIiwgXCJpZFwiXVxufVxuZXhwb3J0IGNvbnN0IEpGQUNUT1JZX0NGR19KRmFjdG9yeVRyYWNlID0gSkZBQ1RPUllfREVWICYmICFKRkFDVE9SWV9DTElcbiAgICAmJiB7XG4gICAgICAgIGtleXM6IFtcIiRkZXZfdHJhY2VMb2dcIiwgXCIkZGV2X3RyYWNlU291cmNlXCJdLFxuICAgICAgICBsaWJPcHRpb25zOiB7XG4gICAgICAgICAgICBvZmZsaW5lOiBCb29sZWFuKGdsb2JhbFRoaXMuY2hyb21lKSwgLy8gbG9hZGluZyBzb3VyY2VtYXBzIGlzIG5vdCByZXF1aXJlZCBpbiBjaHJvbWVcbiAgICAgICAgICAgIGZpbHRlcjogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubGluZU51bWJlclxuICAgICAgICAgICAgICAgIC8vICYmICh2YWx1ZS5maWxlTmFtZSArIHZhbHVlLmZ1bmN0aW9uTmFtZSkudG9Mb2NhbGVMb3dlckNhc2UoKS5pbmRleE9mKCdqZmFjdG9yeScpIDwgMFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgJCBmcm9tIFwianF1ZXJ5XCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnkgSGVscGVyc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDZW50cmFsaXplIGhlbHBlcnMgYW5kIGV4dGVybmFscyBpbiBvbmUgbW9kdWxlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjb25zdCBqUXVlcnkgPSAkO1xuXG5leHBvcnQgY29uc3QgaGVscGVyX2lzTmF0aXZlID0gXy5pc05hdGl2ZTtcbmV4cG9ydCBjb25zdCBoZWxwZXJfaXNTdHJpbmcgPSBfLmlzU3RyaW5nO1xuZXhwb3J0IGNvbnN0IGhlbHBlcl9pc051bWJlciA9IF8uaXNOdW1iZXI7XG5leHBvcnQgY29uc3QgaGVscGVyX2lzUGxhaW5PYmplY3QgPSBfLmlzUGxhaW5PYmplY3Q7XG5leHBvcnQgY29uc3QgaGVscGVyX2RlZmF1bHRzRGVlcCA9IF8uZGVmYXVsdHNEZWVwO1xuZXhwb3J0IGNvbnN0IGhlbHBlcl9sb3dlckZpcnN0ID0gXy5sb3dlckZpcnN0O1xuZXhwb3J0IGNvbnN0IGhlbHBlcl9nZXQgPSBfLmdldDtcbmV4cG9ydCBjb25zdCBoZWxwZXJfdGVtcGxhdGUgPSBfLnRlbXBsYXRlO1xuZXhwb3J0IGNvbnN0IGhlbHBlcl9jYW1lbENhc2UgPSBfLmNhbWVsQ2FzZTtcblxuZXhwb3J0IGNvbnN0IE5PT1AgPSAoKSA9PiB7fTtcbmV4cG9ydCBjb25zdCBoZWxwZXJfc2V0RnVuY3Rpb25OYW1lID0gKG5hbWUsIGYpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCBcIm5hbWVcIiwgeyB2YWx1ZTogbmFtZSB9KTtcbmNvbnN0IGhlbHBlcl91cmxfYWJzX2EgPSAvKiNfX1BVUkVfXyovZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG5leHBvcnQgY29uc3QgaGVscGVyX3VybF9hYnMgPSB1cmwgPT4geyBoZWxwZXJfdXJsX2Fic19hLmhyZWYgPSB1cmw7IHJldHVybiBoZWxwZXJfdXJsX2Fic19hLmhyZWYgfSIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGpGYWN0b3J5TG9hZGVyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmxldCBzZXEgPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBqRmFjdG9yeUxvYWRlcl9pbml0KCkge1xuICAgIGlmIChzZXEpIHtcbiAgICAgICAgZm9yIChsZXQgaGFuZGxlciBvZiBzZXEpIHtcbiAgICAgICAgICAgIGhhbmRsZXIoKVxuICAgICAgICB9XG4gICAgICAgIHNlcSA9IG51bGw7XG4gICAgICAgIGRlbGV0ZSBnbG9iYWxUaGlzLmpGYWN0b3J5T3ZlcnJpZGVcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBqRmFjdG9yeUxvYWRlcl9vbkluaXQoaGFuZGxlcikge1xuICAgIHNlcS5wdXNoKGhhbmRsZXIpXG59IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IEpGQUNUT1JZX0NGR19KRmFjdG9yeVRyYWNlIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBqRmFjdG9yeUxvYWRlcl9vbkluaXQgfSBmcm9tIFwiLi9qRmFjdG9yeUxvYWRlclwiO1xuaW1wb3J0IHsgTk9PUCB9IGZyb20gXCIuL2pGYWN0b3J5LWhlbHBlcnNcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeVRyYWNlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtICNsaW1pdGF0aW9uIyBFcnJvci5zdGFjayBpcyBub3Qgc3RhbmRhcmRpemVkXG4vLyAtICNsaW1pdGF0aW9uIyBFcnJvci5zdGFjayBpcyBub3Qgc291cmNlLW1hcHBlZFxuLy8gLSAjbGltaXRhdGlvbiMgYnVnIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTE1ODQyNDRcbi8vIC0gI2xpbWl0YXRpb24jIFN0YWNrVHJhY2UuanMgcmVzb2x2ZXMgc291cmNlbWFwcy4gVW5mb3J0dW5hdGVseSwgaXQgZG9lc24ndCB3b3JrIHdpdGggXCJ3ZWJwYWNrOlwiIHByb3RvY29sXG4vLyAgIHNlZSBodHRwczovL2dpdGh1Yi5jb20vc3RhY2t0cmFjZWpzL3N0YWNrdHJhY2UuanMvaXNzdWVzLzIwOVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9zb3VyY2UtbWFwL1xuLy8gaHR0cHM6Ly93d3cuc3RhY2t0cmFjZWpzLmNvbS9cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub3ZvY2FpbmUvc291cmNlbWFwcGVkLXN0YWNrdHJhY2Vcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlUcmFjZV9OT0ZJTFRFUiB7XG5cbiAgICBjb25zdHJ1Y3Rvcih7IGxhYmVsLCBzdGFja1RyYWNlTGltaXQsIGtleXMsIGxpYk9wdGlvbnMgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMubGFiZWwgPSBsYWJlbCB8fCBcIlRoZSBzdGFjayBoYXMgYmVlbiBwcmludGVkIGluIHRoZSBjb25zb2xlXCI7XG4gICAgICAgIHRoaXMuc3RhY2tUcmFjZUxpbWl0ID0gc3RhY2tUcmFjZUxpbWl0IHx8IEluZmluaXR5O1xuICAgICAgICB0aGlzLmtleXMgPSBrZXlzIHx8IFtcInN0YWNrTG9nXCIsIFwic3RhY2tTb3VyY2VcIl07XG4gICAgICAgIHRoaXMubGliT3B0aW9ucyA9IGxpYk9wdGlvbnMgfHwge31cbiAgICB9XG5cbiAgICBjYXB0dXJlVHJhY2VTb3VyY2Uob21pdEFib3ZlRnVuY3Rpb25OYW1lLCBvbWl0U2VsZikge1xuICAgICAgICBsZXQgX3N0YWNrVHJhY2VMaW1pdDtcbiAgICAgICAgaWYgKHRoaXMuc3RhY2tUcmFjZUxpbWl0KSB7XG4gICAgICAgICAgICBfc3RhY2tUcmFjZUxpbWl0ID0gRXJyb3Iuc3RhY2tUcmFjZUxpbWl0O1xuICAgICAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gdGhpcy5zdGFja1RyYWNlTGltaXRcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9taXRBYm92ZUZ1bmN0aW9uTmFtZSkge1xuICAgICAgICAgICAgb21pdEFib3ZlRnVuY3Rpb25OYW1lID0gXCJjYXB0dXJlVHJhY2VTb3VyY2VcIjtcbiAgICAgICAgICAgIG9taXRTZWxmID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGxldCB0cmFjZVNvdXJjZSA9IHtcbiAgICAgICAgICAgIHNvdXJjZTogbmV3IEVycm9yKCksXG4gICAgICAgICAgICBvbWl0QWJvdmVGdW5jdGlvbk5hbWUsXG4gICAgICAgICAgICBvbWl0U2VsZlxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5zdGFja1RyYWNlTGltaXQpIHtcbiAgICAgICAgICAgIEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IF9zdGFja1RyYWNlTGltaXRcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJhY2VTb3VyY2VcbiAgICB9XG5cbiAgICBhdHRhY2hUcmFjZSh0YXJnZXRPYmplY3QsIHRyYWNlU291cmNlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdHJhY2VTb3VyY2UgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHRyYWNlU291cmNlID0gdGhpcy5jYXB0dXJlVHJhY2VTb3VyY2UodHJhY2VTb3VyY2UgfHwgXCJhdHRhY2hUcmFjZVwiLCAhdHJhY2VTb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRyYWNlID0gdHJhY2VTb3VyY2Uuc291cmNlO1xuICAgICAgICB0aGlzLnRvUHJpbnRhYmxlVHJhY2UodHJhY2VTb3VyY2UpXG4gICAgICAgICAgICAudGhlbihyID0+IHRyYWNlID0gcik7XG5cbiAgICAgICAgbGV0IGxvZyA9ICgpID0+IGNvbnNvbGUubG9nKHRyYWNlKSB8fCB0aGlzLmxhYmVsO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXRPYmplY3QsIHRoaXMua2V5c1swXSAvKiB0cmFjZUxvZyAqLywge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAvLyBoaWRlIHRoZSBmdW5jdGlvbiBib2R5IHRvIGltcHJvdmUgcmVhZGFiaWxpdHkgaW4gZGV2dG9vbFxuICAgICAgICAgICAgZ2V0OiAoKSA9PiBsb2coKVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldE9iamVjdCwgdGhpcy5rZXlzWzFdIC8qIHRyYWNlU291cmNlICovLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIC8vIGhpZGUgdGhlIHRyYWNlU291cmNlIEVycm9yIHRvIGltcHJvdmUgcmVhZGFiaWxpdHkgaW4gZGV2dG9vbCwgc3BlY2lhbGx5IGluIEZpcmVmb3hcbiAgICAgICAgICAgIGdldDogKCkgPT4gdHJhY2VTb3VyY2VcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdG9QcmludGFibGVUcmFjZSh0cmFjZVNvdXJjZSkge1xuICAgICAgICAvLyBTUEVDOiB0aGlzIG92ZXJyaWRhYmxlIG1ldGhvZCByZXR1cm5zIGEgcHJvbWlzZVxuICAgICAgICAvLyBiZWNhdXNlIHN0YWNrdHJhY2UgcGFyc2VycyBtYXkgYmUgYXN5bmNocm9ub3VzXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJhY2VTb3VyY2Uuc291cmNlKVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5VHJhY2VfTElCX1NUQUNLVFJBQ0UgZXh0ZW5kcyBKRmFjdG9yeVRyYWNlX05PRklMVEVSIHtcblxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBzdXBlcihjb25maWcpO1xuICAgIH1cblxuICAgIHRvUHJpbnRhYmxlVHJhY2UodHJhY2VTb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIFN0YWNrVHJhY2UuZnJvbUVycm9yKHRyYWNlU291cmNlLnNvdXJjZSwgdGhpcy5saWJPcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4odHJhY2VGcmFtZXMgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRyYWNlU291cmNlLm9taXRBYm92ZUZ1bmN0aW9uTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2xpY2UgPSB0cmFjZUZyYW1lcy5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmZ1bmN0aW9uTmFtZSAmJiB2YWx1ZS5mdW5jdGlvbk5hbWUuZW5kc1dpdGgodHJhY2VTb3VyY2Uub21pdEFib3ZlRnVuY3Rpb25OYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2xpY2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2VTb3VyY2Uub21pdFNlbGYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGljZSsrXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjZUZyYW1lcyA9IHRyYWNlRnJhbWVzLnNsaWNlKHNsaWNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmFjZUZyYW1lcyA9IHRyYWNlRnJhbWVzXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIodGhpcy5saWJPcHRpb25zLmZpbHRlcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0VHJhY2VGcmFtZXModHJhY2VGcmFtZXMpXG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3JtYXRUcmFjZUZyYW1lcyh0cmFjZUZyYW1lcykge1xuICAgICAgICBsZXQgaGVhZGVyO1xuICAgICAgICBsZXQgbGluZVByZWZpeDtcbiAgICAgICAgaWYgKHRoaXMubGliT3B0aW9ucy5vZmZsaW5lICYmIHdpbmRvdy5jaHJvbWUpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBmYWxsb3dpbmcgc3ludGF4IGlzIGRldGVjdGVkIG9uIENocm9tZSxcbiAgICAgICAgICAgIC8vIHRoZSBjb25zb2xlLmxvZygpIHdpbGwgY29udmVydCB0aGUgZmlsZU5hbWVzIHVzaW5nIHNvdXJjZW1hcHNcbiAgICAgICAgICAgIGhlYWRlciA9IFwiRXJyb3JcXG5cIjsgLy8gbm90ZXMgdGhhdCBhbnl0aGluZyBhZnRlciBcIkVycm9yXCIgaXMgdmFsaWRcbiAgICAgICAgICAgIGxpbmVQcmVmaXggPSBcIlxcdGF0IFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVhZGVyID0gXCJcIjtcbiAgICAgICAgICAgIGxpbmVQcmVmaXggPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoZWFkZXIgK1xuICAgICAgICAgICAgdHJhY2VGcmFtZXNcbiAgICAgICAgICAgICAgICAubWFwKHNmID0+IGxpbmVQcmVmaXggKyBzZi50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC5qb2luKFwiXFxuXCIpO1xuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBqRmFjdG9yeVRyYWNlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjb25zdCBqRmFjdG9yeVRyYWNlID0ge307XG5cbmpGYWN0b3J5TG9hZGVyX29uSW5pdChmdW5jdGlvbigpIHtcbiAgICBsZXQgY29uZmlnID0gSkZBQ1RPUllfQ0ZHX0pGYWN0b3J5VHJhY2U7XG4gICAgaWYgKGNvbmZpZyAmJiBjb25maWcudXNlICE9PSBmYWxzZSkge1xuICAgICAgICBsZXQgY29uc3RydWN0b3I7XG4gICAgICAgIGNvbnN0cnVjdG9yID0gdHlwZW9mIGNvbmZpZy51c2UgPT09IFwiZnVuY3Rpb25cIiA/XG4gICAgICAgICAgICBjb25maWcudXNlIDpcbiAgICAgICAgICAgIHR5cGVvZiBTdGFja1RyYWNlID09PSBcIm9iamVjdFwiID8gSkZhY3RvcnlUcmFjZV9MSUJfU1RBQ0tUUkFDRSA6IEpGYWN0b3J5VHJhY2VfTk9GSUxURVI7XG4gICAgICAgIGlmIChjb25zdHJ1Y3RvciA9PT0gSkZhY3RvcnlUcmFjZV9MSUJfU1RBQ0tUUkFDRSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiakZhY3Rvcnk6IFN0YWNrIHRyYWNlIGVuYWJsZWQ7IFBlcmZvcm1hbmNlIHdpbGwgYmUgYWZmZWN0ZWRcIilcbiAgICAgICAgfVxuICAgICAgICBqRmFjdG9yeVRyYWNlLnRyYWNlciA9IG5ldyBjb25zdHJ1Y3Rvcihjb25maWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGpGYWN0b3J5VHJhY2UudHJhY2VyID0ge1xuICAgICAgICAgICAgY2FwdHVyZVRyYWNlU291cmNlOiBOT09QLFxuICAgICAgICAgICAgYXR0YWNoVHJhY2U6IE5PT1BcbiAgICAgICAgfTtcbiAgICB9XG59KTsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgSkZBQ1RPUllfQ0ZHX0pGYWN0b3J5RXJyb3IgfSBmcm9tIFwiLi9qRmFjdG9yeS1lbnZcIjtcbmltcG9ydCB7IGhlbHBlcl9nZXQsIGhlbHBlcl9pc05hdGl2ZSwgaGVscGVyX2xvd2VyRmlyc3QsIGhlbHBlcl90ZW1wbGF0ZSB9IGZyb20gXCIuL2pGYWN0b3J5LWhlbHBlcnNcIjtcbmltcG9ydCB7IGpGYWN0b3J5VHJhY2UgfSBmcm9tIFwiLi9KRmFjdG9yeVRyYWNlXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlFcnJvclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gXCJ1bnNwZWNpZmllZCBlcnJvclwiLCBkYXRhID0gbnVsbCkge1xuICAgICAgICBkYXRhID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCBkYXRhKTtcbiAgICAgICAgbWVzc2FnZSA9IEpGYWN0b3J5RXJyb3IudG9QcmludGFibGUobWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLiRkYXRhID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCBkYXRhKTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZVxuICAgIH1cblxuICAgICogW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHlpZWxkIHRoaXMubWVzc2FnZTtcbiAgICAgICAgeWllbGQgdGhpcy4kZGF0YTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SWQob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvYmplY3RbKEpGQUNUT1JZX0NGR19KRmFjdG9yeUVycm9yLmtleXMgfHwgSkZhY3RvcnlFcnJvci5ERUZBVUxUX0tFWVMpLmZpbmQoa2V5ID0+IHtcbiAgICAgICAgICAgIGxldCB2YWwgPSBoZWxwZXJfZ2V0KG9iamVjdCwga2V5KTtcbiAgICAgICAgICAgIHJldHVybiB2YWwgfHwgdmFsID09PSAwXG4gICAgICAgIH0pXVxuICAgIH1cblxuICAgIHN0YXRpYyB0b1ByaW50YWJsZURhdGEoZGF0YSkge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZURhdGEgPSB7fTtcbiAgICAgICAgbGV0IG52O1xuICAgICAgICBmb3IgKGxldCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEpKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gdmFsLm5hbWUgKyBcIigpXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gdmFsLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgobnYgPSBKRmFjdG9yeUVycm9yLmdldElkKHZhbCkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9ICdcIicgKyBudiArICdcIidcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGVscGVyX2lzTmF0aXZlKHZhbC50b1N0cmluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWwudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudiA9IEpTT04uc3RyaW5naWZ5KHZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IG52Lmxlbmd0aCA+IEpGYWN0b3J5RXJyb3IuSlNPTl9NQVhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbnYuc3Vic3RyaW5nKDAsIEpGYWN0b3J5RXJyb3IuSlNPTl9NQVgpICsgXCJbLi4uXVwiIDogbnY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBcIltvYmplY3QgXCIgKyB2YWwuY29uc3RydWN0b3IubmFtZSArIFwiXVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gJ1wiJyArIHZhbCArICdcIic7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IFN0cmluZyh2YWwpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wbGF0ZURhdGFba2V5XSA9IHZhbFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZURhdGFcbiAgICB9XG5cbiAgICBzdGF0aWMgdG9QcmludGFibGUodGVtcGxhdGUsIGRhdGEpIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVNZXNzYWdlID0gW107XG4gICAgICAgIGZvciAobGV0IHBhcnQgb2YgdGVtcGxhdGUuc3BsaXQoXCI7XCIpKSB7XG4gICAgICAgICAgICBsZXQgcGxhY2Vob2xkZXI7XG4gICAgICAgICAgICBsZXQgUkVfUExBQ0VIT0xERVIgPSBKRmFjdG9yeUVycm9yLlJFX1BMQUNFSE9MREVSO1xuICAgICAgICAgICAgUkVfUExBQ0VIT0xERVIubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgIGlmICgocGxhY2Vob2xkZXIgPSBSRV9QTEFDRUhPTERFUi5leGVjKHBhcnQpKSkge1xuICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyWzFdICYmIHBsYWNlaG9sZGVyWzFdIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlTWVzc2FnZS5wdXNoKHBhcnQudHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IHdoaWxlICgocGxhY2Vob2xkZXIgPSBSRV9QTEFDRUhPTERFUi5leGVjKHBhcnQpKSAhPT0gbnVsbClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVNZXNzYWdlLnB1c2gocGFydC50cmltKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoZWxwZXJfbG93ZXJGaXJzdChoZWxwZXJfdGVtcGxhdGUodGVtcGxhdGVNZXNzYWdlLmpvaW4oXCI7IFwiKSkoSkZhY3RvcnlFcnJvci50b1ByaW50YWJsZURhdGEoZGF0YSkpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZmFjdG9yeSh0eXBlLCB0ZW1wbGF0ZSkge1xuICAgICAgICBsZXQgcmV0ID0gY2xhc3MgZXh0ZW5kcyBKRmFjdG9yeUVycm9yIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKGRhdGEsIHRyYWNlU291cmNlKSB7XG4gICAgICAgICAgICAgICAgc3VwZXIodGVtcGxhdGUsIGRhdGEpO1xuICAgICAgICAgICAgICAgIGpGYWN0b3J5VHJhY2UudHJhY2VyLmF0dGFjaFRyYWNlKHRoaXMuJGRhdGEsIHRyYWNlU291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gQ2hyb21lIGF1dG9tYXRpY2FsbHkgcmVzb2x2ZXMgc291cmNlbWFwIHdoZW4gbG9nZ2luZyBlcnJvcnNcbiAgICAgICAgLy8gYnV0IG9ubHkgaWYgdGhlIGVycm9yIG5hbWUgc3RhcnRzIHdpdGggXCJFcnJvclwiXG4gICAgICAgIHJldC5wcm90b3R5cGUubmFtZSA9IFwiRXJyb3IgSkZBQ1RPUllfRVJSX1wiICsgdHlwZTtcbiAgICAgICAgcmV0dXJuIHJldFxuICAgIH1cbn1cblxuSkZhY3RvcnlFcnJvci5KU09OX01BWCA9IDQwO1xuSkZhY3RvcnlFcnJvci5ERUZBVUxUX0tFWVMgPSBbXCJuYW1lXCIsIFwiaWRcIl07XG5KRmFjdG9yeUVycm9yLlJFX1BMQUNFSE9MREVSID0gL1xcJHsoW159XSspfS9nO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGQUNUT1JZX0VSUl8qXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmNvbnN0IEUgPSBKRmFjdG9yeUVycm9yLmZhY3Rvcnk7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbmV4cG9ydCBjb25zdCBKRkFDVE9SWV9FUlJfSU5WQUxJRF9WQUxVRSA9IC8qI19fUFVSRV9fKi9FKFwiSU5WQUxJRF9WQUxVRVwiLCBcImludmFsaWQgdmFsdWUgZm9yICR7dGFyZ2V0fTsgUmVhc29uOiAke3JlYXNvbn07IEdpdmVuOiAke2dpdmVufVwiKTtcbmV4cG9ydCBjb25zdCBKRkFDVE9SWV9FUlJfSU5WQUxJRF9DQUxMID0gLyojX19QVVJFX18qL0UoXCJJTlZBTElEX0NBTExcIiwgXCJpbnZhbGlkIGNhbGwgJHt0YXJnZXR9OyBSZWFzb246ICR7cmVhc29ufTsgT3duZXI6ICR7b3duZXJ9XCIpO1xuZXhwb3J0IGNvbnN0IEpGQUNUT1JZX0VSUl9QUk9NSVNFX0VYUElSRUQgPSAvKiNfX1BVUkVfXyovRShcIlBST01JU0VfRVhQSVJFRFwiLCBcImV4cGlyZWQgcHJvbWlzZSAke3RhcmdldH07IFJlYXNvbjogJHtyZWFzb259XCIpO1xuZXhwb3J0IGNvbnN0IEpGQUNUT1JZX0VSUl9SRVFVRVNUX0VSUk9SID0gLyojX19QVVJFX18qL0UoXCJSRVFVRVNUX0VSUk9SXCIsIFwiZXJyb3IgcmVxdWVzdGluZyAke3RhcmdldH07IFJlYXNvbjogJHtyZWFzb259OyBPd25lcjogJHtvd25lcn1cIik7XG5leHBvcnQgY29uc3QgSkZBQ1RPUllfRVJSX0tFWV9EVVBMSUNBVEVEID0gLyojX19QVVJFX18qL0UoXCJLRVlfRFVQTElDQVRFRFwiLCBcImR1cGxpY2F0ZWQga2V5IGZvciAke3RhcmdldH07IEdpdmVuOiAke2dpdmVufVwiKTtcbmV4cG9ydCBjb25zdCBKRkFDVE9SWV9FUlJfS0VZX01JU1NJTkcgPSAvKiNfX1BVUkVfXyovRShcIktFWV9NSVNTSU5HXCIsIFwibWlzc2luZyBrZXkgZm9yICR7dGFyZ2V0fTsgR2l2ZW46ICR7Z2l2ZW59XCIpO1xuLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovIiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IEpGQUNUT1JZX0VSUl9JTlZBTElEX1ZBTFVFIH0gZnJvbSBcIi4vSkZhY3RvcnlFcnJvclwiO1xuaW1wb3J0IHsgaGVscGVyX2lzTnVtYmVyLCBoZWxwZXJfaXNQbGFpbk9iamVjdCwgaGVscGVyX2lzU3RyaW5nIH0gZnJvbSBcIi4vakZhY3RvcnktaGVscGVyc1wiO1xuaW1wb3J0IHsgakZhY3RvcnlMb2FkZXJfb25Jbml0IH0gZnJvbSBcIi4vakZhY3RvcnlMb2FkZXJcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeUV4cGVjdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBBIHNtYWxsIGlucHV0L291dHB1dCB2YWxpZGF0aW9uIHRvb2xcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBBbHBoYSwgRHJhZnRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIEByZXR1cm4geyp8SkZhY3RvcnlFeHBlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBKRmFjdG9yeUV4cGVjdChsYWJlbCwgdmFsdWUpIHtcbiAgICBpZiAobmV3LnRhcmdldCkge1xuICAgICAgICB0aGlzLmxhYmVsID0gbGFiZWw7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IEpGYWN0b3J5RXhwZWN0KGxhYmVsLCB2YWx1ZSlcbiAgICB9XG59XG5cbmNvbnN0IGVycm9yID0gZnVuY3Rpb24gakZhY3RvcnlUaHJvdyhsYWJlbCwgdmFsdWUsIG1lc3NhZ2UpIHtcbiAgICB0aHJvdyBuZXcgSkZBQ1RPUllfRVJSX0lOVkFMSURfVkFMVUUoe1xuICAgICAgICB0YXJnZXQ6IGxhYmVsLFxuICAgICAgICByZWFzb246IG1lc3NhZ2UsXG4gICAgICAgIGdpdmVuOiB2YWx1ZVxuICAgIH0pXG59O1xuXG5jb25zdCBzdGF0aWNNZXRob2RzID0ge1xuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgbm90VW5kZWZpbmVkXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdFVuZGVmaW5lZFxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIG5vdFVuZGVmaW5lZChsYWJlbCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJjYW5ub3QgYmUgdW5kZWZpbmVkXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RFbXB0eVN0cmluZ1xuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RFbXB0eVN0cmluZ1xuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIG5vdEVtcHR5U3RyaW5nKGxhYmVsLCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJjYW5ub3QgYmUgZW1wdHkgc3RyaW5nXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RGYWxzeVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RGYWxzeVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIG5vdEZhbHN5KGxhYmVsLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsICdjYW5ub3QgYmUgYSBmYWxzeSB2YWx1ZSAodW5kZWZpbmVkLCBudWxsLCBOYU4sIDAsIFwiXCIpJylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHZhbGlkU3BhY2VzXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHZhbGlkU3BhY2VzXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgdmFsaWRTcGFjZXMobGFiZWwsIHZhbHVlKSB7XG4gICAgICAgIGlmICghdmFsdWUucmVwbGFjZSB8fCB2YWx1ZS5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKS50cmltKCkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwiaW52YWxpZCBzcGFjZSBkZWxpbWl0ZXJzXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBtYXRjaFJlZ1xuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gcmVnXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgbWF0Y2hSZWdcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICBtYXRjaFJlZyhsYWJlbCwgdmFsdWUsIHJlZykge1xuICAgICAgICBpZiAoIXJlZy50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCAnc3RyaW5nIFwiJyArIHZhbHVlICsgJ1wiIG11c3QgbWF0Y2ggJyArIHJlZylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHBhcmFtIHsuLi4qfSBleHBlY3RlZFxuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICB0eXBlKGxhYmVsLCB2YWx1ZSwgLi4uZXhwZWN0ZWQpIHtcbiAgICAgICAgbGV0IG5hbWUsIG9rID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGNvbnN0cnVjdG9yIG9mIGV4cGVjdGVkKSB7XG4gICAgICAgICAgICBpZiAoY29uc3RydWN0b3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gXCJOdWxsXCJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXCJuYW1lXCIgaW4gY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gY29uc3RydWN0b3IubmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRlc3QgPSBzdGF0aWNNZXRob2RzW1widHlwZVwiICsgbmFtZV07XG4gICAgICAgICAgICBpZiAodGVzdCkge1xuICAgICAgICAgICAgICAgIHRyeSB7b2sgPSB0ZXN0KGxhYmVsLCB2YWx1ZS8qLCBlKi8pfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2sgPSB2YWx1ZSBpbnN0YW5jZW9mIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2spIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvaykge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgW1wiICsgZXhwZWN0ZWQubWFwKGUgPT4gZS5uYW1lKS5qb2luKFwiLCBcIikgKyBcIl1cIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVOdWxsXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVOdWxsXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgdHlwZU51bGwobGFiZWwsIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgbnVsbFwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZUJvb2xlYW5cbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZUJvb2xlYW5cbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICB0eXBlQm9vbGVhbihsYWJlbCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0cnVlICYmIHZhbHVlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgYSBib29sZWFuXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlU3RyaW5nXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVTdHJpbmdcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICB0eXBlU3RyaW5nKGxhYmVsLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIWhlbHBlcl9pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IGJlIGEgc3RyaW5nXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlTnVtYmVyXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVOdW1iZXJcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICB0eXBlTnVtYmVyKGxhYmVsLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIWhlbHBlcl9pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IGJlIGEgbnVtYmVyXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlRnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZUZ1bmN0aW9uXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgdHlwZUZ1bmN0aW9uKGxhYmVsLCB2YWx1ZSkge1xuICAgICAgICBpZiAoISh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IGJlIGEgZnVuY3Rpb25cIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVQbGFpbk9iamVjdFxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlUGxhaW5PYmplY3RcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICB0eXBlUGxhaW5PYmplY3QobGFiZWwsIHZhbHVlKSB7XG4gICAgICAgIGlmICghaGVscGVyX2lzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBiZSBhIHBsYWluIG9iamVjdFwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZXF1YWxcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHBhcmFtIHsqfSBleHBlY3RlZFxuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGVxdWFsXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgZXF1YWwobGFiZWwsIHZhbHVlLCAuLi5leHBlY3RlZCkge1xuICAgICAgICBsZXQgb2sgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgZSBvZiBleHBlY3RlZCkge1xuICAgICAgICAgICAgaWYgKChvayA9IHZhbHVlID09PSBlKSkgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9rKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBiZSBvbmUgb2YgW1wiICsgZXhwZWN0ZWQgKyBcIl1cIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBlcXVhbEluXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBleHBlY3RlZFxuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGVxdWFsSW5cbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICBlcXVhbEluKGxhYmVsLCB2YWx1ZSwgZXhwZWN0ZWQpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGV4cGVjdGVkKSkge1xuICAgICAgICAgICAgZXhwZWN0ZWQgPSBPYmplY3QudmFsdWVzKGV4cGVjdGVkKVxuICAgICAgICB9XG4gICAgICAgIGlmICghZXhwZWN0ZWQuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBiZSBvbmUgZnJvbSBbXCIgKyBleHBlY3RlZC5qb2luKFwiLCBcIikgKyBcIl1cIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHByb3BlcnRpZXNcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHBhcmFtIHtBcnJheX0gZXhwZWN0ZWRcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBwcm9wZXJ0aWVzXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgcHJvcGVydGllcyhsYWJlbCwgdmFsdWUsIGV4cGVjdGVkKSB7XG4gICAgICAgIGZvciAobGV0IG5hbWUgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChsYWJlbCArICcsIHByb3BlcnR5IG5hbWUgXCInICsgbmFtZSArICdcIicsIG5hbWUpLmVxdWFsSW4oZXhwZWN0ZWQpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB3cml0YWJsZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgd3JpdGFibGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICB3cml0YWJsZShsYWJlbCwgdmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUsIGtleSkud3JpdGFibGUpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IGJlIHdyaXRhYmxlXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RXcml0YWJsZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgbm90V3JpdGFibGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICBub3RXcml0YWJsZShsYWJlbCwgdmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KS53cml0YWJsZSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3Qgbm90IGJlIHdyaXRhYmxlXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBlbnVtZXJhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBlbnVtZXJhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgZW51bWVyYWJsZShsYWJlbCwgdmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgZW51bWVyYWJsZVwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgbm90RW51bWVyYWJsZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgbm90RW51bWVyYWJsZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIG5vdEVudW1lcmFibGUobGFiZWwsIHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3Qgbm90IGJlIGVudW1lcmFibGVcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGNvbmZpZ3VyYWJsZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgY29uZmlndXJhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgY29uZmlndXJhYmxlKGxhYmVsLCB2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmICghT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KS5jb25maWd1cmFibGUpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IGJlIGNvbmZpZ3VyYWJsZVwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgbm90Q29uZmlndXJhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RDb25maWd1cmFibGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICBub3RDb25maWd1cmFibGUobGFiZWwsIHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUsIGtleSkuY29uZmlndXJhYmxlKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBub3QgYmUgY29uZmlndXJhYmxlXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCByZXNlcnZlZFByb3BlcnR5XG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCByZXNlcnZlZFByb3BlcnR5XG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgcmVzZXJ2ZWRQcm9wZXJ0eShsYWJlbCwgdmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoa2V5IGluIHZhbHVlKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwiaXMgYSByZXNlcnZlZCBwcm9wZXJ0eVwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxufTtcblxuakZhY3RvcnlMb2FkZXJfb25Jbml0KGZ1bmN0aW9uKCkge1xuICAgIE9iamVjdC5hc3NpZ24oSkZhY3RvcnlFeHBlY3QsIHN0YXRpY01ldGhvZHMpO1xuICAgIC8vIEdlbmVyYXRlIG1lbWJlcnMgZnJvbSBzdGF0aWMgbWV0aG9kc1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzdGF0aWNNZXRob2RzKSkge1xuICAgICAgICBKRmFjdG9yeUV4cGVjdC5wcm90b3R5cGVbbmFtZV0gPVxuICAgICAgICAgICAgZnVuY3Rpb24gY2FsbFN0YXRpYyguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3RbbmFtZV0odGhpcy5sYWJlbCwgdGhpcy52YWx1ZSwgLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgICAgIH1cbiAgICB9XG59KTsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgSkZBQ1RPUllfREVWLCBKRkFDVE9SWV9DRkdfTE9HIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBKRmFjdG9yeUV4cGVjdCB9IGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlUcmFpdHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5VHJhaXRzIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0pGYWN0b3J5Q29yZU9iamVjdHxPYmplY3R9IGNhbGxlckluc3RhbmNlXG4gICAgICogQHBhcmFtIHtDbGFzc3xGdW5jdGlvbn0gY2FsbGVyQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNhbGxlckluc3RhbmNlLCBjYWxsZXJDb25zdHJ1Y3Rvciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SkZhY3RvcnlDb3JlT2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYWxsZXJJbnN0YW5jZSA9IGNhbGxlckluc3RhbmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Q2xhc3N8RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbGxlckNvbnN0cnVjdG9yID0gY2FsbGVyQ29uc3RydWN0b3I7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cblxuICAgIHVzZSh0cmFpdCwgLi4udHJhaXRBcmdzKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlUcmFpdHModHJhaXQpXCIsIHRyYWl0KS50eXBlRnVuY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNhbGxlckNvbnN0cnVjdG9yIGlzIG5vdCBhbHdheXMgdGhlIGNhbGxlckluc3RhbmNlLmNvbnN0cnVjdG9yOlxuICAgICAgICAvLyBUaGUgVHJhaXQgY2FuIGJlIGluamVjdGVkIGluIGFuIGluaGVyaXRlZCBjb25zdHJ1Y3RvciBmcm9tIHN1cGVyKCkgYXQgY2FsbCB0aW1lXG4gICAgICAgIGxldCB7IGNhbGxlckluc3RhbmNlLCBjYWxsZXJDb25zdHJ1Y3RvciB9ID0gdGhpcztcblxuICAgICAgICAvLyBEZXRlY3QgaW1wcm9wZXIgZHVwbGljYXRpb24gKGNhbiBiZSBhIHRyYWl0IGFscmVhZHkgY2FsbGVkIGJ5IGEgc3VwZXIgY2xhc3MpXG4gICAgICAgIGxldCBjYWNoZSA9IEpGYWN0b3J5VHJhaXRzLkNBQ0hFLmdldChjYWxsZXJJbnN0YW5jZSk7XG5cbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICBpZiAoY2FjaGUuaGFzKHRyYWl0KSkge1xuICAgICAgICAgICAgICAgIGlmIChKRkFDVE9SWV9DRkdfTE9HLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGAke3RyYWl0Lm5hbWV9IGFscmVhZHkgY2FsbGVkIG9uYCwgY2FsbGVySW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FjaGUuYWRkKHRyYWl0KVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgSkZhY3RvcnlUcmFpdHMuQ0FDSEUuc2V0KGNhbGxlckluc3RhbmNlLCBuZXcgV2Vha1NldChbdHJhaXRdKSlcbiAgICAgICAgfVxuXG4gICAgICAgICFjYWxsZXJDb25zdHJ1Y3Rvci5KRmFjdG9yeVRyYWl0ICYmIChjYWxsZXJDb25zdHJ1Y3Rvci5KRmFjdG9yeVRyYWl0ID0gbmV3IFdlYWtTZXQpO1xuXG4gICAgICAgIGlmICghY2FsbGVyQ29uc3RydWN0b3IuSkZhY3RvcnlUcmFpdC5oYXModHJhaXQpKSB7XG4gICAgICAgICAgICBjYWxsZXJDb25zdHJ1Y3Rvci5KRmFjdG9yeVRyYWl0LmFkZCh0cmFpdCk7XG4gICAgICAgICAgICB0aGlzLmV4cG9ydCh0cmFpdC5wcm90b3R5cGUsIGNhbGxlckNvbnN0cnVjdG9yLnByb3RvdHlwZSk7XG4gICAgICAgICAgICB0aGlzLmV4cG9ydCh0cmFpdCwgY2FsbGVyQ29uc3RydWN0b3IsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW4gYSBUcmFpdC5jb25zdHJ1Y3RvcihjYWxsZXJJbnN0YW5jZSwgLi4uYXJncykgOiB0aGlzICE9IGNhbGxlckluc3RhbmNlXG4gICAgICAgIC8vIEluIGEgVHJhaXQudHJhaXRfY29uc3RydWN0b3IoLi4uYXJncykgOiB0aGlzID09IGNhbGxlckluc3RhbmNlICh0cmFpdHMgaXMgaW5qZWN0ZWQgYW5kIGF2YWlsYWJsZSlcblxuICAgICAgICAvLyBUcmFpdHMgYXJlIGluamVjdGlvbnMuIFRoZXkgYXJlIG5vdCBkeW5hbWljIGluaGVyaXRhbmNlLlxuICAgICAgICAvLyBTbyB0aGUgVHJhaXQuY29uc3RydWN0b3IoKSBkb2Vzbid0IHNoYXJlIHRoZSBcInRoaXNcIiBrZXl3b3JkIHdpdGggaXRzIGNhbGxlci5cblxuICAgICAgICAvLyAjbGltaXRhdGlvbiMgTm8gd2F5IHRvIGJpbmQgYW4gRVM2IGNsYXNzIGNvbnN0cnVjdG9yIHRvIGFuIG9iamVjdFxuICAgICAgICAvLyA9PiBJbXBsZW1lbnRlciBjYW4gZGVmaW5lIGEgXCJ0cmFpdF9jb25zdHJ1Y3RvcigpXCIgdGhhdCBpcyBhdXRvbWF0aWNhbGx5IGJvdW5kIHRvIFwiY2FsbGVySW5zdGFuY2VcIlxuICAgICAgICAvLyBhbmQgY2FsbGVkIGFmdGVyIHRoZSBuYXRpdmUgdHJhaXQgY29uc3RydWN0b3IoKS5cblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbmV3LWNhcFxuICAgICAgICBsZXQgdHJhaXRJbnN0YW5jZSA9IG5ldyB0cmFpdChjYWxsZXJJbnN0YW5jZSwgLi4udHJhaXRBcmdzKTtcbiAgICAgICAgaWYgKHRyYWl0SW5zdGFuY2UudHJhaXRfY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIHRyYWl0SW5zdGFuY2UudHJhaXRfY29uc3RydWN0b3IuYXBwbHkoY2FsbGVySW5zdGFuY2UsIHRyYWl0QXJncylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGV4cG9ydChzb3VyY2UsIHRhcmdldCwgaXNTdGF0aWMpIHtcbiAgICAgICAgbGV0IHNvdXJjZURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpO1xuXG4gICAgICAgIGZvciAobGV0IHByb3BlcnR5TmFtZSBvZiBPYmplY3Qua2V5cyhzb3VyY2VEZXNjcmlwdG9yKSkge1xuICAgICAgICAgICAgbGV0IHByZWZpeCA9IEpGYWN0b3J5VHJhaXRzLmdldFByZWZpeChwcm9wZXJ0eU5hbWUpO1xuXG4gICAgICAgICAgICBpZiAoSkZhY3RvcnlUcmFpdHMuZ2V0VGFyZ2V0KHByb3BlcnR5TmFtZSwgdGFyZ2V0LCBwcmVmaXgpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHByb3BlcnR5RGVzY3JpcHRvciA9IHNvdXJjZURlc2NyaXB0b3JbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgICAgICBsZXQgcGFyc2VkID0gKHRoaXMub3B0aW9ucy5wYXJzZXIgfHwgSkZhY3RvcnlUcmFpdHMuZGVmYXVsdFBhcnNlcikoXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5TmFtZSwgcHJvcGVydHlEZXNjcmlwdG9yLCBzb3VyY2UsIHRhcmdldCwgaXNTdGF0aWNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgKHsgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eURlc2NyaXB0b3IgfSA9IHBhcnNlZCk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5TmFtZSwgcHJvcGVydHlEZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFBhcnNlcihwcm9wZXJ0eU5hbWUsIHByb3BlcnR5RGVzY3JpcHRvciwgc291cmNlLCB0YXJnZXQsIGlzU3RhdGljKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHByb3BlcnR5RGVzY3JpcHRvci52YWx1ZTtcblxuICAgICAgICBpZiAoaXNTdGF0aWMpIHtyZXR1cm4gbnVsbH0gLy8gZG9uJ3QgZXhwb3J0IHN0YXRpYyBtZW1iZXJzXG5cbiAgICAgICAgaWYgKHByb3BlcnR5TmFtZSBpbiB0YXJnZXQpIHsgLy8gc2tpcCBleGlzdGluZyBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBpZiAoSkZBQ1RPUllfQ0ZHX0xPRy5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgICBgJHt0YXJnZXQuY29uc3RydWN0b3IubmFtZX0+IHNraXBwaW5nIGV4cG9ydCBvZiBleGlzdGluZyBwcm9wZXJ0eSBcIiR7cHJvcGVydHlOYW1lfVwiYCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHsgLy8gcHJldmVudCBzaGFyZWQgb2JqZWN0IGV4cG9ydGF0aW9uXG4gICAgICAgICAgICBpZiAoSkZBQ1RPUllfQ0ZHX0xPRy5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgICBgJHt0YXJnZXQuY29uc3RydWN0b3IubmFtZX0+IHNraXBwaW5nIGV4cG9ydCBvZiBzaGFyZWQgb2JqZWN0IFwiJHtwcm9wZXJ0eU5hbWV9XCJgLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHByb3BlcnR5TmFtZSwgcHJvcGVydHlEZXNjcmlwdG9yIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0UHJlZml4KGtleSkge1xuICAgICAgICBsZXQgc3BsaXQgPSBrZXkuc3BsaXQoXCJfXCIpO1xuICAgICAgICByZXR1cm4gc3BsaXQubGVuZ3RoID4gMSA/IHNwbGl0WzBdIDogbnVsbDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0VGFyZ2V0KGtleSwgdGFyZ2V0LCBwcmVmaXgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgSkZhY3RvcnlUcmFpdHMuRVhDTFVERVMuaW5jbHVkZXMoa2V5KSB8fFxuICAgICAgICAgICAgcHJlZml4ID09PSBcInRyYWl0XCJcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldFxuICAgIH1cbn1cblxuSkZhY3RvcnlUcmFpdHMuQ0FDSEUgPSBuZXcgV2Vha01hcDtcbkpGYWN0b3J5VHJhaXRzLkVYQ0xVREVTID0gW1wiY29uc3RydWN0b3JcIiwgXCJwcm90b3R5cGVcIiwgXCJsZW5ndGhcIiwgXCJzaXplXCJdOyIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgeyBKRkFDVE9SWV9ERVYsIEpGQUNUT1JZX0NGR19MT0cgfSBmcm9tIFwiLi9qRmFjdG9yeS1lbnZcIjtcbmltcG9ydCB7IEpGQUNUT1JZX0VSUl9JTlZBTElEX0NBTEwgfSBmcm9tIFwiLi9KRmFjdG9yeUVycm9yXCI7XG5pbXBvcnQgeyBKRmFjdG9yeUV4cGVjdCB9IGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5pbXBvcnQgeyBoZWxwZXJfc2V0RnVuY3Rpb25OYW1lIH0gZnJvbSBcIi4vakZhY3RvcnktaGVscGVyc1wiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5RnVuY3Rpb25Db21wb3NlclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlGdW5jdGlvbkNvbXBvc2VyIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9XG5cbiAgICAqIFtTeW1ib2wuaXRlcmF0b3JdKGhhbmRsZXJHcm91cHMgPSBbXSkge1xuXG4gICAgICAgIGlmICghaGFuZGxlckdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGhhbmRsZXJHcm91cHMgPSBPYmplY3Qua2V5cyh0aGlzLmhhbmRsZXJzKVxuICAgICAgICB9XG4gICAgICAgIGlmICghaGFuZGxlckdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGhhbmRsZXJHcm91cHMgPSBbXCJkZWZhdWx0XCJdXG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBoYW5kbGVyR3JvdXAgb2YgaGFuZGxlckdyb3Vwcykge1xuICAgICAgICAgICAgaWYgKGhhbmRsZXJHcm91cCBpbiB0aGlzLmhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgeWllbGQqIHRoaXMuaGFuZGxlcnNbaGFuZGxlckdyb3VwXVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIEByZXR1cm4ge0pGYWN0b3J5RnVuY3Rpb25Db21wb3Nlcn0gKi9cbiAgICBmaXJzdChoYW5kbGVyR3JvdXAsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIFtoYW5kbGVyR3JvdXAsIGhhbmRsZXJdID0gW1wiZGVmYXVsdFwiLCBoYW5kbGVyR3JvdXBdXG4gICAgICAgIH1cbiAgICAgICAgKHRoaXMuaGFuZGxlcnNbaGFuZGxlckdyb3VwXSB8fCAodGhpcy5oYW5kbGVyc1toYW5kbGVyR3JvdXBdID0gW10pKS51bnNoaWZ0KGhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKiBAcmV0dXJuIHtKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXJ9ICovXG4gICAgbGFzdChoYW5kbGVyR3JvdXAsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIFtoYW5kbGVyR3JvdXAsIGhhbmRsZXJdID0gW1wiZGVmYXVsdFwiLCBoYW5kbGVyR3JvdXBdXG4gICAgICAgIH1cbiAgICAgICAgKHRoaXMuaGFuZGxlcnNbaGFuZGxlckdyb3VwXSB8fCAodGhpcy5oYW5kbGVyc1toYW5kbGVyR3JvdXBdID0gW10pKS5wdXNoKGhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKiBAcmV0dXJuIHsoZnVuY3Rpb24oKTogKikgJiB7Y29tcG9zZXI6IEpGYWN0b3J5RnVuY3Rpb25Db21wb3Nlcn19ICovXG4gICAgY29tcG9zZSguLi5oYW5kbGVyR3JvdXBzKSB7XG4gICAgICAgIGxldCBjb21wb3NlciA9IHRoaXM7XG4gICAgICAgIGxldCBjb21wb3NpdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vICEhISEtLSEhISEtLSEhISEtLSEhISEtLSEhISEtLSEhISEtLSEhISEtLSEhISEgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHdyYXBwZWQgZnVuY3Rpb24gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIFlvdSBzaG91bGQgQmxhY2tib3ggSkZhY3RvcnlGdW5jdGlvbi5tanMgICAgLy9cbiAgICAgICAgICAgIC8vICAgIHRvIHNpbXBsaWZ5IGRlYnVnZ2luZyAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICEhISEtLSEhISEtLSEhISEtLSEhISEtLSEhISEtLSEhISEtLSEhISEtLSEhISEgLy9cbiAgICAgICAgICAgIGxldCBjb250ZXh0ID0ge1xuICAgICAgICAgICAgICAgIGNhbmNlbGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBBcnJheS5mcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgcmVzdWx0OiB1bmRlZmluZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgaXRlcmF0b3IgPSBjb21wb3NlcltTeW1ib2wuaXRlcmF0b3JdKGhhbmRsZXJHcm91cHMpO1xuICAgICAgICAgICAgbGV0IGl0ZXJhdGlvbiA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIHJldHVybiBKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXIuY29tcG9zaXRlX2l0ZXJhdG9yKFxuICAgICAgICAgICAgICAgIHRoaXMgLyogcHJlc2VydmUgY2FsbCBzY29wZSAqLywgY29udGV4dCwgaXRlcmF0aW9uLCBpdGVyYXRvcilcbiAgICAgICAgfTtcbiAgICAgICAgY29tcG9zaXRlLmNvbXBvc2VyID0gY29tcG9zZXI7XG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfVxuXG4gICAgLy8gU1BFQzogQ29tcG9zaXRlIGZ1bmN0aW9ucyByZXR1cm5zIHByb21pc2UgKm9ubHkqIGlmIGF0IGxlYXN0XG4gICAgLy8gb25lIGhhbmRsZXIgcmV0dXJucyBhIHByb21pc2UgKGFzeW5jIGZ1bmN0aW9uIG9yIHByb21pc2UgcmV0dXJuKVxuICAgIC8vIFNvIHdlIGNhbm5vdCBqdXN0IGl0ZXJhdGUgdXNpbmcgYW4gXCJhd2FpdCBmb3Igb2ZcIlxuICAgIHN0YXRpYyBjb21wb3NpdGVfaXRlcmF0b3Ioc2NvcGUsIGNvbnRleHQsIGl0ZXJhdGlvbiwgaGFuZGxlcnMpIHtcbiAgICAgICAgbGV0IGhhbmRsZXIsXG4gICAgICAgICAgICByZXN1bHQ7XG5cbiAgICAgICAgd2hpbGUgKCFjb250ZXh0LmNhbmNlbGVkICYmICFpdGVyYXRpb24uZG9uZSkge1xuICAgICAgICAgICAgaGFuZGxlciA9IGl0ZXJhdGlvbi52YWx1ZTtcbiAgICAgICAgICAgIGlmIChzY29wZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIuY2FsbChzY29wZSwgY29udGV4dCwgLi4uY29udGV4dC5wYXJhbWV0ZXJzKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBoYW5kbGVyKGNvbnRleHQsIC4uLmNvbnRleHQucGFyYW1ldGVycylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZXJhdGlvbiA9IGhhbmRsZXJzLm5leHQoKTsgLy8gcHJlcGFyZXMgbmV4dCBpdGVyYXRpb24gdG8ga25vdyBpZiBcImRvbmVcIlxuICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlcmF0aW9uLmRvbmVcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FzZSBvZiBsYXN0IGhhbmRsZXIgcmV0dXJuaW5nIGEgcHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAvLyAjbGltaXRhdGlvbiMgbm93IHdheSB0byBkZXRlY3QgaWYgdGhlIHByb21pc2UgaXMgdGhlIHJldHVybmVkIHZhbHVlIG9yIGFuIFwiYXdhaXRcIlxuICAgICAgICAgICAgICAgICAgICAvLyAod2UgZG9uJ3Qgd2FudCB0byBjaGFuZ2UgdGhlIHZhbHVlIG9mIGNvbnRleHQucmVzdWx0IGR1cmluZyBhIHBlbmRpbmcgaGFuZGxlcilcbiAgICAgICAgICAgICAgICAgICAgLy8gPT4gbmF0aXZlIFByb21pc2UgYXJlIGFsd2F5cyBjaGFpbmVkXG4gICAgICAgICAgICAgICAgICAgICYmIHJlc3VsdC5jb25zdHJ1Y3RvciAhPT0gUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3VsdCA9IHJlc3VsdCAvLyB3ZSBjYW4gc2FmZWx5IHNldCB0aGUgbmV3IHJlc3VsdFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbihoZWxwZXJfc2V0RnVuY3Rpb25OYW1lKFxuICAgICAgICAgICAgICAgICAgICAgICAgW2hhbmRsZXIubmFtZSwgXCJbY29tcG9zaXRlQXN5bmNIYW5kbGVyXVwiXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpGYWN0b3J5RnVuY3Rpb25Db21wb3Nlci5jb21wb3NpdGVfaXRlcmF0b3Ioc2NvcGUsIGNvbnRleHQsIGl0ZXJhdGlvbiwgaGFuZGxlcnMpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3VsdCA9IHJlc3VsdFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250ZXh0LnJlc3VsdFxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeUZ1bmN0aW9uRXhwaXJhYmxlIC0gRXhwaXJhYmxlIEZ1bmN0aW9uIFBhdHRlcm5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgZnVuY3Rpb24gakZhY3RvcnlGdW5jdGlvbkV4cGlyYWJsZShvcmlnaW5hbEhhbmRsZXIpIHtcbiAgICByZXR1cm4gbmV3IEpGYWN0b3J5RnVuY3Rpb25FeHBpcmFibGUob3JpZ2luYWxIYW5kbGVyKS5jb21wb3NlKClcbn1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5RnVuY3Rpb25FeHBpcmFibGUge1xuXG4gICAgY29uc3RydWN0b3Iob3JpZ2luYWxIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxIYW5kbGVyID0gb3JpZ2luYWxIYW5kbGVyO1xuICAgICAgICB0aGlzLmV4cGlyZWRDYWxscyA9IDA7XG4gICAgICAgIHRoaXMuY29tcG9zZXIgPSBuZXcgSkZhY3RvcnlGdW5jdGlvbkNvbXBvc2VyO1xuXG4gICAgICAgIGxldCBpc0V4cGlyZWQgPSB0aGlzLmNvbXBvc2VyLmNvbXBvc2UoXCJjb25kaXRpb25zXCIpO1xuICAgICAgICBsZXQgZXhwaXJhYmxlID0gdGhpcztcbiAgICAgICAgbGV0IGV4cGlyZWQ7XG5cbiAgICAgICAgLy8gY2Fubm90IHVzZSBhIHJlYWwgYWNjZXNzb3IgaGVyZSAoY29uZGl0aW9ucyBjYW4gYmUgc2NvcGVkLCBzbyBpc0V4cGlyZWQgdG9vKVxuICAgICAgICB0aGlzLmlzRXhwaXJlZCA9IHNjb3BlID0+IGV4cGlyZWQgfHwgaXNFeHBpcmVkLmNhbGwoc2NvcGUpIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLnNldEV4cGlyZWQgPSB2YWx1ZSA9PiBleHBpcmVkID0gdmFsdWUgP1xuICAgICAgICAgICAgdmFsdWUgaW5zdGFuY2VvZiBFcnJvciA/IHZhbHVlIDogbmV3IEpGQUNUT1JZX0VSUl9JTlZBTElEX0NBTEwoe1xuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy5vcmlnaW5hbEhhbmRsZXIsXG4gICAgICAgICAgICAgICAgcmVhc29uOiBcIm1hbnVhbGx5IGV4cGlyZWRcIlxuICAgICAgICAgICAgfSkgOiBCb29sZWFuKHRoaXMuZXhwaXJlZENhbGxzID0gMCk7XG5cbiAgICAgICAgdGhpcy5hZGRFeHBpcmVDb25kaXRpb24gPSBmdW5jdGlvbihjb25kaXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9zZXIubGFzdChcImNvbmRpdGlvbnNcIiwgZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgICAgICAgICAgIGxldCBkb25lID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlGdW5jdGlvbkV4cGlyYWJsZS5hZGRFeHBpcmVDb25kaXRpb24oKSwgcmVzdWx0XCIsIHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudHlwZShCb29sZWFuLCBFcnJvcilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwaXJhYmxlLnNldEV4cGlyZWQocmVzdWx0ID9cbiAgICAgICAgICAgICAgICAgICAgICAgIChjb250ZXh0LmNhbmNlbGVkID0gdHJ1ZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChyZXN1bHQgaW5zdGFuY2VvZiBFcnJvciA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0IDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSkZBQ1RPUllfRVJSX0lOVkFMSURfQ0FMTCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogZXhwaXJhYmxlLm9yaWdpbmFsSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcImNvbmRpdGlvbmFsbHkgZXhwaXJlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBjb25kaXRpb24uYXBwbHkodGhpcywgY29udGV4dC5wYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSA/IHJlc3VsdC50aGVuKGRvbmUpIDogZG9uZShyZXN1bHQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb21wb3NlKCkge1xuICAgICAgICBsZXQgZXhwaXJhYmxlID0gdGhpcztcbiAgICAgICAgbGV0IGNvbXBvc2l0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGV0IGlzRXhwaXJlZCA9IGV4cGlyYWJsZS5pc0V4cGlyZWQodGhpcyk7XG4gICAgICAgICAgICBsZXQgY2FsbCA9IGV4cGlyYWJsZS5jb25zdHJ1Y3Rvci5jYWxsLmJpbmQodW5kZWZpbmVkLCBleHBpcmFibGUsIHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICByZXR1cm4gaXNFeHBpcmVkIGluc3RhbmNlb2YgUHJvbWlzZSA/IGlzRXhwaXJlZC50aGVuKGNhbGwpIDogY2FsbChpc0V4cGlyZWQpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihjb21wb3NpdGUsIHtcbiAgICAgICAgICAgIGV4cGlyYWJsZTogdGhpcyxcbiAgICAgICAgICAgIGlzRXhwaXJlZDogZiA9PiB0aGlzLmlzRXhwaXJlZChmKSxcbiAgICAgICAgICAgIHNldEV4cGlyZWQ6IGYgPT4gdGhpcy5zZXRFeHBpcmVkKGYpLFxuICAgICAgICAgICAgYWRkRXhwaXJlQ29uZGl0aW9uOiBmID0+IHt0aGlzLmFkZEV4cGlyZUNvbmRpdGlvbihmKTsgcmV0dXJuIGNvbXBvc2l0ZX1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNhbGwoZXhwaXJhYmxlLCBzY29wZSwgYXJncywgaXNFeHBpcmVkKSB7XG4gICAgICAgIHJldHVybiBpc0V4cGlyZWQgPyBleHBpcmFibGUub25FeHBpcmVkKGlzRXhwaXJlZCkgOiBleHBpcmFibGUub25Ob3RFeHBpcmVkKHNjb3BlLCBhcmdzKTtcbiAgICB9XG5cbiAgICBvbkV4cGlyZWQoZXhwaXJlZCkge1xuICAgICAgICBpZiAodGhpcy5leHBpcmVkQ2FsbHMgPCBKRmFjdG9yeUZ1bmN0aW9uRXhwaXJhYmxlLk1heFdhcm5pbmdFeHBpcmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmV4cGlyZWRDYWxscysrO1xuICAgICAgICAgICAgaWYgKEpGQUNUT1JZX0NGR19MT0cuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybiguLi5uZXcgSkZBQ1RPUllfRVJSX0lOVkFMSURfQ0FMTCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmV4cGlyZWQuJGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogZXhwaXJlZC4kZGF0YS5yZWFzb25cbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCI7IGV4cGlyZWRDYWxscz1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyB0aGlzLmV4cGlyZWRDYWxsc1xuICAgICAgICAgICAgICAgICAgICAgICAgKyAodGhpcy5leHBpcmVkQ2FsbHMgPT09IEpGYWN0b3J5RnVuY3Rpb25FeHBpcmFibGUuTWF4V2FybmluZ0V4cGlyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiOyBNYXggV2FybmluZyBFeGNlZWRlZFwiIDogXCJcIilcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4cGlyZWRcbiAgICB9XG5cbiAgICBvbk5vdEV4cGlyZWQoc2NvcGUsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxIYW5kbGVyLmFwcGx5KHNjb3BlLCBhcmdzKVxuICAgIH1cbn1cblxuSkZhY3RvcnlGdW5jdGlvbkV4cGlyYWJsZS5NYXhXYXJuaW5nRXhwaXJhdGlvbiA9IDEwO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5RnVuY3Rpb25Db25kaXRpb25hbCAtIENvbmRpdGlvbmFsIEZ1bmN0aW9uIFBhdHRlcm5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgZnVuY3Rpb24gakZhY3RvcnlGdW5jdGlvbkNvbmRpdGlvbmFsKG9yaWdpbmFsSGFuZGxlcikge1xuICAgIHJldHVybiBuZXcgSkZhY3RvcnlGdW5jdGlvbkNvbmRpdGlvbmFsKG9yaWdpbmFsSGFuZGxlcikuY29tcG9zZSgpXG59XG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUZ1bmN0aW9uQ29uZGl0aW9uYWwge1xuXG4gICAgY29uc3RydWN0b3Iob3JpZ2luYWxIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxIYW5kbGVyID0gb3JpZ2luYWxIYW5kbGVyO1xuICAgICAgICB0aGlzLmNvbXBvc2VyID0gbmV3IEpGYWN0b3J5RnVuY3Rpb25Db21wb3NlcjtcbiAgICAgICAgdGhpcy5jb21wb3Nlci5maXJzdChcIm9yaWdpbmFsXCIsIGhlbHBlcl9zZXRGdW5jdGlvbk5hbWUoXG4gICAgICAgICAgICBbb3JpZ2luYWxIYW5kbGVyLm5hbWUsIFwiW2NvbmRpdGlvbl1cIl0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpLFxuICAgICAgICAgICAgZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbEhhbmRsZXIuYXBwbHkodGhpcywgY29udGV4dC5wYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY29tcG9zZSgpIHtcbiAgICAgICAgbGV0IGNvbXBvc2l0ZSA9IHRoaXMuY29tcG9zZXIuY29tcG9zZShcImNvbmRpdGlvbnNcIiwgXCJvcmlnaW5hbFwiKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oY29tcG9zaXRlLCB7XG4gICAgICAgICAgICBjb25kaXRpb25hbDogdGhpcyxcbiAgICAgICAgICAgIGFkZENvbmRpdGlvbjogZiA9PiB7dGhpcy5hZGRDb25kaXRpb24oZik7IHJldHVybiBjb21wb3NpdGV9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFkZENvbmRpdGlvbihjb25kaXRpb24pIHtcbiAgICAgICAgdGhpcy5jb21wb3Nlci5sYXN0KFwiY29uZGl0aW9uc1wiLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICBsZXQgaGFuZGxlID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5RnVuY3Rpb25Db25kaXRpb25hbC5hZGRDb25kaXRpb24oKSwgcmVzdWx0XCIsIHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50eXBlQm9vbGVhbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAhcmVzdWx0ICYmIChjb250ZXh0LmNhbmNlbGVkID0gdHJ1ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGNvbmRpdGlvbi5hcHBseSh0aGlzLCBjb250ZXh0LnBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UgPyByZXN1bHQudGhlbihoYW5kbGUpIDogaGFuZGxlKHJlc3VsdCk7XG4gICAgICAgIH0pXG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5RnVuY3Rpb25XcmFwcGFibGUgLSBXcmFwcGFibGUgRnVuY3Rpb24gUGF0dGVyblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBqRmFjdG9yeUZ1bmN0aW9uV3JhcHBhYmxlKG9yaWdpbmFsSGFuZGxlcikge1xuICAgIHJldHVybiBuZXcgSkZhY3RvcnlGdW5jdGlvbldyYXBwYWJsZShvcmlnaW5hbEhhbmRsZXIpLmNvbXBvc2UoKVxufVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlGdW5jdGlvbldyYXBwYWJsZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcmlnaW5hbEhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEhhbmRsZXIgPSBvcmlnaW5hbEhhbmRsZXI7XG4gICAgICAgIHRoaXMuY29tcG9zZXIgPSBuZXcgSkZhY3RvcnlGdW5jdGlvbkNvbXBvc2VyO1xuICAgICAgICB0aGlzLmNvbXBvc2VyLmZpcnN0KFwib3JpZ2luYWxcIiwgaGVscGVyX3NldEZ1bmN0aW9uTmFtZShcbiAgICAgICAgICAgIFtvcmlnaW5hbEhhbmRsZXIubmFtZSwgXCJbd3JhcHBlZF1cIl0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpLFxuICAgICAgICAgICAgZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbEhhbmRsZXIuYXBwbHkodGhpcywgY29udGV4dC5wYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY29tcG9zZSgpIHtcbiAgICAgICAgbGV0IGNvbXBvc2l0ZSA9IHRoaXMuY29tcG9zZXIuY29tcG9zZShcImJlZm9yZVwiLCBcIm9yaWdpbmFsXCIsIFwiYWZ0ZXJcIik7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGNvbXBvc2l0ZSwge1xuICAgICAgICAgICAgd3JhcHBhYmxlOiB0aGlzLFxuICAgICAgICAgICAgYmVmb3JlQWxsOiBmID0+IHt0aGlzLmJlZm9yZUFsbChmKTsgcmV0dXJuIGNvbXBvc2l0ZX0sXG4gICAgICAgICAgICBqdXN0QmVmb3JlOiBmID0+IHt0aGlzLmp1c3RCZWZvcmUoZik7IHJldHVybiBjb21wb3NpdGV9LFxuICAgICAgICAgICAganVzdEFmdGVyOiBmID0+IHt0aGlzLmp1c3RBZnRlcihmKTsgcmV0dXJuIGNvbXBvc2l0ZX0sXG4gICAgICAgICAgICBhZnRlckFsbDogZiA9PiB7dGhpcy5hZnRlckFsbChmKTsgcmV0dXJuIGNvbXBvc2l0ZX1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYmVmb3JlQWxsKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jb21wb3Nlci5maXJzdChcImJlZm9yZVwiLCBoYW5kbGVyKTtcbiAgICB9XG5cbiAgICBqdXN0QmVmb3JlKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jb21wb3Nlci5sYXN0KFwiYmVmb3JlXCIsIGhhbmRsZXIpO1xuICAgIH1cblxuICAgIGp1c3RBZnRlcihoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuY29tcG9zZXIuZmlyc3QoXCJhZnRlclwiLCBoYW5kbGVyKTtcbiAgICB9XG5cbiAgICBhZnRlckFsbChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuY29tcG9zZXIubGFzdChcImFmdGVyXCIsIGhhbmRsZXIpO1xuICAgIH1cbn0iLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgSkZBQ1RPUllfRVJSX0lOVkFMSURfQ0FMTCB9IGZyb20gXCIuL0pGYWN0b3J5RXJyb3JcIjtcbmltcG9ydCB7IEpGYWN0b3J5VHJhaXRzIH0gZnJvbSBcIi4vSkZhY3RvcnlUcmFpdHNcIjtcbmltcG9ydCB7IGpGYWN0b3J5RnVuY3Rpb25XcmFwcGFibGUgfSBmcm9tIFwiLi9KRmFjdG9yeUZ1bmN0aW9uXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnlUcmFpdHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGZ1bmN0aW9uIGpGYWN0b3J5VHJhaXRzKGNhbGxlckluc3RhbmNlLCBjYWxsZXJDb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBuZXcgSkZhY3RvcnlUcmFpdHMoY2FsbGVySW5zdGFuY2UsIGNhbGxlckNvbnN0cnVjdG9yLCB7XG5cbiAgICAgICAgcGFyc2VyKHByb3BlcnR5TmFtZSwgcHJvcGVydHlEZXNjcmlwdG9yLyosIHNvdXJjZSwgdGFyZ2V0LCBpc1N0YXRpYyAqLykge1xuICAgICAgICAgICAgbGV0IHBhcnNlZCA9IEpGYWN0b3J5VHJhaXRzLmRlZmF1bHRQYXJzZXIoLi4uYXJndW1lbnRzKTtcblxuICAgICAgICAgICAgaWYgKHBhcnNlZCkge1xuICAgICAgICAgICAgICAgICh7IHByb3BlcnR5TmFtZSwgcHJvcGVydHlEZXNjcmlwdG9yIH0gPSBwYXJzZWQpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gcHJvcGVydHlEZXNjcmlwdG9yLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHZhbHVlLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIkaW5zdGFsbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiR1bmluc3RhbGxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIkZW5hYmxlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiJGRpc2FibGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIkc3RhdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlEZXNjcmlwdG9yLnZhbHVlID0gakZhY3RvcnlGdW5jdGlvbldyYXBwYWJsZSh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmJlZm9yZUFsbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy4kLnN0YXRlcy5lbmFibGVkICYmIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID09PSBcIlBIQVNFX05PTkVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlID0gbmV3IEpGQUNUT1JZX0VSUl9JTlZBTElEX0NBTEwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvd25lcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcImNvbXBvbmVudCBkaXNhYmxlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbG9nRXJyKC4uLmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB7IHByb3BlcnR5TmFtZSwgcHJvcGVydHlEZXNjcmlwdG9yIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pXG59IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IGpGYWN0b3J5VHJhaXRzIH0gZnJvbSBcIi4vakZhY3RvcnktdHJhaXRzXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUHJlZGVmaW5lZCBDb21wb25lbnRzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogQG1peGVzIFRyYWl0Q29yZVxuICogQG1peGVzIFRyYWl0QWJvdXRcbiAqIEBtaXhlcyBUcmFpdExvZ1xuICogQG1peGVzIFRyYWl0RXZlbnRzXG4gKiBAbWl4ZXMgVHJhaXRTdGF0ZVxuICogQG1peGVzIFRyYWl0U2VydmljZVxuICogQG1peGVzIFRyYWl0VGFza1xuICovXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlDb3JlT2JqZWN0IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIEpGYWN0b3J5Q29yZU9iamVjdC5pbmplY3QodGhpcywgSkZhY3RvcnlDb3JlT2JqZWN0LCBuYW1lKVxuICAgIH1cblxuICAgIHN0YXRpYyBpbmplY3QodGFyZ2V0LCBjb25zdHJ1Y3RvciwgbmFtZSkge1xuICAgICAgICBqRmFjdG9yeVRyYWl0cyh0YXJnZXQsIGNvbnN0cnVjdG9yKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdENvcmUpXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0QWJvdXQsIHsgbmFtZSB9KVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdExvZylcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRFdmVudHMpXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0U3RhdGUpXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0U2VydmljZSlcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRUYXNrKTtcbiAgICB9XG59XG5cbi8qKlxuICogQG1peGVzIFRyYWl0RmV0Y2hcbiAqIEBtaXhlcyBUcmFpdERPTVxuICogQG1peGVzIFRyYWl0Q1NTXG4gKiBAbWl4ZXMgVHJhaXRNdXRhdGlvblxuICogQG1peGVzIFRyYWl0VGltZW91dFxuICogQG1peGVzIFRyYWl0SW50ZXJ2YWxcbiAqIEBtaXhlcyBUcmFpdExpYlZ1ZVxuICogQG1peGVzIFRyYWl0TGliUmVhY3RcbiAqL1xuZXhwb3J0IGNsYXNzIEpGYWN0b3J5Q29tcG9uZW50IGV4dGVuZHMgSkZhY3RvcnlDb3JlT2JqZWN0IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHN1cGVyKG5hbWUpO1xuICAgICAgICBKRmFjdG9yeUNvbXBvbmVudC5pbmplY3QodGhpcywgSkZhY3RvcnlDb21wb25lbnQpXG4gICAgfVxuXG4gICAgc3RhdGljIGluamVjdCh0YXJnZXQsIGNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGpGYWN0b3J5VHJhaXRzKHRhcmdldCwgY29uc3RydWN0b3IpXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0RmV0Y2gpXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0RE9NKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdENTUylcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRNdXRhdGlvbilcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRUaW1lb3V0KVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdEludGVydmFsKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdExpYlZ1ZSlcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRMaWJSZWFjdCk7XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGpGYWN0b3J5XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqIEByZXR1cm4ge0pGYWN0b3J5Q29tcG9uZW50fSAqL1xuZXhwb3J0IGNvbnN0IGpGYWN0b3J5ID0gKG5hbWUsIHByb3BlcnRpZXMpID0+IE9iamVjdC5hc3NpZ24obmV3IEpGYWN0b3J5Q29tcG9uZW50KG5hbWUpLCBwcm9wZXJ0aWVzKTsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgSkZBQ1RPUllfREVWIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnlDb21wYXRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNvbnN0IEpGQUNUT1JZX0NPTVBBVF9nbG9iYWxUaGlzID0ge1xuICAgIG5hbWU6IFwiZ2xvYmFsVGhpc1wiLFxuICAgIHRlc3Q6ICgpID0+IGdsb2JhbFRoaXMsXG4gICAgaW5mbzogXCJodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9nbG9iYWxUaGlzXCJcbn1cbmV4cG9ydCBjb25zdCBKRkFDVE9SWV9DT01QQVRfZmV0Y2ggPSB7XG4gICAgbmFtZTogXCJmZXRjaFwiLFxuICAgIHRlc3Q6ICgpID0+IGZldGNoLFxuICAgIGluZm86IFwiaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0ZldGNoX0FQSS9Vc2luZ19GZXRjaFwiXG59XG5leHBvcnQgY29uc3QgSkZBQ1RPUllfQ09NUEFUX1JlcXVlc3QgPSB7XG4gICAgbmFtZTogXCJSZXF1ZXN0XCIsXG4gICAgdGVzdDogKCkgPT4gUmVxdWVzdCxcbiAgICBpbmZvOiBcImh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9SZXF1ZXN0XCJcbn1cbmV4cG9ydCBjb25zdCBKRkFDVE9SWV9DT01QQVRfQWJvcnRDb250cm9sbGVyID0ge1xuICAgIG5hbWU6IFwiQWJvcnRDb250cm9sbGVyL0Fib3J0U2lnbmFsXCIsXG4gICAgdGVzdDogKCkgPT4gbmV3IEFib3J0Q29udHJvbGxlcigpLnNpZ25hbCxcbiAgICBpbmZvOiBcImh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9BYm9ydENvbnRyb2xsZXIsIFwiICtcbiAgICAgICAgXCJodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvQWJvcnRTaWduYWxcIlxufVxuZXhwb3J0IGNvbnN0IEpGQUNUT1JZX0NPTVBBVF9NdXRhdGlvbk9ic2VydmVyID0ge1xuICAgIG5hbWU6IFwiTXV0YXRpb25PYnNlcnZlclwiLFxuICAgIHRlc3Q6ICgpID0+IE11dGF0aW9uT2JzZXJ2ZXIsXG4gICAgaW5mbzogXCJodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvTXV0YXRpb25PYnNlcnZlclwiXG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5sZXQgbGlzdCA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gakZhY3RvcnlDb21wYXRfcmVxdWlyZSguLi5hcmdzKSB7XG4gICAgZm9yIChsZXQgY29tcGF0IG9mIGFyZ3MpIHtcbiAgICAgICAgbGlzdFtjb21wYXQubmFtZV0gPSBjb21wYXRcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBqRmFjdG9yeUNvbXBhdF9ydW4oKXtcbiAgICBmb3IgKGxldCBbbmFtZSwgZW50cnldIG9mIE9iamVjdC5lbnRyaWVzKGxpc3QpKSB7XG4gICAgICAgIGxldCBwYXNzO1xuICAgICAgICB0cnkge3Bhc3MgPSBCb29sZWFuKGVudHJ5LnRlc3QoKSl9IGNhdGNoIChpZ25vcmUpIHt9XG4gICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBqRmFjdG9yeSBtYXkgcmVxdWlyZSB0aGUgc3VwcG9ydCBvZiBcIiR7bmFtZX1cIiwgJHtlbnRyeS5pbmZvfWApXG4gICAgICAgIH1cbiAgICB9XG4gICAgbGlzdCA9IG51bGw7XG59XG5cbmlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICBqRmFjdG9yeUNvbXBhdF9yZXF1aXJlKEpGQUNUT1JZX0NPTVBBVF9nbG9iYWxUaGlzKTtcbn0iLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgSkZBQ1RPUllfREVWIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBKRkFDVE9SWV9DRkdfTE9HIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBqRmFjdG9yeUNvbXBhdF9ydW4gfSBmcm9tIFwiLi9qRmFjdG9yeUNvbXBhdFwiO1xuaW1wb3J0IHsgakZhY3RvcnlMb2FkZXJfaW5pdCB9IGZyb20gXCIuL2pGYWN0b3J5TG9hZGVyXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBqRmFjdG9yeUJvb3RzdHJhcCgpIHtcbiAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiakZhY3RvcnkgaXMgcnVubmluZyBpbiBkZXZlbG9wbWVudCBtb2RlOyBwZXJmb3JtYW5jZXMgd2lsbCBiZSBhZmZlY3RlZFwiKTtcbiAgICAgICAgIUpGQUNUT1JZX0NGR19MT0cuZW5hYmxlZCAmJiBjb25zb2xlLndhcm4oXCJqRmFjdG9yeSBsb2dzIGRpc2FibGVkXCIpO1xuICAgIH1cbiAgICBqRmFjdG9yeUxvYWRlcl9pbml0KCk7XG4gICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICBqRmFjdG9yeUNvbXBhdF9ydW4oKVxuICAgIH1cbn0iLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgakZhY3RvcnlMb2FkZXJfb25Jbml0IH0gZnJvbSBcIi4vakZhY3RvcnlMb2FkZXJcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeU9iamVjdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEFscGhhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5T2JqZWN0IHtcblxuICAgIHN0YXRpYyBjcmVhdGVEZXNjcmlwdG9ycyhkZXNjcmlwdG9yUHJvdG90eXBlID0gSkZhY3RvcnlPYmplY3QuREVTQ1JJUFRPUlNfUFJPVE9UWVBFKSB7XG4gICAgICAgIGxldCBjcmVhdGUgPSBKRmFjdG9yeU9iamVjdC5jcmVhdGUoZGVzY3JpcHRvclByb3RvdHlwZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGxldCBvID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgICAgICBvLk5PTkUgPSBjcmVhdGUoKTtcblxuICAgICAgICBvLldSSVRBQkxFICAgICA9IGNyZWF0ZSh7IHdyaXRhYmxlOiB0cnVlIH0pO1xuICAgICAgICBvLkVOVU1FUkFCTEUgICA9IGNyZWF0ZSh7IGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgICAgIG8uQ09ORklHVVJBQkxFID0gY3JlYXRlKHsgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xuXG4gICAgICAgIG8uQ09ORklHVVJBQkxFX1dSSVRBQkxFICAgPVxuICAgICAgICBvLldSSVRBQkxFX0NPTkZJR1VSQUJMRSAgID0gY3JlYXRlKHsgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcblxuICAgICAgICBvLkNPTkZJR1VSQUJMRV9FTlVNRVJBQkxFID1cbiAgICAgICAgby5FTlVNRVJBQkxFX0NPTkZJR1VSQUJMRSA9IGNyZWF0ZSh7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcblxuICAgICAgICBvLkVOVU1FUkFCTEVfV1JJVEFCTEUgICAgID1cbiAgICAgICAgby5XUklUQUJMRV9FTlVNRVJBQkxFICAgICA9IGNyZWF0ZSh7IHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuXG4gICAgICAgIG8uV1JJVEFCTEVfRU5VTUVSQUJMRV9DT05GSUdVUkFCTEUgPVxuICAgICAgICBvLldSSVRBQkxFX0NPTkZJR1VSQUJMRV9FTlVNRVJBQkxFID1cbiAgICAgICAgby5FTlVNRVJBQkxFX0NPTkZJR1VSQUJMRV9XUklUQUJMRSA9XG4gICAgICAgIG8uRU5VTUVSQUJMRV9XUklUQUJMRV9DT05GSUdVUkFCTEUgPVxuICAgICAgICBvLkNPTkZJR1VSQUJMRV9XUklUQUJMRV9FTlVNRVJBQkxFID1cbiAgICAgICAgby5DT05GSUdVUkFCTEVfRU5VTUVSQUJMRV9XUklUQUJMRSA9IGNyZWF0ZSh7IHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG5cbiAgICAgICAgLy8gU2hvcnRjdXRzXG4gICAgICAgIG8uUkVBRE9OTFkgPSBjcmVhdGUoeyB3cml0YWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IGZhbHNlIH0pO1xuXG4gICAgICAgIHJldHVybiBvXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBhc3NpZ24ob2JqLCAnbXlQcm9wZXJ0eScsIDEyMywge3dyaXRhYmxlOmZhbHNlfSlcbiAgICAgKiBhc3NpZ24ob2JqLCB7YToxLCBiOjJ9Jywge3dyaXRhYmxlOmZhbHNlfSlcbiAgICAgKlxuICAgICAqIGRlcHJlY2F0ZWRcbiAgICAgKiBhc3NpZ24ob2JqLCAnbXlQcm9wZXJ0eScsIHt2YWx1ZTpcIm9rXCIsIHdyaXRhYmxlOmZhbHNlfSkgPT4gbm90IHN0cmljdFxuICAgICAqIGFzc2lnbihvYmosICdteVByb3BlcnR5JywgMTIzKSA9PiB1c2UgbmF0aXZlIGluc3RlYWRcbiAgICAgKiBhc3NpZ24ob2JqLCB7YToxLCBiOjJ9KSA9PiB1c2UgbmF0aXZlIGluc3RlYWRcbiAgICAgKi9cbiAgICBzdGF0aWMgYXNzaWduKHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCBkZXNjcmlwdG9yKSB7XG4gICAgICAgIGxldCBkZXNjcmlwdG9ycyA9IHt9O1xuXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHByb3BlcnR5KSB7XG5cbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcblxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIC8vIGFzc2lnbihvYmosICdteVByb3BlcnR5JywgMTIzLCB7d3JpdGFibGU6ZmFsc2V9KVxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICAgICAgaWYgKCFkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgZGVzY3JpcHRvciBhcmd1bWVudDsgdXNlIE9iamVjdC5hc3NpZ24gaW5zdGVhZFwiKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IgPSBPYmplY3QuY3JlYXRlKGRlc2NyaXB0b3IpOyAvLyBhdm9pZCBkZXNjcmlwdG9yIGNvcnJ1cHRpb25cbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvcik7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgLy8gYXNzaWduKG9iaiwge2E6MSwgYjoyfScsIHt3cml0YWJsZTpmYWxzZX0pXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgICAgICBbdmFsdWUsIGRlc2NyaXB0b3JdID0gW3Byb3BlcnR5LCB2YWx1ZV07XG5cbiAgICAgICAgICAgICAgICBpZiAoIWRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWlzc2luZyBkZXNjcmlwdG9yIGFyZ3VtZW50OyB1c2UgT2JqZWN0LmFzc2lnbiBpbnN0ZWFkXCIpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvcnNbbmFtZV0gPSBPYmplY3QuY3JlYXRlKGRlc2NyaXB0b3IpOyAvLyBhdm9pZCBkZXNjcmlwdG9yIGNvcnJ1cHRpb25cbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvcnNbbmFtZV0udmFsdWUgPSB2YWx1ZVtuYW1lXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBuYW1lIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0b3JzW25hbWVdID0gT2JqZWN0LmNyZWF0ZShkZXNjcmlwdG9yKTsgLy8gYXZvaWQgZGVzY3JpcHRvciBjb3JydXB0aW9uXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0b3JzW25hbWVdLnZhbHVlID0gdmFsdWVbbmFtZV1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIGRlc2NyaXB0b3JzKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgcHJvcGVydHkgYXJndW1lbnRcIilcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXRcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlKHByb3RvdHlwZSwgZmxhdCA9IGZhbHNlLCBkaXNpbmhlcml0ID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBpZiAoZmxhdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGRpc2luaGVyaXQgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge30sIHByb3RvdHlwZSwgcHJvcGVydGllcylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShcbiAgICAgICAgICAgICAgICAgICAgZGlzaW5oZXJpdCA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShudWxsKSwgcHJvdG90eXBlKSA6IHByb3RvdHlwZVxuICAgICAgICAgICAgICAgICksIHByb3BlcnRpZXMpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZGlzaW5oZXJpdChvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShudWxsKSwgb2JqZWN0KTtcbiAgICB9XG59XG5cbkpGYWN0b3J5T2JqZWN0LkRFU0NSSVBUT1JTX1BST1RPVFlQRSA9IHsgd3JpdGFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiBmYWxzZSB9O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGpGYWN0b3J5T2JqZWN0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuakZhY3RvcnlMb2FkZXJfb25Jbml0KGZ1bmN0aW9uKCkge1xuICAgIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzID0gSkZhY3RvcnlPYmplY3QuY3JlYXRlRGVzY3JpcHRvcnMoKVxufSk7IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IEpGQUNUT1JZX0RFViB9IGZyb20gXCIuL2pGYWN0b3J5LWVudlwiO1xuaW1wb3J0IHsgaGVscGVyX2NhbWVsQ2FzZSB9IGZyb20gXCIuL2pGYWN0b3J5LWhlbHBlcnNcIjtcbmltcG9ydCB7IEpGYWN0b3J5RXhwZWN0IH0gZnJvbSBcIi4vSkZhY3RvcnlFeHBlY3RcIjtcbmltcG9ydCB7IEpGYWN0b3J5T2JqZWN0IH0gZnJvbSBcIi4vSkZhY3RvcnlPYmplY3RcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeUFib3V0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmNvbnN0IG1vZHVsZUdlbklkID0gKCkgPT4gKyttb2R1bGVHZW5JZC51aWQ7IG1vZHVsZUdlbklkLnVpZCA9IDA7XG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUFib3V0IHtcbiAgICBjb25zdHJ1Y3Rvcihvd25lciwgYWJvdXQgPSB7fSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5QWJvdXQob3duZXIpXCIsIG93bmVyKS50eXBlKE9iamVjdCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5QWJvdXQoYWJvdXQpXCIsIGFib3V0KVxuICAgICAgICAgICAgICAgIC50eXBlUGxhaW5PYmplY3QoKVxuICAgICAgICAgICAgICAgIC5yZXNlcnZlZFByb3BlcnR5KFwidWlkXCIpXG4gICAgICAgICAgICAgICAgLnJlc2VydmVkUHJvcGVydHkoXCJmaW5nZXJwcmludFwiKTtcbiAgICAgICAgICAgIGlmIChcIm5hbWVcIiBpbiBhYm91dCkge1xuICAgICAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlBYm91dChhYm91dC5uYW1lKVwiLCBhYm91dC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAudHlwZVN0cmluZygpXG4gICAgICAgICAgICAgICAgICAgIC5ub3RFbXB0eVN0cmluZygpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmFtZTtcbiAgICAgICAgbGV0IGZpbmdlcnByaW50O1xuICAgICAgICBsZXQgdWlkID0gbW9kdWxlR2VuSWQoKTtcblxuICAgICAgICBpZiAoYWJvdXQubmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IGFib3V0Lm5hbWU7XG4gICAgICAgICAgICBkZWxldGUgYWJvdXQubmFtZTtcbiAgICAgICAgICAgIGZpbmdlcnByaW50ID0gXCJqRmFjdG9yeVwiICsgXCJfXCIgKyBoZWxwZXJfY2FtZWxDYXNlKG5hbWUudG9Mb3dlckNhc2UoKSkgKyBcIl9cIiArIHVpZFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIGFib3V0Lm5hbWU7XG4gICAgICAgICAgICBuYW1lID0gYFske293bmVyLmNvbnN0cnVjdG9yLm5hbWV9IyR7dWlkfV1gO1xuICAgICAgICAgICAgZmluZ2VycHJpbnQgPSBcImpGYWN0b3J5XCIgKyBcIl9cIiArIG93bmVyLmNvbnN0cnVjdG9yLm5hbWUgKyBcIl9cIiArIHVpZDtcbiAgICAgICAgfVxuXG4gICAgICAgIEpGYWN0b3J5T2JqZWN0LmFzc2lnbih0aGlzLCAvKiogQGxlbmRzIEpGYWN0b3J5QWJvdXQjICovIHtcbiAgICAgICAgICAgIHVpZCxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBmaW5nZXJwcmludFxuICAgICAgICB9LCBKRmFjdG9yeU9iamVjdC5kZXNjcmlwdG9ycy5FTlVNRVJBQkxFKTtcblxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIGFib3V0KTtcblxuICAgICAgICAvLyAtLS1cblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5QWJvdXQubmFtZVwiLCB0aGlzLm5hbWUpXG4gICAgICAgICAgICAgICAgLm1hdGNoUmVnKC9eW1xcd1tcXF0jXSskLyk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5QWJvdXQuZmluZ2VycHJpbnRcIiwgdGhpcy5maW5nZXJwcmludClcbiAgICAgICAgICAgICAgICAubWF0Y2hSZWcoL15bXFx3XSskLyk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IEpGQUNUT1JZX0RFViB9IGZyb20gXCIuL2pGYWN0b3J5LWVudlwiO1xuaW1wb3J0IHsgSkZBQ1RPUllfRVJSX0lOVkFMSURfQ0FMTCwgSkZBQ1RPUllfRVJSX1BST01JU0VfRVhQSVJFRCB9IGZyb20gXCIuL0pGYWN0b3J5RXJyb3JcIjtcbmltcG9ydCB7IEpGYWN0b3J5RXhwZWN0IH0gZnJvbSBcIi4vSkZhY3RvcnlFeHBlY3RcIjtcbmltcG9ydCB7IGpGYWN0b3J5VHJhY2UgfSBmcm9tIFwiLi9KRmFjdG9yeVRyYWNlXCI7XG5pbXBvcnQgeyBoZWxwZXJfaXNOYXRpdmUsIGpRdWVyeSB9IGZyb20gXCIuL2pGYWN0b3J5LWhlbHBlcnNcIjtcbmltcG9ydCB7XG4gICAgSkZBQ1RPUllfQ09NUEFUX0Fib3J0Q29udHJvbGxlcixcbiAgICBKRkFDVE9SWV9DT01QQVRfZmV0Y2gsXG4gICAgSkZBQ1RPUllfQ09NUEFUX1JlcXVlc3QsXG4gICAgakZhY3RvcnlDb21wYXRfcmVxdWlyZVxufSBmcm9tIFwiLi9qRmFjdG9yeUNvbXBhdFwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5UHJvbWlzZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBQcm92aWRlcyBhd2FpdGFibGUsIGV4cGlyYWJsZSwgZGVidWdnYWJsZSBwcm9taXNlIGNoYWluc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEV4cGVyaW1lbnRhbCBEcmFmdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vICNsaW1pdGF0aW9uIyBhc3luYyBmdW5jdGlvbnMgYWx3YXlzIHVzZSB0aGUgbmF0aXZlIFByb21pc2UgY29uc3RydWN0b3IgZXZlbiBpZiBuYXRpdmUgUHJvbWlzZSBjbGFzcyBpcyBvdmVycmlkZGVuXG4vLyAjbGltaXRhdGlvbiMgYXN5bmMgZnVuY3Rpb25zIGFsd2F5cyByZXR1cm5zIGEgbmF0aXZlIFByb21pc2UgZXZlbiBpZiByZXR1cm5pbmcgYW4gZXh0ZW5kZWQgUHJvbWlzZVxuLy8gI2xpbWl0YXRpb24jIGFzeW5jIGZ1bmN0aW9ucyBhbHdheXMgcmV0dXJucyBhIHBlbmRpbmcgUHJvbWlzZSBldmVuIGlmIHJldHVybmluZyBhIHJlc29sdmVkIFByb21pc2VcblxuY29uc3QgbW9kdWxlR2VuSWQgPSAoKSA9PiArK21vZHVsZUdlbklkLnVpZDsgbW9kdWxlR2VuSWQudWlkID0gMDtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeVByb21pc2Vcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlQcm9taXNlIGV4dGVuZHMgUHJvbWlzZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGNvbmZpZywgdHJhY2VTb3VyY2UgfSwgZXhlY3V0b3IpIHtcblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgW25hbWUsIGNvbmZpZywgZXhlY3V0b3JdID0gW251bGwsIG51bGwsIGFyZ3VtZW50c1swXV1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNoYWluSWQgPSBtb2R1bGVHZW5JZCgpO1xuICAgICAgICBjb25maWcgPSB7IC4uLkpGYWN0b3J5UHJvbWlzZS5ERUZBVUxUX0NPTkZJRywgLi4uY29uZmlnIH07XG4gICAgICAgIG5hbWUgPSBuYW1lIHx8IFwidW5uYW1lZFwiO1xuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwibmFtZVwiLCBuYW1lKVxuICAgICAgICAgICAgICAgIC50eXBlKFN0cmluZywgTnVtYmVyKVxuICAgICAgICAgICAgICAgIC5tYXRjaFJlZygvXlteLiBdKyQvKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiY29uZmlnXCIsIGNvbmZpZykudHlwZVBsYWluT2JqZWN0KCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImV4ZWN1dG9yXCIsIGV4ZWN1dG9yKS50eXBlRnVuY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXNvbHZlO1xuICAgICAgICBsZXQgcmVqZWN0O1xuXG4gICAgICAgIHN1cGVyKChfcmVzb2x2ZSwgX3JlamVjdCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSA9IF9yZXNvbHZlO1xuICAgICAgICAgICAgcmVqZWN0ID0gX3JlamVjdDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgY2hhaW4gPSBuZXcgSkZhY3RvcnlQcm9taXNlQ2hhaW4odGhpcywgY2hhaW5JZCwgbmFtZSwgY29uZmlnKTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgICAgICAkY2hhaW46IHtcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBjaGFpblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICR0eXBlOiB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwicHJvbWlzZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICRpc1NldHRsZWQ6IHtcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAkaXNSZWplY3RlZDoge1xuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJGlzRnVsZmlsbGVkOiB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAkaXNFeHBpcmVkOiB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJGlzQWJvcnRlZDoge1xuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgICAgICAgICAgJGRldl9uYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5hbWUgKyBcIltcIiArIGNoYWluSWQgKyBcIjowXVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAkZGV2X3BhdGg6IHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBuZXcgSkZhY3RvcnlQcm9taXNlUGF0aCh0aGlzKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJGRldl9wb3NpdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghaGVscGVyX2lzTmF0aXZlKGV4ZWN1dG9yKSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgJGRldl9zb3VyY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBleGVjdXRvclxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBqRmFjdG9yeVRyYWNlLnRyYWNlci5hdHRhY2hUcmFjZSh0aGlzLCB0cmFjZVNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0cnlBdXRvQ29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJGNoYWluLmlzUGVuZGluZykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGNoYWluQ29tcGxldGUoXCJhdXRvLWNvbXBsZXRlZFwiKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhc2Ugb2YgZXJyb3IgaW4gXCJjb21wbGV0ZVwiIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhdGNoIHRoZSBleGNlcHRpb24gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyBhbHJlYWR5IGZ1bGZpbGxlZFxuICAgICAgICAgICAgICAgICAgICAvLyBGdXJ0aGVybW9yZSB0aGlzIGlzc3VlIG11c3QgYmUgaGFuZGxlZCBieSB0aGUgY2hhaW4sIG5vdCB0aGUgY3VycmVudCBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSkgLy8gcHJpbnQgdGhlIGVycm9yIG90aGVyd2lzZSBub3RoaW5nIGhhcHBlbnNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgb25SZXNvbHZlID0gdmFsdWUgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ29uUmVzb2x2ZScsdGhpcy4kZGV2X25hbWUpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiRpc1NldHRsZWQpIHtcbiAgICAgICAgICAgICAgICAvLyAyLjMuMS4gSWYgcHJvbWlzZSBhbmQgeCByZWZlciB0byB0aGUgc2FtZSBvYmplY3QsIHJlamVjdCBwcm9taXNlIHdpdGggYSBUeXBlRXJyb3IgYXMgdGhlIHJlYXNvbi5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgb25SZWplY3QobmV3IFR5cGVFcnJvcihcIkNoYWluaW5nIGN5Y2xlIGRldGVjdGVkIGZvciBwcm9taXNlIFwiICsgdGhpcy4kZGV2X25hbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCB0aGVuO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgfHwgdHlwZW9mIHggPT0gXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyAyLjMuMy4yLiBJZiByZXRyaWV2aW5nIHRoZSBwcm9wZXJ0eSB4LnRoZW4gcmVzdWx0cyBpbiBhIHRocm93biBleGNlcHRpb24gZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVqZWN0IHByb21pc2Ugd2l0aCBlIGFzIHRoZSByZWFzb24uXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVuID0gdmFsdWUudGhlbjtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25SZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoZW4gPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc29sdmVQcm9taXNlID0gZnVuY3Rpb24oeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMi4zLjMuMy4xLiBJZi93aGVuIHJlc29sdmVQcm9taXNlIGlzIGNhbGxlZCB3aXRoIGEgdmFsdWUgeSwgcnVuIFtbUmVzb2x2ZV1dKHByb21pc2UsIHkpLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVzb2x2ZSh5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlamVjdFByb21pc2UgPSBmdW5jdGlvbihyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAyLjMuMy4zLjIuIElmL3doZW4gcmVqZWN0UHJvbWlzZSBpcyBjYWxsZWQgd2l0aCBhIHJlYXNvbiByLCByZWplY3QgcHJvbWlzZSB3aXRoIHIuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZWplY3Qocik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgcmVzb2x2ZVByb21pc2UsIHJlamVjdFByb21pc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7IC8vIDIuMy4zLjMuNC4gSWYgY2FsbGluZyB0aGVuIHRocm93cyBhbiBleGNlcHRpb24gZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDIuMy4zLjMuNC4xLiBJZiByZXNvbHZlUHJvbWlzZSBvciByZWplY3RQcm9taXNlIGhhdmUgYmVlbiBjYWxsZWQsIGlnbm9yZSBpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMi4zLjMuMy40LjIuIE90aGVyd2lzZSwgcmVqZWN0IHByb21pc2Ugd2l0aCBlIGFzIHRoZSByZWFzb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGlzUmVqZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaXNGdWxmaWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuJGNoYWluLmVycm9yRXhwaXJlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgb25TZXR0bGUodmFsdWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG9uUmVqZWN0ID0gcmVhc29uID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdvblJlamVjdCcsdGhpcy4kZGV2X25hbWUpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiRpc1NldHRsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRpc1JlamVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLiRpc0Z1bGZpbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgICAgICAgICAgIG9uU2V0dGxlKHJlYXNvbilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBvblNldHRsZSA9IHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMuJHZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLiRpc1NldHRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy4kY2hhaW4uY2hhaW5NYXAuc2V0KHRoaXMsIHRydWUpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy4kY2hhaW4uY2hhaW5Db25maWcuY2hhaW5BdXRvQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kY2hhaW4uY2hhaW5NYXAuc2l6ZSA9PT0gMSAmJiAhdGhpcy4kaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVuc3VyZXMgdGhhdCB0cnlBdXRvQ29tcGxldGUoKSB3aWxsIGJlIGNhbGxlZCBhc3luY2hyb25vdXNseSAodGhlbigpIGNhbGxiYWNrIGlzIGFzeW5jaHJvbm91cylcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FzZSBvZiBwcm9taXNlLnJlc29sdmUocHJpbWl0aXZlKSwgcHJldmVudHMgZm9sbG93aW5nIHRoZW4oKSBmcm9tIGJlaW5nIGltbWVkaWF0ZWx5IGxvY2tlZFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRoZW4odHJ5QXV0b0NvbXBsZXRlKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeUF1dG9Db21wbGV0ZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBfY2hhaW5BdXRvQ29tcGxldGUgPSBjb25maWcuY2hhaW5BdXRvQ29tcGxldGU7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25maWcsIFwiY2hhaW5BdXRvQ29tcGxldGVcIiwge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiBfY2hhaW5BdXRvQ29tcGxldGUsXG4gICAgICAgICAgICBzZXQ6IHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoX2NoYWluQXV0b0NvbXBsZXRlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBfY2hhaW5BdXRvQ29tcGxldGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnlBdXRvQ29tcGxldGUoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjaGFpbi5jaGFpbk1hcC5zZXQodGhpcywgZmFsc2UpO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgICAgIF9fcmVzb2x2ZV9fOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IG9uUmVzb2x2ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fcmVqZWN0X186IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogb25SZWplY3RcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV4ZWN1dG9yKG9uUmVzb2x2ZSwgb25SZWplY3QpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBvblJlamVjdChlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgZm9yY2VUeXBlKSB7XG4gICAgICAgIGxldCB3cmFwcGVkRnVsZmlsbGVkO1xuICAgICAgICBsZXQgd3JhcHBlZFJlamVjdGVkO1xuICAgICAgICBsZXQgbmV3UHJvbWlzZTtcbiAgICAgICAgbGV0IGlzTmF0aXZlID0gaGVscGVyX2lzTmF0aXZlKG9uRnVsZmlsbGVkKSAmJiAhb25GdWxmaWxsZWQubmFtZS5zdGFydHNXaXRoKFwiYm91bmQgXCIpO1xuXG4gICAgICAgIGlmIChvbkZ1bGZpbGxlZCAmJiB0eXBlb2Ygb25GdWxmaWxsZWQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgd3JhcHBlZEZ1bGZpbGxlZCA9IGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgICAgICAvLyBcImF3YWl0XCIgbXVzdCBhbHdheXMgcnVuIHRoZSBuYXRpdmUgaGFuZGxlclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBcImF3YWl0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU1BFQzogXCJhd2FpdFwiIHRocm93cyB0aGUgZXJyb3JFeHBpcmVkIGlmICRpc0Fib3J0ZWQgaXMgdHJ1ZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3dzIGFzeW5jIGZ1bmN0aW9uIHRvIHRyeSBjYXRjaCB0aGUgYXdhaXRlZCBhYm9ydGVkIHByb21pc2VcbiAgICAgICAgICAgICAgICAgICAgLy8gb3IsIGlmIG5vdCBjYXVnaHQsIGJyZWFrcyBhbmQgaWdub3JlIHRoZSByZXN0IG9mIHRoZSBhc3luYyBmdW5jdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb21pc2UuJGlzQWJvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uUmVqZWN0ZWQobmV3UHJvbWlzZS4kY2hhaW4uZXJyb3JFeHBpcmVkKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uRnVsZmlsbGVkKHIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGRvbid0IGNhbGwgdGhlIGhhbmRsZXIgaWYgZXhwaXJlZFxuICAgICAgICAgICAgICAgIGlmICghbmV3UHJvbWlzZS4kaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdQcm9taXNlLiRpc1NldHRsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1kZWJ1Z2dlclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWdnZXJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25GdWxmaWxsZWQocilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uUmVqZWN0ZWQgJiYgdHlwZW9mIG9uUmVqZWN0ZWQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgd3JhcHBlZFJlamVjdGVkID0gZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgICAgIGlmIChuZXdQcm9taXNlLiRpc1NldHRsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyXG4gICAgICAgICAgICAgICAgICAgIGRlYnVnZ2VyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmICghbmV3UHJvbWlzZS4kaXNTZXR0bGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9uUmVqZWN0ZWQocilcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdHlwZSA9IGZvcmNlVHlwZSB8fCAoaXNOYXRpdmUgPyBcImF3YWl0XCIgOiBvbkZ1bGZpbGxlZCA9PT0gdW5kZWZpbmVkID8gXCJjYXRjaFwiIDogXCJ0aGVuXCIpO1xuICAgICAgICBuZXdQcm9taXNlID0gT2JqZWN0LmFzc2lnbihzdXBlci50aGVuKHdyYXBwZWRGdWxmaWxsZWQsIHdyYXBwZWRSZWplY3RlZCksIHRoaXMpO1xuICAgICAgICBtb2R1bGVHZW5JZC51aWQtLTsgLy8gcmV2ZXJzZSBiZWNhdXNlIG5vdCBhIG5ldyBjaGFpblxuICAgICAgICBuZXdQcm9taXNlLiR0eXBlID0gdHlwZTtcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBuZXdQcm9taXNlLiRkZXZfcG9zaXRpb24gPSB0aGlzLiRjaGFpbi5jaGFpbk1hcC5zaXplO1xuICAgICAgICAgICAgbGV0IGZOYW1lcyA9IFwiXCI7XG4gICAgICAgICAgICBpZiAob25GdWxmaWxsZWQgJiYgb25GdWxmaWxsZWQubmFtZSkge1xuICAgICAgICAgICAgICAgIGZOYW1lcyArPSBvbkZ1bGZpbGxlZC5uYW1lXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25SZWplY3RlZCAmJiBvblJlamVjdGVkLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBmTmFtZXMgKz0gXCIsXCIgKyBvblJlamVjdGVkLm5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG5ld1Byb21pc2UsIHtcbiAgICAgICAgICAgICAgICAkZGV2X25hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRjaGFpbi5jaGFpbk5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCJbXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgdGhpcy4kY2hhaW4uY2hhaW5JZFxuICAgICAgICAgICAgICAgICAgICAgICAgKyBcIjpcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyB0aGlzLiRkZXZfcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCJdXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCIuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgbmV3UHJvbWlzZS4kdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoZk5hbWVzID8gXCIoXCIgKyBmTmFtZXMgKyBcIilcIiA6IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICArIFwiW1wiXG4gICAgICAgICAgICAgICAgICAgICAgICArIG5ld1Byb21pc2UuJGNoYWluLmNoYWluSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCI6XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgbmV3UHJvbWlzZS4kZGV2X3Bvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICArIFwiXVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAkZGV2X3BhdGg6IHsgdmFsdWU6IG5ldyBKRmFjdG9yeVByb21pc2VQYXRoKHRoaXMuJGRldl9wYXRoLCBuZXdQcm9taXNlKSB9LFxuICAgICAgICAgICAgICAgICRkZXZfb25GdWxmaWxsZWQ6IHsgdmFsdWU6IG9uRnVsZmlsbGVkIH0sXG4gICAgICAgICAgICAgICAgJGRldl9vblJlamVjdGVkOiB7IHZhbHVlOiBvblJlamVjdGVkIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3UHJvbWlzZS4kY2hhaW4uY2hhaW5NYXAuc2V0KG5ld1Byb21pc2UsIGZhbHNlKTtcblxuICAgICAgICBpZiAodGhpcy4kaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAvLyBjYXNlOiBwMC50aGVuKCk7IGNoYWluQWJvcnQoKTsgcDEudGhlbigpXG4gICAgICAgICAgICAvLyA9PiB0aGUgbmV3IHByb21pc2UgbXVzdCBiZSBleHBpcmVkXG4gICAgICAgICAgICAvLyBpZiBwYXJlbnQgcHJvbWlzZSBpcyBqdXN0IGV4cGlyZWQsIGFib3J0IHNpbGVudGx5XG4gICAgICAgICAgICAvLyBpZiBwYXJlbnQgcHJvbWlzZSBpcyBhYm9ydGVkLCBhYm9ydCBleHBsaWNpdGx5XG4gICAgICAgICAgICBKRmFjdG9yeVByb21pc2Uuc2V0RXhwaXJlZChuZXdQcm9taXNlLCB0cnVlLCAhdGhpcy4kaXNBYm9ydGVkLCB0aGlzLiRjaGFpbi5lcnJvckV4cGlyZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld1Byb21pc2VcbiAgICB9XG5cbiAgICAkY2F0Y2hFeHBpcmVkKG9uRXhwaXJlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aGVuKHIgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuJGNoYWluLmNoYWluUm9vdC4kaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9uRXhwaXJlZChyKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gclxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB1bmRlZmluZWQsIFwiJGNhdGNoRXhwaXJlZFwiKVxuICAgIH1cblxuICAgIHN0YXRpYyByZXNvbHZlKG9wdGlvbmFsQXJncywgdmFsdWUpIHtcbiAgICAgICAgLy8gcmVzb2x2ZSgpXG4gICAgICAgIC8vIHJlc29sdmUob3B0aW9uYWxBcmdzLCB2YWx1ZSlcbiAgICAgICAgLy8gcmVzb2x2ZSh2YWx1ZSlcblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgW29wdGlvbmFsQXJncywgdmFsdWVdID0gW3t9LCBvcHRpb25hbEFyZ3NdXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25hbEFyZ3MpIHtcbiAgICAgICAgICAgIG9wdGlvbmFsQXJncyA9IHt9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgdGhpcyAmJiBhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAvLyBSZXR1cm5zIHRoZSBwcm9taXNlIGFzIGlzIChuYXRpdmUgc3BlYylcbiAgICAgICAgICAgIC8vIGJ1dCBvbmx5IGlmIG5vIG9wdGlvbmFsQXJnc1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMob3B0aW9uYWxBcmdzLCBmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHJlamVjdChvcHRpb25hbEFyZ3MsIHJlYXNvbikge1xuICAgICAgICAvLyByZWplY3QoKVxuICAgICAgICAvLyByZWplY3Qob3B0aW9uYWxBcmdzLCByZWFzb24pXG4gICAgICAgIC8vIHJlamVjdChyZWFzb24pXG5cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIFtvcHRpb25hbEFyZ3MsIHJlYXNvbl0gPSBbe30sIG9wdGlvbmFsQXJnc11cbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdGlvbmFsQXJncykge1xuICAgICAgICAgICAgb3B0aW9uYWxBcmdzID0ge31cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IHRoaXMob3B0aW9uYWxBcmdzLCBmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHJlamVjdChyZWFzb24pXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICR0b1Byb21pc2UoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcylcbiAgICB9XG5cbiAgICAvLyBDb21wbGV0ZXMgYW4gZXhwaXJlcyB0aGUgd2hvbGUgY2hhaW4gYmVmb3JlIGl0cyBub3JtYWwgZW5kXG4gICAgLy8gU2V0cyB0aGUgJGlzQWJvcnRlZCB0byB0cnVlIG9uIGFib3J0ZWQgcHJvbWlzZXNcbiAgICAkY2hhaW5BYm9ydChyZWFzb24gPSBcIiRjaGFpbkFib3J0KClcIikge1xuICAgICAgICB0aGlzLiRjaGFpbi5jb21wbGV0ZShyZWFzb24sIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8vIE1hbnVhbGx5IGNvbXBsZXRlcyBhbiBleHBpcmVzIHRoZSB3aG9sZSBjaGFpblxuICAgIC8vIE9ubHkgcmVxdWlyZWQgaWYgYXdhaXRpbmcgXCJteVByb21pc2UuJGNoYWluXCJcbiAgICAvLyB3aGVuIHRoZSBhdXRvY29tcGxldGUgd2F0Y2hlciBpcyBub3QgdXNlZFxuICAgICRjaGFpbkNvbXBsZXRlKHJlYXNvbiA9IFwiJGNoYWluQ29tcGxldGUoKVwiKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLiRjaGFpbi5jb21wbGV0ZShyZWFzb24sIGZhbHNlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBKRkFDVE9SWV9FUlJfSU5WQUxJRF9DQUxMKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpGQUNUT1JZX0VSUl9JTlZBTElEX0NBTEwoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGUuJGRhdGEudGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICByZWFzb246IFwiVHJ5aW5nIHRvIGNvbXBsZXRlIGEgcGVuZGluZyBjaGFpbi4gVXNlICRjaGFpbkFib3J0KCkgaWYgeW91IHdhbnQgdG8gc3RvcCBpdC5cIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAkY2hhaW5BdXRvQ29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMuJGNoYWluLmNoYWluQ29uZmlnLmNoYWluQXV0b0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0RXhwaXJlZChwcm9taXNlLCBhYm9ydCwgc2lsZW50LCByZWFzb24pIHtcbiAgICAgICAgaWYgKCFwcm9taXNlLiRpc1NldHRsZWQpIHtcbiAgICAgICAgICAgIGlmIChhYm9ydCkge1xuICAgICAgICAgICAgICAgIHByb21pc2UuJGlzQWJvcnRlZCA9ICFzaWxlbnQ7XG4gICAgICAgICAgICAgICAgcHJvbWlzZS5fX3Jlc29sdmVfXyhyZWFzb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSkZBQ1RPUllfRVJSX0lOVkFMSURfQ0FMTCh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogcHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcInByb21pc2UgbXVzdCBiZSBhYm9ydGVkIG9yIHNldHRsZWQgYmVmb3JlIHNldHRpbmcgaXQgdG8gZXhwaXJlZC5cIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb21pc2UuJGlzRXhwaXJlZCA9IHRydWU7XG4gICAgfVxufVxuXG5KRmFjdG9yeVByb21pc2UuREVGQVVMVF9DT05GSUcgPSB7XG4gICAgY2hhaW5BdXRvQ29tcGxldGU6IGZhbHNlXG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5UHJvbWlzZUNoYWluXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5UHJvbWlzZUNoYWluIHtcblxuICAgIGNvbnN0cnVjdG9yKGNoYWluUm9vdCwgY2hhaW5JZCwgY2hhaW5OYW1lLCBjaGFpbkNvbmZpZykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgICAgICBjaGFpbkNvbmZpZzogeyB2YWx1ZTogY2hhaW5Db25maWcgfSxcbiAgICAgICAgICAgIGNoYWluUm9vdDogeyB2YWx1ZTogY2hhaW5Sb290IH0sXG4gICAgICAgICAgICBjaGFpbklkOiB7IHZhbHVlOiBjaGFpbklkIH0sXG4gICAgICAgICAgICBjaGFpbk5hbWU6IHsgdmFsdWU6IGNoYWluTmFtZSB9LFxuICAgICAgICAgICAgY2hhaW5NYXA6IHsgdmFsdWU6IG5ldyBNYXAgfSxcbiAgICAgICAgICAgIGlzQ29tcGxldGVkOiB7IHZhbHVlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlIH0sXG4gICAgICAgICAgICBkYXRhOiB7IHZhbHVlOiB7fSB9LFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbiAgICAgICAgICAgIF9fZGVmZXJyZWRfXzogeyB2YWx1ZTogalF1ZXJ5LkRlZmVycmVkKCkgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGdldCBpc1BlbmRpbmcoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuY2hhaW5NYXAudmFsdWVzKCkpLmluY2x1ZGVzKGZhbHNlKVxuICAgIH1cblxuICAgIHRoZW4ob25SZXNvbHZlKSB7IC8vID0+IFwiYXdhaXQgY2hhaW5cIlxuICAgICAgICB0aGlzLl9fZGVmZXJyZWRfXy5kb25lKG9uUmVzb2x2ZSk7XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgY29tcGxldGUocmVhc29uID0gXCJjaGFpbi5jb21wbGV0ZSgpXCIsIGFib3J0ICkge1xuICAgICAgICBsZXQgY2hhaW5Sb290ID0gdGhpcy5jaGFpblJvb3Q7XG4gICAgICAgIGlmICghY2hhaW5Sb290LiRpc0V4cGlyZWQpIHtcbiAgICAgICAgICAgIGxldCBlcnJvckV4cGlyZWQgPSBjaGFpblJvb3QuJGNoYWluLmVycm9yRXhwaXJlZCA9IG5ldyBKRkFDVE9SWV9FUlJfUFJPTUlTRV9FWFBJUkVEKHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGNoYWluUm9vdCxcbiAgICAgICAgICAgICAgICByZWFzb25cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgbWFwID0gdGhpcy5jaGFpbk1hcDtcbiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgbWFwLmtleXMoKSkge1xuICAgICAgICAgICAgICAgIEpGYWN0b3J5UHJvbWlzZS5zZXRFeHBpcmVkKGl0ZW0sIGFib3J0LCBmYWxzZSwgZXJyb3JFeHBpcmVkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNDb21wbGV0ZWRcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHRoaXMuX19kZWZlcnJlZF9fLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeVByb21pc2VQYXRoXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5UHJvbWlzZVBhdGggZXh0ZW5kcyBBcnJheSB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgZm9yIChsZXQgaSBvZiBhcmd1bWVudHMpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoKC4uLmkpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaChpKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHByaW50YWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwKCh2LCBpKSA9PiBpID09PSAwID8gdi4kZGV2X25hbWUgOiB2LiRkZXZfbmFtZS5zcGxpdChcIi5cIilbMV0pLmpvaW4oXCIuXCIpXG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKSB7cmV0dXJuIHRoaXMucHJpbnRhYmxlfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5UHJvbWlzZVN5bmNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUHJvbWlzZSB0aGF0IHRyaWVzIHRvIHJlc29sdmUgc3luY2hyb25vdXNseVxuLy8gYWxsb3dpbmcgc3luY2hyb25vdXMgc3RhdGVzIGFuZCByZXN1bHRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlQcm9taXNlU3luYyBleHRlbmRzIFByb21pc2Uge1xuXG4gICAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcblxuICAgICAgICBsZXQgc3RhdGVzID0ge1xuICAgICAgICAgICAgJGlzU2V0dGxlZDogZmFsc2UsIC8vIHRydWUgPSBub3QgcGVuZGluZ1xuICAgICAgICAgICAgJGlzUmVqZWN0ZWQ6IG51bGwsIC8vIHRydWUgPSBub3QgcGVuZGluZyArIHJlamVjdGVkXG4gICAgICAgICAgICAkdmFsdWU6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuXG4gICAgICAgIHN1cGVyKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBsZXQgb25SZXNvbHZlID0gciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIEpGYWN0b3J5UHJvbWlzZVN5bmMucmVzb2x2ZShyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ob25SZXNvbHZlLCBvblJlamVjdClcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlcy4kaXNTZXR0bGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlcy4kaXNSZWplY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVzLiR2YWx1ZSA9IHI7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsZXQgb25SZWplY3QgPSByID0+IHtcbiAgICAgICAgICAgICAgICAvLyBkb24ndCByZXNvbHZlIHBlbmRpbmcgcHJvbWlzZVxuICAgICAgICAgICAgICAgIC8vIHRvIGtlZXAgbmF0aXZlIHNwZWNpZmljYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZXMuJGlzU2V0dGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlcy4kaXNSZWplY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlcy4kdmFsdWUgPSByO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QocilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGV4ZWN1dG9yKG9uUmVzb2x2ZSwgb25SZWplY3QpXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgb25SZWplY3QoZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBzdGF0ZXMpO1xuICAgICAgICBzdGF0ZXMgPSB0aGlzXG4gICAgfVxuXG4gICAgdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuXG4gICAgICAgIGlmICh0aGlzLiRpc1NldHRsZWQpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuJHZhbHVlO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRpc1JlamVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbmNlbCBhbnkgdW5jYXVnaHQgcmVqZWN0ZWQgcmVzdWx0IGZyb20gdGhpcyBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlZm9yZSByZXR1cm5pbmcgdGhlIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgc3VwZXIudGhlbih1bmRlZmluZWQsICgpID0+IG51bGwpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvblJlamVjdGVkICYmIHR5cGVvZiBvblJlamVjdGVkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gb25SZWplY3RlZCh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKRmFjdG9yeVByb21pc2VTeW5jLnJlamVjdCh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbkZ1bGZpbGxlZCAmJiB0eXBlb2Ygb25GdWxmaWxsZWQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBvbkZ1bGZpbGxlZCh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSkZhY3RvcnlQcm9taXNlU3luYy5yZWplY3QoZSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEpGYWN0b3J5UHJvbWlzZVN5bmMucmVzb2x2ZSh2YWx1ZSlcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBKRmFjdG9yeVByb21pc2VTeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEpGYWN0b3J5UHJvbWlzZVN5bmModmFsdWUudGhlbi5iaW5kKHZhbHVlKSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBKRmFjdG9yeVByb21pc2VTeW5jKHIgPT4gcih2YWx1ZSkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmpGYWN0b3J5Q29tcGF0X3JlcXVpcmUoXG4gICAgSkZBQ1RPUllfQ09NUEFUX2ZldGNoLFxuICAgIEpGQUNUT1JZX0NPTVBBVF9SZXF1ZXN0LFxuICAgIEpGQUNUT1JZX0NPTVBBVF9BYm9ydENvbnRyb2xsZXJcbik7IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IEpGQUNUT1JZX0RFViB9IGZyb20gXCIuL2pGYWN0b3J5LWVudlwiO1xuaW1wb3J0IHsgSkZBQ1RPUllfRVJSX0lOVkFMSURfVkFMVUUgfSBmcm9tIFwiLi9KRmFjdG9yeUVycm9yXCI7XG5pbXBvcnQgeyBKRmFjdG9yeUV4cGVjdCB9IGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5pbXBvcnQgeyBKRmFjdG9yeVByb21pc2VTeW5jIH0gZnJvbSBcIi4vSkZhY3RvcnlQcm9taXNlXCI7XG5pbXBvcnQgeyBKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXIgfSBmcm9tIFwiLi9KRmFjdG9yeUZ1bmN0aW9uXCI7XG5pbXBvcnQgeyBqUXVlcnksIGhlbHBlcl9pc1BsYWluT2JqZWN0IH0gZnJvbSBcIi4vakZhY3RvcnktaGVscGVyc1wiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5RXZlbnRzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGh0dHBzOi8vbGVhcm4uanF1ZXJ5LmNvbS9ldmVudHMvZXZlbnQtZXh0ZW5zaW9ucy9cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5RXZlbnRzIHtcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIGpRdWVyeSBkb2Vzbid0IGhhbmRsZSBhc3luYyB0cmlnZ2VyIHNvIGpGYWN0b3J5IHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgOlxuICAgIC8vXG4gICAgLy8gLSB0cmlnZ2VyUGFyYWxsZWwoKTogdGhlIHRyaWdnZXIgZnVuY3Rpb24gcmV0dXJucyBhIFByb21pc2UuYWxsKHBlbmRpbmdBcnJheSlcbiAgICAvLyAgIHdoZXJlIHBlbmRpbmdBcnJheSBpcyBmaWxsZWQgYnkgYW55IGFzeW5jIHJ1bm5pbmcgaGFuZGxlci5cbiAgICAvLyAgIE5vdCByZWNvbW1lbmRlZCBiZWNhdXNlIGl0J3MgdGhlIGJlc3Qgd2F5IHRvIHByb2R1Y2UgdW5wcmVkaWN0YWJsZSBhc3luYyBzaWRlIGVmZmVjdHNcbiAgICAvL1xuICAgIC8vIC0gdHJpZ2dlclNlcmllcygpOiBoYW5kbGVycyBhcmUgcnVuIGluIGEgc3luY2hyb25vdXMgb3JkZXIsIHdpdGggXCJhd2FpdFwiXG4gICAgLy8gICBUaGlzIGF2b2lkcyB1bnByZWRpY3RhYmxlIGFzeW5jIHJhY2UgY29uZGl0aW9uXG4gICAgLy9cbiAgICAvLyAgQm90aCByZXR1cm5zIGEgSkZhY3RvcnlQcm9taXNlU3luYyB0aGF0IGNvbnRhaW5zIHRoZSBqRmFjdG9yeV9mdWxmaWxsZWQgZmxhZ1xuICAgIC8vICBUaGlzIGZsYWcgaXMgaW1tZWRpYXRlbHkgKG5vdCBhc3luYykgc2V0IHRvIHRydWUgaWYgbm8gYXN5bmMgaGFuZGxlciBpcyBzdGlsbCBwZW5kaW5nXG4gICAgLy9cbiAgICAvLyA9PiBoYW5kbGVycyBhcmUgd3JhcHBlZC4gT3JpZ2luYWxIYW5kbGVycyBhbmQgd3JhcHBlZEhhbmRsZXJzIHJlbGF0aW9ucyBhcmUgc3RvcmVkIGluIGEgV2Vha01hcFxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywgLyoqIEBsZW5kcyBKRmFjdG9yeUV2ZW50cyMgKi8ge1xuICAgICAgICAgICAgcmVnaXN0cnk6IHsgdmFsdWU6IGpRdWVyeShPYmplY3QuY3JlYXRlKG51bGwpKSB9LFxuICAgICAgICAgICAgaGFuZGxlcnM6IHsgdmFsdWU6IG5ldyBXZWFrTWFwIH0sXG4gICAgICAgICAgICBvbkxpc3RlbmVyVXBkYXRlOiB7IHZhbHVlOiBudWxsLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgICAgICAgICAgb25PYnNlcnZlclVwZGF0ZTogeyB2YWx1ZTogbnVsbCwgd3JpdGFibGU6IHRydWUgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbih7IGV2ZW50cywgaGFuZGxlciwgdGFyZ2V0LCBzZWxlY3RvciB9KSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlU2VsZWN0b3IoZXZlbnRzKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlFdmVudHMub24oe2hhbmRsZXJ9KVwiLCBoYW5kbGVyKS50eXBlRnVuY3Rpb24oKTtcbiAgICAgICAgICAgIHRhcmdldCAmJiBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5RXZlbnRzLm9uKHt0YXJnZXR9KVwiLCB0YXJnZXQpLnR5cGUoU3RyaW5nLCBqUXVlcnksIEhUTUxFbGVtZW50KTtcbiAgICAgICAgICAgIHNlbGVjdG9yICYmIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlFdmVudHMub24oe3NlbGVjdG9yfSlcIiwgdGFyZ2V0KS50eXBlU3RyaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgd3JhcHBlZEhhbmRsZXIgPSB0aGlzLmhhbmRsZXJzLmdldChoYW5kbGVyKTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byB3cmFwIERPTSBoYW5kbGVyc1xuICAgICAgICAgICAgaWYgKCF3cmFwcGVkSGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGhhbmRsZXIsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5KHRhcmdldCkub24oZXZlbnRzLCBzZWxlY3RvciwgaGFuZGxlcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGpRdWVyeSh0YXJnZXQpLm9uKGV2ZW50cywgaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vbkxpc3RlbmVyVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkxpc3RlbmVyVXBkYXRlKGFyZ3VtZW50cylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghd3JhcHBlZEhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZXJzLnNldChoYW5kbGVyLCB3cmFwcGVkSGFuZGxlciA9IGZ1bmN0aW9uKGUsIHsgZGF0YSwgc3RhY2sgfSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKCgpID0+IGhhbmRsZXIoZSwgZGF0YSkpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgd3JhcHBlZEhhbmRsZXIub3JpZ2luYWxIYW5kbGVyID0gaGFuZGxlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVnaXN0cnkub24oZXZlbnRzLCB3cmFwcGVkSGFuZGxlcik7XG4gICAgICAgICAgICBpZiAodGhpcy5vbk9ic2VydmVyVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk9ic2VydmVyVXBkYXRlKGFyZ3VtZW50cylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9mZih7IGV2ZW50cywgaGFuZGxlciwgdGFyZ2V0LCBzZWxlY3RvciB9KSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkgeyAvLyBvZmYoKSBpcyB2YWxpZFxuICAgICAgICAgICAgICAgIEpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlU2VsZWN0b3IoZXZlbnRzKTtcbiAgICAgICAgICAgICAgICBoYW5kbGVyICYmIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlFdmVudHMub2ZmKHtoYW5kbGVyfSlcIiwgaGFuZGxlcikudHlwZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ICYmIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlFdmVudHMub2ZmKHt0YXJnZXR9KVwiLCB0YXJnZXQpLnR5cGUoU3RyaW5nLCBqUXVlcnksIEhUTUxFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBzZWxlY3RvciAmJiBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5RXZlbnRzLm9mZih7c2VsZWN0b3J9KVwiLCB0YXJnZXQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIGpRdWVyeSh0YXJnZXQpLm9mZihldmVudHMsIHNlbGVjdG9yLCBoYW5kbGVyKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkodGFyZ2V0KS5vZmYoZXZlbnRzLCBoYW5kbGVyKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgalF1ZXJ5KFwiKlwiKS5vZmYoZXZlbnRzLCBoYW5kbGVyKTtcblxuICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyID0gdGhpcy5oYW5kbGVycy5nZXQoaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBKRkFDVE9SWV9FUlJfSU5WQUxJRF9WQUxVRSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiaGFuZGxlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcIm5vdCByZWdpc3RlcmVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnaXZlbjogaGFuZGxlclxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVnaXN0cnkub2ZmKGV2ZW50cywgaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub25PYnNlcnZlclVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5vbk9ic2VydmVyVXBkYXRlKGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vbkxpc3RlbmVyVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLm9uTGlzdGVuZXJVcGRhdGUoYXJndW1lbnRzKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUnVuIGluIHBhcmFsbGVsLiBEb24ndCBcImF3YWl0XCIgZm9yIGFzeW5jIGhhbmRsZXJzXG4gICAgICogT2J2aW91c2x5IHByb2R1Y2VzIHVucHJlZGljdGFibGUgcmFjZSBjb25kaXRpb25zXG4gICAgICovXG4gICAgdHJpZ2dlclBhcmFsbGVsKHsgZXZlbnRzLCBkYXRhLCB0YXJnZXQgfSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZVNlbGVjdG9yKGV2ZW50cyk7XG4gICAgICAgICAgICB0YXJnZXRcbiAgICAgICAgICAgICAgICAmJiBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5RXZlbnRzLnRyaWdnZXJQYXJhbGxlbCh7dGFyZ2V0fSlcIiwgdGFyZ2V0KS50eXBlKFN0cmluZywgalF1ZXJ5LCBIVE1MRWxlbWVudClcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YWNrID0gW107XG4gICAgICAgIGNvbnN0IHBlbmRpbmcgPSBbXTtcbiAgICAgICAgZXZlbnRzID0gZXZlbnRzLnNwbGl0KFwiIFwiKTtcblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBldmVudCBvZiBldmVudHMpIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkodGFyZ2V0KS50cmlnZ2VyKGV2ZW50LCB7IGRhdGEsIHN0YWNrIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgZXZlbnQgb2YgZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS50cmlnZ2VySGFuZGxlcihldmVudCwgeyBkYXRhLCBzdGFjayB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaGFuZGxlciBvZiBzdGFjaykge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGhhbmRsZXIoKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlXG4gICAgICAgICAgICAgICAgJiYgIXJlc3VsdC4kaXNTZXR0bGVkIC8vIGRvbid0IG5lZWQgdG8gYXdhaXRcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHBlbmRpbmcucHVzaChyZXN1bHQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGVuZGluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEpGYWN0b3J5UHJvbWlzZVN5bmMucmVzb2x2ZSgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSdW4gaW4gZGVjbGFyYXRpb24gb3JkZXIgc3luY2hyb25vdXNseS4gV2lsbCBcImF3YWl0XCIgZm9yIGFzeW5jIGhhbmRsZXJzXG4gICAgICogUHJldmVudHMgdW5wcmVkaWN0YWJsZSByYWNlIGNvbmRpdGlvbnNcbiAgICAgKi9cbiAgICB0cmlnZ2VyU2VyaWVzKHsgZXZlbnRzLCBkYXRhLCB0YXJnZXQgfSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZVNlbGVjdG9yKGV2ZW50cyk7XG4gICAgICAgICAgICB0YXJnZXQgJiYgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUV2ZW50cy50cmlnZ2VyU2VyaWVzKHt0YXJnZXR9KVwiLCB0YXJnZXQpLnR5cGUoU3RyaW5nLCBqUXVlcnksIEhUTUxFbGVtZW50KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBKRmFjdG9yeVByb21pc2VTeW5jKGFzeW5jIHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICAgICAgICAgIGV2ZW50cyA9IGV2ZW50cy5zcGxpdChcIiBcIik7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBldmVudCBvZiBldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRhcmdldCkudHJpZ2dlcihldmVudCwgeyBkYXRhLCBzdGFjayB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGV2ZW50IG9mIGV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnRyaWdnZXJIYW5kbGVyKGV2ZW50LCB7IGRhdGEsIHN0YWNrIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBoYW5kbGVyIG9mIHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAmJiAhcmVzdWx0LiRpc1NldHRsZWQgLy8gZG9uJ3QgbmVlZCB0byBhd2FpdFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUV2ZW50c01hbmFnZXIgZXh0ZW5kcyBKRmFjdG9yeUV2ZW50cyB7XG4gICAgY29uc3RydWN0b3IocGFyZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgICAgIHBhcmVudDogeyB2YWx1ZTogcGFyZW50IH0sXG4gICAgICAgICAgICBhZmZpbGlhdGVSdWxlczogeyB2YWx1ZTogbmV3IEpGYWN0b3J5RnVuY3Rpb25Db21wb3NlcigpLmNvbXBvc2UoKSB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFmZmlsaWF0ZUFkZFJ1bGUoSkZhY3RvcnlFdmVudHNNYW5hZ2VyLnJ1bGVfbmFtZXNwYWNlKVxuICAgIH1cblxuICAgIGFmZmlsaWF0ZShldmVudHMgPSBcIlwiLCBuYW1lc3BhY2VzID0gXCJcIiwgb3B0aW9ucykge1xuICAgICAgICBsZXQgcGFyc2VyID0gbmV3IEpGYWN0b3J5RXZlbnRTZWxlY3RvclBhcnNlcihldmVudHMpO1xuICAgICAgICBmb3IgKGxldCBwYXJzZWRFdmVudCBvZiBwYXJzZXIuZXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmFmZmlsaWF0ZVJ1bGVzKHBhcnNlZEV2ZW50LCBuYW1lc3BhY2VzLCBvcHRpb25zKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZXIudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBhZmZpbGlhdGVBZGRSdWxlKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5hZmZpbGlhdGVSdWxlcy5jb21wb3Nlci5sYXN0KGhhbmRsZXIpXG4gICAgfVxuXG4gICAgc3RhdGljIHJ1bGVfbmFtZXNwYWNlKGNvbnRleHQsIHBhcnNlZEV2ZW50LCBuYW1lc3BhY2VzKSB7XG4gICAgICAgIG5hbWVzcGFjZXMgPSBuYW1lc3BhY2VzLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgZm9yIChsZXQgbmFtZXNwYWNlIG9mIG5hbWVzcGFjZXMpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSAmJiBwYXJzZWRFdmVudC5hZGROYW1lc3BhY2UobmFtZXNwYWNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uKGV2ZW50cywgdGFyZ2V0LCBzZWxlY3RvciwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgICAgICAvLyBPYnNlcnZlcnM6XG4gICAgICAgIC8vIGV2ZW50cywgaGFuZGxlclxuICAgICAgICAvLyBldmVudHMsIGhhbmRsZXIsIG9wdGlvbnNcblxuICAgICAgICAvLyBET00gRXZlbnRzOlxuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgaGFuZGxlclxuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgaGFuZGxlciwgb3B0aW9uc1xuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgc2VsZWN0b3IsIGhhbmRsZXIsXG4gICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBzZWxlY3RvciwgaGFuZGxlciwgb3B0aW9uc1xuXG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgaGFuZGxlclxuICAgICAgICAgICAgICAgIFtoYW5kbGVyLCB0YXJnZXRdID0gW3RhcmdldC8qLCB1bmRlZmluZWQqL107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMl0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgaGFuZGxlclxuICAgICAgICAgICAgICAgICAgICBbaGFuZGxlciwgc2VsZWN0b3JdID0gW3NlbGVjdG9yLyosIHVuZGVmaW5lZCovXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudHMsIGhhbmRsZXIsIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgW2hhbmRsZXIsIG9wdGlvbnMsIHRhcmdldCwgc2VsZWN0b3JdID0gW3RhcmdldCwgc2VsZWN0b3IvKiwgdW5kZWZpbmVkLCB1bmRlZmluZWQqL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzNdID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBoYW5kbGVyLCBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgIFtvcHRpb25zLCBoYW5kbGVyLCBzZWxlY3Rvcl0gPSBbaGFuZGxlciwgc2VsZWN0b3IvKiwgdW5kZWZpbmVkKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGV2ZW50cyA9IHRoaXMuYWZmaWxpYXRlKGV2ZW50cywgdGhpcy5wYXJlbnQuJC5hYm91dC5maW5nZXJwcmludCwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGFyZ2V0ID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgc3VwZXIub24oeyBldmVudHMsIGhhbmRsZXIgfSkgOlxuICAgICAgICAgICAgc3VwZXIub24oeyBldmVudHMsIHRhcmdldCwgc2VsZWN0b3IsIGhhbmRsZXIvKiwgb3B0aW9ucyovIH0pXG4gICAgfVxuXG4gICAgb2ZmKGV2ZW50cywgdGFyZ2V0LCBzZWxlY3RvciwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgICAgICAvLyBCb3RoOlxuICAgICAgICAvLyBldmVudHMgKGNhbiBiZSBuYW1lc3BhY2VzKVxuICAgICAgICAvLyBldmVudHMsIG9wdGlvbnNcbiAgICAgICAgLy8gb3B0aW9ucyAoY2FuIGJlIHJlbW92YWwpXG5cbiAgICAgICAgLy8gT2JzZXJ2ZXI6XG4gICAgICAgIC8vIGV2ZW50cywgaGFuZGxlclxuICAgICAgICAvLyBldmVudHMsIGhhbmRsZXIsIG9wdGlvbnNcblxuICAgICAgICAvLyBET00gRXZlbnRzOlxuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgaGFuZGxlclxuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgaGFuZGxlciwgb3B0aW9uc1xuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgc2VsZWN0b3JcbiAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yLCBoYW5kbGVyLFxuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgc2VsZWN0b3IsIGhhbmRsZXIsIG9wdGlvbnNcblxuICAgICAgICBjb25zdCBhcmdMID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgc3dpdGNoIChhcmdMKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICBbb3B0aW9ucywgZXZlbnRzXSA9IFtldmVudHMvKiwgdW5kZWZpbmVkKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBlbHNlIGV2ZW50cyAoY2FuIG5hbWVzcGFjZXMpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMV0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudHMsIGhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICAgW2hhbmRsZXIsIHRhcmdldF0gPSBbdGFyZ2V0LyosIHVuZGVmaW5lZCovXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhlbHBlcl9pc1BsYWluT2JqZWN0KGFyZ3VtZW50c1sxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnRzLCBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgIFtvcHRpb25zLCB0YXJnZXRdID0gW3RhcmdldC8qLCB1bmRlZmluZWQqL11cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZWxzZSBldmVudHMsIHRhcmdldFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzJdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIGhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICAgW2hhbmRsZXIsIHNlbGVjdG9yXSA9IFtzZWxlY3Rvci8qLCB1bmRlZmluZWQqL107XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnRzWzFdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnRzLCBoYW5kbGVyLCBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgIFtoYW5kbGVyLCBvcHRpb25zLCB0YXJnZXQsIHNlbGVjdG9yXSA9IFt0YXJnZXQsIHNlbGVjdG9yLyosIHVuZGVmaW5lZCwgdW5kZWZpbmVkKi9dO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBzZWxlY3RvclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1szXSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgaGFuZGxlciwgb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICBbb3B0aW9ucywgaGFuZGxlciwgc2VsZWN0b3JdID0gW2hhbmRsZXIsIHNlbGVjdG9yLyosIHVuZGVmaW5lZCovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBldmVudHMgPSB0aGlzLmFmZmlsaWF0ZShldmVudHMsIHRoaXMucGFyZW50LiQuYWJvdXQuZmluZ2VycHJpbnQsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChhcmdMIDwgMikge1xuICAgICAgICAgICAgc3VwZXIub2ZmKHsgZXZlbnRzIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0ID9cbiAgICAgICAgICAgICAgICBzdXBlci5vZmYoeyBldmVudHMsIHRhcmdldCwgc2VsZWN0b3IsIGhhbmRsZXIvKiwgb3B0aW9ucyovIH0pIDpcbiAgICAgICAgICAgICAgICBzdXBlci5vZmYoeyBldmVudHMsIGhhbmRsZXIgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRyaWdnZXIoZXZlbnRzLCB0YXJnZXQsIGRhdGEpIHtcbiAgICAgICAgLy8gZXZlbnRzXG4gICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0XG4gICAgICAgIC8vIGV2ZW50cywgZGF0YVxuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgZGF0YVxuXG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcIm9iamVjdFwiICYmICF0YXJnZXQuanF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgZGF0YVxuICAgICAgICAgICAgICAgICAgICBbZGF0YSwgdGFyZ2V0XSA9IFt0YXJnZXRdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXQgP1xuICAgICAgICAgICAgc3VwZXIudHJpZ2dlclNlcmllcyh7IGV2ZW50cywgdGFyZ2V0LCBkYXRhIH0pIDpcbiAgICAgICAgICAgIHN1cGVyLnRyaWdnZXJTZXJpZXMoeyBldmVudHMsIGRhdGEgfSlcbiAgICB9XG5cbiAgICB0cmlnZ2VyUGFyYWxsZWwoZXZlbnRzLCB0YXJnZXQsIGRhdGEpIHtcbiAgICAgICAgLy8gZXZlbnRzXG4gICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0XG4gICAgICAgIC8vIGV2ZW50cywgZGF0YVxuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgZGF0YVxuXG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcIm9iamVjdFwiICYmICF0YXJnZXQuanF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgZGF0YVxuICAgICAgICAgICAgICAgICAgICBbZGF0YSwgdGFyZ2V0XSA9IFt0YXJnZXRdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXQgP1xuICAgICAgICAgICAgc3VwZXIudHJpZ2dlclBhcmFsbGVsKHsgZXZlbnRzLCB0YXJnZXQsIGRhdGEgfSkgOlxuICAgICAgICAgICAgc3VwZXIudHJpZ2dlclBhcmFsbGVsKHsgZXZlbnRzLCBkYXRhIH0pXG4gICAgfVxuXG4gICAgLy8gI3Vub3B0aW1pemVkIGRyYWZ0I1xuICAgIC8vIEl0J3Mgbm90IGVhc3kgdG8ga2VlcCB0aGlzIGxpc3QgdXAgdG8gZGF0ZSBiZWNhdXNlOlxuICAgIC8vIC0gbGlzdGVuZXJzIGNhbiBiZSByZW1vdmVkIGJ5IGV4dGVybmFsIGRvbSBtdXRhdGlvbnNcbiAgICAvLyAtIGxpc3RlbmVycyBjYW4gYmUgZGVsZWdhdGVkXG4gICAgLy8gLSBvZmYoKSBtZXRob2QgY2FuIHJlbW92ZSBsaXN0ZW5lcnMgZ2xvYmFsbHlcbiAgICBnZXREb21MaXN0ZW5lcnMobmFtZXNwYWNlKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAobGV0IGVsbSBvZiBqUXVlcnkoXCIqXCIpKSB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IGpRdWVyeS5fZGF0YShlbG0sIFwiZXZlbnRzXCIpO1xuICAgICAgICAgICAgaWYgKGRhdGEpIHsvLyBkYXRhID0ge2NsaWNrOiBbe31dLCAuLi4gfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGVudHJpZXMgb2YgT2JqZWN0LnZhbHVlcyhkYXRhKSkgey8vIGVudHJpZXMgPSBbe3R5cGU6Li4ufV1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgZW50cmllcykgey8vIGVudHJ5ID0ge3R5cGUsIG5hbWVzcGFjZSwgaGFuZGxlciwgLi4ufVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcnNlciA9IG5ldyBKRmFjdG9yeUV2ZW50U2VsZWN0b3IoZW50cnkubmFtZXNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eXBlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZXIuaGFzTmFtZXNwYWNlKG5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0eXBlcyA9IHJlc3VsdC5nZXQoZWxtKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldChlbG0sIHR5cGVzID0ge30pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eXBlID0gdHlwZXNbZW50cnkudHlwZV0gfHwgKHR5cGVzW2VudHJ5LnR5cGVdID0gW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uLmVudHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogZW50cnkuc2VsZWN0b3IgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogZW50cnkuaGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBlbnRyeS5uYW1lc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgLy8gI3Vub3B0aW1pemVkIGRyYWZ0I1xuICAgIGdldE9ic2VydmVycygpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBNYXAoKTtcbiAgICAgICAgbGV0IGV2ZW50cyA9IHRoaXMucmVnaXN0cnkuX2V2ZW50cztcblxuICAgICAgICBpZiAoIWV2ZW50cykge1xuICAgICAgICAgICAgbGV0IHJlZ2lzdHJ5ID0gT2JqZWN0LnZhbHVlcyh0aGlzLnJlZ2lzdHJ5KVswXTtcbiAgICAgICAgICAgIGxldCBleHBhbmRvID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocmVnaXN0cnkpLmZpbmQoayA9PiBrLmluZGV4T2YoXCJqUXVlcnlcIikgPT09IDApO1xuICAgICAgICAgICAgaWYgKHJlZ2lzdHJ5ICYmIGV4cGFuZG8pIHtcbiAgICAgICAgICAgICAgICBldmVudHMgPSB0aGlzLnJlZ2lzdHJ5Ll9ldmVudHMgPSByZWdpc3RyeVtleHBhbmRvXS5ldmVudHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50cykpIHtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnQgPSByZXN1bHQuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBldmVudCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc2V0KGtleSwgZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBldmVudFR5cGVFbnRyeSBvZiB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBldmVudFR5cGVFbnRyeS5oYW5kbGVyLm9yaWdpbmFsSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZTogZXZlbnRUeXBlRW50cnkubmFtZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5RXZlbnRTZWxlY3RvclBhcnNlciB7XG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3JzKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlU2VsZWN0b3Ioc2VsZWN0b3JzKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgQXJyYXk8SkZhY3RvcnlFdmVudFNlbGVjdG9yPlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ldmVudHMgPSBzZWxlY3RvcnMuc3BsaXQoXCIgXCIpLm1hcChzZWxlY3RvciA9PiBuZXcgSkZhY3RvcnlFdmVudFNlbGVjdG9yKHNlbGVjdG9yKSlcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgZXZlbnQgb2YgdGhpcy5ldmVudHMpIHtcbiAgICAgICAgICAgIHMucHVzaChldmVudC50b1N0cmluZygpKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzLmpvaW4oXCIgXCIpXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlFdmVudFNlbGVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xuICAgICAgICBsZXQgW2V2ZW50LCAuLi5uYW1lc3BhY2VdID0gc2VsZWN0b3Iuc3BsaXQoXCIuXCIpO1xuICAgICAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIHRoaXMubmFtZXNwYWNlID0gbmV3IFNldChuYW1lc3BhY2UpXG4gICAgfVxuXG4gICAgLyoqIEByZXR1cm4ge0Jvb2xlYW58U3RyaW5nfSAqL1xuICAgIGhhc05hbWVzcGFjZShuYW1lc3BhY2VzKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShuYW1lc3BhY2VzKSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlcyA9IFtuYW1lc3BhY2VzXVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IG5hbWVzcGFjZSBvZiBuYW1lc3BhY2VzKSB7XG4gICAgICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEvXltcXHc6XSskLy50ZXN0KG5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpGQUNUT1JZX0VSUl9JTlZBTElEX1ZBTFVFKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJuYW1lc3BhY2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogXCJtdXN0IGJlIGFscGhhbnVtZXJpYywgdW5kZXJzY29yZSBhbmQgY29sb24gY2hhcmFjdGVyc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IG5hbWVzcGFjZVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYW1lc3BhY2UgJiYgdGhpcy5uYW1lc3BhY2UuaGFzKG5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZXNwYWNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgYWRkTmFtZXNwYWNlKG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBpZiAoIS9eW1xcdzpdKyQvLnRlc3QobmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKRkFDVE9SWV9FUlJfSU5WQUxJRF9WQUxVRSh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJuYW1lc3BhY2VcIixcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcIm11c3QgYmUgYWxwaGFudW1lcmljLCB1bmRlcnNjb3JlIGFuZCBjb2xvbiBjaGFyYWN0ZXJzXCIsXG4gICAgICAgICAgICAgICAgICAgIGdpdmVuOiBuYW1lc3BhY2VcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZXNwYWNlLmFkZChuYW1lc3BhY2UpXG4gICAgfVxuXG4gICAgZGVsZXRlTmFtZXNwYWNlKG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBpZiAoIS9eW1xcdzpdKyQvLnRlc3QobmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKRkFDVE9SWV9FUlJfSU5WQUxJRF9WQUxVRSh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJuYW1lc3BhY2VcIixcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcIm11c3QgYmUgYWxwaGFudW1lcmljLCB1bmRlcnNjb3JlIGFuZCBjb2xvbiBjaGFyYWN0ZXJzXCIsXG4gICAgICAgICAgICAgICAgICAgIGdpdmVuOiBuYW1lc3BhY2VcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZXNwYWNlLmRlbGV0ZShuYW1lc3BhY2UpXG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWVzcGFjZS5zaXplID8gdGhpcy5ldmVudCArIFwiLlwiICsgQXJyYXkuZnJvbSh0aGlzLm5hbWVzcGFjZS52YWx1ZXMoKSkuam9pbihcIi5cIikgOiB0aGlzLmV2ZW50O1xuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICBKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZVNlbGVjdG9yID0gZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZVNlbGVjdG9yKHNlbGVjdG9yKVwiLCBzZWxlY3RvcilcbiAgICAgICAgICAgICAgICAubm90VW5kZWZpbmVkKClcbiAgICAgICAgICAgICAgICAudmFsaWRTcGFjZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IFtldmVudCwgbnNdIG9mIHNlbGVjdG9yLnNwbGl0KFwiIFwiKVxuICAgICAgICAgICAgLm1hcCh2ID0+IHYuc3BsaXQoXCIuXCIpKVxuICAgICAgICAgICAgLm1hcCh2ID0+IFt2LnNoaWZ0KCksIHYuam9pbihcIi5cIildKSkge1xuICAgICAgICAgICAgZXZlbnQgJiYgSkZhY3RvcnlFdmVudHMudmFsaWRhdGVFdmVudChldmVudCk7XG4gICAgICAgICAgICBucyAmJiBKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZU5hbWVzcGFjZShucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9O1xuXG4gICAgSkZhY3RvcnlFdmVudHMudmFsaWRhdGVFdmVudCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlFdmVudHMudmFsaWRhdGVFdmVudChldmVudClcIiwgZXZlbnQpXG4gICAgICAgICAgICAgICAgLm5vdFVuZGVmaW5lZCgpXG4gICAgICAgICAgICAgICAgLm5vdEVtcHR5U3RyaW5nKClcbiAgICAgICAgICAgICAgICAudmFsaWRTcGFjZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghL15bXFx3Ol0rJC8udGVzdChldmVudCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKRkFDVE9SWV9FUlJfSU5WQUxJRF9WQUxVRSh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcIkpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlRXZlbnQoZXZlbnQpXCIsXG4gICAgICAgICAgICAgICAgcmVhc29uOiBcIm11c3QgYmUgYWxwaGFudW1lcmljLCB1bmRlcnNjb3JlIGFuZCBjb2xvbiBjaGFyYWN0ZXJzXCIsXG4gICAgICAgICAgICAgICAgZ2l2ZW46IGV2ZW50XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9O1xuXG4gICAgSkZhY3RvcnlFdmVudHMudmFsaWRhdGVOYW1lc3BhY2UgPSBmdW5jdGlvbihuYW1lc3BhY2UpIHsgLy8gZXg6IG5zLm5zMi5uczNcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZU5hbWVzcGFjZShuYW1lc3BhY2UpXCIsIG5hbWVzcGFjZSlcbiAgICAgICAgICAgICAgICAubm90VW5kZWZpbmVkKClcbiAgICAgICAgICAgICAgICAubm90RW1wdHlTdHJpbmcoKVxuICAgICAgICAgICAgICAgIC52YWxpZFNwYWNlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEvXltcXHc6Ll0rJC8udGVzdChuYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSkZBQ1RPUllfRVJSX0lOVkFMSURfVkFMVUUoe1xuICAgICAgICAgICAgICAgIHRhcmdldDogXCJKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZU5hbWVzcGFjZShuYW1lc3BhY2UpXCIsXG4gICAgICAgICAgICAgICAgcmVhc29uOiBcIm11c3QgYmUgYWxwaGFudW1lcmljLCB1bmRlcnNjb3JlLCBkb3QgYW5kIGNvbG9uIGNoYXJhY3RlcnNcIixcbiAgICAgICAgICAgICAgICBnaXZlbjogbmFtZXNwYWNlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9O1xufSIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgeyBKRkFDVE9SWV9FUlJfUkVRVUVTVF9FUlJPUiB9IGZyb20gXCIuL0pGYWN0b3J5RXJyb3JcIjtcbmltcG9ydCB7IEpGYWN0b3J5UHJvbWlzZSB9IGZyb20gXCIuL0pGYWN0b3J5UHJvbWlzZVwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5RmV0Y2hcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5RmV0Y2ggZXh0ZW5kcyBKRmFjdG9yeVByb21pc2Uge1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uYWxBcmdzLCB1cmwsIGZldGNoT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uYWxBcmdzID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHN1cGVyKG9wdGlvbmFsQXJncyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbmFsQXJncyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIFtvcHRpb25hbEFyZ3MsIHVybCwgZmV0Y2hPcHRpb25zXSA9IFt7fSwgYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV1dXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBmZXRjaFJlcXVlc3QgPSBuZXcgUmVxdWVzdCh1cmwsIGZldGNoT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHN1cGVyKG9wdGlvbmFsQXJncywgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBwcm9taXNlID0gZmV0Y2goZmV0Y2hSZXF1ZXN0KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRjaGFpbi5mZXRjaFJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IocmVzcG9uc2Uuc3RhdHVzICsgXCI6XCIgKyByZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChmZXRjaE9wdGlvbnMuJHR5cGVUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50ZXh0KCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyID0+IHRoaXMuJGNoYWluLnJlc3BvbnNlVGV4dCA9IHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmZXRjaE9wdGlvbnMuJHR5cGVKU09OKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyID0+IHRoaXMuJGNoYWluLnJlc3BvbnNlSlNPTiA9IHIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBKRkFDVE9SWV9FUlJfUkVRVUVTVF9FUlJPUih7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IHJlYXNvbi5tZXNzYWdlIHx8IHJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy4kY2hhaW4uZmV0Y2hSZXNwb25zZSAmJiB0aGlzLiRjaGFpbi5mZXRjaFJlc3BvbnNlLnVybCB8fCB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBvd25lcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoUmVxdWVzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoUmVzcG9uc2U6IHRoaXMuJGNoYWluLmZldGNoUmVzcG9uc2UgfHwgbnVsbFxuICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25hbEFyZ3MudHJhY2VTb3VyY2UpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuJGNoYWluLmZldGNoT3B0aW9ucyA9IGZldGNoT3B0aW9ucztcbiAgICAgICAgICAgIHRoaXMuJGNoYWluLmZldGNoUmVxdWVzdCA9IGZldGNoUmVxdWVzdDtcblxuICAgICAgICAgICAgbGV0IGFib3J0Q3RybCA9IGZldGNoT3B0aW9ucy5hYm9ydENvbnRyb2xsZXIgfHwgbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgICAgZmV0Y2hPcHRpb25zLnNpZ25hbCA9IGFib3J0Q3RybC5zaWduYWw7XG4gICAgICAgICAgICB0aGlzLiRjaGFpbi5mZXRjaEFib3J0Q29udHJvbGxlciA9IGFib3J0Q3RybDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICRjaGFpbkFib3J0KHJlYXNvbiA9IFwicmVxdWVzdCBhYm9ydGVkXCIpIHtcbiAgICAgICAgc3VwZXIuJGNoYWluQWJvcnQocmVhc29uKTtcbiAgICAgICAgdGhpcy4kY2hhaW4uZmV0Y2hBYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG59IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IEpGQUNUT1JZX0RFViwgSkZBQ1RPUllfQ0xJIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBKRmFjdG9yeUV4cGVjdCB9IGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5pbXBvcnQgeyBqRmFjdG9yeUZ1bmN0aW9uQ29uZGl0aW9uYWwgfSBmcm9tIFwiLi9KRmFjdG9yeUZ1bmN0aW9uXCI7XG5pbXBvcnQgeyBoZWxwZXJfZGVmYXVsdHNEZWVwLCBOT09QIH0gZnJvbSBcIi4vakZhY3RvcnktaGVscGVyc1wiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5TG9nZ2VyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEEgY29udGV4dHVhbCBsb2dnZXIgdGhhdCBwcmVwZW5kcyBhIGxhYmVsIGFuZCBhbGxvd3MgcnVudGltZSBmaWx0ZXJpbmcgd2hpbGUgcHJlc2VydmluZyB0aGUgY2FsbGVyIGxpbmUgbnVtYmVyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGxvZ2dlci5jcmVhdGVTdWJMb2dnZXIobGFiZWwpIGNyZWF0ZSBhIHN1Yi1sb2dnZXIgb2YgbG9nZ2VyOyBcImxvZ2dlclwiIGNhbiBiZSBhIHN1Yi1sb2dnZXIuXG4vLyBsb2dnZXIuZGlzYWJsZSgpIGRpc2FibGUgY29uc29sZSBmb3IgaXRzZWxmIGFuZCBzdWItbG9nZ2Vyc1xuLy8gbG9nZ2VyLmRpc2FsbG93KCdsb2cnKSBkaXNhbGxvdyBsb2dnZXIubG9nKCkgb25seVxuLy8gbG9nZ2VyLmRpc2FsbG93KCdsb2cnLCBzdWJMb2dnZXIubGFiZWwpIGRpc2FsbG93IHN1Yi1sb2dnZXIubG9nKCkgb25seS4gVGhpcyBpcyBjYWxsYWJsZSBmcm9tIGFueSBsb2dnZXIvc3ViLWxvZ2dlclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXMgOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuY29uc3QgU1lNQk9MX0VOQUJMRUQgPSBTeW1ib2woKTtcblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5TG9nZ2VyIHtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFViAmJiBvcHRpb25zKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5TG9nZ2VyKG9wdGlvbnMpXCIsIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgLnByb3BlcnRpZXMoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoSkZhY3RvcnlMb2dnZXIuREVGQVVMVF9DT05GSUcpKVxuICAgICAgICB9XG4gICAgICAgIGhlbHBlcl9kZWZhdWx0c0RlZXAodGhpcywgb3B0aW9ucywgSkZhY3RvcnlMb2dnZXIuREVGQVVMVF9DT05GSUcpO1xuICAgICAgICB0aGlzLmNvbmRpdGlvbiA9IGpGYWN0b3J5RnVuY3Rpb25Db25kaXRpb25hbChKRmFjdG9yeUxvZ2dlci5ERUZBVUxUX0NPTkRJVElPTik7XG4gICAgICAgIHRoaXMuaW5zdGFsbEFjY2Vzc29yKFwibG9nXCIpO1xuICAgICAgICB0aGlzLmluc3RhbGxBY2Nlc3NvcihcIndhcm5cIik7XG4gICAgICAgIHRoaXMuaW5zdGFsbEFjY2Vzc29yKFwiZXJyb3JcIilcbiAgICB9XG5cbiAgICBnZXQgZW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbU1lNQk9MX0VOQUJMRURdICYmICh0aGlzLnBhcmVudExvZ2dlciA/IHRoaXMucGFyZW50TG9nZ2VyLmVuYWJsZWQgOiB0cnVlKVxuICAgIH1cblxuICAgIHNldCBlbmFibGVkKHYpIHtcbiAgICAgICAgdiA/IHRoaXMuZW5hYmxlKCkgOiB0aGlzLmRpc2FibGUoKVxuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgaWYgKHRoaXNbU1lNQk9MX0VOQUJMRURdICE9PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzW1NZTUJPTF9FTkFCTEVEXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBpZiAodGhpc1tTWU1CT0xfRU5BQkxFRF0gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzW1NZTUJPTF9FTkFCTEVEXSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzYWxsb3cobmF0aXZlTmFtZSwgbGFiZWwgPSB0aGlzLmxhYmVsKSB7XG4gICAgICAgIGlmICghdGhpcy5maWx0ZXJzW2xhYmVsXSkge3RoaXMuZmlsdGVyc1tsYWJlbF0gPSB7fX1cbiAgICAgICAgdGhpcy5maWx0ZXJzW2xhYmVsXVtuYXRpdmVOYW1lXSA9IHRydWVcbiAgICB9XG5cbiAgICBhbGxvdyhuYXRpdmVOYW1lLCBsYWJlbCA9IHRoaXMubGFiZWwpIHtcbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyc1tsYWJlbF0pIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmZpbHRlcnNbbGFiZWxdW25hdGl2ZU5hbWVdXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbnN0YWxsQWNjZXNzb3IobmF0aXZlTmFtZSwgdGFyZ2V0TmFtZSA9IG5hdGl2ZU5hbWUsIHRhcmdldCA9IHRoaXMpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUxvZ2dlcihuYXRpdmVOYW1lKVwiLCBuYXRpdmVOYW1lKS5lcXVhbEluKFtcImxvZ1wiLCBcIndhcm5cIiwgXCJlcnJvclwiXSk7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCB7XG4gICAgICAgICAgICBbdGFyZ2V0TmFtZV06IHtcbiAgICAgICAgICAgICAgICBnZXQ6IHRoaXMuYWNjZXNzb3IuYmluZCh0aGlzLCBuYXRpdmVOYW1lLyosIHRhcmdldCovKSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBhY2Nlc3NvcihuYXRpdmVOYW1lLyosIHRhcmdldCovKSB7XG4gICAgICAgIGlmICghdGhpc1tTWU1CT0xfRU5BQkxFRF0pIHtcbiAgICAgICAgICAgIHJldHVybiBOT09QO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmRpdGlvbihuYXRpdmVOYW1lKSAmJiB0aGlzLmZvcm1hdHRlcltuYXRpdmVOYW1lXSh0aGlzKSB8fCBOT09QXG4gICAgfVxuXG4gICAgY3JlYXRlU3ViTG9nZ2VyKGxhYmVsKSB7XG4gICAgICAgIC8qKiBAdHlwZSBKRmFjdG9yeUxvZ2dlciAqL1xuICAgICAgICBsZXQgc3ViID0gbmV3IEpGYWN0b3J5TG9nZ2VyKHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRoaXMuZW5hYmxlZCxcbiAgICAgICAgICAgIGxhYmVsOiB0aGlzLmxhYmVsICsgXCIuXCIgKyBsYWJlbCxcbiAgICAgICAgICAgIHN0eWxlc19jc3M6IHRoaXMuc3R5bGVzX2NzcyxcbiAgICAgICAgICAgIHN0eWxlc19jbGk6IHRoaXMuc3R5bGVzX2NsaSxcbiAgICAgICAgICAgIGNvbnNvbGU6IHRoaXMuY29uc29sZSxcbiAgICAgICAgICAgIGZvcm1hdHRlcjogdGhpcy5mb3JtYXR0ZXJcbiAgICAgICAgfSk7XG4gICAgICAgIHN1Yi5wYXJlbnRMb2dnZXIgPSB0aGlzO1xuICAgICAgICBzdWIuY29uZGl0aW9uLmFkZENvbmRpdGlvbigoKSA9PiB0aGlzLmVuYWJsZWQpO1xuICAgICAgICBzdWIuZmlsdGVycyA9IHRoaXMuZmlsdGVyczsgLy8gc2hhcmVkIHRvIGFsbG93L2Rpc2FsbG93IGZyb20gYW55d2hlcmVcbiAgICAgICAgcmV0dXJuIHN1YlxuICAgIH1cbn1cblxuLy8gI2xpbWl0YXRpb24jIFRvIHByZXNlcnZlIHRoZSBsaW5lIG51bWJlciwgd2UgY2FuIG9ubHkgdXNlIG5hdGl2ZSBmdW5jdGlvbnMsIGxpa2UgYmluZFxuLy8gI2xpbWl0YXRpb24jIEJlY2F1c2Ugd2UgdXNlIGJpbmQoKSwgb25seSB0aGUgc3R5bGUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgY2FuIGJlIGVmZmljaWVudGx5IGRlZmluZWRcblxuSkZhY3RvcnlMb2dnZXIuRk9STUFUVEVSX05BVElWRSA9IHtcbiAgICBsb2c6IGxvZ2dlciA9PiBsb2dnZXIuY29uc29sZS5sb2cuYmluZChsb2dnZXIuY29uc29sZSwgbG9nZ2VyLmxhYmVsICsgXCI+XCIpLFxuICAgIHdhcm46IGxvZ2dlciA9PiBsb2dnZXIuY29uc29sZS53YXJuLmJpbmQobG9nZ2VyLmNvbnNvbGUsIGxvZ2dlci5sYWJlbCArIFwiPlwiKSxcbiAgICBlcnJvcjogbG9nZ2VyID0+IGxvZ2dlci5jb25zb2xlLmVycm9yLmJpbmQobG9nZ2VyLmNvbnNvbGUsIGxvZ2dlci5sYWJlbCArIFwiPlwiKVxufTtcblxuSkZhY3RvcnlMb2dnZXIuRk9STUFUVEVSX0NMSSA9IHtcbiAgICBsb2c6IGxvZ2dlciA9PiBsb2dnZXIuY29uc29sZS5sb2cuYmluZChsb2dnZXIuY29uc29sZSwgbG9nZ2VyLnN0eWxlc19jbGkubGFiZWwsIGxvZ2dlci5sYWJlbCArIFwiPlwiKSxcbiAgICB3YXJuOiBsb2dnZXIgPT4gbG9nZ2VyLmNvbnNvbGUud2Fybi5iaW5kKGxvZ2dlci5jb25zb2xlLCBsb2dnZXIuc3R5bGVzX2NsaS5sYWJlbCwgbG9nZ2VyLmxhYmVsICsgXCI+XCIpLFxuICAgIGVycm9yOiBsb2dnZXIgPT4gbG9nZ2VyLmNvbnNvbGUuZXJyb3IuYmluZChsb2dnZXIuY29uc29sZSwgbG9nZ2VyLnN0eWxlc19jbGkubGFiZWwsIGxvZ2dlci5sYWJlbCArIFwiPlwiKVxufTtcblxuSkZhY3RvcnlMb2dnZXIuRk9STUFUVEVSX0JST1dTRVIgPSB7XG4gICAgbG9nOiBsb2dnZXIgPT4gbG9nZ2VyLmNvbnNvbGUubG9nLmJpbmQobG9nZ2VyLmNvbnNvbGUsIFwiJWNcIiArIGxvZ2dlci5sYWJlbCArIFwiPlwiLCBsb2dnZXIuc3R5bGVzX2Nzcy5sYWJlbCksXG4gICAgd2FybjogbG9nZ2VyID0+IGxvZ2dlci5jb25zb2xlLndhcm4uYmluZChsb2dnZXIuY29uc29sZSwgXCIlY1wiICsgbG9nZ2VyLmxhYmVsICsgXCI+XCIsIGxvZ2dlci5zdHlsZXNfY3NzLmxhYmVsKSxcbiAgICBlcnJvcjogbG9nZ2VyID0+IGxvZ2dlci5jb25zb2xlLmVycm9yLmJpbmQobG9nZ2VyLmNvbnNvbGUsIFwiJWNcIiArIGxvZ2dlci5sYWJlbCArIFwiPlwiLCBsb2dnZXIuc3R5bGVzX2Nzcy5sYWJlbClcbn07XG5cbi8qKiBAcmV0dXJuIHtib29sZWFufSAqL1xuSkZhY3RvcnlMb2dnZXIuREVGQVVMVF9DT05ESVRJT04gPSBmdW5jdGlvbihuYXRpdmVOYW1lKSB7XG4gICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5TG9nZ2VyLmNvbmRpdGlvbihuYXRpdmVOYW1lKVwiLCBuYXRpdmVOYW1lKS5lcXVhbEluKFtcImxvZ1wiLCBcIndhcm5cIiwgXCJlcnJvclwiXSk7XG4gICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlMb2dnZXIuZW5hYmxlZFwiLCB0aGlzLmVuYWJsZWQpLmVxdWFsKHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gISh0aGlzLmZpbHRlcnNbdGhpcy5sYWJlbF0gJiYgdGhpcy5maWx0ZXJzW3RoaXMubGFiZWxdW25hdGl2ZU5hbWVdKVxufTtcblxuSkZhY3RvcnlMb2dnZXIuREVGQVVMVF9DT05GSUcgPSAvKiogQGxlbmRzIEpGYWN0b3J5TG9nZ2VyIyAqLyB7XG4gICAgbGFiZWw6IFwiXCIsXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICBwYXJlbnRMb2dnZXI6IG51bGwsXG4gICAgZm9ybWF0dGVyOiBKRkFDVE9SWV9DTEkgP1xuICAgICAgICBKRmFjdG9yeUxvZ2dlci5GT1JNQVRURVJfQ0xJIDpcbiAgICAgICAgSkZhY3RvcnlMb2dnZXIuRk9STUFUVEVSX0JST1dTRVIsXG4gICAgY29uc29sZSxcbiAgICBmaWx0ZXJzOiB7XG4gICAgfSxcbiAgICBzdHlsZXNfY2xpOiB7XG4gICAgICAgIGxhYmVsOiBcIlxceDFiWzE7MzBtJXNcXHgxYlswbVwiXG4gICAgfSxcbiAgICBzdHlsZXNfY3NzOiB7XG4gICAgICAgIGxhYmVsOiBcImNvbG9yOiBncmF5XCJcbiAgICB9XG59OyIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5VGltZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlUaW1lIGV4dGVuZHMgRGF0ZSB7XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvTG9jYWxlVGltZVN0cmluZygpICsgXCIsIFwiICsgdGhpcy5nZXRVVENNaWxsaXNlY29uZHMoKSArIFwibXMgKFwiICsgdGhpcy52YWx1ZU9mKCkgKyBcIilcIlxuICAgIH1cbiAgICAkdG9EdXJhdGlvblN0cmluZygpIHtcbiAgICAgICAgbGV0IGhvdXJzID0gdGhpcy5nZXRVVENIb3VycygpO1xuICAgICAgICBsZXQgbWludXRlcyA9IHRoaXMuZ2V0VVRDTWludXRlcygpO1xuICAgICAgICBsZXQgc2Vjb25kcyA9IHRoaXMuZ2V0VVRDU2Vjb25kcygpO1xuICAgICAgICBsZXQgbWlsbGlzZWNvbmRzID0gdGhpcy5nZXRVVENNaWxsaXNlY29uZHMoKTtcblxuICAgICAgICBsZXQgYSA9IFtdO1xuICAgICAgICBpZiAoaG91cnMpIHtcbiAgICAgICAgICAgIGEucHVzaChob3VycyArIFwiaFwiKVxuICAgICAgICB9XG4gICAgICAgIGlmIChtaW51dGVzKSB7XG4gICAgICAgICAgICBhLnB1c2gobWludXRlcyArIFwibWluXCIpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlY29uZHMpIHtcbiAgICAgICAgICAgIGEucHVzaChzZWNvbmRzICsgXCJzXCIpXG4gICAgICAgIH1cbiAgICAgICAgYS5wdXNoKG1pbGxpc2Vjb25kcyArIFwibXNcIik7XG4gICAgICAgIGlmIChhLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGFbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYS5qb2luKFwiLFwiKSArIFwiIChcIiArIHRoaXMudmFsdWVPZigpICsgXCIpXCI7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeVRpbWVUcmFjZSBleHRlbmRzIERhdGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmVsYXBzZWQgPSBudWxsO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgICAgICB0MTogeyB2YWx1ZTogbnVsbCwgd3JpdGFibGU6IHRydWUgfSxcbiAgICAgICAgICAgIHQwOiB7IHZhbHVlOiBuZXcgSkZhY3RvcnlUaW1lKCkgfVxuICAgICAgICB9KVxuICAgIH1cbiAgICBlbmQoKSB7XG4gICAgICAgIHRoaXMudDEgPSBuZXcgSkZhY3RvcnlUaW1lKCk7XG4gICAgICAgIHRoaXMuZWxhcHNlZCA9IG5ldyBKRmFjdG9yeVRpbWUodGhpcy50MSAtIHRoaXMudDApLiR0b0R1cmF0aW9uU3RyaW5nKClcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsYXBzZWRcbiAgICB9XG59IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdENvcmVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmltcG9ydCB7IEpGQUNUT1JZX0RFViwgSkZBQ1RPUllfQ0ZHX0xPRyB9IGZyb20gXCIuL2pGYWN0b3J5LWVudlwiO1xuaW1wb3J0IHtcbiAgICBKRkFDVE9SWV9FUlJfS0VZX0RVUExJQ0FURUQsIEpGQUNUT1JZX0VSUl9LRVlfTUlTU0lORyxcbiAgICBKRkFDVE9SWV9FUlJfUFJPTUlTRV9FWFBJUkVELCBKRmFjdG9yeUVycm9yXG59IGZyb20gXCIuL0pGYWN0b3J5RXJyb3JcIjtcbmltcG9ydCB7IGpGYWN0b3J5IH0gZnJvbSBcIi4vakZhY3RvcnlcIjtcbmltcG9ydCB7IEpGYWN0b3J5RXhwZWN0IH0gZnJvbSBcIi4vSkZhY3RvcnlFeHBlY3RcIjtcbmltcG9ydCB7IEpGYWN0b3J5QWJvdXQgfSBmcm9tIFwiLi9KRmFjdG9yeUFib3V0XCI7XG5pbXBvcnQgeyBKRmFjdG9yeUxvZ2dlciB9IGZyb20gXCIuL0pGYWN0b3J5TG9nZ2VyXCI7XG5pbXBvcnQgeyBKRmFjdG9yeVByb21pc2UsIEpGYWN0b3J5UHJvbWlzZVN5bmMgfSBmcm9tIFwiLi9KRmFjdG9yeVByb21pc2VcIjtcbmltcG9ydCB7IEpGYWN0b3J5RXZlbnRzTWFuYWdlciB9IGZyb20gXCIuL0pGYWN0b3J5RXZlbnRzXCI7XG5pbXBvcnQgeyBKRmFjdG9yeU9iamVjdCB9IGZyb20gXCIuL0pGYWN0b3J5T2JqZWN0XCI7XG5pbXBvcnQgeyBKRmFjdG9yeVRpbWVUcmFjZSB9IGZyb20gXCIuL0pGYWN0b3J5VGltZVwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0IE9iamVjdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBUcmFpdENvcmUge1xuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBvd25lciA9IHRoaXM7XG5cbiAgICAgICAgY2xhc3MgU3ViTWFwIGV4dGVuZHMgTWFwIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBzdXBlciguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpZF9hdXRvaW5jXCIsIHsgdmFsdWU6IDAsIHdyaXRhYmxlOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHJlZ2lzdGVyU3luYyhrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN1YiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHt9LCB7XG4gICAgICAgICAgICAgICAgICAgICR2YWx1ZTogeyB2YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAkcGhhc2VSZW1vdmU6IHsgdmFsdWU6IFRyYWl0U2VydmljZS5nZXRDb250ZXh0dWFsUmVtb3ZlUGhhc2Uob3duZXIpIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChrZXksIHN1Yik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHJlZ2lzdGVyQXN5bmMoa2V5LCB0YXNrTmFtZSwgcHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGxldCB0YXNrID0gb3duZXIuJHRhc2sodGFza05hbWUsIHByb21pc2UuJGNoYWluKTtcblxuICAgICAgICAgICAgICAgIC8vIEVuZCBvZiBwcm9taXNlIGNoYWluIG11c3QgY29tcGxldGUgdGhlIHRhc2tcbiAgICAgICAgICAgICAgICBwcm9taXNlLiRjaGFpbi50aGVuKCgpID0+IHsgLy8gc3luY2hyb25vdXMgdGhlblxuICAgICAgICAgICAgICAgICAgICB0YXNrLiRjaGFpbkF1dG9Db21wbGV0ZSgpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBBYm9ydGVkIHRhc2sgbXVzdCBhYm9ydCB0aGUgcHJvbWlzZSBpZiBzdGlsbCBydW5uaW5nXG4gICAgICAgICAgICAgICAgdGFzay4kY2hhaW4udGhlbigoKSA9PiB7Ly8gc3luY2hyb25vdXMgdGhlblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb21pc2UuJGNoYWluLmlzQ29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLiRjaGFpbkFib3J0KFwiYWJvcnRlZCBieSB0YXNrXCIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIiRwaGFzZVJlbW92ZVwiLCB7IHZhbHVlOiB0YXNrLiRwaGFzZVJlbW92ZSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChrZXksIHByb21pc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRpZF9yZXNvbHZlKHN0cikge1xuICAgICAgICAgICAgICAgIGlmIChzdHIuaW5kZXhPZihcIj9cIikgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSArK3RoaXMuaWRfYXV0b2luYztcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoL1xcPy9nLCBpZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0clxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHJvdG8gPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIHtcbiAgICAgICAgICAgIFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAgICAgICAgYXNzaWduOiBmdW5jdGlvbihwcm9wZXJ0eSwgdmFsdWUsIGRlc2NyaXB0b3IpIHtKRmFjdG9yeU9iamVjdC5hc3NpZ24odGhpcywgcHJvcGVydHksIHZhbHVlLCBkZXNjcmlwdG9yKX0sXG4gICAgICAgICAgICBjcmVhdGVTdWJNYXA6ICgpID0+IG5ldyBTdWJNYXAoKVxuICAgICAgICB9KTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCIkXCIsIHsgdmFsdWU6IE9iamVjdC5jcmVhdGUocHJvdG8pIH0pO1xuXG4gICAgICAgIC8vIHByZS1kZWZpbmUgbW9zdCBpbXBvcnRhbnQgcHJvcGVydGllc1xuICAgICAgICAvLyB0byBvcmRlciB0aGVtIGZpcnN0IGluIGRldnRvb2wgKHJlZHVjZWQgZm9ybSBvbmx5KVxuICAgICAgICB0aGlzLiQuYXNzaWduKHtcbiAgICAgICAgICAgIHRhc2tzOiBudWxsLFxuICAgICAgICAgICAgcmVxdWVzdHM6IG51bGxcbiAgICAgICAgfSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuRU5VTUVSQUJMRV9XUklUQUJMRSk7XG4gICAgfVxufVxuXG5UcmFpdENvcmUuU1lNQk9MX1BSSVZBVEUgPSBTeW1ib2woXCJfXCIpO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0IEFib3V0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFRyYWl0QWJvdXQge1xuXG4gICAgdHJhaXRfY29uc3RydWN0b3IoYWJvdXQpIHtcbiAgICAgICAgSkZhY3RvcnlPYmplY3QuYXNzaWduKHRoaXMuJCwgXCJhYm91dFwiLFxuICAgICAgICAgICAgbmV3IEpGYWN0b3J5QWJvdXQodGhpcywgYWJvdXQpLCBKRmFjdG9yeU9iamVjdC5kZXNjcmlwdG9ycy5SRUFET05MWSlcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgTG9nXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFRyYWl0TG9nIHtcblxuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBsZXQgY29uZmlnID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBsYWJlbDogdGhpcy4kLmFib3V0Lm5hbWVcbiAgICAgICAgfSwgSkZBQ1RPUllfQ0ZHX0xPRy5lbmFibGVkIHx8IHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBsb2dnZXIgPSBuZXcgSkZhY3RvcnlMb2dnZXIoY29uZmlnKTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy4kLCBcImxvZ2dlclwiLCB7IHZhbHVlOiBsb2dnZXIgfSk7XG5cbiAgICAgICAgbG9nZ2VyLmluc3RhbGxBY2Nlc3NvcihcImxvZ1wiLCAgIFwiJGxvZ1wiLCAgICAgdGhpcyk7XG4gICAgICAgIGxvZ2dlci5pbnN0YWxsQWNjZXNzb3IoXCJ3YXJuXCIsICBcIiRsb2dXYXJuXCIsIHRoaXMpO1xuICAgICAgICBsb2dnZXIuaW5zdGFsbEFjY2Vzc29yKFwiZXJyb3JcIiwgXCIkbG9nRXJyXCIsICB0aGlzKTtcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgVGFza3Ncbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRUYXNrIHtcblxuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLiQuYXNzaWduKFwidGFza3NcIiwgdGhpcy4kLmNyZWF0ZVN1Yk1hcCgpLCBKRmFjdG9yeU9iamVjdC5kZXNjcmlwdG9ycy5FTlVNRVJBQkxFKTtcbiAgICB9XG5cbiAgICAkdGFzayhpZCwgZXhlY3V0b3JPclZhbHVlKSB7XG4gICAgICAgIGlkID0gdGhpcy4kLnRhc2tzLiRpZF9yZXNvbHZlKGlkKTtcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiR0YXNrKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkdGFzayhleGVjdXRvck9yVmFsdWUpXCIsIGV4ZWN1dG9yT3JWYWx1ZSkubm90VW5kZWZpbmVkKCk7XG4gICAgICAgICAgICBpZiAodGhpcy4kLnRhc2tzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSkZBQ1RPUllfRVJSX0tFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiR0YXNrKGlkKVwiLCBnaXZlbjogaWQgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0YXNrO1xuXG4gICAgICAgIGlmICh0eXBlb2YgZXhlY3V0b3JPclZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRhc2sgID0gbmV3IEpGYWN0b3J5UHJvbWlzZSh7IG5hbWU6IGlkLCBvd25lcjogdGhpcyB9LCBleGVjdXRvck9yVmFsdWUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXNrID0gSkZhY3RvcnlQcm9taXNlLnJlc29sdmUoeyBuYW1lOiBpZCwgb3duZXI6IHRoaXMgfSwgZXhlY3V0b3JPclZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhc2suJHBoYXNlUmVtb3ZlID0gVHJhaXRTZXJ2aWNlLmdldENvbnRleHR1YWxSZW1vdmVQaGFzZSh0aGlzKTtcblxuICAgICAgICBsZXQgbWV0cmljcztcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgbWV0cmljcyA9IG5ldyBKRmFjdG9yeVRpbWVUcmFjZSgpO1xuICAgICAgICAgICAgdGFzay4kdGFza01ldHJpY3MgPSB7ICRkZXZfdGltaW5nOiBtZXRyaWNzIH07XG4gICAgICAgIH1cblxuICAgICAgICB0YXNrLiRjaGFpbi50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgICAgICBtZXRyaWNzLmVuZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuJC50YXNrcy5nZXQoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kdGFza1JlbW92ZShpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuJC50YXNrcy5zZXQoaWQsIHRhc2spO1xuICAgICAgICByZXR1cm4gdGFza1xuICAgIH1cblxuICAgICR0YXNrUmVtb3ZlKGlkLCByZWFzb24pIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkdGFza1JlbW92ZShpZClcIiwgaWQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIHJlYXNvbiAmJiBKRmFjdG9yeUV4cGVjdChcIiR0YXNrUmVtb3ZlKHJlYXNvbilcIiwgcmVhc29uKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJC50YXNrcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpGQUNUT1JZX0VSUl9LRVlfTUlTU0lORyh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCIkdGFza1JlbW92ZShpZClcIixcbiAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IGlkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1kZWJ1Z2dlclxuICAgICAgICAgICAgaWYgKHRoaXMuJC50YXNrcy5nZXQoaWQpLl9jYWxsZWQpIHtkZWJ1Z2dlcn1cbiAgICAgICAgICAgIHRoaXMuJC50YXNrcy5nZXQoaWQpLl9jYWxsZWQgPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZW50cnkgPSB0aGlzLiQudGFza3MuZ2V0KGlkKTtcbiAgICAgICAgLy8gZGVsZXRpbmcgYmVmb3JlIGNoYWluQWJvcnQoKSB0byBwcmV2ZW50IHJlbW92ZSgpIHJlY2FsbFxuICAgICAgICB0aGlzLiQudGFza3MuZGVsZXRlKGlkKTtcbiAgICAgICAgZW50cnkuJGNoYWluQWJvcnQocmVhc29uIHx8IFwiJHRhc2tSZW1vdmUoKVwiKTtcbiAgICB9XG5cbiAgICAkdGFza1JlbW92ZUFsbChyZW1vdmVQaGFzZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiR0YXNrUmVtb3ZlQWxsKHJlbW92ZVBoYXNlKVwiLCByZW1vdmVQaGFzZSlcbiAgICAgICAgICAgICAgICAuZXF1YWxJbihUcmFpdFNlcnZpY2UuUEhBU0VTKVxuICAgICAgICB9XG4gICAgICAgIGxldCB0YXNrcyA9IHRoaXMuJC50YXNrcztcbiAgICAgICAgaWYgKHRhc2tzLnNpemUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdGFza10gb2YgdGFza3MpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFzay4kcGhhc2VSZW1vdmUgPT09IHJlbW92ZVBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHRhc2tSZW1vdmUoa2V5LCBcIiR0YXNrUmVtb3ZlQWxsKFwiICsgcmVtb3ZlUGhhc2UgKyBcIilcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkdGFza1Byb21pc2VBbGwoYXV0b0NvbXBsZXRlID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHBlbmRpbmcgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuJC50YXNrcy5zaXplKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB0YXNrIG9mIHRoaXMuJC50YXNrcy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgIGlmIChhdXRvQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzb2x2ZXMgdGhlIGNoYWluIGFzIHNvb24gYXMgbm8gbW9yZSBwZW5kaW5nIHByb21pc2UgaW4gdGhlIGNoYWluXG4gICAgICAgICAgICAgICAgICAgIHRhc2suJGNoYWluLmNoYWluQ29uZmlnLmNoYWluQXV0b0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc3RpbGwgcGVuZGluZyA/XG4gICAgICAgICAgICAgICAgaWYgKHRhc2suJGNoYWluLmlzUGVuZGluZykge1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nLnB1c2godGFzay4kY2hhaW4pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwZW5kaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEpGYWN0b3J5UHJvbWlzZVN5bmMucmVzb2x2ZSgpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgRXZlbnRzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFRyYWl0RXZlbnRzIHtcblxuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBhc3NpZ25Qcml2YXRlKHRoaXMsIFwiZXZlbnRzXCIsIHtcbiAgICAgICAgICAgIGN1c3RvbTogbmV3IEpGYWN0b3J5RXZlbnRzTWFuYWdlcih0aGlzKSxcbiAgICAgICAgICAgIGtlcm5lbDogbmV3IEpGYWN0b3J5RXZlbnRzTWFuYWdlcih0aGlzKVxuICAgICAgICB9LCBKRmFjdG9yeU9iamVjdC5kZXNjcmlwdG9ycy5OT05FKTtcblxuICAgICAgICBsZXQgZXZlbnRNYW5hZ2VyID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmN1c3RvbTtcblxuICAgICAgICAvLyBpZiAoSkZBQ1RPUllfREVWKSB7IC8vIHZlcnkgc2xvdzsgcmVxdWlyZXMgb3B0aW1pemF0aW9uXG4gICAgICAgIC8vICAgICAvLyByZWdpc3RyeSBhcmUgYXV0byB1cGRhdGVkIGluIGRldiBtb2RlICh1bm9wdGltaXplZCBpbXBsZW1lbnRhdGlvbilcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgIGxldCBsaXN0ZW5lclVwZGF0ZSA9ICgpID0+IHtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLiQubGlzdGVuZXJzID0gZXZlbnRNYW5hZ2VyLmdldERvbUxpc3RlbmVycyh0aGlzLiQuYWJvdXQuZmluZ2VycHJpbnQpO1xuICAgICAgICAvLyAgICAgfTtcbiAgICAgICAgLy8gICAgIGxldCBvYnNlcnZlclVwZGF0ZSA9ICgpID0+IHtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLiQub2JzZXJ2ZXJzID0gZXZlbnRNYW5hZ2VyLmdldE9ic2VydmVycygpO1xuICAgICAgICAvLyAgICAgfTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgIGV2ZW50TWFuYWdlci5vbkxpc3RlbmVyVXBkYXRlID0gbGlzdGVuZXJVcGRhdGU7XG4gICAgICAgIC8vICAgICBldmVudE1hbmFnZXIub25PYnNlcnZlclVwZGF0ZSA9IG9ic2VydmVyVXBkYXRlO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgbGV0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobGlzdGVuZXJVcGRhdGUpO1xuICAgICAgICAvLyAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHtjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWV9KTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgIGxpc3RlbmVyVXBkYXRlKCk7XG4gICAgICAgIC8vICAgICBvYnNlcnZlclVwZGF0ZSgpO1xuICAgICAgICAvLyB9IGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcy4kLCB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZXZlbnRNYW5hZ2VyLmdldERvbUxpc3RlbmVycy5iaW5kKGV2ZW50TWFuYWdlciwgdGhpcy4kLmFib3V0LmZpbmdlcnByaW50KSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZXZlbnRNYW5hZ2VyLmdldE9ic2VydmVycy5iaW5kKGV2ZW50TWFuYWdlciksXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgJG9uKC8qIGV2ZW50cywgdGFyZ2V0LCBzZWxlY3RvciwgaGFuZGxlciwgb3B0aW9ucyAqLykge1xuICAgICAgICB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMuY3VzdG9tLm9uKC4uLmFyZ3VtZW50cylcbiAgICB9XG5cbiAgICAkb2ZmKC8qIGV2ZW50cywgdGFyZ2V0LCBzZWxlY3RvciwgaGFuZGxlciwgb3B0aW9ucyAqLykge1xuICAgICAgICB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMuY3VzdG9tLm9mZiguLi5hcmd1bWVudHMpXG4gICAgfVxuXG4gICAgJHRyaWdnZXIoLyogZXZlbnRzLCB0YXJnZXQsIGRhdGEgKi8pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5jdXN0b20udHJpZ2dlciguLi5hcmd1bWVudHMpXG4gICAgfVxuXG4gICAgJHRyaWdnZXJQYXJhbGxlbCgvKiBldmVudHMsIHRhcmdldCwgZGF0YSAqLykge1xuICAgICAgICByZXR1cm4gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmN1c3RvbS50cmlnZ2VyUGFyYWxsZWwoLi4uYXJndW1lbnRzKVxuICAgIH1cblxuICAgICRub3RpZnkoZXZlbnRzLCBkYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiR0cmlnZ2VyKGV2ZW50cywgZGF0YSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5rZXJuZWwudHJpZ2dlcihldmVudHMsIGRhdGEpKVxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBTdGF0ZXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRTdGF0ZSB7XG5cbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgY29uc3Qgc3RhdGVSb3V0ZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBjb25zdCBrZXJuZWwgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMua2VybmVsO1xuXG4gICAgICAgIGFzc2lnblByaXZhdGUodGhpcywgeyBzdGF0ZXMsIHN0YXRlUm91dGVzIH0sIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLlJFQURPTkxZKTtcblxuICAgICAgICBKRmFjdG9yeU9iamVjdC5hc3NpZ24odGhpcy4kLCBcInN0YXRlc1wiLCBuZXcgUHJveHkoc3RhdGVzLCB7XG4gICAgICAgICAgICBzZXQ6ICh0YXJnZXQsIGtleSwgdmFsKSA9PiB0aGlzLiRzdGF0ZShrZXksIHZhbCksXG4gICAgICAgICAgICBnZXQ6ICh0YXJnZXQsIGtleSkgPT4gc3RhdGVzW2tleV1cbiAgICAgICAgfSksIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLlJFQURPTkxZKTtcblxuICAgICAgICBrZXJuZWwub24oXCJiZWZvcmVTdGF0ZUNoYW5nZVwiLCAoZSwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgbGV0IGg7XG4gICAgICAgICAgICBpZiAoc3RhdGVSb3V0ZXNbZGF0YS5rZXldICYmIHN0YXRlUm91dGVzW2RhdGEua2V5XS5iZWZvcmVcbiAgICAgICAgICAgICAgICAmJiAoaCA9IHN0YXRlUm91dGVzW2RhdGEua2V5XS5iZWZvcmUoZGF0YS52YWwpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRub3RpZnkoaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGtlcm5lbC5vbihcImFmdGVyU3RhdGVDaGFuZ2VcIiwgKGUsIGRhdGEpID0+IHtcbiAgICAgICAgICAgIGxldCBoO1xuICAgICAgICAgICAgaWYgKHN0YXRlUm91dGVzW2RhdGEua2V5XSAmJiBzdGF0ZVJvdXRlc1tkYXRhLmtleV0uYWZ0ZXJcbiAgICAgICAgICAgICAgICAmJiAoaCA9IHN0YXRlUm91dGVzW2RhdGEua2V5XS5hZnRlcihkYXRhLnZhbCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG5vdGlmeShoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHN0YXRlKGtleSwgdmFsLCBub3RpZnkgPSB0cnVlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJHN0YXRlKGtleSlcIiwga2V5KS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiRzdGF0ZShub3RpZnkpXCIsIG5vdGlmeSkudHlwZUJvb2xlYW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgSkZhY3RvcnlQcm9taXNlU3luYyhhc3luYyByZXNvbHZlID0+IHtcblxuICAgICAgICAgICAgbGV0IHN0YXRlcyA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLnN0YXRlcztcbiAgICAgICAgICAgIGxldCBwcmV2aW91c1ZhbCA9IHN0YXRlc1trZXldO1xuICAgICAgICAgICAgbGV0IHBlbmRpbmc7XG5cbiAgICAgICAgICAgIGlmICghKGtleSBpbiBzdGF0ZXMpIHx8IHByZXZpb3VzVmFsICE9PSB2YWwpIHtcblxuICAgICAgICAgICAgICAgIHBlbmRpbmcgPSBub3RpZnkgJiYgdGhpcy4kbm90aWZ5KFwiYmVmb3JlU3RhdGVDaGFuZ2VcIiwgeyBrZXksIHZhbCwgcHJldmlvdXNWYWwgfSk7XG4gICAgICAgICAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nICYmIEpGYWN0b3J5RXhwZWN0KFwiYmVmb3JlU3RhdGVDaGFuZ2UgcmVzdWx0XCIsIHBlbmRpbmcpLnR5cGUoSkZhY3RvcnlQcm9taXNlU3luYyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHBlbmRpbmcgJiYgIXBlbmRpbmcuJGlzU2V0dGxlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZXNba2V5XSA9IHBlbmRpbmc7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBlbmRpbmc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzdGF0ZXNba2V5XVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlc1trZXldID0gdmFsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBlbmRpbmcgPSBub3RpZnkgJiYgdGhpcy4kbm90aWZ5KFwiYWZ0ZXJTdGF0ZUNoYW5nZVwiLCB7IGtleSwgdmFsLCBwcmV2aW91c1ZhbCB9KTtcbiAgICAgICAgICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmcgJiYgSkZhY3RvcnlFeHBlY3QoXCJhZnRlclN0YXRlQ2hhbmdlIHJlc3VsdFwiLCBwZW5kaW5nKS50eXBlKEpGYWN0b3J5UHJvbWlzZVN5bmMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nLnRoZW4ocmVzb2x2ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgU2VydmljZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBUcmFpdFNlcnZpY2Uge1xuXG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSB0aGlzLiQuc2VydmljZVxuICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgSkZhY3RvcnlPYmplY3QuYXNzaWduKHRoaXMuJCwgXCJzZXJ2aWNlXCIsIE9iamVjdC5jcmVhdGUobnVsbCksIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLlJFQURPTkxZKTtcbiAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuTk9ORTtcbiAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZSA9IEpGYWN0b3J5UHJvbWlzZS5yZXNvbHZlKHsgbmFtZTogXCJwaGFzZVF1ZXVlXCIgfSwgbnVsbCk7XG4gICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlVGFzayA9IG51bGw7XG4gICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlTWFwID0ge1xuICAgICAgICAgICAgaW5zdGFsbDogbmV3IFNldCgpLFxuICAgICAgICAgICAgZW5hYmxlOiBuZXcgU2V0KCksXG4gICAgICAgICAgICBkaXNhYmxlOiBuZXcgU2V0KCksXG4gICAgICAgICAgICB1bmluc3RhbGw6IG5ldyBTZXQoKVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNldCBpbml0aWFsIHN0YXRlcyBidXQgZG9uJ3QgdHJpZ2dlciBldmVudHNcbiAgICAgICAgdGhpcy4kc3RhdGUoXCJpbnN0YWxsZWRcIiwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgdGhpcy4kc3RhdGUoXCJlbmFibGVkXCIsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gRGVmaW5lIHRoZSBldmVudHMgdG8gbm90aWZ5IGJlZm9yZS9hZnRlciBhIHN0YXRlIGNoYW5nZVxuICAgICAgICAvLyBzdGF0ZU5hbWUgOiB7YmVmb3JlIDogZXZlbnROYW1lLCBhZnRlciA6IGV2ZW50TmFtZX1cblxuICAgICAgICAvLyBTUEVDXG4gICAgICAgIC8vIHN0YXQgaXMgY2hhbmdlZCBiZWZvcmUgY2FsbGluZyBoYW5kbGVycyBldmVuIGlmIHBlbmRpbmdcblxuICAgICAgICBhc3NpZ25Qcml2YXRlTWVtYmVyKHRoaXMsIFwic3RhdGVSb3V0ZXNcIiwge1xuICAgICAgICAgICAgaW5zdGFsbGVkOiB7IGFmdGVyOiB2YWwgPT4gdmFsID8gXCJpbnN0YWxsXCIgOiBcInVuaW5zdGFsbFwiIH0sXG4gICAgICAgICAgICBlbmFibGVkOiB7IGFmdGVyOiB2YWwgPT4gdmFsID8gXCJlbmFibGVcIiAgOiBcImRpc2FibGVcIiB9XG4gICAgICAgIH0sIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLk5PTkUpO1xuXG4gICAgICAgIGxldCBjdXN0b20gPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMuY3VzdG9tO1xuICAgICAgICBsZXQga2VybmVsID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmtlcm5lbDtcblxuICAgICAgICAvLyBBdHRhY2ggYSByZW1vdmUgcGhhc2UgbmFtZXNwYWNlcyBvbiBldmVudHNcbiAgICAgICAgY3VzdG9tLmFmZmlsaWF0ZUFkZFJ1bGUoKGNvbnRleHQsIHBhcnNlZEV2ZW50LCBuYW1lc3BhY2VzLCBvcHRpb25zKSA9PlxuICAgICAgICAgICAgVHJhaXRTZXJ2aWNlLnNldEV2ZW50TmFtZXNwYWNlUmVtb3ZlUGhhc2UodGhpcywgcGFyc2VkRXZlbnQsIG9wdGlvbnMpXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gQXR0YWNoIG1vZHVsZSBldmVudCBoYW5kbGVyc1xuXG4gICAgICAgIC8qKiBAbmFtZSBKRmFjdG9yeUNvcmVPYmplY3Qjb25JbnN0YWxsICovXG4gICAgICAgIC8qKiBAbmFtZSBKRmFjdG9yeUNvcmVPYmplY3Qjb25FbmFibGUgKi9cbiAgICAgICAgLyoqIEBuYW1lIEpGYWN0b3J5Q29yZU9iamVjdCNvbkRpc2FibGUgKi9cbiAgICAgICAgLyoqIEBuYW1lIEpGYWN0b3J5Q29yZU9iamVjdCNvblVuaW5zdGFsbCAqL1xuXG4gICAgICAgIGxldCBwaGFzZVJlc29sdmUgPSBoYW5kbGVyID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLiQudGFza3Muc2l6ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHRhc2tSZW1vdmVBbGwodGhpcy4kLnNlcnZpY2UucGhhc2UpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcHJvbWlzZSA9IEpGYWN0b3J5UHJvbWlzZVN5bmMucmVzb2x2ZSgpO1xuICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiBoYW5kbGVyLmNhbGwodGhpcykpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuJHRhc2tQcm9taXNlQWxsKHRydWUpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VcbiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKC8qdGhpcy4kLnNlcnZpY2UuaXNQaGFzZUtpbGxpbmcgJiYqLyBlIGluc3RhbmNlb2YgSkZBQ1RPUllfRVJSX1BST01JU0VfRVhQSVJFRCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGxvZ0VycihcInVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiBpbiBcIiArIHRoaXMuJC5zZXJ2aWNlLnBoYXNlICsgXCI7XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZSBpbnN0YW5jZW9mIEpGYWN0b3J5RXJyb3IgPyBlIDogW2VdKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAga2VybmVsLm9uKFwiaW5zdGFsbFwiLCAoKSA9PiBwaGFzZVJlc29sdmUodGhpcy5vbkluc3RhbGwpKTtcbiAgICAgICAga2VybmVsLm9uKFwiZW5hYmxlXCIsICgpID0+IHBoYXNlUmVzb2x2ZSh0aGlzLm9uRW5hYmxlKSk7XG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgKCkgPT4gcGhhc2VSZXNvbHZlKHRoaXMub25EaXNhYmxlKSk7XG4gICAgICAgIGtlcm5lbC5vbihcInVuaW5zdGFsbFwiLCAoKSA9PiBwaGFzZVJlc29sdmUodGhpcy5vblVuaW5zdGFsbCkpO1xuXG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgICAoKSA9PiB0aGlzLiRvZmYoeyByZW1vdmFsOiBUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSB9KSk7XG4gICAgICAgIGtlcm5lbC5vbihcInVuaW5zdGFsbFwiLCAoKSA9PiB0aGlzLiRvZmYoeyByZW1vdmFsOiBUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMIH0pKTtcbiAgICB9XG5cbiAgICAkaW5zdGFsbChlbmFibGUpIHtcbiAgICAgICAgbGV0IHJlc29sdmU7XG4gICAgICAgIGNvbnN0IHAgPSBuZXcgSkZhY3RvcnlQcm9taXNlKFxuICAgICAgICAgICAgeyBuYW1lOiBcImluc3RhbGxcIiwgY29uZmlnOiB7IGNoYWluQXV0b0NvbXBsZXRlOiB0cnVlIH0gfSxcbiAgICAgICAgICAgIF9yZXNvbHZlID0+IHJlc29sdmUgPSBfcmVzb2x2ZSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuJC5zdGF0ZXMuaW5zdGFsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLklOU1RBTEw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdGF0ZShcImluc3RhbGxlZFwiLCB0cnVlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlTWFwLmluc3RhbGwuYWRkKHApO1xuICAgICAgICBwLiRjaGFpbi50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlVGFzayA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZU1hcC5pbnN0YWxsLmRlbGV0ZShwKTtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLk5PTkVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZSA9IHRoaXMuJC5zZXJ2aWNlLnBoYXNlUXVldWUudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVRhc2sgPSBwO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHAuJGNoYWluXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBlbmFibGVcbiAgICAgICAgaWYgKGVuYWJsZSkge3JldHVybiB0aGlzLiRlbmFibGUoKX1cbiAgICAgICAgcmV0dXJuIHBcbiAgICB9XG5cbiAgICAkZW5hYmxlKCkge1xuICAgICAgICBsZXQgcmVzb2x2ZTtcbiAgICAgICAgY29uc3QgcCA9IG5ldyBKRmFjdG9yeVByb21pc2UoXG4gICAgICAgICAgICB7IG5hbWU6IFwiZW5hYmxlXCIsIGNvbmZpZzogeyBjaGFpbkF1dG9Db21wbGV0ZTogdHJ1ZSB9IH0sXG4gICAgICAgICAgICBfcmVzb2x2ZSA9PiByZXNvbHZlID0gX3Jlc29sdmUpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJC5zdGF0ZXMuaW5zdGFsbGVkICYmICF0aGlzLiQuc3RhdGVzLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuRU5BQkxFO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RhdGUoXCJlbmFibGVkXCIsIHRydWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuZW5hYmxlLmFkZChwKTtcbiAgICAgICAgcC4kY2hhaW4udGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVRhc2sgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuZW5hYmxlLmRlbGV0ZShwKTtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLk5PTkVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZSA9IHRoaXMuJC5zZXJ2aWNlLnBoYXNlUXVldWUudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVRhc2sgPSBwO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHAuJGNoYWluXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcFxuICAgIH1cblxuICAgICRkaXNhYmxlKCkge1xuICAgICAgICBsZXQgcmVzb2x2ZTtcbiAgICAgICAgY29uc3QgcCA9IG5ldyBKRmFjdG9yeVByb21pc2UoXG4gICAgICAgICAgICB7IG5hbWU6IFwiZGlzYWJsZVwiLCBjb25maWc6IHsgY2hhaW5BdXRvQ29tcGxldGU6IHRydWUgfSB9LFxuICAgICAgICAgICAgX3Jlc29sdmUgPT4gcmVzb2x2ZSA9IF9yZXNvbHZlKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiQuc3RhdGVzLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0YXRlKFwiZW5hYmxlZFwiLCBmYWxzZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZU1hcC5kaXNhYmxlLmFkZChwKTtcbiAgICAgICAgcC4kY2hhaW4udGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVRhc2sgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuZGlzYWJsZS5kZWxldGUocCk7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZSA9IFRyYWl0U2VydmljZS5QSEFTRS5OT05FXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGV4cGlyZXMgYWxsIHN0YWNrZWQgZW5hYmxlXG4gICAgICAgIGZvciAobGV0IFtrZXksIHZhbF0gb2YgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuZW5hYmxlLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHZhbCA9PT0gdGhpcy4kLnNlcnZpY2UucGhhc2VUYXNrKSB7XG4gICAgICAgICAgICAgICAgVHJhaXRTZXJ2aWNlLnBoYXNlS2lsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbC4kY2hhaW5BYm9ydCgpO1xuICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuZW5hYmxlLmRlbGV0ZShrZXkpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlID0gdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlVGFzayA9IHA7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICByZXR1cm4gcC4kY2hhaW5cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwXG4gICAgfVxuXG4gICAgJHVuaW5zdGFsbCgpIHtcbiAgICAgICAgbGV0IHJlc29sdmU7XG4gICAgICAgIGNvbnN0IHAgPSBuZXcgSkZhY3RvcnlQcm9taXNlKFxuICAgICAgICAgICAgeyBuYW1lOiBcInVuaW5zdGFsbFwiLCBjb25maWc6IHsgY2hhaW5BdXRvQ29tcGxldGU6IHRydWUgfSB9LFxuICAgICAgICAgICAgX3Jlc29sdmUgPT4gcmVzb2x2ZSA9IF9yZXNvbHZlKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiQuc3RhdGVzLmluc3RhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZSA9IFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdGF0ZShcImluc3RhbGxlZFwiLCBmYWxzZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZU1hcC51bmluc3RhbGwuYWRkKHApO1xuICAgICAgICBwLiRjaGFpbi50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlVGFzayA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZU1hcC51bmluc3RhbGwuZGVsZXRlKHApO1xuICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuTk9ORVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBleHBpcmVzIGFsbCBzdGFja2VkIGluc3RhbGxcbiAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsXSBvZiB0aGlzLiQuc2VydmljZS5waGFzZU1hcC5pbnN0YWxsLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHZhbCA9PT0gdGhpcy4kLnNlcnZpY2UucGhhc2VUYXNrKSB7XG4gICAgICAgICAgICAgICAgVHJhaXRTZXJ2aWNlLnBoYXNlS2lsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbC4kY2hhaW5BYm9ydCgpO1xuICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuaW5zdGFsbC5kZWxldGUoa2V5KVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcXVldWUgZGlzYWJsZSBiZWZvcmUgdW5pbnN0YWxsXG4gICAgICAgIHRoaXMuJGRpc2FibGUoKTtcblxuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlID0gdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlVGFzayA9IHA7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICByZXR1cm4gcC4kY2hhaW5cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwXG4gICAgfVxuXG4gICAgc3RhdGljIHBoYXNlS2lsbChjb21wb25lbnQpIHtcbiAgICAgICAgLy8gY29tcG9uZW50LiQuc2VydmljZS5pc1BoYXNlS2lsbGluZyA9IHRydWU7XG4gICAgICAgIGlmIChjb21wb25lbnQuJC50YXNrcy5zaXplKSB7XG4gICAgICAgICAgICBjb21wb25lbnQuJHRhc2tSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLmdldENvbnRleHR1YWxSZW1vdmVQaGFzZShjb21wb25lbnQpKTtcbiAgICAgICAgfVxuICAgICAgICBjb21wb25lbnQuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLk5PTkU7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldENvbnRleHR1YWxSZW1vdmVQaGFzZShqRmFjdG9yeUNvcmVPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIFRyYWl0U2VydmljZS5QSEFTRV9SRVZFUlRbakZhY3RvcnlDb3JlT2JqZWN0LiQuc2VydmljZS5waGFzZV1cbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0RXZlbnROYW1lc3BhY2VSZW1vdmVQaGFzZShqRmFjdG9yeUNvcmVPYmplY3QsIHBhcnNlZEV2ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBjdXJSZW1vdmVQaGFzZSA9IHBhcnNlZEV2ZW50Lmhhc05hbWVzcGFjZShUcmFpdFNlcnZpY2UuUEhBU0VTKTtcbiAgICAgICAgbGV0IG5ld1JlbW92ZVBoYXNlID0gb3B0aW9ucyAmJiBvcHRpb25zLnJlbW92YWw7XG5cbiAgICAgICAgaWYgKCFuZXdSZW1vdmVQaGFzZSkge1xuICAgICAgICAgICAgbmV3UmVtb3ZlUGhhc2UgPSBUcmFpdFNlcnZpY2UuZ2V0Q29udGV4dHVhbFJlbW92ZVBoYXNlKGpGYWN0b3J5Q29yZU9iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzcGVjaWFsIGNhc2UgOiBvbihcInVuaW5zdGFsbFwiKSB3aXRoIHJlbW92YWwgPSBESVNBQkxFICh0aGUgZGVmYXVsdCB2YWx1ZSlcbiAgICAgICAgLy8gPT4gZGlzYWJsZSgpIGlzIGFsd2F5cyBjYWxsZWQgYmVmb3JlIHVuaW5zdGFsbCgpIGNhdXNpbmcgdGhlIGV2ZW50IHRvIGJlIHJlbW92ZWQgdG9vIGVhcmx5XG4gICAgICAgIGlmIChwYXJzZWRFdmVudC5ldmVudCA9PT0gXCJ1bmluc3RhbGxcIiAmJiBuZXdSZW1vdmVQaGFzZSA9PT0gVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpIHtcbiAgICAgICAgICAgIG5ld1JlbW92ZVBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1clJlbW92ZVBoYXNlICE9PSBuZXdSZW1vdmVQaGFzZSkge1xuICAgICAgICAgICAgcGFyc2VkRXZlbnQuZGVsZXRlTmFtZXNwYWNlKGN1clJlbW92ZVBoYXNlKTtcbiAgICAgICAgICAgIHBhcnNlZEV2ZW50LmFkZE5hbWVzcGFjZShuZXdSZW1vdmVQaGFzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZWRFdmVudC5hZGROYW1lc3BhY2UobmV3UmVtb3ZlUGhhc2UpO1xuICAgIH1cbn1cblxuVHJhaXRTZXJ2aWNlLlBIQVNFID0ge1xuICAgIE5PTkU6IFwiUEhBU0VfTk9ORVwiLFxuICAgIElOU1RBTEw6IFwiUEhBU0VfSU5TVEFMTFwiLFxuICAgIEVOQUJMRTogXCJQSEFTRV9FTkFCTEVcIixcbiAgICBESVNBQkxFOiBcIlBIQVNFX0RJU0FCTEVcIixcbiAgICBVTklOU1RBTEw6IFwiUEhBU0VfVU5JTlNUQUxMXCJcbn07XG5cblRyYWl0U2VydmljZS5QSEFTRV9SRVZFUlQgPSB7XG4gICAgW1RyYWl0U2VydmljZS5QSEFTRS5JTlNUQUxMXTogVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTCxcbiAgICBbVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTF06IFRyYWl0U2VydmljZS5QSEFTRS5JTlNUQUxMLFxuICAgIFtUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRV06IFRyYWl0U2VydmljZS5QSEFTRS5FTkFCTEUsXG4gICAgW1RyYWl0U2VydmljZS5QSEFTRS5FTkFCTEVdOiBUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSxcbiAgICBbVHJhaXRTZXJ2aWNlLlBIQVNFLk5PTkVdOiBUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRVxufTtcblxuVHJhaXRTZXJ2aWNlLlBIQVNFUyA9IE9iamVjdC52YWx1ZXMoVHJhaXRTZXJ2aWNlLlBIQVNFKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnblByaXZhdGUoc2NvcGUsIHByb3BlcnR5LCB2YWx1ZSwgZGVzY3JpcHRvcikge1xuICAgIEpGYWN0b3J5T2JqZWN0LmFzc2lnbihzY29wZS4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0sIHByb3BlcnR5LCB2YWx1ZSwgZGVzY3JpcHRvcilcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnblByaXZhdGVNZW1iZXIoc2NvcGUsIHByb3BlcnR5LCB2YWx1ZSwgZGVzY3JpcHRvcikge1xuICAgIEpGYWN0b3J5T2JqZWN0LmFzc2lnbihzY29wZS4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV1bcHJvcGVydHldLCB2YWx1ZSwgZGVzY3JpcHRvcilcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmpGYWN0b3J5LlBIQVNFID0gSkZhY3RvcnlPYmplY3QuZGlzaW5oZXJpdChUcmFpdFNlcnZpY2UuUEhBU0UpO1xuXG5qRmFjdG9yeS5UcmFpdENvcmUgPSBUcmFpdENvcmU7XG5qRmFjdG9yeS5UcmFpdEFib3V0ID0gVHJhaXRBYm91dDtcbmpGYWN0b3J5LlRyYWl0TG9nID0gVHJhaXRMb2c7XG5qRmFjdG9yeS5UcmFpdEV2ZW50cyA9IFRyYWl0RXZlbnRzO1xuakZhY3RvcnkuVHJhaXRTdGF0ZSA9IFRyYWl0U3RhdGU7XG5qRmFjdG9yeS5UcmFpdFNlcnZpY2UgPSBUcmFpdFNlcnZpY2U7XG5qRmFjdG9yeS5UcmFpdFRhc2sgPSBUcmFpdFRhc2s7IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdENvbXBvbmVudHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmltcG9ydCB7IGpGYWN0b3J5IH0gZnJvbSBcIi4vakZhY3RvcnlcIjtcbmltcG9ydCB7IEpGQUNUT1JZX0RFViB9IGZyb20gXCIuL2pGYWN0b3J5LWVudlwiO1xuaW1wb3J0IHsgSkZBQ1RPUllfQ09NUEFUX011dGF0aW9uT2JzZXJ2ZXIsIGpGYWN0b3J5Q29tcGF0X3JlcXVpcmUgfSBmcm9tIFwiLi9qRmFjdG9yeUNvbXBhdFwiO1xuaW1wb3J0IHsgSkZBQ1RPUllfRVJSX0lOVkFMSURfVkFMVUUsIEpGQUNUT1JZX0VSUl9LRVlfRFVQTElDQVRFRCwgSkZBQ1RPUllfRVJSX0tFWV9NSVNTSU5HIH0gZnJvbSBcIi4vSkZhY3RvcnlFcnJvclwiO1xuaW1wb3J0IHsgSkZhY3RvcnlFeHBlY3QgfSBmcm9tIFwiLi9KRmFjdG9yeUV4cGVjdFwiO1xuaW1wb3J0IHsgVHJhaXRDb3JlLCBUcmFpdFNlcnZpY2UgfSBmcm9tIFwiLi9UcmFpdHNDb3JlXCI7XG5pbXBvcnQgeyBKRmFjdG9yeUZldGNoIH0gZnJvbSBcIi4vSkZhY3RvcnlGZXRjaFwiO1xuaW1wb3J0IHsgSkZhY3RvcnlQcm9taXNlIH0gZnJvbSBcIi4vSkZhY3RvcnlQcm9taXNlXCI7XG5pbXBvcnQgeyBKRmFjdG9yeU9iamVjdCB9IGZyb20gXCIuL0pGYWN0b3J5T2JqZWN0XCI7XG5pbXBvcnQgeyBqRmFjdG9yeVRyYWNlIH0gZnJvbSBcIi4vSkZhY3RvcnlUcmFjZVwiO1xuaW1wb3J0IHsgaGVscGVyX2lzUGxhaW5PYmplY3QsIGhlbHBlcl91cmxfYWJzLCBqUXVlcnkgfSBmcm9tIFwiLi9qRmFjdG9yeS1oZWxwZXJzXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgRmV0Y2hcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRGZXRjaCB7XG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGtlcm5lbCA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5rZXJuZWw7XG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgKCkgPT4gdGhpcy4kZmV0Y2hSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpKTtcbiAgICAgICAga2VybmVsLm9uKFwidW5pbnN0YWxsXCIsICgpID0+IHRoaXMuJGZldGNoUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEwpKTtcbiAgICAgICAgdGhpcy4kLmFzc2lnbihcInJlcXVlc3RzXCIsIHRoaXMuJC5jcmVhdGVTdWJNYXAoKSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuRU5VTUVSQUJMRSk7XG4gICAgfVxuXG4gICAgJGZldGNoKGlkLCB1cmwsIGZldGNoT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlkID0gdGhpcy4kLnJlcXVlc3RzLiRpZF9yZXNvbHZlKGlkKTtcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiRmZXRjaChpZClcIiwgaWQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJGZldGNoKHVybClcIiwgdXJsKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiRmZXRjaChmZXRjaE9wdGlvbnMpXCIsIGZldGNoT3B0aW9ucykudHlwZVBsYWluT2JqZWN0KCk7XG4gICAgICAgICAgICBpZiAodGhpcy4kLnJlcXVlc3RzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSkZBQ1RPUllfRVJSX0tFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiRmZXRjaChpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcHJvbWlzZSA9IG5ldyBKRmFjdG9yeUZldGNoKHtcbiAgICAgICAgICAgIG5hbWU6IGlkLFxuICAgICAgICAgICAgdHJhY2VTb3VyY2U6IGpGYWN0b3J5VHJhY2UudHJhY2VyLmNhcHR1cmVUcmFjZVNvdXJjZShcIiRmZXRjaFwiKSxcbiAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgIGNoYWluQXV0b0NvbXBsZXRlOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHVybCwgZmV0Y2hPcHRpb25zKTtcblxuICAgICAgICB0aGlzLiQucmVxdWVzdHMuJHJlZ2lzdGVyQXN5bmMoaWQsICckZmV0Y2goXCInICsgaWQgKyAnXCIpJywgcHJvbWlzZSk7XG5cbiAgICAgICAgcHJvbWlzZS4kY2hhaW4udGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy4kLnJlcXVlc3RzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRmZXRjaFJlbW92ZShpZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG4gICAgJGZldGNoVGV4dChpZCwgdXJsLCBmZXRjaE9wdGlvbnMgPSB7fSkge1xuICAgICAgICByZXR1cm4gdGhpcy4kZmV0Y2goaWQsIHVybCwgeyAuLi5mZXRjaE9wdGlvbnMsICR0eXBlVGV4dDogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICAkZmV0Y2hKU09OKGlkLCB1cmwsIGZldGNoT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRmZXRjaChpZCwgdXJsLCB7IC4uLmZldGNoT3B0aW9ucywgJHR5cGVKU09OOiB0cnVlIH0pO1xuICAgIH1cblxuICAgICRmZXRjaFJlbW92ZShpZCwgcmVhc29uKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJGZldGNoUmVtb3ZlKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgcmVhc29uICYmIEpGYWN0b3J5RXhwZWN0KFwiJGZldGNoUmVtb3ZlKHJlYXNvbilcIiwgcmVhc29uKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJC5yZXF1ZXN0cy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpGQUNUT1JZX0VSUl9LRVlfTUlTU0lORyh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCIkZmV0Y2hSZW1vdmUoaWQpXCIsXG4gICAgICAgICAgICAgICAgICAgIGdpdmVuOiBpZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXIsYnJhY2Utc3R5bGVcbiAgICAgICAgICAgIGlmICh0aGlzLiQucmVxdWVzdHMuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCkge2RlYnVnZ2VyfVxuICAgICAgICAgICAgdGhpcy4kLnJlcXVlc3RzLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQgPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZW50cnkgPSB0aGlzLiQucmVxdWVzdHMuZ2V0KGlkKTtcbiAgICAgICAgdGhpcy4kLnJlcXVlc3RzLmRlbGV0ZShpZCk7XG4gICAgICAgIGVudHJ5LiRjaGFpbkFib3J0KHJlYXNvbiB8fCBcIiRmZXRjaFJlbW92ZSgpXCIpO1xuICAgIH1cblxuICAgICRmZXRjaFJlbW92ZUFsbChyZW1vdmVQaGFzZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcInJlbW92ZVBoYXNlXCIsIHJlbW92ZVBoYXNlKVxuICAgICAgICAgICAgICAgIC5lcXVhbEluKFRyYWl0U2VydmljZS5QSEFTRVMpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN1YnMgPSB0aGlzLiQucmVxdWVzdHM7XG4gICAgICAgIGlmIChzdWJzLnNpemUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgc3ViXSBvZiBzdWJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1Yi4kcGhhc2VSZW1vdmUgPT09IHJlbW92ZVBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGZldGNoUmVtb3ZlKGtleSwgXCIkZmV0Y2hSZW1vdmVBbGwoXCIgKyByZW1vdmVQaGFzZSArIFwiKVwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBUaW1lb3V0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFRyYWl0VGltZW91dCB7XG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGtlcm5lbCA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5rZXJuZWw7XG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgKCkgPT4gdGhpcy4kdGltZW91dFJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSkpO1xuICAgICAgICBrZXJuZWwub24oXCJ1bmluc3RhbGxcIiwgKCkgPT4gdGhpcy4kdGltZW91dFJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMKSk7XG4gICAgICAgIHRoaXMuJC5hc3NpZ24oXCJ0aW1lb3V0c1wiLCB0aGlzLiQuY3JlYXRlU3ViTWFwKCksIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLkVOVU1FUkFCTEUpO1xuICAgIH1cblxuICAgICR0aW1lb3V0KGlkLCBkZWxheSwgaGFuZGxlciA9IG51bGwsIC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gaWRcbiAgICAgICAgLy8gaWQsIGRlbGF5XG4gICAgICAgIC8vIGlkLCBkZWxheSwgaGFuZGxlciwgLi4uYXJnc1xuXG4gICAgICAgIGlkID0gdGhpcy4kLnRpbWVvdXRzLiRpZF9yZXNvbHZlKGlkKTtcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImRlbGF5XCIsIGRlbGF5KS50eXBlTnVtYmVyKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImhhbmRsZXJcIiwgaGFuZGxlcikudHlwZShGdW5jdGlvbiwgbnVsbCk7XG4gICAgICAgICAgICBpZiAodGhpcy4kLnRpbWVvdXRzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSkZBQ1RPUllfRVJSX0tFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiR0aW1lb3V0KGlkKVwiLCBnaXZlbjogaWQgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0aW1lcjtcbiAgICAgICAgbGV0IHByb21pc2UgPSBuZXcgSkZhY3RvcnlQcm9taXNlKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IGlkLFxuICAgICAgICAgICAgICAgIHRyYWNlU291cmNlOiBqRmFjdG9yeVRyYWNlLnRyYWNlci5jYXB0dXJlVHJhY2VTb3VyY2UoXCIkdGltZW91dFwiKSxcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5BdXRvQ29tcGxldGU6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9taXNlLiRpc0V4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaGFuZGxlciA/IGhhbmRsZXIoLi4uYXJncykgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgZGVsYXkpXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgcHJvbWlzZS4kY2hhaW4uZGF0YS50aW1lciA9IHRpbWVyO1xuICAgICAgICB0aGlzLiQudGltZW91dHMuJHJlZ2lzdGVyQXN5bmMoaWQsICckdGltZW91dChcIicgKyBpZCArICdcIiknLCBwcm9taXNlKTtcblxuICAgICAgICBwcm9taXNlLiRjaGFpbi50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLiQudGltZW91dHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHRpbWVvdXRSZW1vdmUoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICAkdGltZW91dFJlbW92ZShpZCwgcmVhc29uKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJHRpbWVvdXRSZW1vdmUoaWQpXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICByZWFzb24gJiYgSkZhY3RvcnlFeHBlY3QoXCIkdGltZW91dFJlbW92ZShyZWFzb24pXCIsIHJlYXNvbikudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiQudGltZW91dHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKRkFDVE9SWV9FUlJfS0VZX01JU1NJTkcoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiJHRpbWVvdXRSZW1vdmUoaWQpXCIsXG4gICAgICAgICAgICAgICAgICAgIGdpdmVuOiBpZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXIsYnJhY2Utc3R5bGVcbiAgICAgICAgICAgIGlmICh0aGlzLiQudGltZW91dHMuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCkge2RlYnVnZ2VyfVxuICAgICAgICAgICAgdGhpcy4kLnRpbWVvdXRzLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGVudHJ5ID0gdGhpcy4kLnRpbWVvdXRzLmdldChpZCk7XG4gICAgICAgIGNsZWFyVGltZW91dChlbnRyeS4kY2hhaW4uZGF0YS50aW1lcik7XG4gICAgICAgIC8vIGRlbGV0aW5nIGJlZm9yZSBjaGFpbkFib3J0KCkgdG8gcHJldmVudCByZW1vdmUoKSByZWNhbGxcbiAgICAgICAgdGhpcy4kLnRpbWVvdXRzLmRlbGV0ZShpZCk7XG4gICAgICAgIGVudHJ5LiRjaGFpbkFib3J0KHJlYXNvbiB8fCBcIiR0aW1lb3V0UmVtb3ZlKClcIik7XG4gICAgfVxuXG4gICAgJHRpbWVvdXRSZW1vdmVBbGwocmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJyZW1vdmVQaGFzZVwiLCByZW1vdmVQaGFzZSlcbiAgICAgICAgICAgICAgICAuZXF1YWxJbihUcmFpdFNlcnZpY2UuUEhBU0VTKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3VicyA9IHRoaXMuJC50aW1lb3V0cztcbiAgICAgICAgaWYgKHN1YnMuc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBzdWJdIG9mIHN1YnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ViLiRwaGFzZVJlbW92ZSA9PT0gcmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGltZW91dFJlbW92ZShrZXksIFwiJHRpbWVvdXRSZW1vdmVBbGwoKVwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBJbnRlcnZhbFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBUcmFpdEludGVydmFsIHtcbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3Qga2VybmVsID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmtlcm5lbDtcbiAgICAgICAga2VybmVsLm9uKFwiZGlzYWJsZVwiLCAoKSA9PiB0aGlzLiRpbnRlcnZhbFJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSkpO1xuICAgICAgICBrZXJuZWwub24oXCJ1bmluc3RhbGxcIiwgKCkgPT4gdGhpcy4kaW50ZXJ2YWxSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTCkpO1xuICAgICAgICB0aGlzLiQuYXNzaWduKFwidGltZWludHNcIiwgdGhpcy4kLmNyZWF0ZVN1Yk1hcCgpLCBKRmFjdG9yeU9iamVjdC5kZXNjcmlwdG9ycy5FTlVNRVJBQkxFKTtcbiAgICB9XG5cbiAgICAkaW50ZXJ2YWwoaWQsIGRlbGF5LCBoYW5kbGVyLCAuLi5hcmdzKSB7XG4gICAgICAgIGlkID0gdGhpcy4kLnRpbWVpbnRzLiRpZF9yZXNvbHZlKGlkKTtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJpZFwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJoYW5kbGVyXCIsIGhhbmRsZXIpLnR5cGVGdW5jdGlvbigpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJkZWxheVwiLCBkZWxheSkudHlwZU51bWJlcigpO1xuICAgICAgICAgICAgaWYgKHRoaXMuJC50aW1laW50cy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpGQUNUT1JZX0VSUl9LRVlfRFVQTElDQVRFRCh7IHRhcmdldDogXCIkaW50ZXJ2YWwoaWQpXCIsIGdpdmVuOiBpZCB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCB0aW1lciA9IHNldEludGVydmFsKGhhbmRsZXIsIGRlbGF5LCAuLi5hcmdzKTtcbiAgICAgICAgdGhpcy4kLnRpbWVpbnRzLiRyZWdpc3RlclN5bmMoaWQsIHRpbWVyKVxuICAgIH1cblxuICAgICRpbnRlcnZhbFJlbW92ZShpZCkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiRpbnRlcnZhbFJlbW92ZShpZClcIiwgaWQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy4kLnRpbWVpbnRzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSkZBQ1RPUllfRVJSX0tFWV9NSVNTSU5HKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIiRpbnRlcnZhbFJlbW92ZShpZClcIixcbiAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IGlkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1kZWJ1Z2dlcixicmFjZS1zdHlsZVxuICAgICAgICAgICAgaWYgKHRoaXMuJC50aW1laW50cy5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkKSB7ZGVidWdnZXJ9XG4gICAgICAgICAgICB0aGlzLiQudGltZWludHMuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuJC50aW1laW50cy5nZXQoaWQpLiR2YWx1ZSk7XG4gICAgICAgIHRoaXMuJC50aW1laW50cy5kZWxldGUoaWQpXG4gICAgfVxuXG4gICAgJGludGVydmFsUmVtb3ZlQWxsKHJlbW92ZVBoYXNlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwicmVtb3ZlUGhhc2VcIiwgcmVtb3ZlUGhhc2UpXG4gICAgICAgICAgICAgICAgLmVxdWFsSW4oVHJhaXRTZXJ2aWNlLlBIQVNFUylcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3VicyA9IHRoaXMuJC50aW1laW50cztcbiAgICAgICAgaWYgKHN1YnMuc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBzdWJdIG9mIHN1YnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ViLiRwaGFzZVJlbW92ZSA9PT0gcmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaW50ZXJ2YWxSZW1vdmUoa2V5KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBNdXRhdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5pZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgakZhY3RvcnlDb21wYXRfcmVxdWlyZShKRkFDVE9SWV9DT01QQVRfTXV0YXRpb25PYnNlcnZlcik7XG59XG5cbmV4cG9ydCBjbGFzcyBUcmFpdE11dGF0aW9uIHtcbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3Qga2VybmVsID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmtlcm5lbDtcbiAgICAgICAga2VybmVsLm9uKFwiZGlzYWJsZVwiLCAoKSA9PiB0aGlzLiRtdXRhdGlvblJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSkpO1xuICAgICAgICBrZXJuZWwub24oXCJ1bmluc3RhbGxcIiwgKCkgPT4gdGhpcy4kbXV0YXRpb25SZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTCkpO1xuICAgICAgICB0aGlzLiQuYXNzaWduKFwibXV0YXRpb25zXCIsIHRoaXMuJC5jcmVhdGVTdWJNYXAoKSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuRU5VTUVSQUJMRSk7XG4gICAgfVxuXG4gICAgJG11dGF0aW9uKGlkLCBwYXJlbnQsIGNvbmZpZywgaGFuZGxlcikge1xuICAgICAgICBpZCA9IHRoaXMuJC5tdXRhdGlvbnMuJGlkX3Jlc29sdmUoaWQpO1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcInBhcmVudFwiLCBwYXJlbnQpLnR5cGUoSFRNTEVsZW1lbnQsIERvY3VtZW50KTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiY29uZmlnXCIsIGNvbmZpZykudHlwZVBsYWluT2JqZWN0KCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImhhbmRsZXJcIiwgaGFuZGxlcikudHlwZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICBpZiAodGhpcy4kLm11dGF0aW9ucy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpGQUNUT1JZX0VSUl9LRVlfRFVQTElDQVRFRCh7IHRhcmdldDogXCIkbXV0YXRpb24oaWQpXCIsIGdpdmVuOiBpZCB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGhhbmRsZXIpO1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHBhcmVudCwgY29uZmlnKTtcbiAgICAgICAgdGhpcy4kLm11dGF0aW9ucy4kcmVnaXN0ZXJTeW5jKGlkLCBvYnNlcnZlcik7XG4gICAgfVxuXG4gICAgJG11dGF0aW9uUmVtb3ZlKGlkLCByZWFzb24pIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkbXV0YXRpb25SZW1vdmUoaWQpXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICByZWFzb24gJiYgSkZhY3RvcnlFeHBlY3QoXCIkbXV0YXRpb25SZW1vdmUocmVhc29uKVwiLCByZWFzb24pLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy4kLm11dGF0aW9ucy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEpGQUNUT1JZX0VSUl9LRVlfTUlTU0lORyh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCIkbXV0YXRpb25SZW1vdmUoaWQpXCIsXG4gICAgICAgICAgICAgICAgICAgIGdpdmVuOiBpZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXIsYnJhY2Utc3R5bGVcbiAgICAgICAgICAgIGlmICh0aGlzLiQubXV0YXRpb25zLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQpIHtkZWJ1Z2dlcn1cbiAgICAgICAgICAgIHRoaXMuJC5tdXRhdGlvbnMuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiQubXV0YXRpb25zLmdldChpZCkuJHZhbHVlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy4kLm11dGF0aW9ucy5kZWxldGUoaWQpXG4gICAgfVxuXG4gICAgJG11dGF0aW9uUmVtb3ZlQWxsKHJlbW92ZVBoYXNlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwicmVtb3ZlUGhhc2VcIiwgcmVtb3ZlUGhhc2UpXG4gICAgICAgICAgICAgICAgLmVxdWFsSW4oVHJhaXRTZXJ2aWNlLlBIQVNFUylcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3VicyA9IHRoaXMuJC5tdXRhdGlvbnM7XG4gICAgICAgIGlmIChzdWJzLnNpemUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgc3ViXSBvZiBzdWJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1Yi4kcGhhc2VSZW1vdmUgPT09IHJlbW92ZVBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJG11dGF0aW9uUmVtb3ZlKGtleSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgRE9NXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFRyYWl0RE9NIHtcbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3Qga2VybmVsID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmtlcm5lbDtcbiAgICAgICAga2VybmVsLm9uKFwiZGlzYWJsZVwiLCAoKSA9PiB0aGlzLiRkb21SZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpKTtcbiAgICAgICAga2VybmVsLm9uKFwidW5pbnN0YWxsXCIsICgpID0+IHRoaXMuJGRvbVJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMKSk7XG4gICAgICAgIHRoaXMuJC5hc3NpZ24oXCJkb21cIiwgdGhpcy4kLmNyZWF0ZVN1Yk1hcCgpLCBKRmFjdG9yeU9iamVjdC5kZXNjcmlwdG9ycy5FTlVNRVJBQkxFKTtcbiAgICB9XG5cbiAgICAkZG9tKGlkLCBqUXVlcnlBcmd1bWVudCwgYXBwZW5kVG8pIHtcbiAgICAgICAgaWQgPSB0aGlzLiQuZG9tLiRpZF9yZXNvbHZlKGlkKTtcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImpRdWVyeUFyZ3VtZW50XCIsIGpRdWVyeUFyZ3VtZW50KS50eXBlKFN0cmluZywgT2JqZWN0KTtcbiAgICAgICAgICAgIGFwcGVuZFRvICYmIEpGYWN0b3J5RXhwZWN0KFwiYXBwZW5kVG9cIiwgYXBwZW5kVG8pLnR5cGUoU3RyaW5nLCBPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRvbUlkO1xuICAgICAgICBpZiAoaWRbMF0gPT09IFwiI1wiKSB7XG4gICAgICAgICAgICBpZCA9IGlkLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIGRvbUlkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFViAmJiB0aGlzLiQuZG9tLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKRkFDVE9SWV9FUlJfS0VZX0RVUExJQ0FURUQoeyB0YXJnZXQ6IFwiJGRvbShpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZG9tID0galF1ZXJ5KGpRdWVyeUFyZ3VtZW50KTtcblxuICAgICAgICBpZiAoZG9tWzBdLnRhZ05hbWUgPT09IFwiVEVNUExBVEVcIikge1xuICAgICAgICAgICAgZG9tID0galF1ZXJ5KGpRdWVyeShkb21bMF0pLmh0bWwoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZG9tSWQpIHtcbiAgICAgICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgICAgICBpZiAoZG9tWzBdLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSkZBQ1RPUllfRVJSX0lOVkFMSURfVkFMVUUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIiRkb20oI2lkKVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IGRvbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogXCJjYW5ub3Qgc2V0IHRoZSBkb20gaWQ6IHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBzZWxlY3Rpb24gaXNuJ3QgYW4gRUxFTUVOVF9OT0RFXCJcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb21bMF0uaWQgPSBpZFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFwcGVuZFRvKSB7XG4gICAgICAgICAgICBkb20uYXBwZW5kVG8oYXBwZW5kVG8pXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy4kLmRvbS4kcmVnaXN0ZXJTeW5jKGlkLCBkb20pLiR2YWx1ZTtcbiAgICB9XG5cbiAgICAkZG9tRmV0Y2goaWQsIHVybCwgZmV0Y2hPcHRpb25zLCBhcHBlbmRUbykge1xuICAgICAgICBpZiAoZmV0Y2hPcHRpb25zICYmICFoZWxwZXJfaXNQbGFpbk9iamVjdChmZXRjaE9wdGlvbnMpKSB7XG4gICAgICAgICAgICBbZmV0Y2hPcHRpb25zLCBhcHBlbmRUb10gPSBbe30sIGZldGNoT3B0aW9uc11cbiAgICAgICAgfVxuXG4gICAgICAgIGlkID0gdGhpcy4kLmRvbS4kaWRfcmVzb2x2ZShpZCk7XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJpZFwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJ1cmxcIiwgdXJsKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBhcHBlbmRUbyAmJiBKRmFjdG9yeUV4cGVjdChcImFwcGVuZFRvXCIsIGFwcGVuZFRvKS50eXBlKFN0cmluZywgT2JqZWN0KTtcbiAgICAgICAgICAgIGZldGNoT3B0aW9ucyAmJiBKRmFjdG9yeUV4cGVjdChcImZldGNoT3B0aW9uc1wiLCBmZXRjaE9wdGlvbnMpLnR5cGUoT2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkb21JZDtcbiAgICAgICAgaWYgKGlkWzBdID09PSBcIiNcIikge1xuICAgICAgICAgICAgaWQgPSBpZC5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICBkb21JZCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYgJiYgdGhpcy4kLmRvbS5oYXMoaWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSkZBQ1RPUllfRVJSX0tFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiRkb21GZXRjaChpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuJGZldGNoVGV4dCgnJGRvbUZldGNoKFwiJyArIGlkICsgJ1wiKScsIHVybCwgZmV0Y2hPcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4ociA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGpRdWVyeShyKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9tSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tWzBdLmlkID0gaWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFwcGVuZFRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbS5hcHBlbmRUbyhhcHBlbmRUbylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kLmRvbS4kcmVnaXN0ZXJBc3luYyhpZCwgJyRkb21GZXRjaChcIicgKyBpZCArICdcIiknLCBwcm9taXNlKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2VcbiAgICB9XG5cbiAgICAkZG9tUmVtb3ZlKGlkLCByZWFzb24pIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkZG9tUmVtb3ZlKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgcmVhc29uICYmIEpGYWN0b3J5RXhwZWN0KFwiJGRvbVJlbW92ZShyZWFzb24pXCIsIHJlYXNvbikudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiQuZG9tLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSkZBQ1RPUllfRVJSX0tFWV9NSVNTSU5HKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIiRkb21SZW1vdmUoaWQpXCIsXG4gICAgICAgICAgICAgICAgICAgIGdpdmVuOiBpZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXIsYnJhY2Utc3R5bGVcbiAgICAgICAgICAgIGlmICh0aGlzLiQuZG9tLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQpIHtkZWJ1Z2dlcn1cbiAgICAgICAgICAgIHRoaXMuJC5kb20uZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlbnRyeSA9IHRoaXMuJC5kb20uZ2V0KGlkKTtcbiAgICAgICAgbGV0IHZhbHVlID0gZW50cnkuJHZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBqUXVlcnkpIHtcbiAgICAgICAgICAgIHZhbHVlLnJlbW92ZSgpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVudHJ5IGluc3RhbmNlb2YgSkZhY3RvcnlGZXRjaCkge1xuICAgICAgICAgICAgZW50cnkuJGNoYWluQWJvcnQocmVhc29uIHx8IFwiJGRvbVJlbW92ZSgpXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJC5kb20uZGVsZXRlKGlkKVxuICAgIH1cblxuICAgICRkb21SZW1vdmVBbGwocmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJyZW1vdmVQaGFzZVwiLCByZW1vdmVQaGFzZSlcbiAgICAgICAgICAgICAgICAuZXF1YWxJbihUcmFpdFNlcnZpY2UuUEhBU0VTKVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdWJzID0gdGhpcy4kLmRvbTtcbiAgICAgICAgaWYgKHN1YnMuc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBzdWJdIG9mIHN1YnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ViLiRwaGFzZVJlbW92ZSA9PT0gcmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZG9tUmVtb3ZlKGtleSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gIFRyYWl0IENTU1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBUcmFpdENTUyB7XG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGtlcm5lbCA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5rZXJuZWw7XG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgKCkgPT4gdGhpcy4kY3NzUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5ESVNBQkxFKSk7XG4gICAgICAgIGtlcm5lbC5vbihcInVuaW5zdGFsbFwiLCAoKSA9PiB0aGlzLiRjc3NSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTCkpO1xuICAgICAgICB0aGlzLiQuYXNzaWduKFwiY3NzXCIsIHRoaXMuJC5jcmVhdGVTdWJNYXAoKSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuRU5VTUVSQUJMRSk7XG4gICAgfVxuXG4gICAgJGNzcyhpZCwgc3R5bGVCb2R5KSB7XG4gICAgICAgIGlkID0gdGhpcy4kLmNzcy4kaWRfcmVzb2x2ZShpZCk7XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJpZFwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJjc3NcIiwgc3R5bGVCb2R5KS50eXBlU3RyaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3NzSWQ7XG4gICAgICAgIGlmIChpZFswXSA9PT0gXCIjXCIpIHtcbiAgICAgICAgICAgIGlkID0gaWQuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgY3NzSWQgPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWICYmIHRoaXMuJC5jc3MuaGFzKGlkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEpGQUNUT1JZX0VSUl9LRVlfRFVQTElDQVRFRCh7IHRhcmdldDogXCIkY3NzKGlkKVwiLCBnaXZlbjogaWQgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLiQuY3NzLiRyZWdpc3RlclN5bmMoaWQsXG4gICAgICAgICAgICBqUXVlcnkoXCI8c3R5bGU+XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoY3NzSWQgPyB7IGlkIH0gOiB7fSlcbiAgICAgICAgICAgICAgICAuaHRtbChzdHlsZUJvZHkpXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKFwiaGVhZFwiKVxuICAgICAgICApLiR2YWx1ZTtcbiAgICB9XG5cbiAgICAkY3NzRmV0Y2goaWQsIHVybCwgYXBwZW5kVG8gPSBcImhlYWRcIikge1xuICAgICAgICBpZCA9IHRoaXMuJC5jc3MuJGlkX3Jlc29sdmUoaWQpO1xuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiaWRcIiwgaWQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwidXJsXCIsIHVybCkudHlwZVN0cmluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNzc0lkO1xuICAgICAgICBpZiAoaWRbMF0gPT09IFwiI1wiKSB7XG4gICAgICAgICAgICBpZCA9IGlkLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIGNzc0lkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFViAmJiB0aGlzLiQuY3NzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBKRkFDVE9SWV9FUlJfS0VZX0RVUExJQ0FURUQoeyB0YXJnZXQ6IFwiJGNzc0ZldGNoKGlkKVwiLCBnaXZlbjogaWQgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHVybCA9IGhlbHBlcl91cmxfYWJzKHVybCk7XG5cbiAgICAgICAgbGV0IGV4aXN0ID0galF1ZXJ5KGFwcGVuZFRvKS5maW5kKGBsaW5rW2hyZWY9XCIke3VybH1cIl1gKVswXTtcbiAgICAgICAgaWYgKGV4aXN0KSB7XG4gICAgICAgICAgICBleGlzdC5kYXRhc2V0LnVzYWdlID0gcGFyc2VJbnQoZXhpc3QuZGF0YXNldC51c2FnZSkgKyAxO1xuICAgICAgICAgICAgbGV0IGRvbSA9IGpRdWVyeShleGlzdCk7XG5cbiAgICAgICAgICAgIGxldCBwcm9taXNlID0gSkZhY3RvcnlQcm9taXNlLnJlc29sdmUoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiB7IGNoYWluQXV0b0NvbXBsZXRlOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIHRyYWNlU291cmNlOiBqRmFjdG9yeVRyYWNlLnRyYWNlci5jYXB0dXJlVHJhY2VTb3VyY2UoXCIkY3NzRmV0Y2hcIilcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRvbVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHByb21pc2UuJGNoYWluLmRhdGEuZG9tID0gZG9tO1xuICAgICAgICAgICAgdGhpcy4kLmNzcy4kcmVnaXN0ZXJBc3luYyhpZCwgJyRjc3NGZXRjaChcIicgKyBpZCArICdcIiknLCBwcm9taXNlKTtcblxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkb207XG4gICAgICAgICAgICBsZXQgcHJvbWlzZSA9IG5ldyBKRmFjdG9yeVByb21pc2UoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiB7IGNoYWluQXV0b0NvbXBsZXRlOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIHRyYWNlU291cmNlOiBqRmFjdG9yeVRyYWNlLnRyYWNlci5jYXB0dXJlVHJhY2VTb3VyY2UoXCIkY3NzRmV0Y2hcIilcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlc29sdmUgPT4gZG9tID0galF1ZXJ5KFwiPGxpbms+XCIsXG4gICAgICAgICAgICAgICAgICAgIHsgaWQ6IGNzc0lkID8gaWQgOiBcIlwiLCByZWw6IFwic3R5bGVzaGVldFwiLCB0eXBlOiBcInRleHQvY3NzXCIsIFwiZGF0YS11c2FnZVwiOiBcIjFcIiB9KVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oYXBwZW5kVG8pXG4gICAgICAgICAgICAgICAgICAgIC5vbihcImxvYWRcIiwgKCkgPT4gcmVzb2x2ZShkb20pKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImhyZWZcIiwgdXJsKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcHJvbWlzZS4kY2hhaW4uZGF0YS5kb20gPSBkb207XG4gICAgICAgICAgICB0aGlzLiQuY3NzLiRyZWdpc3RlckFzeW5jKGlkLCAnJGNzc0ZldGNoKFwiJyArIGlkICsgJ1wiKScsIHByb21pc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VcbiAgICAgICAgfVxuICAgIH1cblxuICAgICRjc3NSZW1vdmUoaWQsIHJlYXNvbikge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiRjc3NSZW1vdmUoaWQpXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICByZWFzb24gJiYgSkZhY3RvcnlFeHBlY3QoXCIkY3NzUmVtb3ZlKHJlYXNvbilcIiwgcmVhc29uKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJC5jc3MuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKRkFDVE9SWV9FUlJfS0VZX01JU1NJTkcoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiJGNzc1JlbW92ZShpZClcIixcbiAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IGlkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1kZWJ1Z2dlcixicmFjZS1zdHlsZVxuICAgICAgICAgICAgaWYgKHRoaXMuJC5jc3MuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCkge2RlYnVnZ2VyfVxuICAgICAgICAgICAgdGhpcy4kLmNzcy5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGVudHJ5ID0gdGhpcy4kLmNzcy5nZXQoaWQpO1xuICAgICAgICBsZXQgdmFsdWUgPSBlbnRyeS4kY2hhaW4gJiYgZW50cnkuJGNoYWluLmRhdGEuZG9tIHx8IGVudHJ5LiR2YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgalF1ZXJ5KSB7XG4gICAgICAgICAgICBsZXQgdXNhZ2UgPSBwYXJzZUludCh2YWx1ZVswXS5kYXRhc2V0LnVzYWdlKSAtIDE7XG4gICAgICAgICAgICBpZiAodXNhZ2UpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZVswXS5kYXRhc2V0LnVzYWdlID0gdXNhZ2VcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUucmVtb3ZlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZW50cnkgaW5zdGFuY2VvZiBKRmFjdG9yeVByb21pc2UpIHtcbiAgICAgICAgICAgIGVudHJ5LiRjaGFpbkFib3J0KHJlYXNvbiB8fCBcIiRjc3NSZW1vdmUoKVwiKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuJC5jc3MuZGVsZXRlKGlkKVxuICAgIH1cblxuICAgICRjc3NSZW1vdmVBbGwocmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJyZW1vdmVQaGFzZVwiLCByZW1vdmVQaGFzZSlcbiAgICAgICAgICAgICAgICAuZXF1YWxJbihUcmFpdFNlcnZpY2UuUEhBU0VTKVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdWJzID0gdGhpcy4kLmNzcztcbiAgICAgICAgaWYgKHN1YnMuc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBzdWJdIG9mIHN1YnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ViLiRwaGFzZVJlbW92ZSA9PT0gcmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kY3NzUmVtb3ZlKGtleSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUcmFpdExpYlZ1ZSB7XG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGtlcm5lbCA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5rZXJuZWw7XG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgKCkgPT4gdGhpcy4kdnVlUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5ESVNBQkxFKSk7XG4gICAgICAgIGtlcm5lbC5vbihcInVuaW5zdGFsbFwiLCAoKSA9PiB0aGlzLiR2dWVSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTCkpO1xuICAgICAgICB0aGlzLiQuYXNzaWduKFwidnVlXCIsIHRoaXMuJC5jcmVhdGVTdWJNYXAoKSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuRU5VTUVSQUJMRSk7XG4gICAgfVxuXG4gICAgJHZ1ZShpZCwgdnVlKSB7XG4gICAgICAgIGlkID0gdGhpcy4kLnZ1ZS4kaWRfcmVzb2x2ZShpZCk7XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJpZFwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJ2dWVcIiwgdnVlKS50eXBlKE9iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWICYmIHRoaXMuJC52dWUuaGFzKGlkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEpGQUNUT1JZX0VSUl9LRVlfRFVQTElDQVRFRCh7IHRhcmdldDogXCIkdnVlKGlkKVwiLCBnaXZlbjogaWQgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLiQudnVlLiRyZWdpc3RlclN5bmMoaWQsIHZ1ZSkuJHZhbHVlO1xuICAgIH1cblxuICAgICR2dWVSZW1vdmUoaWQpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkdnVlUmVtb3ZlKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiQudnVlLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSkZBQ1RPUllfRVJSX0tFWV9NSVNTSU5HKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIiR2dWVSZW1vdmUoaWQpXCIsXG4gICAgICAgICAgICAgICAgICAgIGdpdmVuOiBpZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXIsYnJhY2Utc3R5bGVcbiAgICAgICAgICAgIGlmICh0aGlzLiQudnVlLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQpIHtkZWJ1Z2dlcn1cbiAgICAgICAgICAgIHRoaXMuJC52dWUuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlbnRyeSA9IHRoaXMuJC52dWUuZ2V0KGlkKTtcbiAgICAgICAgalF1ZXJ5KGVudHJ5LiR2YWx1ZS4kZWwpLnJlbW92ZSgpO1xuICAgICAgICBlbnRyeS4kdmFsdWUuJGRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy4kLnZ1ZS5kZWxldGUoaWQpXG4gICAgfVxuXG4gICAgJHZ1ZVJlbW92ZUFsbChyZW1vdmVQaGFzZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcInJlbW92ZVBoYXNlXCIsIHJlbW92ZVBoYXNlKVxuICAgICAgICAgICAgICAgIC5lcXVhbEluKFRyYWl0U2VydmljZS5QSEFTRVMpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN1YnMgPSB0aGlzLiQudnVlO1xuICAgICAgICBpZiAoc3Vicy5zaXplKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHN1Yl0gb2Ygc3Vicykge1xuICAgICAgICAgICAgICAgIGlmIChzdWIuJHBoYXNlUmVtb3ZlID09PSByZW1vdmVQaGFzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiR2dWVSZW1vdmUoa2V5KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRyYWl0TGliUmVhY3Qge1xuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBrZXJuZWwgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMua2VybmVsO1xuICAgICAgICBrZXJuZWwub24oXCJkaXNhYmxlXCIsICgpID0+IHRoaXMuJHJlYWN0UmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5ESVNBQkxFKSk7XG4gICAgICAgIGtlcm5lbC5vbihcInVuaW5zdGFsbFwiLCAoKSA9PiB0aGlzLiRyZWFjdFJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMKSk7XG4gICAgICAgIHRoaXMuJC5hc3NpZ24oXCJyZWFjdFwiLCB0aGlzLiQuY3JlYXRlU3ViTWFwKCksIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLkVOVU1FUkFCTEUpO1xuICAgIH1cblxuICAgICRyZWFjdChpZCwgY29udGFpbmVyLCBlbGVtZW50LCAuLi5yZW5kZXJPdGhlckFyZ3VtZW50cykge1xuICAgICAgICBpZCA9IHRoaXMuJC5yZWFjdC4kaWRfcmVzb2x2ZShpZCk7XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgaWYgKCFqRmFjdG9yeS5SZWFjdERPTSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImpGYWN0b3J5LlJlYWN0RE9NPVJlYWN0RE9NIG11c3QgYmUgc2V0IGJlZm9yZSB1c2luZyB0aGUgUmVhY3QgVHJhaXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImNvbnRhaW5lclwiLCBjb250YWluZXIpLnR5cGUoSFRNTEVsZW1lbnQsIGpRdWVyeSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWICYmIHRoaXMuJC5yZWFjdC5oYXMoaWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSkZBQ1RPUllfRVJSX0tFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiRyZWFjdChpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgIH1cblxuICAgICAgICBjb250YWluZXIgPSBqUXVlcnkoY29udGFpbmVyKVswXTtcbiAgICAgICAgbGV0IHZpZXcgPSBqRmFjdG9yeS5SZWFjdERPTS5yZW5kZXIoZWxlbWVudCwgY29udGFpbmVyLCAuLi5yZW5kZXJPdGhlckFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiB0aGlzLiQucmVhY3QuJHJlZ2lzdGVyU3luYyhpZCwgeyBjb250YWluZXIsIHZpZXcgfSkuJHZhbHVlLnZpZXc7XG4gICAgfVxuXG4gICAgJHJlYWN0UmVtb3ZlKGlkKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJHJlYWN0UmVtb3ZlKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiQucmVhY3QuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBKRkFDVE9SWV9FUlJfS0VZX01JU1NJTkcoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiJHJlYWN0UmVtb3ZlKGlkKVwiLFxuICAgICAgICAgICAgICAgICAgICBnaXZlbjogaWRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyLGJyYWNlLXN0eWxlXG4gICAgICAgICAgICBpZiAodGhpcy4kLnJlYWN0LmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQpIHtkZWJ1Z2dlcn1cbiAgICAgICAgICAgIHRoaXMuJC5yZWFjdC5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy4kLnJlYWN0LmdldChpZCkuJHZhbHVlO1xuICAgICAgICBsZXQgZWwgPSB2YWx1ZS5jb250YWluZXI7XG4gICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgaWYgKCFqRmFjdG9yeS5SZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKGVsKSkge1xuICAgICAgICAgICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbG9nV2FybihcInVubW91bnRDb21wb25lbnRBdE5vZGUgZmFpbGVkIHRvIHVubW91bnRcIiwgZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGpRdWVyeShlbCkucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kLnJlYWN0LmRlbGV0ZShpZClcbiAgICB9XG5cbiAgICAkcmVhY3RSZW1vdmVBbGwocmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJyZW1vdmVQaGFzZVwiLCByZW1vdmVQaGFzZSlcbiAgICAgICAgICAgICAgICAuZXF1YWxJbihUcmFpdFNlcnZpY2UuUEhBU0VTKVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdWJzID0gdGhpcy4kLnJlYWN0O1xuICAgICAgICBpZiAoc3Vicy5zaXplKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHN1Yl0gb2Ygc3Vicykge1xuICAgICAgICAgICAgICAgIGlmIChzdWIuJHBoYXNlUmVtb3ZlID09PSByZW1vdmVQaGFzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWFjdFJlbW92ZShrZXkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuakZhY3RvcnkuVHJhaXRGZXRjaCA9IFRyYWl0RmV0Y2g7XG5qRmFjdG9yeS5UcmFpdFRpbWVvdXQgPSBUcmFpdFRpbWVvdXQ7XG5qRmFjdG9yeS5UcmFpdEludGVydmFsID0gVHJhaXRJbnRlcnZhbDtcbmpGYWN0b3J5LlRyYWl0TXV0YXRpb24gPSBUcmFpdE11dGF0aW9uO1xuakZhY3RvcnkuVHJhaXRET00gPSBUcmFpdERPTTtcbmpGYWN0b3J5LlRyYWl0Q1NTID0gVHJhaXRDU1M7XG5qRmFjdG9yeS5UcmFpdExpYlZ1ZSA9IFRyYWl0TGliVnVlO1xuakZhY3RvcnkuVHJhaXRMaWJSZWFjdCA9IFRyYWl0TGliUmVhY3Q7IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnkgYnVuZGxlIGluZGV4IChzZWUgcGFja2FnZS5qc29uIHNjcmlwdHMgdG8gY29tcGlsZSB0aGUgL2Rpc3QpXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFVzZWQgYnkgdGhlIGJ1aWxkIHNjcmlwdHMgdG8gY29tcGlsZSBtb2R1bGVzIHRhcmdldGluZyB0aGUgY29uZmlndXJhdGlvbiAocHJvZHVjdGlvbiwgZGV2ZWxvcG1lbnQsIGRlYnVnLi4uKVxuLy8gQWxtb3N0IGV2ZXJ5dGhpbmcgaXMgZXhwb3J0ZWQ7IFRoZSByZXN1bHRpbmcgbW9kdWxlcyBzaG91bGQgYmUgaW1wb3J0ZWQgYnkgYSBidW5kbGVyIHRoYXQgc3VwcG9ydHMgVHJlZSBTaGFja2luZy5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgKiBmcm9tIFwiLi9qRmFjdG9yeVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vakZhY3RvcnktYm9vdHN0cmFwXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9qRmFjdG9yeS1lbnZcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2pGYWN0b3J5LWhlbHBlcnNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2pGYWN0b3J5LXRyYWl0c1wiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeUFib3V0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeUVycm9yXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeUV2ZW50c1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlFeHBlY3RcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0pGYWN0b3J5RmV0Y2hcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0pGYWN0b3J5RnVuY3Rpb25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL0pGYWN0b3J5TG9nZ2VyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeU9iamVjdFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlQcm9taXNlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeVRpbWVcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0pGYWN0b3J5VHJhY2VcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0pGYWN0b3J5VHJhaXRzXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2pGYWN0b3J5Q29tcGF0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9qRmFjdG9yeUxvYWRlclwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9UcmFpdHNDb3JlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9UcmFpdHNDb21wb25lbnRzXCI7XG5cbmltcG9ydCB7IGpGYWN0b3J5Qm9vdHN0cmFwIH0gZnJvbSBcIi4vakZhY3RvcnktYm9vdHN0cmFwXCI7XG5pZiAodHlwZW9mIGpGYWN0b3J5T3ZlcnJpZGUgPT09IFwidW5kZWZpbmVkXCIgfHwgIWpGYWN0b3J5T3ZlcnJpZGUpIHtcbiAgICBqRmFjdG9yeUJvb3RzdHJhcCgpO1xufSJdLCJuYW1lcyI6WyJKRkFDVE9SWV9ERVYiLCJKRkFDVE9SWV9ERUJVRyIsIkpGQUNUT1JZX0NMSSIsInByb2Nlc3MiLCJ2ZXJzaW9ucyIsIm5vZGUiLCJKRkFDVE9SWV9DRkdfTE9HIiwiZW5hYmxlZCIsIkpGQUNUT1JZX0NGR19KRmFjdG9yeUVycm9yIiwia2V5cyIsIkpGQUNUT1JZX0NGR19KRmFjdG9yeVRyYWNlIiwibGliT3B0aW9ucyIsIm9mZmxpbmUiLCJCb29sZWFuIiwiZ2xvYmFsVGhpcyIsImNocm9tZSIsImZpbHRlciIsInZhbHVlIiwibGluZU51bWJlciIsImpRdWVyeSIsIiQiLCJoZWxwZXJfaXNOYXRpdmUiLCJfIiwiaXNOYXRpdmUiLCJoZWxwZXJfaXNTdHJpbmciLCJpc1N0cmluZyIsImhlbHBlcl9pc051bWJlciIsImlzTnVtYmVyIiwiaGVscGVyX2lzUGxhaW5PYmplY3QiLCJpc1BsYWluT2JqZWN0IiwiaGVscGVyX2RlZmF1bHRzRGVlcCIsImRlZmF1bHRzRGVlcCIsImhlbHBlcl9sb3dlckZpcnN0IiwibG93ZXJGaXJzdCIsImhlbHBlcl9nZXQiLCJnZXQiLCJoZWxwZXJfdGVtcGxhdGUiLCJ0ZW1wbGF0ZSIsImhlbHBlcl9jYW1lbENhc2UiLCJjYW1lbENhc2UiLCJOT09QIiwiaGVscGVyX3NldEZ1bmN0aW9uTmFtZSIsIm5hbWUiLCJmIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJoZWxwZXJfdXJsX2Fic19hIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaGVscGVyX3VybF9hYnMiLCJ1cmwiLCJocmVmIiwic2VxIiwiakZhY3RvcnlMb2FkZXJfaW5pdCIsImhhbmRsZXIiLCJqRmFjdG9yeU92ZXJyaWRlIiwiakZhY3RvcnlMb2FkZXJfb25Jbml0IiwicHVzaCIsIkpGYWN0b3J5VHJhY2VfTk9GSUxURVIiLCJbb2JqZWN0IE9iamVjdF0iLCJsYWJlbCIsInN0YWNrVHJhY2VMaW1pdCIsInRoaXMiLCJJbmZpbml0eSIsIm9taXRBYm92ZUZ1bmN0aW9uTmFtZSIsIm9taXRTZWxmIiwiX3N0YWNrVHJhY2VMaW1pdCIsIkVycm9yIiwidHJhY2VTb3VyY2UiLCJzb3VyY2UiLCJ0YXJnZXRPYmplY3QiLCJjYXB0dXJlVHJhY2VTb3VyY2UiLCJ0cmFjZSIsInRvUHJpbnRhYmxlVHJhY2UiLCJ0aGVuIiwiciIsImxvZyIsImNvbnNvbGUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJKRmFjdG9yeVRyYWNlX0xJQl9TVEFDS1RSQUNFIiwiY29uZmlnIiwic3VwZXIiLCJTdGFja1RyYWNlIiwiZnJvbUVycm9yIiwidHJhY2VGcmFtZXMiLCJzbGljZSIsImZpbmRJbmRleCIsImZ1bmN0aW9uTmFtZSIsImVuZHNXaXRoIiwiZm9ybWF0VHJhY2VGcmFtZXMiLCJoZWFkZXIiLCJsaW5lUHJlZml4Iiwid2luZG93IiwibWFwIiwic2YiLCJ0b1N0cmluZyIsImpvaW4iLCJqRmFjdG9yeVRyYWNlIiwidXNlIiwiY29uc3RydWN0b3IiLCJ3YXJuIiwidHJhY2VyIiwiYXR0YWNoVHJhY2UiLCJKRmFjdG9yeUVycm9yIiwibWVzc2FnZSIsImRhdGEiLCJhc3NpZ24iLCJjcmVhdGUiLCJ0b1ByaW50YWJsZSIsIiRkYXRhIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJvYmplY3QiLCJERUZBVUxUX0tFWVMiLCJmaW5kIiwia2V5IiwidmFsIiwidGVtcGxhdGVEYXRhIiwibnYiLCJlbnRyaWVzIiwidW5kZWZpbmVkIiwiZ2V0SWQiLCJKU09OIiwic3RyaW5naWZ5IiwibGVuZ3RoIiwiSlNPTl9NQVgiLCJzdWJzdHJpbmciLCJlIiwiU3RyaW5nIiwidGVtcGxhdGVNZXNzYWdlIiwicGFydCIsInNwbGl0IiwicGxhY2Vob2xkZXIiLCJSRV9QTEFDRUhPTERFUiIsImxhc3RJbmRleCIsImV4ZWMiLCJ0cmltIiwidG9QcmludGFibGVEYXRhIiwidHlwZSIsInJldCIsInByb3RvdHlwZSIsIkUiLCJmYWN0b3J5IiwiSkZBQ1RPUllfRVJSX0lOVkFMSURfVkFMVUUiLCJKRkFDVE9SWV9FUlJfSU5WQUxJRF9DQUxMIiwiSkZBQ1RPUllfRVJSX1BST01JU0VfRVhQSVJFRCIsIkpGQUNUT1JZX0VSUl9SRVFVRVNUX0VSUk9SIiwiSkZBQ1RPUllfRVJSX0tFWV9EVVBMSUNBVEVEIiwiSkZBQ1RPUllfRVJSX0tFWV9NSVNTSU5HIiwiSkZhY3RvcnlFeHBlY3QiLCJlcnJvciIsInRhcmdldCIsInJlYXNvbiIsImdpdmVuIiwic3RhdGljTWV0aG9kcyIsIm5vdFVuZGVmaW5lZCIsIm5vdEVtcHR5U3RyaW5nIiwibm90RmFsc3kiLCJ2YWxpZFNwYWNlcyIsInJlcGxhY2UiLCJtYXRjaFJlZyIsInJlZyIsInRlc3QiLCJleHBlY3RlZCIsIm9rIiwidHlwZU51bGwiLCJ0eXBlQm9vbGVhbiIsInR5cGVTdHJpbmciLCJ0eXBlTnVtYmVyIiwidHlwZUZ1bmN0aW9uIiwidHlwZVBsYWluT2JqZWN0IiwiZXF1YWxJbiIsIkFycmF5IiwiaXNBcnJheSIsInZhbHVlcyIsImluY2x1ZGVzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIndyaXRhYmxlIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwibm90V3JpdGFibGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsImNhbGwiLCJub3RFbnVtZXJhYmxlIiwibm90Q29uZmlndXJhYmxlIiwicmVzZXJ2ZWRQcm9wZXJ0eSIsImFyZ3MiLCJKRmFjdG9yeVRyYWl0cyIsImNhbGxlckluc3RhbmNlIiwiY2FsbGVyQ29uc3RydWN0b3IiLCJvcHRpb25zIiwidHJhaXQiLCJ0cmFpdEFyZ3MiLCJjYWNoZSIsIkNBQ0hFIiwiaGFzIiwiYWRkIiwic2V0IiwiV2Vha1NldCIsIkpGYWN0b3J5VHJhaXQiLCJleHBvcnQiLCJ0cmFpdEluc3RhbmNlIiwidHJhaXRfY29uc3RydWN0b3IiLCJhcHBseSIsImlzU3RhdGljIiwic291cmNlRGVzY3JpcHRvciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJwcm9wZXJ0eU5hbWUiLCJwcmVmaXgiLCJnZXRQcmVmaXgiLCJnZXRUYXJnZXQiLCJwcm9wZXJ0eURlc2NyaXB0b3IiLCJwYXJzZWQiLCJwYXJzZXIiLCJkZWZhdWx0UGFyc2VyIiwiRVhDTFVERVMiLCJXZWFrTWFwIiwiSkZhY3RvcnlGdW5jdGlvbkNvbXBvc2VyIiwiaGFuZGxlcnMiLCJoYW5kbGVyR3JvdXBzIiwiaGFuZGxlckdyb3VwIiwiYXJndW1lbnRzIiwidW5zaGlmdCIsImNvbXBvc2VyIiwiY29tcG9zaXRlIiwiY29udGV4dCIsImNhbmNlbGVkIiwicGFyYW1ldGVycyIsImZyb20iLCJyZXN1bHQiLCJpdGVyYXRpb24iLCJuZXh0IiwiY29tcG9zaXRlX2l0ZXJhdG9yIiwic2NvcGUiLCJkb25lIiwiakZhY3RvcnlGdW5jdGlvbkV4cGlyYWJsZSIsIm9yaWdpbmFsSGFuZGxlciIsIkpGYWN0b3J5RnVuY3Rpb25FeHBpcmFibGUiLCJjb21wb3NlIiwiZXhwaXJlZENhbGxzIiwiZXhwaXJlZCIsImlzRXhwaXJlZCIsImV4cGlyYWJsZSIsInNldEV4cGlyZWQiLCJhZGRFeHBpcmVDb25kaXRpb24iLCJjb25kaXRpb24iLCJsYXN0IiwiYmluZCIsIm9uRXhwaXJlZCIsIm9uTm90RXhwaXJlZCIsIk1heFdhcm5pbmdFeHBpcmF0aW9uIiwiakZhY3RvcnlGdW5jdGlvbkNvbmRpdGlvbmFsIiwiSkZhY3RvcnlGdW5jdGlvbkNvbmRpdGlvbmFsIiwiZmlyc3QiLCJjb25kaXRpb25hbCIsImFkZENvbmRpdGlvbiIsImhhbmRsZSIsImpGYWN0b3J5RnVuY3Rpb25XcmFwcGFibGUiLCJKRmFjdG9yeUZ1bmN0aW9uV3JhcHBhYmxlIiwid3JhcHBhYmxlIiwiYmVmb3JlQWxsIiwianVzdEJlZm9yZSIsImp1c3RBZnRlciIsImFmdGVyQWxsIiwiakZhY3RvcnlUcmFpdHMiLCJzdGF0ZXMiLCJzZXJ2aWNlIiwicGhhc2UiLCJvd25lciIsIiRsb2dFcnIiLCJKRmFjdG9yeUNvcmVPYmplY3QiLCJpbmplY3QiLCJqRmFjdG9yeSIsIlRyYWl0Q29yZSIsIlRyYWl0QWJvdXQiLCJUcmFpdExvZyIsIlRyYWl0RXZlbnRzIiwiVHJhaXRTdGF0ZSIsIlRyYWl0U2VydmljZSIsIlRyYWl0VGFzayIsIkpGYWN0b3J5Q29tcG9uZW50IiwiVHJhaXRGZXRjaCIsIlRyYWl0RE9NIiwiVHJhaXRDU1MiLCJUcmFpdE11dGF0aW9uIiwiVHJhaXRUaW1lb3V0IiwiVHJhaXRJbnRlcnZhbCIsIlRyYWl0TGliVnVlIiwiVHJhaXRMaWJSZWFjdCIsInByb3BlcnRpZXMiLCJKRkFDVE9SWV9DT01QQVRfZ2xvYmFsVGhpcyIsImluZm8iLCJKRkFDVE9SWV9DT01QQVRfZmV0Y2giLCJmZXRjaCIsIkpGQUNUT1JZX0NPTVBBVF9SZXF1ZXN0IiwiUmVxdWVzdCIsIkpGQUNUT1JZX0NPTVBBVF9BYm9ydENvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJzaWduYWwiLCJKRkFDVE9SWV9DT01QQVRfTXV0YXRpb25PYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJsaXN0IiwiakZhY3RvcnlDb21wYXRfcmVxdWlyZSIsImNvbXBhdCIsImpGYWN0b3J5Q29tcGF0X3J1biIsImVudHJ5IiwicGFzcyIsImlnbm9yZSIsImpGYWN0b3J5Qm9vdHN0cmFwIiwiSkZhY3RvcnlPYmplY3QiLCJkZXNjcmlwdG9yUHJvdG90eXBlIiwiREVTQ1JJUFRPUlNfUFJPVE9UWVBFIiwibyIsIk5PTkUiLCJXUklUQUJMRSIsIkVOVU1FUkFCTEUiLCJDT05GSUdVUkFCTEUiLCJDT05GSUdVUkFCTEVfV1JJVEFCTEUiLCJXUklUQUJMRV9DT05GSUdVUkFCTEUiLCJDT05GSUdVUkFCTEVfRU5VTUVSQUJMRSIsIkVOVU1FUkFCTEVfQ09ORklHVVJBQkxFIiwiRU5VTUVSQUJMRV9XUklUQUJMRSIsIldSSVRBQkxFX0VOVU1FUkFCTEUiLCJXUklUQUJMRV9FTlVNRVJBQkxFX0NPTkZJR1VSQUJMRSIsIldSSVRBQkxFX0NPTkZJR1VSQUJMRV9FTlVNRVJBQkxFIiwiRU5VTUVSQUJMRV9DT05GSUdVUkFCTEVfV1JJVEFCTEUiLCJFTlVNRVJBQkxFX1dSSVRBQkxFX0NPTkZJR1VSQUJMRSIsIkNPTkZJR1VSQUJMRV9XUklUQUJMRV9FTlVNRVJBQkxFIiwiQ09ORklHVVJBQkxFX0VOVU1FUkFCTEVfV1JJVEFCTEUiLCJSRUFET05MWSIsInByb3BlcnR5IiwiZGVzY3JpcHRvciIsImRlc2NyaXB0b3JzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZGVmaW5lUHJvcGVydGllcyIsImZsYXQiLCJkaXNpbmhlcml0IiwiY3JlYXRlRGVzY3JpcHRvcnMiLCJtb2R1bGVHZW5JZCIsInVpZCIsIkpGYWN0b3J5QWJvdXQiLCJhYm91dCIsImZpbmdlcnByaW50IiwidG9Mb3dlckNhc2UiLCJKRmFjdG9yeVByb21pc2UiLCJleGVjdXRvciIsImNoYWluSWQiLCJyZWplY3QiLCJERUZBVUxUX0NPTkZJRyIsIk51bWJlciIsIl9yZXNvbHZlIiwiX3JlamVjdCIsImNoYWluIiwiSkZhY3RvcnlQcm9taXNlQ2hhaW4iLCIkY2hhaW4iLCIkdHlwZSIsIiR2YWx1ZSIsIiRpc1NldHRsZWQiLCIkaXNSZWplY3RlZCIsIiRpc0Z1bGZpbGxlZCIsIiRpc0V4cGlyZWQiLCIkaXNBYm9ydGVkIiwiJGRldl9uYW1lIiwiJGRldl9wYXRoIiwiSkZhY3RvcnlQcm9taXNlUGF0aCIsIiRkZXZfcG9zaXRpb24iLCIkZGV2X3NvdXJjZSIsInRyeUF1dG9Db21wbGV0ZSIsImlzUGVuZGluZyIsIiRjaGFpbkNvbXBsZXRlIiwib25SZXNvbHZlIiwib25SZWplY3QiLCJUeXBlRXJyb3IiLCJ4IiwiY2FsbGVkIiwicmVzb2x2ZVByb21pc2UiLCJ5IiwicmVqZWN0UHJvbWlzZSIsImVycm9yRXhwaXJlZCIsIm9uU2V0dGxlIiwiY2hhaW5NYXAiLCJjaGFpbkNvbmZpZyIsImNoYWluQXV0b0NvbXBsZXRlIiwic2l6ZSIsIl9jaGFpbkF1dG9Db21wbGV0ZSIsIl9fcmVzb2x2ZV9fIiwiX19yZWplY3RfXyIsIm9uRnVsZmlsbGVkIiwib25SZWplY3RlZCIsImZvcmNlVHlwZSIsIndyYXBwZWRGdWxmaWxsZWQiLCJ3cmFwcGVkUmVqZWN0ZWQiLCJuZXdQcm9taXNlIiwic3RhcnRzV2l0aCIsImZOYW1lcyIsImNoYWluTmFtZSIsIiRkZXZfb25GdWxmaWxsZWQiLCIkZGV2X29uUmVqZWN0ZWQiLCJjaGFpblJvb3QiLCJvcHRpb25hbEFyZ3MiLCJjb21wbGV0ZSIsInByb21pc2UiLCJhYm9ydCIsInNpbGVudCIsIk1hcCIsImlzQ29tcGxldGVkIiwiX19kZWZlcnJlZF9fIiwiRGVmZXJyZWQiLCJpdGVtIiwiaSIsInByaW50YWJsZSIsInYiLCJKRmFjdG9yeVByb21pc2VTeW5jIiwiSkZhY3RvcnlFdmVudHMiLCJyZWdpc3RyeSIsIm9uTGlzdGVuZXJVcGRhdGUiLCJvbk9ic2VydmVyVXBkYXRlIiwiZXZlbnRzIiwic2VsZWN0b3IiLCJ2YWxpZGF0ZVNlbGVjdG9yIiwiSFRNTEVsZW1lbnQiLCJ3cmFwcGVkSGFuZGxlciIsIm9uIiwic3RhY2siLCJvZmYiLCJwZW5kaW5nIiwiZXZlbnQiLCJ0cmlnZ2VyIiwidHJpZ2dlckhhbmRsZXIiLCJhbGwiLCJhc3luYyIsIkpGYWN0b3J5RXZlbnRzTWFuYWdlciIsInBhcmVudCIsImFmZmlsaWF0ZVJ1bGVzIiwiYWZmaWxpYXRlQWRkUnVsZSIsInJ1bGVfbmFtZXNwYWNlIiwibmFtZXNwYWNlcyIsIkpGYWN0b3J5RXZlbnRTZWxlY3RvclBhcnNlciIsInBhcnNlZEV2ZW50IiwibmFtZXNwYWNlIiwiYWRkTmFtZXNwYWNlIiwiYWZmaWxpYXRlIiwiYXJnTCIsImpxdWVyeSIsInRyaWdnZXJTZXJpZXMiLCJ0cmlnZ2VyUGFyYWxsZWwiLCJlbG0iLCJfZGF0YSIsInR5cGVzIiwiSkZhY3RvcnlFdmVudFNlbGVjdG9yIiwiaGFzTmFtZXNwYWNlIiwiX2V2ZW50cyIsImV4cGFuZG8iLCJrIiwiaW5kZXhPZiIsImV2ZW50VHlwZUVudHJ5Iiwic2VsZWN0b3JzIiwicyIsIlNldCIsImRlbGV0ZSIsIm5zIiwic2hpZnQiLCJ2YWxpZGF0ZUV2ZW50IiwidmFsaWRhdGVOYW1lc3BhY2UiLCJKRmFjdG9yeUZldGNoIiwiZmV0Y2hPcHRpb25zIiwiZmV0Y2hSZXF1ZXN0IiwicmVzcG9uc2UiLCJmZXRjaFJlc3BvbnNlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsIiR0eXBlVGV4dCIsInRleHQiLCJyZXNwb25zZVRleHQiLCIkdHlwZUpTT04iLCJqc29uIiwicmVzcG9uc2VKU09OIiwiY2F0Y2giLCJhYm9ydEN0cmwiLCJhYm9ydENvbnRyb2xsZXIiLCJmZXRjaEFib3J0Q29udHJvbGxlciIsIiRjaGFpbkFib3J0IiwiU1lNQk9MX0VOQUJMRUQiLCJKRmFjdG9yeUxvZ2dlciIsIkRFRkFVTFRfQ09ORElUSU9OIiwiaW5zdGFsbEFjY2Vzc29yIiwicGFyZW50TG9nZ2VyIiwiZW5hYmxlIiwiZGlzYWJsZSIsIm5hdGl2ZU5hbWUiLCJmaWx0ZXJzIiwidGFyZ2V0TmFtZSIsImFjY2Vzc29yIiwiZm9ybWF0dGVyIiwic3ViIiwic3R5bGVzX2NzcyIsInN0eWxlc19jbGkiLCJGT1JNQVRURVJfTkFUSVZFIiwibG9nZ2VyIiwiRk9STUFUVEVSX0NMSSIsIkZPUk1BVFRFUl9CUk9XU0VSIiwiZXF1YWwiLCJKRmFjdG9yeVRpbWUiLCJEYXRlIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiZ2V0VVRDTWlsbGlzZWNvbmRzIiwidmFsdWVPZiIsImhvdXJzIiwiZ2V0VVRDSG91cnMiLCJtaW51dGVzIiwiZ2V0VVRDTWludXRlcyIsInNlY29uZHMiLCJnZXRVVENTZWNvbmRzIiwibWlsbGlzZWNvbmRzIiwiYSIsIkpGYWN0b3J5VGltZVRyYWNlIiwiZWxhcHNlZCIsInQxIiwidDAiLCIkdG9EdXJhdGlvblN0cmluZyIsIlN1Yk1hcCIsIiRwaGFzZVJlbW92ZSIsImdldENvbnRleHR1YWxSZW1vdmVQaGFzZSIsInRhc2tOYW1lIiwidGFzayIsIiR0YXNrIiwiJGNoYWluQXV0b0NvbXBsZXRlIiwic3RyIiwiaWQiLCJpZF9hdXRvaW5jIiwicHJvdG8iLCJTWU1CT0xfUFJJVkFURSIsImNyZWF0ZVN1Yk1hcCIsInRhc2tzIiwicmVxdWVzdHMiLCJleGVjdXRvck9yVmFsdWUiLCIkaWRfcmVzb2x2ZSIsIm1ldHJpY3MiLCIkdGFza01ldHJpY3MiLCIkZGV2X3RpbWluZyIsImVuZCIsIiR0YXNrUmVtb3ZlIiwiX2NhbGxlZCIsInJlbW92ZVBoYXNlIiwiUEhBU0VTIiwiYXV0b0NvbXBsZXRlIiwiYXNzaWduUHJpdmF0ZSIsImN1c3RvbSIsImtlcm5lbCIsImV2ZW50TWFuYWdlciIsImxpc3RlbmVycyIsImdldERvbUxpc3RlbmVycyIsIm9ic2VydmVycyIsImdldE9ic2VydmVycyIsIiR0cmlnZ2VyIiwic3RhdGVSb3V0ZXMiLCJQcm94eSIsIiRzdGF0ZSIsImgiLCJiZWZvcmUiLCIkbm90aWZ5IiwiYWZ0ZXIiLCJub3RpZnkiLCJwcmV2aW91c1ZhbCIsIlBIQVNFIiwicGhhc2VRdWV1ZSIsInBoYXNlVGFzayIsInBoYXNlTWFwIiwiaW5zdGFsbCIsInVuaW5zdGFsbCIsImFzc2lnblByaXZhdGVNZW1iZXIiLCJpbnN0YWxsZWQiLCJzZXRFdmVudE5hbWVzcGFjZVJlbW92ZVBoYXNlIiwicGhhc2VSZXNvbHZlIiwiJHRhc2tSZW1vdmVBbGwiLCIkdGFza1Byb21pc2VBbGwiLCJvbkluc3RhbGwiLCJvbkVuYWJsZSIsIm9uRGlzYWJsZSIsIm9uVW5pbnN0YWxsIiwiJG9mZiIsInJlbW92YWwiLCJESVNBQkxFIiwiVU5JTlNUQUxMIiwicCIsIklOU1RBTEwiLCIkZW5hYmxlIiwiRU5BQkxFIiwicGhhc2VLaWxsIiwiJGRpc2FibGUiLCJjb21wb25lbnQiLCJqRmFjdG9yeUNvcmVPYmplY3QiLCJQSEFTRV9SRVZFUlQiLCJjdXJSZW1vdmVQaGFzZSIsIm5ld1JlbW92ZVBoYXNlIiwiZGVsZXRlTmFtZXNwYWNlIiwiJGZldGNoUmVtb3ZlQWxsIiwiJHJlZ2lzdGVyQXN5bmMiLCIkZmV0Y2hSZW1vdmUiLCIkZmV0Y2giLCJfZGVidWdfcmVtb3ZlX2NhbGxlZCIsInN1YnMiLCIkdGltZW91dFJlbW92ZUFsbCIsImRlbGF5IiwidGltZW91dHMiLCJGdW5jdGlvbiIsInRpbWVyIiwic2V0VGltZW91dCIsIiR0aW1lb3V0UmVtb3ZlIiwiY2xlYXJUaW1lb3V0IiwiJGludGVydmFsUmVtb3ZlQWxsIiwidGltZWludHMiLCJzZXRJbnRlcnZhbCIsIiRyZWdpc3RlclN5bmMiLCJjbGVhckludGVydmFsIiwiJGludGVydmFsUmVtb3ZlIiwiJG11dGF0aW9uUmVtb3ZlQWxsIiwibXV0YXRpb25zIiwiRG9jdW1lbnQiLCJvYnNlcnZlciIsIm9ic2VydmUiLCJkaXNjb25uZWN0IiwiJG11dGF0aW9uUmVtb3ZlIiwiJGRvbVJlbW92ZUFsbCIsImpRdWVyeUFyZ3VtZW50IiwiYXBwZW5kVG8iLCJkb21JZCIsImRvbSIsInRhZ05hbWUiLCJodG1sIiwibm9kZVR5cGUiLCJOb2RlIiwiRUxFTUVOVF9OT0RFIiwiJGZldGNoVGV4dCIsInJlbW92ZSIsIiRkb21SZW1vdmUiLCIkY3NzUmVtb3ZlQWxsIiwic3R5bGVCb2R5IiwiY3NzSWQiLCJjc3MiLCJhdHRyIiwiZXhpc3QiLCJkYXRhc2V0IiwidXNhZ2UiLCJwYXJzZUludCIsInJlbCIsImRhdGEtdXNhZ2UiLCIkY3NzUmVtb3ZlIiwiJHZ1ZVJlbW92ZUFsbCIsInZ1ZSIsIiRlbCIsIiRkZXN0cm95IiwiJHZ1ZVJlbW92ZSIsIiRyZWFjdFJlbW92ZUFsbCIsImNvbnRhaW5lciIsImVsZW1lbnQiLCJyZW5kZXJPdGhlckFyZ3VtZW50cyIsInJlYWN0IiwiUmVhY3RET00iLCJ2aWV3IiwicmVuZGVyIiwiZWwiLCJ1bm1vdW50Q29tcG9uZW50QXROb2RlIiwiJGxvZ1dhcm4iLCIkcmVhY3RSZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7NENBT1ksTUFBQ0EsR0FBNkQsRUFDN0RDLEdBQWlFLEVBQ2pFQyxFQUNVLG9CQUFaQyxTQUEyQkEsUUFBUUMsVUFBWUQsUUFBUUMsU0FBU0MsS0FHOURDLEVBQW1CLENBQzVCQyxTQUEwQkwsR0FOZ0QsT0FRakVNLEVBQTZCLENBQ3RDQyxLQUFNLENBQUMsZUFBZ0IsWUFBYSxRQUFTLE9BQVEsT0FFNUNDLEdBQThDUixHQUNwRCxDQUNDTyxLQUFNLENBQUMsZ0JBQWlCLG9CQUN4QkUsV0FBWSxDQUNSQyxRQUFTQyxRQUFRQyxXQUFXQyxRQUM1QkMsT0FBUSxTQUFTQyxHQUNiLE9BQU9BLEVBQU1DLGNDWmhCQyxFQUFTQyxFQUVUQyxFQUFrQkMsRUFBRUMsU0FDcEJDLEVBQWtCRixFQUFFRyxTQUNwQkMsRUFBa0JKLEVBQUVLLFNBQ3BCQyxFQUF1Qk4sRUFBRU8sY0FDekJDLEVBQXNCUixFQUFFUyxhQUN4QkMsRUFBb0JWLEVBQUVXLFdBQ3RCQyxFQUFhWixFQUFFYSxJQUNmQyxFQUFrQmQsRUFBRWUsU0FDcEJDLEVBQW1CaEIsRUFBRWlCLFVBRXJCQyxFQUFPLE9BQ1BDLEVBQXlCLENBQUNDLEVBQU1DLElBQU1DLE9BQU9DLGVBQWVGLEVBQUcsT0FBUSxD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
