import e from"lodash";import t from"jquery";
/*!
 * jFactory, Copyright (c) 2019, StÃ©phane Plazis
 * https://github.com/jfactory-es/jfactory/blob/master/LICENSE.txt
 */
const s=!0,i=!1,r="undefined"!=typeof process&&process.versions&&process.versions.node,n={TraitLog:!r||!1,JFactoryError:{keys:["$.about.name","$dev_name","$name","name","id"]},JFactoryTrace:!r&&{keys:["$dev_traceLog","$dev_traceSource"],libOptions:{offline:Boolean(globalThis.chrome),filter:function(e){return e.lineNumber}}},jFactoryDev:{requireCompatibility:{globalThis:{test:()=>globalThis,info:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/globalThis"},fetch:{test:()=>fetch,info:"https://developer.mozilla.org/docs/Web/API/Fetch_API/Using_Fetch"},Request:{test:()=>Request,info:"https://developer.mozilla.org/docs/Web/API/Request"},"AbortController, AbortSignal":{test:()=>(new AbortController).signal,info:"https://developer.mozilla.org/docs/Web/API/AbortController, https://developer.mozilla.org/docs/Web/API/AbortSignal"},MutationObserver:{test:()=>MutationObserver,info:"https://developer.mozilla.org/docs/Web/API/MutationObserver"}}}},a={seq:[],init(){if(this.seq){let e=this.seq;delete this.seq;for(let t of e)t();delete globalThis.jFactoryOverride}},onInit(e){this.seq.push(e)}};function o(){console.log("jFactory is running in development mode.\nPerformances will be affected.");for(let[e,t]of Object.entries(n.jFactoryDev.requireCompatibility)){let s;try{s=Boolean(t.test())}catch(e){}s||console.warn(`jFactory may require the support of "${e}", ${t.info}`)}}function l(){!n.TraitLog&&console.warn("jFactory: LOGS REMOVED")}a.onInit(o),a.onInit(l);const c=t,h=e.isNative,u=e.isString,d=e.isNumber,p=e.isPlainObject,m=e.defaultsDeep,f=e.lowerFirst,$=e.get,g=e.template,v=e.camelCase,b=()=>{},E=(e,t)=>Object.defineProperty(t,"name",{value:e});class A{constructor({label:e,stackTraceLimit:t,keys:s,libOptions:i}={}){this.label=e||"The stack has been printed in the console",this.stackTraceLimit=t||1/0,this.keys=s||["stackLog","stackSource"],this.libOptions=i||{}}captureTraceSource(e,t){let s;this.stackTraceLimit&&(s=Error.stackTraceLimit,Error.stackTraceLimit=this.stackTraceLimit),e||(e="captureTraceSource",t=!0);let i={source:new Error,omitAboveFunctionName:e,omitSelf:t};return this.stackTraceLimit&&(Error.stackTraceLimit=s),i}attachTrace(e,t){"object"!=typeof t&&(t=this.captureTraceSource(t||"attachTrace",!t));let s=t.source;this.toPrintableTrace(t).then(e=>s=e);let i=()=>console.log(s)||this.label;Object.defineProperty(e,this.keys[0],{enumerable:!1,configurable:!0,get:()=>i()}),Object.defineProperty(e,this.keys[1],{enumerable:!1,configurable:!0,get:()=>t})}toPrintableTrace(e){return Promise.resolve(e.source)}}class S extends A{constructor(e){super(e)}toPrintableTrace(e){return StackTrace.fromError(e.source,this.libOptions).then(t=>{if(e.omitAboveFunctionName){let s=t.findIndex(t=>t.functionName&&t.functionName.endsWith(e.omitAboveFunctionName));s>0&&(e.omitSelf&&s++,t=t.slice(s))}return t=t.filter(this.libOptions.filter),this.formatTraceFrames(t)})}formatTraceFrames(e){let t,s;return this.libOptions.offline&&window.chrome?(t="Error\n",s="\tat "):(t="",s=""),t+e.map(e=>s+e.toString()).join("\n")}}const y={};a.onInit((function(){let e=n.JFactoryTrace;if(e&&!1!==e.use){let t;t="function"==typeof e.use?e.use:"object"==typeof StackTrace?S:A,t===S&&console.warn("jFactory: Stack trace enabled; Performance will be affected"),y.tracer=new t(e)}else y.tracer={captureTraceSource:b,attachTrace:b}}));class R extends Error{constructor(e="unspecified error",t=null){t=Object.assign(Object.create(null),t),super(e=R.toPrintable(e,t)),this.$data=Object.assign(Object.create(null),t)}toString(){return this.message}*[Symbol.iterator](){yield this.message,yield this.$data}static getId(e){return e[(n.JFactoryError.keys||R.DEFAULT_KEYS).find(t=>{let s=$(e,t);return s||0===s})]}static toPrintableData(e){const t={};let s;for(let[i,r]of Object.entries(e)){switch(typeof r){case"function":r=r.name+"()";break;case"object":if(null===r){r="null";break}if(r instanceof Error){r=r.toString();break}if(void 0!==(s=R.getId(r)))r='"'+s+'"';else if(h(r.toString))try{s=JSON.stringify(r),r=s.length>R.JSON_MAX?s.substring(0,R.JSON_MAX)+"[...]":s}catch(e){r="[object "+r.constructor.name+"]"}else r=r.toString();break;case"string":r='"'+r+'"';break;default:r=String(r)}t[i]=r}return t}static toPrintable(e,t){const s=[];for(let i of e.split(";")){let e,r=R.RE_PLACEHOLDER;if(r.lastIndex=0,e=r.exec(i)){do{if(e[1]&&e[1]in t){s.push(i.trim());break}}while(null!==(e=r.exec(i)))}else s.push(i.trim())}return f(g(s.join("; "))(R.toPrintableData(t)))}}R.JSON_MAX=40,R.DEFAULT_KEYS=["name","id"],R.RE_PLACEHOLDER=/\${([^}]+)}/g;let _=new Proxy(R,{set:function(e,t,s){let{template:i}=s;if(e[t])throw new Error("already declared");return e[t]=class extends R{constructor(e,t){super(i,e),y.tracer.attachTrace(this.$data,t)}},e[t].prototype.name="Error jFactoryError."+t,!0}});function L(e,t){if(!new.target)return new L(e,t);this.label=e,this.value=t}_.INVALID_VALUE={template:"invalid value for ${target}; Reason: ${reason}; Given: ${given}"},_.INVALID_CALL={template:"invalid call ${target}; Reason: ${reason}; Owner: ${owner}"},_.PROMISE_EXPIRED={template:"expired promise ${target}; Reason: ${reason}"},_.REQUEST_ERROR={template:"error requesting ${target}; Reason: ${reason}; Owner: ${owner}"},_.KEY_DUPLICATED={template:"duplicated key for ${target}; Given: ${given}"},_.KEY_MISSING={template:"missing key for ${target}; Given: ${given}"};const O=function(e,t,s){throw new _.INVALID_VALUE({target:e,reason:s,given:t})},P={notUndefined:(e,t)=>(void 0===t&&O(e,t,"cannot be undefined"),!0),notEmptyString:(e,t)=>(""===t&&O(e,t,"cannot be empty string"),!0),notFalsy:(e,t)=>(t||O(e,t,'cannot be a falsy value (undefined, null, NaN, 0, "")'),!0),validSpaces:(e,t)=>(t.replace&&t.replace(/\s+/g," ").trim()===t||O(e,t,"invalid space delimiters"),!0),matchReg:(e,t,s)=>(s.test(t)||O(e,t,'string "'+t+'" must match '+s),!0),type(e,t,...s){let i,r=!1;for(let n of s){null===n?i="Null":"name"in n&&(i=n.name);let s=P["type"+i];if(s)try{r=s(e,t)}catch(e){}else r=t instanceof n;if(r)break}return r||O(e,t,"must be an instance of ["+s.map(e=>e.name).join(", ")+"]"),!0},typeNull:(e,t)=>(null!==t&&O(e,t,"must be null"),!0),typeBoolean:(e,t)=>(!0!==t&&!1!==t&&O(e,t,"must be a boolean"),!0),typeString:(e,t)=>(u(t)||O(e,t,"must be a string"),!0),typeNumber:(e,t)=>(d(t)||O(e,t,"must be a number"),!0),typeFunction:(e,t)=>("function"!=typeof t&&O(e,t,"must be a function"),!0),typePlainObject:(e,t)=>(p(t)||O(e,t,"must be a plain object"),!0),equal(e,t,...s){let i=!1;for(let e of s)if(i=t===e)break;return i||O(e,t,"must be one of ["+s+"]"),!0},equalIn:(e,t,s)=>(Array.isArray(s)||(s=Object.values(s)),s.includes(t)||O(e,t,"must be one from ["+s.join(", ")+"]"),!0),properties(e,t,s){for(let i of Object.getOwnPropertyNames(t))L(e+', property name "'+i+'"',i).equalIn(s);return!0},writable:(e,t,s)=>(Object.getOwnPropertyDescriptor(t,s).writable||O(e,t,"must be writable"),!0),notWritable:(e,t,s)=>(Object.getOwnPropertyDescriptor(t,s).writable&&O(e,t,"must not be writable"),!0),enumerable:(e,t,s)=>(Object.prototype.propertyIsEnumerable.call(t,s)||O(e,t,"must be enumerable"),!0),notEnumerable:(e,t,s)=>(Object.prototype.propertyIsEnumerable.call(t,s)&&O(e,t,"must not be enumerable"),!0),configurable:(e,t,s)=>(Object.getOwnPropertyDescriptor(t,s).configurable||O(e,t,"must be configurable"),!0),notConfigurable:(e,t,s)=>(Object.getOwnPropertyDescriptor(t,s).configurable&&O(e,t,"must not be configurable"),!0),reservedProperty:(e,t,s)=>(s in t&&O(e,t,"is a reserved property"),!0)};a.onInit((function(){Object.assign(L,P);for(const e of Object.getOwnPropertyNames(P))L.prototype[e]=function(...t){return L[e](this.label,this.value,...t),this}}));class w{constructor(e,t,s={}){this.callerInstance=e,this.callerConstructor=t,this.options=s}use(e,...t){L("JFactoryTraits(trait)",e).typeFunction();let{callerInstance:s,callerConstructor:i}=this,r=w.CACHE.get(s);if(r){if(r.has(e))return n.TraitLog&&console.warn(`${e.name} already called on`,s),this;r.add(e)}else w.CACHE.set(s,new WeakSet([e]));!i.JFactoryTrait&&(i.JFactoryTrait=new WeakSet),i.JFactoryTrait.has(e)||(i.JFactoryTrait.add(e),this.export(e.prototype,i.prototype),this.export(e,i,!0));let a=new e(s,...t);return a.trait_constructor&&a.trait_constructor.apply(s,t),this}export(e,t,s){let i=Object.getOwnPropertyDescriptors(e);for(let r of Object.keys(i)){let n=w.getPrefix(r);if(w.getTarget(r,t,n)){let n=i[r],a=(this.options.parser||w.defaultParser)(r,n,e,t,s);a&&(({propertyName:r,propertyDescriptor:n}=a),Object.defineProperty(t,r,n))}}}static defaultParser(e,t,s,i,r){let a=t.value;return r?null:e in i?(n.TraitLog&&console.warn(`${i.constructor.name}> skipping export of existing property "${e}"`,a),null):"object"==typeof a?(n.TraitLog&&console.warn(`${i.constructor.name}> skipping export of shared object "${e}"`,a),null):{propertyName:e,propertyDescriptor:t}}static getPrefix(e){let t=e.split("_");return t.length>1?t[0]:null}static getTarget(e,t,s){return w.EXCLUDES.includes(e)||"trait"===s?null:t}}w.CACHE=new WeakMap,w.EXCLUDES=["constructor","prototype","length","size"];class T{constructor(){this.handlers=Object.create(null)}*[Symbol.iterator](e=[]){e.length||(e=Object.keys(this.handlers)),e.length||(e=["default"]);for(let t of e)t in this.handlers&&(yield*this.handlers[t])}first(e,t){return 1===arguments.length&&([e,t]=["default",e]),(this.handlers[e]||(this.handlers[e]=[])).unshift(t),this}last(e,t){return 1===arguments.length&&([e,t]=["default",e]),(this.handlers[e]||(this.handlers[e]=[])).push(t),this}compose(...e){let t=this,s=function(){let s={canceled:!1,parameters:Array.from(arguments),result:void 0},i=t[Symbol.iterator](e),r=i.next();return T.composite_iterator(this,s,r,i)};return s.composer=t,s}static composite_iterator(e,t,s,i){let r,n;for(;!t.canceled&&!s.done;)if(r=s.value,n=e?r.call(e,t,...t.parameters):r(t,...t.parameters),s=i.next(),n instanceof Promise){if(!s.done||n.constructor===Promise)return n.then(E([r.name,"compositeAsyncHandler"].filter(Boolean).join(" "),(function(r){return t.result=r,T.composite_iterator(e,t,s,i)})));t.result=n}else t.result=n;return t.result}}function I(e){return new N(e).compose()}class N{constructor(e){this.originalHandler=e,this.expiredCalls=0,this.composer=new T;let t,s=this.composer.compose("conditions"),i=this;this.isExpired=e=>t||s.call(e)||!1,this.setExpired=e=>t=e?e instanceof Error?e:new _.INVALID_CALL({target:this.originalHandler,reason:"manually expired"}):Boolean(this.expiredCalls=0),this.addExpireCondition=function(e){this.composer.last("conditions",(function(t){let s=function(s){return L("JFactoryFunctionExpirable.addExpireCondition(), result",s).type(Boolean,Error),i.setExpired(!!s&&((t.canceled=!0)&&(s instanceof Error?s:new _.INVALID_CALL({target:i.originalHandler,reason:"conditionally expired",condition:e}))))},r=e.apply(this,t.parameters);return r instanceof Promise?r.then(s):s(r)}))}}compose(){let e=this,t=function(){let t=e.isExpired(this),s=e.constructor.call.bind(void 0,e,this,arguments);return t instanceof Promise?t.then(s):s(t)};return Object.assign(t,{expirable:this,isExpired:e=>this.isExpired(e),setExpired:e=>this.setExpired(e),addExpireCondition:e=>(this.addExpireCondition(e),t)})}static call(e,t,s,i){return i?e.onExpired(i):e.onNotExpired(t,s)}onExpired(e){return this.expiredCalls<N.MaxWarningExpiration&&(this.expiredCalls++,n.TraitLog&&console.warn(...new _.INVALID_CALL({...e.$data,reason:e.$data.reason+"; expiredCalls="+this.expiredCalls+(this.expiredCalls===N.MaxWarningExpiration?"; Max Warning Exceeded":"")}))),e}onNotExpired(e,t){return this.originalHandler.apply(e,t)}}function j(e){return new C(e).compose()}N.MaxWarningExpiration=10;class C{constructor(e){this.originalHandler=e,this.composer=new T,this.composer.first("original",E([e.name,"condition"].filter(Boolean).join(" "),(function(t){return e.apply(this,t.parameters)})))}compose(){let e=this.composer.compose("conditions","original");return Object.assign(e,{conditional:this,addCondition:t=>(this.addCondition(t),e)})}addCondition(e){this.composer.last("conditions",(function(t){let s=function(e){L("JFactoryFunctionConditional.addCondition(), result",e).typeBoolean(),!e&&(t.canceled=!0)},i=e.apply(this,t.parameters);return i instanceof Promise?i.then(s):s(i)}))}}function M(e){return new k(e).compose()}class k{constructor(e){this.originalHandler=e,this.composer=new T,this.composer.first("original",E([e.name,"wrapped"].filter(Boolean).join(" "),(function(t){return e.apply(this,t.parameters)})))}compose(){let e=this.composer.compose("before","original","after");return Object.assign(e,{wrappable:this,beforeAll:t=>(this.beforeAll(t),e),justBefore:t=>(this.justBefore(t),e),justAfter:t=>(this.justAfter(t),e),afterAll:t=>(this.afterAll(t),e)})}beforeAll(e){this.composer.first("before",e)}justBefore(e){this.composer.last("before",e)}justAfter(e){this.composer.first("after",e)}afterAll(e){this.composer.last("after",e)}}function D(e,t){return new w(e,t,{parser(e,t){let s=w.defaultParser(...arguments);if(s){({propertyName:e,propertyDescriptor:t}=s);let i=t.value;if("function"==typeof i)switch(i.name){case"$install":case"$uninstall":case"$enable":case"$disable":case"$state":break;default:t.value=M(i).beforeAll((function(){if(!this.$.states.enabled&&"PHASE_NONE"===this.$.service.phase){let e=new _.INVALID_CALL({owner:this,target:i,reason:"component disabled"});throw this.$logErr(...e),e}}))}return{propertyName:e,propertyDescriptor:t}}}})}class F{constructor(e){F.inject(this,F,e)}static inject(e,t,s){D(e,t).use(U.TraitCore).use(U.TraitAbout,{name:s}).use(U.TraitLog).use(U.TraitEvents).use(U.TraitState).use(U.TraitService).use(U.TraitTask)}}class B extends F{constructor(e){super(e),B.inject(this,B)}static inject(e,t){D(e,t).use(U.TraitFetch).use(U.TraitDOM).use(U.TraitCSS).use(U.TraitMutation).use(U.TraitTimeout).use(U.TraitInterval).use(U.TraitLibVue).use(U.TraitLibReact)}}const U=(e,t)=>Object.assign(new B(e),t);class H{static createDescriptors(e=H.DESCRIPTORS_PROTOTYPE){let t=H.create(e,!0,!0),s=Object.create(null);return s.NONE=t(),s.WRITABLE=t({writable:!0}),s.ENUMERABLE=t({enumerable:!0}),s.CONFIGURABLE=t({configurable:!0}),s.CONFIGURABLE_WRITABLE=s.WRITABLE_CONFIGURABLE=t({writable:!0,configurable:!0}),s.CONFIGURABLE_ENUMERABLE=s.ENUMERABLE_CONFIGURABLE=t({enumerable:!0,configurable:!0}),s.ENUMERABLE_WRITABLE=s.WRITABLE_ENUMERABLE=t({writable:!0,enumerable:!0}),s.WRITABLE_ENUMERABLE_CONFIGURABLE=s.WRITABLE_CONFIGURABLE_ENUMERABLE=s.ENUMERABLE_CONFIGURABLE_WRITABLE=s.ENUMERABLE_WRITABLE_CONFIGURABLE=s.CONFIGURABLE_WRITABLE_ENUMERABLE=s.CONFIGURABLE_ENUMERABLE_WRITABLE=t({writable:!0,enumerable:!0,configurable:!0}),s.READONLY=t({writable:!1,enumerable:!1,configurable:!1}),s}static assign(e,t,s,i){let r={};switch(typeof t){case"string":case"symbol":if(!i)throw new Error("missing descriptor argument; use Object.assign instead");(i=Object.create(i)).value=s,Object.defineProperty(e,t,i);break;case"object":if([s,i]=[t,s],!i)throw new Error("missing descriptor argument; use Object.assign instead");for(let e of Object.getOwnPropertyNames(s))r[e]=Object.create(i),r[e].value=s[e];for(let e of Object.getOwnPropertySymbols(s))r[e]=Object.create(i),r[e].value=s[e];Object.defineProperties(e,r);break;default:throw new Error("invalid property argument")}return e}static create(e,t=!1,s=!1){return function(i){return t?Object.assign(s?Object.create(null):{},e,i):Object.assign(Object.create(s?Object.assign(Object.create(null),e):e),i)}}static disinherit(e){return Object.assign(Object.create(null),e)}}H.DESCRIPTORS_PROTOTYPE={writable:!1,enumerable:!1,configurable:!1},a.onInit((function(){H.descriptors=H.createDescriptors()}));const Y=()=>++Y.uid;Y.uid=0;class V{constructor(e,t={}){let s,i;L("JFactoryAbout(owner)",e).type(Object),L("JFactoryAbout(about)",t).typePlainObject().reservedProperty("uid").reservedProperty("fingerprint"),"name"in t&&L("JFactoryAbout(about.name)",t.name).typeString().notEmptyString();let r=Y();t.name?(s=t.name,delete t.name,i="jFactory_"+v(s.toLowerCase())+"_"+r):(delete t.name,s=`[${e.constructor.name}#${r}]`,i="jFactory_"+e.constructor.name+"_"+r),H.assign(this,{uid:r,name:s,fingerprint:i},H.descriptors.ENUMERABLE),Object.assign(this,t),L("JFactoryAbout.name",this.name).matchReg(/^[\w[\]#]+$/),L("JFactoryAbout.fingerprint",this.fingerprint).matchReg(/^[\w]+$/)}}const q=()=>++q.uid;q.uid=0;class J extends Promise{constructor({name:e,config:t,traceSource:s},i){1===arguments.length&&([e,t,i]=[null,null,arguments[0]]);const r=q();let n,a;t={...J.DEFAULT_CONFIG,...t},L("name",e=e||"unnamed").type(String,Number).matchReg(/^[^. ]+$/),L("config",t).typePlainObject(),L("executor",i).typeFunction(),super((e,t)=>{n=e,a=t});const o=new K(this,r,e,t);Object.defineProperties(this,{$chain:{enumerable:!0,writable:!0,value:o},$type:{writable:!0,value:"promise"},$value:{writable:!0,value:void 0},$isSettled:{writable:!0,value:!1},$isRejected:{writable:!0,value:null},$isFulfilled:{writable:!0,value:null},$isExpired:{writable:!0,value:!1}}),Object.defineProperties(this,{$dev_name:{configurable:!0,value:e+"["+r+":0]"},$dev_path:{writable:!0,value:new W(this)},$dev_position:{writable:!0,value:0}}),h(i)||Object.defineProperties(this,{$dev_source:{value:i}}),y.tracer.attachTrace(this,s);const l=()=>{if(!this.$chain.isPending)try{this.$chainComplete("config.chainAutoComplete = true")}catch(e){console.error(e)}},c=e=>{if(!this.$isSettled){if(e===this)return void u(new TypeError("Chaining cycle detected for promise "+this.$dev_name));let t;if(null!==e&&("object"==typeof e||"function"==typeof x))try{t=e.then}catch(e){return void u(e)}if("function"==typeof t){let s=!1,i=function(e){s||(s=!0,c(e))},r=function(e){s||(s=!0,u(e))};try{t.call(e,i,r)}catch(e){s||u(e)}}else this.$isRejected=!1,this.$isFulfilled=!0,this.$isExpired&&(e=this.$chain.errorExpired),n(e),d(e)}},u=e=>{this.$isSettled||(this.$isRejected=!0,this.$isFulfilled=!1,a(e),d(e))},d=e=>{this.$value=e,this.$isSettled=!0,this.$chain.chainMap.set(this,!0),this.$chain.chainConfig.chainAutoComplete&&(1!==this.$chain.chainMap.size||this.$isExpired?l():this.then(l))};let p=t.chainAutoComplete;Object.defineProperty(t,"chainAutoComplete",{get:()=>p,set:e=>{p!==e&&(p=e,e&&l())}}),o.chainMap.set(this,!1),Object.defineProperties(this,{__resolve__:{value:c},__reject__:{value:u}});try{i(c,u)}catch(e){u(e)}}then(e,t,s){let i,r,n,a=h(e)&&!e.name.startsWith("bound ");e&&"function"==typeof e&&(i=function(s){return"await"===o&&!0===n.$isExpired&&n.$chain.errorExpired===s?t(s):n.$isSettled?void 0:e(s)}),t&&"function"==typeof t&&(r=function(e){if(!n.$isSettled)return t(e)});let o=s||(a?"await":void 0===e?"catch":"then");n=Object.assign(super.then(i,r),this),q.uid--,n.$type=o;{n.$dev_position=this.$chain.chainMap.size;let s="";e&&e.name&&(s+=e.name),t&&t.name&&(s+=","+t.name),Object.defineProperties(n,{$dev_name:{value:this.$chain.chainName+"["+this.$chain.chainId+":"+this.$dev_position+"]."+n.$type+(s?"("+s+")":"")+"["+n.$chain.chainId+":"+n.$dev_position+"]"},$dev_path:{value:new W(this.$dev_path,n)},$dev_onFulfilled:{value:e},$dev_onRejected:{value:t}})}return n.$chain.chainMap.set(n,!1),this.$isExpired&&J.forceExpire(n,this.$chain.errorExpired),n}$catchExpired(e){return this.then(t=>this.$chain.chainRoot.$isExpired?e(t):t,void 0,"$catchExpired")}static resolve(e,t){return 1===arguments.length&&([e,t]=[{},e]),e||(e={}),t instanceof this&&1===arguments.length?t:new this(e,(function(e){e(t)}))}static reject(e,t){return 1===arguments.length&&([e,t]=[{},e]),e||(e={}),new this(e,(function(e,s){s(t)}))}$toPromise(){return Promise.resolve(this)}$chainAbort(e="$chainAbort()"){return this.$chain.complete(e),this}$chainComplete(e="$chainComplete()"){return this.$chain.complete(e),this}$chainAutoComplete(){return this.$chain.chainConfig.chainAutoComplete=!0,this}static forceExpire(e,t){e.$isExpired=!0,e.$isSettled||"await"!==e.$type&&"$catchExpired"!==e.$type&&e.__resolve__(t)}}J.DEFAULT_CONFIG={chainAutoComplete:!1};class K{constructor(e,t,s,i){Object.defineProperties(this,{chainConfig:{value:i},chainRoot:{value:e},chainId:{value:t},chainName:{value:s},chainMap:{value:new Map},isCompleted:{value:!1,configurable:!0},data:{value:{}},__deferred__:{value:c.Deferred()}})}get isPending(){return Array.from(this.chainMap.values()).includes(!1)}then(e){return this.__deferred__.done(e),this}complete(e="chain.complete()"){let t=this.chainRoot;if(!t.$isExpired){let s=t.$chain.errorExpired=new _.PROMISE_EXPIRED({target:t,reason:e}),i=this.chainMap;for(let e of i.keys())J.forceExpire(e,s);Object.defineProperty(this,"isCompleted",{value:!0}),this.__deferred__.resolve()}return this}}class W extends Array{constructor(){super();for(let e of arguments)Array.isArray(e)?this.push(...e):this.push(e)}get printable(){return this.map((e,t)=>0===t?e.$dev_name:e.$dev_name.split(".")[1]).join(".")}toString(){return this.printable}}class G extends Promise{constructor(e){let t={$isSettled:!1,$isRejected:null,$value:void 0};super((s,i)=>{let r=!1,n=e=>{e instanceof Promise?G.resolve(e).then(n,a):r||(r=!0,t.$isSettled=!0,t.$isRejected=!1,t.$value=e,s(e))},a=e=>{r||(r=!0,t.$isSettled=!0,t.$isRejected=!0,t.$value=e,i(e))};try{e(n,a)}catch(e){a(e)}}),Object.assign(this,t),t=this}then(e,t){if(this.$isSettled){let s=this.$value;try{if(this.$isRejected){if(super.then(void 0,()=>null),!t||"function"!=typeof t)return G.reject(s);s=t(s)}else e&&"function"==typeof e&&(s=e(s))}catch(e){return G.reject(e)}return G.resolve(s)}return super.then(e,t)}static resolve(e){return e instanceof G?e:new G(e instanceof Promise?e.then.bind(e):t=>t(e))}}class z{constructor(){Object.defineProperties(this,{registry:{value:c(Object.create(null))},handlers:{value:new WeakMap},onListenerUpdate:{value:null,writable:!0},onObserverUpdate:{value:null,writable:!0}})}on({events:e,handler:t,target:s,selector:i}){z.validateSelector(e),L("JFactoryEvents.on({handler})",t).typeFunction(),s&&L("JFactoryEvents.on({target})",s).type(String,c,HTMLElement),i&&L("JFactoryEvents.on({selector})",s).typeString();let r=this.handlers.get(t);s?(r||this.handlers.set(t,!0),i?c(s).on(e,i,t):c(s).on(e,t),this.onListenerUpdate&&this.onListenerUpdate(arguments)):(r||(this.handlers.set(t,r=function(e,{data:s,stack:i}){i.push(()=>t(e,s))}),r.originalHandler=t),this.registry.on(e,r),this.onObserverUpdate&&this.onObserverUpdate(arguments))}off({events:e,handler:t,target:s,selector:i}){if(void 0!==e&&(z.validateSelector(e),t&&L("JFactoryEvents.off({handler})",t).typeFunction(),s&&L("JFactoryEvents.off({target})",s).type(String,c,HTMLElement),i&&L("JFactoryEvents.off({selector})",s).typeString()),s)i?c(s).off(e,i,t):c(s).off(e,t);else{if(c("*").off(e,t),t&&!(t=this.handlers.get(t)))throw new _.INVALID_VALUE({target:"handler",reason:"not registered",given:t});this.registry.off(e,t)}this.onObserverUpdate&&this.onObserverUpdate(arguments),this.onListenerUpdate&&this.onListenerUpdate(arguments)}triggerParallel({events:e,data:t,target:s}){z.validateSelector(e),s&&L("JFactoryEvents.triggerParallel({target})",s).type(String,c,HTMLElement);const i=[],r=[];if(e=e.split(" "),s)for(let r of e)c(s).trigger(r,{data:t,stack:i});else for(let s of e)this.registry.triggerHandler(s,{data:t,stack:i});for(let e of i){let t=e();t instanceof Promise&&!t.$isSettled&&r.push(t)}return r.length?Promise.all(r):G.resolve()}triggerSeries({events:e,data:t,target:s}){return z.validateSelector(e),s&&L("JFactoryEvents.triggerSeries({target})",s).type(String,c,HTMLElement),new G(async i=>{const r=[];if(e=e.split(" "),s)for(let i of e)c(s).trigger(i,{data:t,stack:r});else for(let s of e)this.registry.triggerHandler(s,{data:t,stack:r});for(let e of r){let t=e();t instanceof Promise&&!t.$isSettled&&await t}i()})}}class Q extends z{constructor(e){super(),Object.defineProperties(this,{parent:{value:e},affiliateRules:{value:(new T).compose()}}),this.affiliateAddRule(Q.rule_namespace)}affiliate(e="",t="",s){let i=new X(e);for(let e of i.events)this.affiliateRules(e,t,s);return i.toString()}affiliateAddRule(e){this.affiliateRules.composer.last(e)}static rule_namespace(e,t,s){s=s.split(".");for(let e of s)e&&t.addNamespace(e)}on(e,t,s,i,r){switch(arguments.length){case 2:[i,t]=[t];break;case 3:"function"==typeof arguments[2]?[i,s]=[s]:[i,r,t,s]=[t,s];break;case 4:"object"==typeof arguments[3]&&([r,i,s]=[i,s])}e=this.affiliate(e,this.parent.$.about.fingerprint,r),void 0===t?super.on({events:e,handler:i}):super.on({events:e,target:t,selector:s,handler:i})}off(e,t,s,i,r){const n=arguments.length;switch(n){case 1:"object"==typeof arguments[0]&&([r,e]=[e]);break;case 2:"function"==typeof arguments[1]?[i,t]=[t]:p(arguments[1])&&([r,t]=[t]);break;case 3:"function"==typeof arguments[2]?[i,s]=[s]:"function"==typeof arguments[1]&&([i,r,t,s]=[t,s]);break;case 4:"object"==typeof arguments[3]&&([r,i,s]=[i,s])}e=this.affiliate(e,this.parent.$.about.fingerprint,r),n<2?super.off({events:e}):t?super.off({events:e,target:t,selector:s,handler:i}):super.off({events:e,handler:i})}trigger(e,t,s){switch(arguments.length){case 2:"object"!=typeof t||t.jquery||([s,t]=[t])}return t?super.triggerSeries({events:e,target:t,data:s}):super.triggerSeries({events:e,data:s})}triggerParallel(e,t,s){switch(arguments.length){case 2:"object"!=typeof t||t.jquery||([s,t]=[t])}return t?super.triggerParallel({events:e,target:t,data:s}):super.triggerParallel({events:e,data:s})}getDomListeners(e){let t=new Map;for(let s of c("*")){let i=c._data(s,"events");if(i)for(let r of Object.values(i))for(let i of r){let r;if(new Z(i.namespace).hasNamespace(e)){(r=t.get(s))||t.set(s,r={}),(r[i.type]||(r[i.type]=[])).push({selector:i.selector||null,handler:i.handler,namespace:i.namespace})}}}return t}getObservers(){let e=new Map,t=this.registry._events;if(!t){let e=Object.values(this.registry)[0],s=Object.getOwnPropertyNames(e).find(e=>0===e.indexOf("jQuery"));e&&s&&(t=this.registry._events=e[s].events)}if(t)for(let[s,i]of Object.entries(t)){let t=e.get(s);t||(t=[],e.set(s,t));for(let e of i)t.push({handler:e.handler.originalHandler,namespace:e.namespace})}return e}}class X{constructor(e){z.validateSelector(e),this.events=e.split(" ").map(e=>new Z(e))}toString(){let e=[];for(let t of this.events)e.push(t.toString());return e.join(" ")}}class Z{constructor(e){let[t,...s]=e.split(".");this.event=t,this.namespace=new Set(s)}hasNamespace(e){Array.isArray(e)||(e=[e]);for(let t of e){if(!/^[\w:]+$/.test(t))throw new _.INVALID_VALUE({target:"namespace",reason:"must be alphanumeric, underscore and colon characters",given:t});if(t&&this.namespace.has(t))return t}return!1}addNamespace(e){if(!/^[\w:]+$/.test(e))throw new _.INVALID_VALUE({target:"namespace",reason:"must be alphanumeric, underscore and colon characters",given:e});this.namespace.add(e)}deleteNamespace(e){if(!/^[\w:]+$/.test(e))throw new _.INVALID_VALUE({target:"namespace",reason:"must be alphanumeric, underscore and colon characters",given:e});this.namespace.delete(e)}toString(){return this.namespace.size?this.event+"."+Array.from(this.namespace.values()).join("."):this.event}}z.validateSelector=function(e){L("JFactoryEvents.validateSelector(selector)",e).notUndefined().validSpaces();for(let[t,s]of e.split(" ").map(e=>e.split(".")).map(e=>[e.shift(),e.join(".")]))t&&z.validateEvent(t),s&&z.validateNamespace(s);return!0},z.validateEvent=function(e){if(L("JFactoryEvents.validateEvent(event)",e).notUndefined().notEmptyString().validSpaces(),!/^[\w:]+$/.test(e))throw new _.INVALID_VALUE({target:"JFactoryEvents.validateEvent(event)",reason:"must be alphanumeric, underscore and colon characters",given:e});return!0},z.validateNamespace=function(e){if(L("JFactoryEvents.validateNamespace(namespace)",e).notUndefined().notEmptyString().validSpaces(),!/^[\w:.]+$/.test(e))throw new _.INVALID_VALUE({target:"JFactoryEvents.validateNamespace(namespace)",reason:"must be alphanumeric, underscore, dot and colon characters",given:e});return!0};class ee extends J{constructor(e,t,s={}){if("function"==typeof e)super(e);else{"string"==typeof e&&([e,t,s]=[{},arguments[0],arguments[1]]);let i=new Request(t,s);super(e,(r,n)=>{let a=fetch(i).then(e=>{if(this.$chain.fetchResponse=e,!e.ok)throw Error(e.status+":"+e.statusText);return e});s.$typeText?a=a.then(e=>e.text()).then(e=>this.$chain.responseText=e):s.$typeJSON&&(a=a.then(e=>e.json()).then(e=>this.$chain.responseJSON=e)),a=a.catch(r=>{throw new _.REQUEST_ERROR({reason:r.message||r,target:this.$chain.fetchResponse&&this.$chain.fetchResponse.url||t,owner:this,fetchOptions:s,fetchRequest:i,fetchResponse:this.$chain.fetchResponse||null},e.traceSource)}),a.then(r,n)}),this.$chain.fetchOptions=s,this.$chain.fetchRequest=i;let r=s.abortController||new AbortController;s.signal=r.signal,this.$chain.fetchAbortController=r}}$chainAbort(e="request aborted"){return super.$chainAbort(e),this.$chain.fetchAbortController.abort(),this}}const te=Symbol();class se{constructor(e){e&&L("JFactoryLogger(options)",e).properties(Object.getOwnPropertyNames(se.DEFAULT_CONFIG)),m(this,e,se.DEFAULT_CONFIG),this.condition=j(se.DEFAULT_CONDITION),this.installAccessor("log"),this.installAccessor("warn"),this.installAccessor("error")}get enabled(){return this[te]&&(!this.parentLogger||this.parentLogger.enabled)}set enabled(e){e?this.enable():this.disable()}enable(){!0!==this[te]&&(this[te]=!0)}disable(){!1!==this[te]&&(this[te]=!1)}disallow(e,t=this.label){this.filters[t]||(this.filters[t]={}),this.filters[t][e]=!0}allow(e,t=this.label){this.filters[t]&&delete this.filters[t][e]}installAccessor(e,t=e,s=this){L("JFactoryLogger(nativeName)",e).equalIn(["log","warn","error"]),Object.defineProperties(s,{[t]:{get:this.accessor.bind(this,e),configurable:!0}})}accessor(e){return this[te]&&this.condition(e)&&this.formatter[e](this)||b}createSubLogger(e){let t=new se({enabled:this.enabled,label:this.label+"."+e,styles_css:this.styles_css,styles_cli:this.styles_cli,console:this.console,formatter:this.formatter});return t.parentLogger=this,t.condition.addCondition(()=>this.enabled),t.filters=this.filters,t}}se.FORMATTER_NATIVE={log:e=>e.console.log.bind(e.console,e.label+">"),warn:e=>e.console.warn.bind(e.console,e.label+">"),error:e=>e.console.error.bind(e.console,e.label+">")},se.FORMATTER_CLI={log:e=>e.console.log.bind(e.console,e.styles_cli.label,e.label+">"),warn:e=>e.console.warn.bind(e.console,e.styles_cli.label,e.label+">"),error:e=>e.console.error.bind(e.console,e.styles_cli.label,e.label+">")},se.FORMATTER_BROWSER={log:e=>e.console.log.bind(e.console,"%c"+e.label+">",e.styles_css.label),warn:e=>e.console.warn.bind(e.console,"%c"+e.label+">",e.styles_css.label),error:e=>e.console.error.bind(e.console,"%c"+e.label+">",e.styles_css.label)},se.DEFAULT_CONDITION=function(e){return L("JFactoryLogger.condition(nativeName)",e).equalIn(["log","warn","error"]),L("JFactoryLogger.enabled",this.enabled).equal(!0),!(this.filters[this.label]&&this.filters[this.label][e])},se.DEFAULT_CONFIG={label:"",enabled:!0,parentLogger:null,formatter:r?se.FORMATTER_CLI:se.FORMATTER_BROWSER,console:console,filters:{},styles_cli:{label:"[1;30m%s[0m"},styles_css:{label:"color: gray"}};class ie extends Date{toString(){return this.toLocaleTimeString()+", "+this.getUTCMilliseconds()+"ms ("+this.valueOf()+")"}$toDurationString(){let e=this.getUTCHours(),t=this.getUTCMinutes(),s=this.getUTCSeconds(),i=this.getUTCMilliseconds(),r=[];return e&&r.push(e+"h"),t&&r.push(t+"min"),s&&r.push(s+"s"),r.push(i+"ms"),1===r.length?r[0]:r.join(",")+" ("+this.valueOf()+")"}}class re extends Date{constructor(){super(),this.elapsed=null,Object.defineProperties(this,{t1:{value:null,writable:!0},t0:{value:new ie}})}end(){this.t1=new ie,this.elapsed=new ie(this.t1-this.t0).$toDurationString()}toString(){return this.elapsed}}class ne{trait_constructor(){const e=this;class t extends Map{$registerSync(t,s){let i=Object.defineProperties({},{$value:{value:s},$phaseRemove:{value:ue.getContextualRemovePhase(e)}});return this.set(t,i),i}$registerAsync(t,s,i){let r=e.$task(s,i.$chain);return i.$chain.then(()=>{r.$chainComplete("task completed")}),r.$chain.then(()=>{i.$chain.isCompleted||i.$chainAbort("aborted by task")}),Object.defineProperty(i,"$phaseRemove",{value:r.$phaseRemove}),this.set(t,i),r}}const s=Object.assign(Object.create(null),{[ne.SYMBOL_PRIVATE]:Object.create(null),assign:function(e,t,s){H.assign(this,e,t,s)},createSubMap:()=>new t});Object.defineProperty(this,"$",{value:Object.create(s)}),this.$.assign({tasks:null,requests:null},H.descriptors.ENUMERABLE_WRITABLE)}}ne.SYMBOL_PRIVATE=Symbol("_");class ae{trait_constructor(e){H.assign(this.$,"about",new V(this,e),H.descriptors.READONLY)}}class oe{trait_constructor(){let e=Object.assign({label:this.$.about.name},n.TraitLog||{enabled:!1}),t=new se(e);Object.defineProperty(this.$,"logger",{value:t}),t.installAccessor("log","$log",this),t.installAccessor("warn","$logWarn",this),t.installAccessor("error","$logErr",this)}}class le{trait_constructor(){this.$.assign("tasks",new Map,H.descriptors.ENUMERABLE)}$task(e,t){if(L("$task(id)",e).typeString(),L("$task(executorOrValue)",t).notUndefined(),this.$.tasks.has(e))throw new _.KEY_DUPLICATED({target:"$task(id)",given:e});let s,i;return s="function"==typeof t?new J({name:e,owner:this},t):J.resolve({name:e,owner:this},t),s.$phaseRemove=ue.getContextualRemovePhase(this),i=new re,s.$taskMetrics={$dev_timing:i},s.$chain.then(()=>{i.end(),this.$.tasks.get(e)&&this.$taskRemove(e)}),this.$.tasks.set(e,s),s}$taskRemove(e,t){if(L("$taskRemove(id)",e).typeString(),t&&L("$taskRemove(reason)",t).typeString(),!this.$.tasks.has(e))throw new _.KEY_MISSING({target:"$taskRemove(id)",given:e});this.$.tasks.get(e)._called,this.$.tasks.get(e)._called=!0;let s=this.$.tasks.get(e);this.$.tasks.delete(e),s.$chainAbort(t||"$taskRemove()")}$taskRemoveAll(e){L("$taskRemoveAll(removePhase)",e).equalIn(ue.PHASES);let t=this.$.tasks;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$taskRemove(s,"$taskRemoveAll("+e+")")}$taskPromiseAll(e=!1){let t=[];if(this.$.tasks.size)for(let s of this.$.tasks.values())e&&(s.$chain.chainConfig.chainAutoComplete=!0),s.$chain.isPending&&t.push(s.$chain);return t.length?Promise.all(t):G.resolve()}}class ce{trait_constructor(){de(this,"events",{custom:new Q(this),kernel:new Q(this)},H.descriptors.NONE);let e=this.$[ne.SYMBOL_PRIVATE].events.custom;Object.defineProperties(this.$,{listeners:{get:e.getDomListeners.bind(e,this.$.about.fingerprint),enumerable:!0},observers:{get:e.getObservers.bind(e),enumerable:!0}})}$on(){this.$[ne.SYMBOL_PRIVATE].events.custom.on(...arguments)}$off(){this.$[ne.SYMBOL_PRIVATE].events.custom.off(...arguments)}$trigger(){return this.$[ne.SYMBOL_PRIVATE].events.custom.trigger(...arguments)}$triggerParallel(){return this.$[ne.SYMBOL_PRIVATE].events.custom.triggerParallel(...arguments)}$notify(e,t){return this.$trigger(e,t).then(()=>this.$[ne.SYMBOL_PRIVATE].events.kernel.trigger(e,t))}}class he{trait_constructor(){const e=Object.create(null),t=Object.create(null),s=this.$[ne.SYMBOL_PRIVATE].events.kernel;de(this,{states:e,stateRoutes:t},H.descriptors.READONLY),H.assign(this.$,"states",new Proxy(e,{set:(e,t,s)=>this.$state(t,s),get:(t,s)=>e[s]}),H.descriptors.READONLY),s.on("beforeStateChange",(e,s)=>{let i;if(t[s.key]&&t[s.key].before&&(i=t[s.key].before(s.val)))return this.$notify(i)}),s.on("afterStateChange",(e,s)=>{let i;if(t[s.key]&&t[s.key].after&&(i=t[s.key].after(s.val)))return this.$notify(i)})}$state(e,t,s=!0){return L("$state(key)",e).typeString(),L("$state(notify)",s).typeBoolean(),new G(async i=>{let r,n=this.$[ne.SYMBOL_PRIVATE].states,a=n[e];e in n&&a===t||(r=s&&this.$notify("beforeStateChange",{key:e,val:t,previousVal:a}),r&&L("beforeStateChange result",r).type(G),r&&!r.$isSettled&&(n[e]=r,await r),void 0===t?delete n[e]:n[e]=t,r=s&&this.$notify("afterStateChange",{key:e,val:t,previousVal:a}),r&&L("afterStateChange result",r).type(G)),r?r.then(i):i()})}}class ue{trait_constructor(){H.assign(this.$,"service",Object.create(null),H.descriptors.READONLY),this.$.service.phase=ue.PHASE.NONE,this.$.service.phaseQueue=G.resolve(),this.$state("installed",!1,!1),this.$state("enabled",!1,!1),pe(this,"stateRoutes",{installed:{after:e=>e?"install":"uninstall"},enabled:{after:e=>e?"enable":"disable"}},H.descriptors.NONE);let e=this.$[ne.SYMBOL_PRIVATE].events.custom,t=this.$[ne.SYMBOL_PRIVATE].events.kernel;e.affiliateAddRule((e,t,s,i)=>ue.setEventNamespaceRemovePhase(this,t,i));let s=e=>{this.$.tasks.size&&this.$taskRemoveAll(this.$.service.phase);let t=G.resolve();return e&&(t=t.then(()=>e.call(this)).then(()=>this.$taskPromiseAll(!0))),t.catch(e=>{this.$.service.isPhaseKilling&&e instanceof _.PROMISE_EXPIRED||this.$logErr("unhandled promise rejection in "+this.$.service.phase+";",...e instanceof R?e:[e])})};t.on("install",()=>s(this.onInstall)),t.on("enable",()=>s(this.onEnable)),t.on("disable",()=>s(this.onDisable)),t.on("uninstall",()=>s(this.onUninstall)),t.on("disable",()=>this.$off({removal:ue.PHASE.DISABLE})),t.on("uninstall",()=>this.$off({removal:ue.PHASE.UNINSTALL}))}$install(e){return this.$.service.phaseQueue.$isSettled?(this.$.service.isPhaseKilling,this.$.service.phaseQueue=G.resolve().then(()=>{if(!this.$.states.installed)return this.$.service.phase=ue.PHASE.INSTALL,this.$state("installed",!0)}).then(()=>{if(e&&this.$.states.installed&&!this.$.states.enabled)return this.$.service.phase=ue.PHASE.ENABLE,this.$state("enabled",!0)}).then(()=>{this.$.service.phase=ue.PHASE.NONE})):this.$.service.phaseQueue.then(()=>this.$install())}$enable(){return this.$.service.phaseQueue.$isSettled?(this.$.service.isPhaseKilling,this.$.service.phaseQueue=G.resolve().then(()=>{if(this.$.states.installed&&!this.$.states.enabled)return this.$.service.phase=ue.PHASE.ENABLE,this.$state("enabled",!0)}).then(()=>{this.$.service.phase=ue.PHASE.NONE})):this.$.service.phaseQueue.then(()=>this.$enable())}$disable(){return this.$.service.phaseQueue.$isSettled?(this.$.service.isPhaseKilling,this.$.service.phaseQueue=G.resolve().then(()=>{if(this.$.states.enabled)return this.$.service.phase=ue.PHASE.DISABLE,this.$state("enabled",!1)}).then(()=>{this.$.service.phase=ue.PHASE.NONE})):ue.phaseKill(this).then(()=>this.$disable())}$uninstall(){return this.$.service.phaseQueue.$isSettled?(this.$.service.isPhaseKilling,this.$.service.phaseQueue=G.resolve().then(()=>{if(this.$.states.enabled)return this.$disable()}).then(()=>{if(this.$.states.installed)return this.$.service.phase=ue.PHASE.UNINSTALL,this.$state("installed",!1)}).then(()=>{this.$.service.phase=ue.PHASE.NONE})):ue.phaseKill(this).then(()=>this.$uninstall())}static phaseKill(e){return new Promise(t=>{e.$.service.phaseQueue.$isSettled?(e.$.service.isPhaseKilling=!1,t()):(e.$.service.isPhaseKilling=!0,e.$.tasks.size&&e.$taskRemoveAll(ue.getContextualRemovePhase(e),!0),setTimeout(()=>t(ue.phaseKill(e)),50))})}static getContextualRemovePhase(e){return ue.PHASE_REVERT[e.$.service.phase]}static setEventNamespaceRemovePhase(e,t,s){let i=t.hasNamespace(ue.PHASES),r=s&&s.removal;r||(r=ue.getContextualRemovePhase(e)),"uninstall"===t.event&&r===ue.PHASE.DISABLE&&(r=ue.PHASE.UNINSTALL),i!==r&&(t.deleteNamespace(i),t.addNamespace(r)),t.addNamespace(r)}}function de(e,t,s,i){H.assign(e.$[ne.SYMBOL_PRIVATE],t,s,i)}function pe(e,t,s,i){H.assign(e.$[ne.SYMBOL_PRIVATE][t],s,i)}ue.PHASE={NONE:"PHASE_NONE",INSTALL:"PHASE_INSTALL",ENABLE:"PHASE_ENABLE",DISABLE:"PHASE_DISABLE",UNINSTALL:"PHASE_UNINSTALL"},ue.PHASE_REVERT={[ue.PHASE.INSTALL]:ue.PHASE.UNINSTALL,[ue.PHASE.UNINSTALL]:ue.PHASE.INSTALL,[ue.PHASE.DISABLE]:ue.PHASE.ENABLE,[ue.PHASE.ENABLE]:ue.PHASE.DISABLE,[ue.PHASE.NONE]:ue.PHASE.DISABLE},ue.PHASES=Object.values(ue.PHASE),U.PHASE=H.disinherit(ue.PHASE),U.TraitCore=ne,U.TraitAbout=ae,U.TraitLog=oe,U.TraitEvents=ce,U.TraitState=he,U.TraitService=ue,U.TraitTask=le;class me{trait_constructor(){const e=this.$[ne.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$fetchRemoveAll(ue.PHASE.DISABLE)),e.on("uninstall",()=>this.$fetchRemoveAll(ue.PHASE.UNINSTALL)),this.$.assign("requests",this.$.createSubMap(),H.descriptors.ENUMERABLE)}$fetch(e,t,s={}){if(L("$fetch(id)",e).typeString(),L("$fetch(url)",t).typeString(),L("$fetch(fetchOptions)",s).typePlainObject(),this.$.requests.has(e))throw new _.KEY_DUPLICATED({target:"$fetch(id)",given:e});let i=new ee({name:e,traceSource:y.tracer.captureTraceSource("$fetch"),config:{chainAutoComplete:!0}},t,s);return this.$.requests.$registerAsync(e,'$fetch("'+e+'")',i),i.$chain.then(()=>{this.$.requests.has(e)&&this.$fetchRemove(e)}),i}$fetchText(e,t,s={}){return this.$fetch(e,t,{...s,$typeText:!0})}$fetchJSON(e,t,s={}){return this.$fetch(e,t,{...s,$typeJSON:!0})}$fetchRemove(e,t){if(L("$fetchRemove(id)",e).typeString(),t&&L("$fetchRemove(reason)",t).typeString(),!this.$.requests.has(e))throw new _.KEY_MISSING({target:"$fetchRemove(id)",given:e});this.$.requests.get(e)._debug_remove_called,this.$.requests.get(e)._debug_remove_called=!0;let s=this.$.requests.get(e);this.$.requests.delete(e),s.$chainAbort(t||"$fetchRemove()")}$fetchRemoveAll(e){L("removePhase",e).equalIn(ue.PHASES);let t=this.$.requests;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$fetchRemove(s,"$fetchRemoveAll("+e+")")}}class fe{trait_constructor(){const e=this.$[ne.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$timeoutRemoveAll(ue.PHASE.DISABLE)),e.on("uninstall",()=>this.$timeoutRemoveAll(ue.PHASE.UNINSTALL)),this.$.assign("timeouts",this.$.createSubMap(),H.descriptors.ENUMERABLE)}$timeout(e,t,s=null,...i){if(L("id",e).typeString(),L("delay",t).typeNumber(),L("handler",s).type(Function,null),this.$.timeouts.has(e))throw new _.KEY_DUPLICATED({target:"$timeout(id)",given:e});let r,n=new J({name:e,traceSource:y.tracer.captureTraceSource("$timeout"),config:{chainAutoComplete:!0}},e=>{r=setTimeout(()=>{n.$isExpired||e(s?s(...i):void 0)},t)});return this.$.timeouts.$registerAsync(e,'$timeout("'+e+'")',n),n.$chain.data.timer=r,n.$chain.then(()=>{this.$.timeouts.has(e)&&this.$timeoutRemove(e)}),n}$timeoutRemove(e,t){if(L("$timeoutRemove(id)",e).typeString(),t&&L("$timeoutRemove(reason)",t).typeString(),!this.$.timeouts.has(e))throw new _.KEY_MISSING({target:"$timeoutRemove(id)",given:e});this.$.timeouts.get(e)._debug_remove_called,this.$.timeouts.get(e)._debug_remove_called=!0;let s=this.$.timeouts.get(e);clearTimeout(s.$chain.data.timer),this.$.timeouts.delete(e),s.$chainAbort(t||"$timeoutRemove()")}$timeoutRemoveAll(e){L("removePhase",e).equalIn(ue.PHASES);let t=this.$.timeouts;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$timeoutRemove(s,"$timeoutRemoveAll()")}}class $e{trait_constructor(){const e=this.$[ne.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$intervalRemoveAll(ue.PHASE.DISABLE)),e.on("uninstall",()=>this.$intervalRemoveAll(ue.PHASE.UNINSTALL)),this.$.assign("timeints",this.$.createSubMap(),H.descriptors.ENUMERABLE)}$interval(e,t,s,...i){if(L("id",e).typeString(),L("handler",s).typeFunction(),L("delay",t).typeNumber(),this.$.timeints.has(e))throw new _.KEY_DUPLICATED({target:"$interval(id)",given:e});let r=setInterval(s,t,...i);this.$.timeints.$registerSync(e,r)}$intervalRemove(e){if(L("$intervalRemove(id)",e).typeString(),!this.$.timeints.has(e))throw new _.KEY_MISSING({target:"$intervalRemove(id)",given:e});this.$.timeints.get(e)._debug_remove_called,this.$.timeints.get(e)._debug_remove_called=!0,clearInterval(this.$.timeints.get(e).$value),this.$.timeints.delete(e)}$intervalRemoveAll(e){L("removePhase",e).equalIn(ue.PHASES);let t=this.$.timeints;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$intervalRemove(s)}}class ge{trait_constructor(){const e=this.$[ne.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$mutationRemoveAll(ue.PHASE.DISABLE)),e.on("uninstall",()=>this.$mutationRemoveAll(ue.PHASE.UNINSTALL)),this.$.assign("mutations",this.$.createSubMap(),H.descriptors.ENUMERABLE)}$mutation(e,t,s,i){if(L("id",e).typeString(),L("parent",t).type(HTMLElement,Document),L("config",s).typePlainObject(),L("handler",i).typeFunction(),this.$.mutations.has(e))throw new _.KEY_DUPLICATED({target:"$mutation(id)",given:e});let r=new MutationObserver(i);r.observe(t,s),this.$.mutations.$registerSync(e,r)}$mutationRemove(e,t){if(L("$mutationRemove(id)",e).typeString(),t&&L("$mutationRemove(reason)",t).typeString(),!this.$.mutations.has(e))throw new _.KEY_MISSING({target:"$mutationRemove(id)",given:e});this.$.mutations.get(e)._debug_remove_called,this.$.mutations.get(e)._debug_remove_called=!0,this.$.mutations.get(e).$value.disconnect(),this.$.mutations.delete(e)}$mutationRemoveAll(e){L("removePhase",e).equalIn(ue.PHASES);let t=this.$.mutations;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$mutationRemove(s)}}class ve{trait_constructor(){const e=this.$[ne.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$domRemoveAll(ue.PHASE.DISABLE)),e.on("uninstall",()=>this.$domRemoveAll(ue.PHASE.UNINSTALL)),this.$.assign("dom",this.$.createSubMap(),H.descriptors.ENUMERABLE)}$dom(e,t,s){let i;if(L("id",e).typeString(),L("jQueryArgument",t).type(String,Object),s&&L("appendTo",s).type(String,Object),"#"===e[0]&&(e=e.substring(1),i=!0),this.$.dom.has(e))throw new _.KEY_DUPLICATED({target:"$dom(id)",given:e});let r=c(t);return"TEMPLATE"===r[0].tagName&&(r=c(document.importNode(r[0].content,!0).children)),i&&(r[0].id=e),s&&r.appendTo(s),this.$.dom.$registerSync(e,r).$value}$domFetch(e,t,s,i){let r;if(s&&!p(s)&&([s,i]=[{},s]),L("id",e).typeString(),L("url",t).typeString(),i&&L("appendTo",i).type(String,Object),s&&L("fetchOptions",s).type(Object),"#"===e[0]&&(e=e.substring(1),r=!0),this.$.dom.has(e))throw new _.KEY_DUPLICATED({target:"$domFetch(id)",given:e});let n=this.$fetchText('$domFetch("'+e+'")',t,s).then(t=>{let s=c(t);return r&&(s[0].id=e),i&&s.appendTo(i),s});return this.$.dom.$registerAsync(e,'$domFetch("'+e+'")',n),n}$domRemove(e,t){if(L("$domRemove(id)",e).typeString(),t&&L("$domRemove(reason)",t).typeString(),!this.$.dom.has(e))throw new _.KEY_MISSING({target:"$domRemove(id)",given:e});this.$.dom.get(e)._debug_remove_called,this.$.dom.get(e)._debug_remove_called=!0;let s=this.$.dom.get(e),i=s.$value;i instanceof c&&i.remove(),s instanceof ee&&s.$chainAbort(t||"$domRemove()"),this.$.dom.delete(e)}$domRemoveAll(e){L("removePhase",e).equalIn(ue.PHASES);let t=this.$.dom;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$domRemove(s)}}class be{trait_constructor(){const e=this.$[ne.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$cssRemoveAll(ue.PHASE.DISABLE)),e.on("uninstall",()=>this.$cssRemoveAll(ue.PHASE.UNINSTALL)),this.$.assign("css",this.$.createSubMap(),H.descriptors.ENUMERABLE)}$css(e,t){let s;if(L("id",e).typeString(),L("css",t).typeString(),"#"===e[0]&&(e=e.substring(1),s=!0),this.$.css.has(e))throw new _.KEY_DUPLICATED({target:"$css(id)",given:e});return this.$.css.$registerSync(e,c("<style>").attr(s?{id:e}:{}).addClass("jFactory-css").html(t).appendTo("head")).$value}$cssFetch(e,t,s="head"){let i,r;if(L("id",e).typeString(),L("url",t).typeString(),"#"===e[0]&&(e=e.substring(1),i=!0),this.$.css.has(e))throw new _.KEY_DUPLICATED({target:"$cssFetch(id)",given:e});let n=new J({name:e,config:{chainAutoComplete:!0},traceSource:y.tracer.captureTraceSource("$cssFetch")},n=>r=c("<link>",{id:i?e:"",rel:"stylesheet",type:"text/css"}).addClass("jFactory-css").appendTo(s).on("load",()=>{n(r)}).attr("href",t));return n.$chain.data.dom=r,this.$.css.$registerAsync(e,'$cssFetch("'+e+'")',n),n}$cssRemove(e,t){if(L("$cssRemove(id)",e).typeString(),t&&L("$cssRemove(reason)",t).typeString(),!this.$.css.has(e))throw new _.KEY_MISSING({target:"$cssRemove(id)",given:e});this.$.css.get(e)._debug_remove_called,this.$.css.get(e)._debug_remove_called=!0;let s=this.$.css.get(e),i=s.$value||s.$chain&&s.$chain.data.dom;i instanceof c&&i.remove(),s instanceof J&&s.$chainAbort(t||"$cssRemove()"),this.$.css.delete(e)}$cssRemoveAll(e){L("removePhase",e).equalIn(ue.PHASES);let t=this.$.css;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$cssRemove(s)}}class Ee{trait_constructor(){const e=this.$[ne.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$vueRemoveAll(ue.PHASE.DISABLE)),e.on("uninstall",()=>this.$vueRemoveAll(ue.PHASE.UNINSTALL)),this.$.assign("vue",this.$.createSubMap(),H.descriptors.ENUMERABLE)}$vue(e,t){if(L("id",e).typeString(),L("vue",t).type(Object),this.$.vue.has(e))throw new _.KEY_DUPLICATED({target:"$vue(id)",given:e});return this.$.vue.$registerSync(e,t).$value}$vueRemove(e){if(L("$vueRemove(id)",e).typeString(),!this.$.vue.has(e))throw new _.KEY_MISSING({target:"$vueRemove(id)",given:e});this.$.vue.get(e)._debug_remove_called,this.$.vue.get(e)._debug_remove_called=!0;let t=this.$.vue.get(e);c(t.$value.$el).remove(),t.$value.$destroy(),this.$.vue.delete(e)}$vueRemoveAll(e){L("removePhase",e).equalIn(ue.PHASES);let t=this.$.vue;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$vueRemove(s)}}class Ae{trait_constructor(){const e=this.$[ne.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$reactRemoveAll(ue.PHASE.DISABLE)),e.on("uninstall",()=>this.$reactRemoveAll(ue.PHASE.UNINSTALL)),this.$.assign("react",this.$.createSubMap(),H.descriptors.ENUMERABLE)}$react(e,t,s,...i){if(!U.ReactDOM)throw new Error("jFactory.ReactDOM=ReactDOM must be set before using the React Trait");if(L("id",e).typeString(),L("container",t).type(HTMLElement,c),this.$.react.has(e))throw new _.KEY_DUPLICATED({target:"$react(id)",given:e});t=c(t)[0];let r=U.ReactDOM.render(s,t,...i);return this.$.react.$registerSync(e,{container:t,view:r}).$value.view}$reactRemove(e){if(L("$reactRemove(id)",e).typeString(),!this.$.react.has(e))throw new _.KEY_MISSING({target:"$reactRemove(id)",given:e});this.$.react.get(e)._debug_remove_called,this.$.react.get(e)._debug_remove_called=!0;let t=this.$.react.get(e).$value.container;t&&(U.ReactDOM.unmountComponentAtNode(t)||this.$logWarn("unmountComponentAtNode failed to unmount",t),c(t).remove()),this.$.react.delete(e)}$reactRemoveAll(e){L("removePhase",e).equalIn(ue.PHASES);let t=this.$.react;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$reactRemove(s)}}U.TraitFetch=me,U.TraitTimeout=fe,U.TraitInterval=$e,U.TraitMutation=ge,U.TraitDOM=ve,U.TraitCSS=be,U.TraitLibVue=Ee,U.TraitLibReact=Ae,"undefined"!=typeof jFactoryOverride&&jFactoryOverride||a.init();export{r as JFACTORY_CLI,i as JFACTORY_DEBUG,s as JFACTORY_DEV,V as JFactoryAbout,B as JFactoryComponent,F as JFactoryCoreObject,R as JFactoryError,Z as JFactoryEventSelector,X as JFactoryEventSelectorParser,z as JFactoryEvents,Q as JFactoryEventsManager,L as JFactoryExpect,ee as JFactoryFetch,T as JFactoryFunctionComposer,C as JFactoryFunctionConditional,N as JFactoryFunctionExpirable,k as JFactoryFunctionWrappable,se as JFactoryLogger,H as JFactoryObject,J as JFactoryPromise,K as JFactoryPromiseChain,W as JFactoryPromisePath,G as JFactoryPromiseSync,ie as JFactoryTime,re as JFactoryTimeTrace,S as JFactoryTrace_LIB_STACKTRACE,A as JFactoryTrace_NOFILTER,w as JFactoryTraits,ae as TraitAbout,be as TraitCSS,ne as TraitCore,ve as TraitDOM,ce as TraitEvents,me as TraitFetch,$e as TraitInterval,Ae as TraitLibReact,Ee as TraitLibVue,oe as TraitLog,ge as TraitMutation,ue as TraitService,he as TraitState,le as TraitTask,fe as TraitTimeout,de as assignPrivate,pe as assignPrivateMember,U as jFactory,n as jFactoryConfig,o as jFactoryDev,_ as jFactoryError,j as jFactoryFunctionConditional,I as jFactoryFunctionExpirable,M as jFactoryFunctionWrappable,l as jFactoryInit,a as jFactoryLoader,y as jFactoryTrace,D as jFactoryTraits};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiakZhY3RvcnktZGV2ZWwubWpzIiwic291cmNlcyI6WyIuLi9zcmMvakZhY3RvcnktZW52Lm1qcyIsIi4uL3NyYy9qRmFjdG9yeS1sb2FkZXIubWpzIiwiLi4vc3JjL2pGYWN0b3J5LWhlbHBlcnMubWpzIiwiLi4vc3JjL0pGYWN0b3J5VHJhY2UubWpzIiwiLi4vc3JjL0pGYWN0b3J5RXJyb3IubWpzIiwiLi4vc3JjL0pGYWN0b3J5RXhwZWN0Lm1qcyIsIi4uL3NyYy9KRmFjdG9yeVRyYWl0cy5tanMiLCIuLi9zcmMvSkZhY3RvcnlGdW5jdGlvbi5tanMiLCIuLi9zcmMvakZhY3RvcnktdHJhaXRzLm1qcyIsIi4uL3NyYy9qRmFjdG9yeS5tanMiLCIuLi9zcmMvSkZhY3RvcnlPYmplY3QubWpzIiwiLi4vc3JjL0pGYWN0b3J5QWJvdXQubWpzIiwiLi4vc3JjL0pGYWN0b3J5UHJvbWlzZS5tanMiLCIuLi9zcmMvSkZhY3RvcnlFdmVudHMubWpzIiwiLi4vc3JjL0pGYWN0b3J5RmV0Y2gubWpzIiwiLi4vc3JjL0pGYWN0b3J5TG9nZ2VyLm1qcyIsIi4uL3NyYy9KRmFjdG9yeVRpbWUubWpzIiwiLi4vc3JjL1RyYWl0c0NvcmUubWpzIiwiLi4vc3JjL1RyYWl0c0NvbXBvbmVudHMubWpzIiwiLi4vc3JjL2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuICovXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnkgRW52XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gQ29tcGlsZS10aW1lIGltbXV0YWJsZSBFbnY7IHVzZWQgYnkgVHJlZSBTaGFraW5nIHRvIHJlbW92ZSB1bnVzZWQgY29kZVxuZXhwb3J0IGNvbnN0IEpGQUNUT1JZX0RFViA9IHR5cGVvZiBDT01QSUxFUl9ERVYgPT09IFwidW5kZWZpbmVkXCIgPyBmYWxzZSA6IENPTVBJTEVSX0RFVjsgLy8gRGV2ZWxvcGVyIE1vZGVcbmV4cG9ydCBjb25zdCBKRkFDVE9SWV9ERUJVRyA9IHR5cGVvZiBDT01QSUxFUl9ERUJVRyA9PT0gXCJ1bmRlZmluZWRcIiA/IGZhbHNlIDogQ09NUElMRVJfREVCVUc7IC8vIERlYnVnIHRoZSBsaWJyYXJ5XG5leHBvcnQgY29uc3QgSkZBQ1RPUllfQ0xJID0gdHlwZW9mIENPTVBJTEVSX0NMSSA9PT0gXCJ1bmRlZmluZWRcIiA/XG4gICAgdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUgOiBDT01QSUxFUl9DTEk7XG5cbi8vIE11dGFibGUgY29uZmlndXJhdGlvblxuZXhwb3J0IGNvbnN0IGpGYWN0b3J5Q29uZmlnID0ge1xuICAgIFRyYWl0TG9nOiBKRkFDVE9SWV9ERVYgJiYgIUpGQUNUT1JZX0NMSSB8fCBKRkFDVE9SWV9ERUJVRyxcbiAgICBKRmFjdG9yeUVycm9yOiB7XG4gICAgICAgIGtleXM6IFtcIiQuYWJvdXQubmFtZVwiLCBcIiRkZXZfbmFtZVwiLCBcIiRuYW1lXCIsIFwibmFtZVwiLCBcImlkXCJdXG4gICAgfSxcbiAgICBKRmFjdG9yeVRyYWNlOiBKRkFDVE9SWV9ERVYgJiYgIUpGQUNUT1JZX0NMSVxuICAgICAgICAmJiB7XG4gICAgICAgICAgICBrZXlzOiBbXCIkZGV2X3RyYWNlTG9nXCIsIFwiJGRldl90cmFjZVNvdXJjZVwiXSxcbiAgICAgICAgICAgIGxpYk9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBvZmZsaW5lOiBCb29sZWFuKGdsb2JhbFRoaXMuY2hyb21lKSwgLy8gbG9hZGluZyBzb3VyY2VtYXBzIGlzIG5vdCByZXF1aXJlZCBpbiBjaHJvbWVcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5saW5lTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgIC8vICYmICh2YWx1ZS5maWxlTmFtZSArIHZhbHVlLmZ1bmN0aW9uTmFtZSkudG9Mb2NhbGVMb3dlckNhc2UoKS5pbmRleE9mKCdqZmFjdG9yeScpIDwgMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICBqRmFjdG9yeURldjogSkZBQ1RPUllfREVWXG4gICAgICAgICYmIHtcbiAgICAgICAgICAgIHJlcXVpcmVDb21wYXRpYmlsaXR5OiB7XG4gICAgICAgICAgICAgICAgZ2xvYmFsVGhpczoge1xuICAgICAgICAgICAgICAgICAgICB0ZXN0OiAoKSA9PiBnbG9iYWxUaGlzLFxuICAgICAgICAgICAgICAgICAgICBpbmZvOiBcImh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2dsb2JhbFRoaXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmV0Y2g6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVzdDogKCkgPT4gZmV0Y2gsXG4gICAgICAgICAgICAgICAgICAgIGluZm86IFwiaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0ZldGNoX0FQSS9Vc2luZ19GZXRjaFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBSZXF1ZXN0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRlc3Q6ICgpID0+IFJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgIGluZm86IFwiaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL1JlcXVlc3RcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJBYm9ydENvbnRyb2xsZXIsIEFib3J0U2lnbmFsXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVzdDogKCkgPT4gbmV3IEFib3J0Q29udHJvbGxlcigpLnNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgaW5mbzogXCJodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvQWJvcnRDb250cm9sbGVyLCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcImh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9BYm9ydFNpZ25hbFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBNdXRhdGlvbk9ic2VydmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlc3Q6ICgpID0+IE11dGF0aW9uT2JzZXJ2ZXIsXG4gICAgICAgICAgICAgICAgICAgIGluZm86IFwiaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL011dGF0aW9uT2JzZXJ2ZXJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxufTsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgSkZBQ1RPUllfQ0xJLCBKRkFDVE9SWV9ERVYsIGpGYWN0b3J5Q29uZmlnIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnkgTG9hZGVyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjb25zdCBqRmFjdG9yeUxvYWRlciA9IHtcbiAgICBzZXE6IFtdLFxuICAgIGluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLnNlcSkge1xuICAgICAgICAgICAgbGV0IHNlcSA9IHRoaXMuc2VxO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc2VxO1xuICAgICAgICAgICAgZm9yIChsZXQgbW9kdWxlIG9mIHNlcSkge1xuICAgICAgICAgICAgICAgIG1vZHVsZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgZ2xvYmFsVGhpcy5qRmFjdG9yeU92ZXJyaWRlXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG9uSW5pdChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuc2VxLnB1c2goaGFuZGxlcilcbiAgICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gakZhY3RvcnlEZXYoKSB7XG4gICAgY29uc29sZS5sb2coXCJqRmFjdG9yeSBpcyBydW5uaW5nIGluIGRldmVsb3BtZW50IG1vZGUuXFxuUGVyZm9ybWFuY2VzIHdpbGwgYmUgYWZmZWN0ZWQuXCIpO1xuICAgIGZvciAobGV0IFtuYW1lLCBlbnRyeV0gb2YgT2JqZWN0LmVudHJpZXMoakZhY3RvcnlDb25maWcuakZhY3RvcnlEZXYucmVxdWlyZUNvbXBhdGliaWxpdHkpKSB7XG4gICAgICAgIGxldCBwYXNzO1xuICAgICAgICB0cnkge3Bhc3MgPSBCb29sZWFuKGVudHJ5LnRlc3QoKSl9IGNhdGNoIChpZ25vcmUpIHt9XG4gICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBqRmFjdG9yeSBtYXkgcmVxdWlyZSB0aGUgc3VwcG9ydCBvZiBcIiR7bmFtZX1cIiwgJHtlbnRyeS5pbmZvfWApXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBqRmFjdG9yeUluaXQoKSB7XG4gICAgIWpGYWN0b3J5Q29uZmlnLlRyYWl0TG9nICYmIChKRkFDVE9SWV9ERVYgfHwgSkZBQ1RPUllfQ0xJKSAmJiBjb25zb2xlLndhcm4oXCJqRmFjdG9yeTogTE9HUyBSRU1PVkVEXCIpO1xufVxuXG5KRkFDVE9SWV9ERVYgJiYgakZhY3RvcnlMb2FkZXIub25Jbml0KGpGYWN0b3J5RGV2KTtcbmpGYWN0b3J5TG9hZGVyLm9uSW5pdChqRmFjdG9yeUluaXQpOyIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgJCBmcm9tIFwianF1ZXJ5XCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnkgSGVscGVyc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDZW50cmFsaXplIGhlbHBlcnMgYW5kIGV4dGVybmFscyBpbiBvbmUgbW9kdWxlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRoZSBqRmFjdG9yeSBidW5kbGVyIHNob3VsZCBleGNsdWRlIGV4dGVybmFsIGltcG9ydHMgdG8gbGV0IHRoZSBwcm9qZWN0IGRlYWxzIHdpdGggZXh0ZXJuYWwgbGlicmFyaWVzLFxuLy8gYWxsb3dpbmcgY3VzdG9taXplZCBpbXBvcnRzIChDRE4gc2NyaXB0cywgb3B0aW1pemVkIGNvbXBpbGVkIGltcG9ydHMsIG92ZXJyaWRlcy4uLilcbi8vIFNlZTogcm9sbHVwOiBcIm91dHB1dC5nbG9iYWxzXCIgYW5kIFwiZXh0ZXJuYWxcIjsgd2VicGFjazogXCJleHRlcm5hbHNcIlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY29uc3QgalF1ZXJ5ID0gJDtcblxuZXhwb3J0IGNvbnN0IGhlbHBlcl9pc05hdGl2ZSA9IF8uaXNOYXRpdmU7XG5leHBvcnQgY29uc3QgaGVscGVyX2lzU3RyaW5nID0gXy5pc1N0cmluZztcbmV4cG9ydCBjb25zdCBoZWxwZXJfaXNOdW1iZXIgPSBfLmlzTnVtYmVyO1xuZXhwb3J0IGNvbnN0IGhlbHBlcl9pc1BsYWluT2JqZWN0ID0gXy5pc1BsYWluT2JqZWN0O1xuZXhwb3J0IGNvbnN0IGhlbHBlcl9kZWZhdWx0c0RlZXAgPSBfLmRlZmF1bHRzRGVlcDtcbmV4cG9ydCBjb25zdCBoZWxwZXJfbG93ZXJGaXJzdCA9IF8ubG93ZXJGaXJzdDtcbmV4cG9ydCBjb25zdCBoZWxwZXJfZ2V0ID0gXy5nZXQ7XG5leHBvcnQgY29uc3QgaGVscGVyX3RlbXBsYXRlID0gXy50ZW1wbGF0ZTtcbmV4cG9ydCBjb25zdCBoZWxwZXJfY2FtZWxDYXNlID0gXy5jYW1lbENhc2U7XG5cbmV4cG9ydCBjb25zdCBOT09QID0gKCkgPT4ge307XG5leHBvcnQgY29uc3Qgc2V0RnVuY3Rpb25OYW1lID0gKG5hbWUsIGYpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCBcIm5hbWVcIiwgeyB2YWx1ZTogbmFtZSB9KTsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgakZhY3RvcnlDb25maWcgfSBmcm9tIFwiLi9qRmFjdG9yeS1lbnZcIjtcbmltcG9ydCB7IGpGYWN0b3J5TG9hZGVyIH0gZnJvbSBcIi4vakZhY3RvcnktbG9hZGVyXCI7XG5pbXBvcnQgeyBOT09QIH0gZnJvbSBcIi4vakZhY3RvcnktaGVscGVyc1wiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5VHJhY2Vcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0gI2xpbWl0YXRpb24jIEVycm9yLnN0YWNrIGlzIG5vdCBzdGFuZGFyZGl6ZWRcbi8vIC0gI2xpbWl0YXRpb24jIEVycm9yLnN0YWNrIGlzIG5vdCBzb3VyY2UtbWFwcGVkXG4vLyAtICNsaW1pdGF0aW9uIyBidWcgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU4NDI0NFxuLy8gLSAjbGltaXRhdGlvbiMgU3RhY2tUcmFjZS5qcyByZXNvbHZlcyBzb3VyY2VtYXBzLiBVbmZvcnR1bmF0ZWx5LCBpdCBkb2Vzbid0IHdvcmsgd2l0aCBcIndlYnBhY2s6XCIgcHJvdG9jb2xcbi8vICAgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdGFja3RyYWNlanMvc3RhY2t0cmFjZS5qcy9pc3N1ZXMvMjA5XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3NvdXJjZS1tYXAvXG4vLyBodHRwczovL3d3dy5zdGFja3RyYWNlanMuY29tL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL25vdm9jYWluZS9zb3VyY2VtYXBwZWQtc3RhY2t0cmFjZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeVRyYWNlX05PRklMVEVSIHtcblxuICAgIGNvbnN0cnVjdG9yKHsgbGFiZWwsIHN0YWNrVHJhY2VMaW1pdCwga2V5cywgbGliT3B0aW9ucyB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsIHx8IFwiVGhlIHN0YWNrIGhhcyBiZWVuIHByaW50ZWQgaW4gdGhlIGNvbnNvbGVcIjtcbiAgICAgICAgdGhpcy5zdGFja1RyYWNlTGltaXQgPSBzdGFja1RyYWNlTGltaXQgfHwgSW5maW5pdHk7XG4gICAgICAgIHRoaXMua2V5cyA9IGtleXMgfHwgW1wic3RhY2tMb2dcIiwgXCJzdGFja1NvdXJjZVwiXTtcbiAgICAgICAgdGhpcy5saWJPcHRpb25zID0gbGliT3B0aW9ucyB8fCB7fVxuICAgIH1cblxuICAgIGNhcHR1cmVUcmFjZVNvdXJjZShvbWl0QWJvdmVGdW5jdGlvbk5hbWUsIG9taXRTZWxmKSB7XG4gICAgICAgIGxldCBfc3RhY2tUcmFjZUxpbWl0O1xuICAgICAgICBpZiAodGhpcy5zdGFja1RyYWNlTGltaXQpIHtcbiAgICAgICAgICAgIF9zdGFja1RyYWNlTGltaXQgPSBFcnJvci5zdGFja1RyYWNlTGltaXQ7XG4gICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSB0aGlzLnN0YWNrVHJhY2VMaW1pdFxuICAgICAgICB9XG4gICAgICAgIGlmICghb21pdEFib3ZlRnVuY3Rpb25OYW1lKSB7XG4gICAgICAgICAgICBvbWl0QWJvdmVGdW5jdGlvbk5hbWUgPSBcImNhcHR1cmVUcmFjZVNvdXJjZVwiO1xuICAgICAgICAgICAgb21pdFNlbGYgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRyYWNlU291cmNlID0ge1xuICAgICAgICAgICAgc291cmNlOiBuZXcgRXJyb3IoKSxcbiAgICAgICAgICAgIG9taXRBYm92ZUZ1bmN0aW9uTmFtZSxcbiAgICAgICAgICAgIG9taXRTZWxmXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnN0YWNrVHJhY2VMaW1pdCkge1xuICAgICAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gX3N0YWNrVHJhY2VMaW1pdFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFjZVNvdXJjZVxuICAgIH1cblxuICAgIGF0dGFjaFRyYWNlKHRhcmdldE9iamVjdCwgdHJhY2VTb3VyY2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0cmFjZVNvdXJjZSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgdHJhY2VTb3VyY2UgPSB0aGlzLmNhcHR1cmVUcmFjZVNvdXJjZSh0cmFjZVNvdXJjZSB8fCBcImF0dGFjaFRyYWNlXCIsICF0cmFjZVNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdHJhY2UgPSB0cmFjZVNvdXJjZS5zb3VyY2U7XG4gICAgICAgIHRoaXMudG9QcmludGFibGVUcmFjZSh0cmFjZVNvdXJjZSlcbiAgICAgICAgICAgIC50aGVuKHIgPT4gdHJhY2UgPSByKTtcblxuICAgICAgICBsZXQgbG9nID0gKCkgPT4gY29uc29sZS5sb2codHJhY2UpIHx8IHRoaXMubGFiZWw7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldE9iamVjdCwgdGhpcy5rZXlzWzBdIC8qIHRyYWNlTG9nICovLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIC8vIGhpZGUgdGhlIGZ1bmN0aW9uIGJvZHkgdG8gaW1wcm92ZSByZWFkYWJpbGl0eSBpbiBkZXZ0b29sXG4gICAgICAgICAgICBnZXQ6ICgpID0+IGxvZygpXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0T2JqZWN0LCB0aGlzLmtleXNbMV0gLyogdHJhY2VTb3VyY2UgKi8sIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgLy8gaGlkZSB0aGUgdHJhY2VTb3VyY2UgRXJyb3IgdG8gaW1wcm92ZSByZWFkYWJpbGl0eSBpbiBkZXZ0b29sLCBzcGVjaWFsbHkgaW4gRmlyZWZveFxuICAgICAgICAgICAgZ2V0OiAoKSA9PiB0cmFjZVNvdXJjZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0b1ByaW50YWJsZVRyYWNlKHRyYWNlU291cmNlKSB7XG4gICAgICAgIC8vIFNQRUM6IHRoaXMgb3ZlcnJpZGFibGUgbWV0aG9kIHJldHVybnMgYSBwcm9taXNlXG4gICAgICAgIC8vIGJlY2F1c2Ugc3RhY2t0cmFjZSBwYXJzZXJzIG1heSBiZSBhc3luY2hyb25vdXNcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cmFjZVNvdXJjZS5zb3VyY2UpXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlUcmFjZV9MSUJfU1RBQ0tUUkFDRSBleHRlbmRzIEpGYWN0b3J5VHJhY2VfTk9GSUxURVIge1xuXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgfVxuXG4gICAgdG9QcmludGFibGVUcmFjZSh0cmFjZVNvdXJjZSkge1xuICAgICAgICByZXR1cm4gU3RhY2tUcmFjZS5mcm9tRXJyb3IodHJhY2VTb3VyY2Uuc291cmNlLCB0aGlzLmxpYk9wdGlvbnMpXG4gICAgICAgICAgICAudGhlbih0cmFjZUZyYW1lcyA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAodHJhY2VTb3VyY2Uub21pdEFib3ZlRnVuY3Rpb25OYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzbGljZSA9IHRyYWNlRnJhbWVzLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuZnVuY3Rpb25OYW1lICYmIHZhbHVlLmZ1bmN0aW9uTmFtZS5lbmRzV2l0aCh0cmFjZVNvdXJjZS5vbWl0QWJvdmVGdW5jdGlvbk5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzbGljZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFjZVNvdXJjZS5vbWl0U2VsZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWNlKytcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlRnJhbWVzID0gdHJhY2VGcmFtZXMuc2xpY2Uoc2xpY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyYWNlRnJhbWVzID0gdHJhY2VGcmFtZXNcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcih0aGlzLmxpYk9wdGlvbnMuZmlsdGVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRUcmFjZUZyYW1lcyh0cmFjZUZyYW1lcylcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZvcm1hdFRyYWNlRnJhbWVzKHRyYWNlRnJhbWVzKSB7XG4gICAgICAgIGxldCBoZWFkZXI7XG4gICAgICAgIGxldCBsaW5lUHJlZml4O1xuICAgICAgICBpZiAodGhpcy5saWJPcHRpb25zLm9mZmxpbmUgJiYgd2luZG93LmNocm9tZSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGZhbGxvd2luZyBzeW50YXggaXMgZGV0ZWN0ZWQgb24gQ2hyb21lLFxuICAgICAgICAgICAgLy8gdGhlIGNvbnNvbGUubG9nKCkgd2lsbCBjb252ZXJ0IHRoZSBmaWxlTmFtZXMgdXNpbmcgc291cmNlbWFwc1xuICAgICAgICAgICAgaGVhZGVyID0gXCJFcnJvclxcblwiOyAvLyBub3RlcyB0aGF0IGFueXRoaW5nIGFmdGVyIFwiRXJyb3JcIiBpcyB2YWxpZFxuICAgICAgICAgICAgbGluZVByZWZpeCA9IFwiXFx0YXQgXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoZWFkZXIgPSBcIlwiO1xuICAgICAgICAgICAgbGluZVByZWZpeCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlYWRlciArXG4gICAgICAgICAgICB0cmFjZUZyYW1lc1xuICAgICAgICAgICAgICAgIC5tYXAoc2YgPT4gbGluZVByZWZpeCArIHNmLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgLmpvaW4oXCJcXG5cIik7XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGpGYWN0b3J5VHJhY2Vcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNvbnN0IGpGYWN0b3J5VHJhY2UgPSB7fTtcblxuakZhY3RvcnlMb2FkZXIub25Jbml0KGZ1bmN0aW9uKCkge1xuICAgIGxldCBjb25maWcgPSBqRmFjdG9yeUNvbmZpZy5KRmFjdG9yeVRyYWNlO1xuICAgIGlmIChjb25maWcgJiYgY29uZmlnLnVzZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgbGV0IGNvbnN0cnVjdG9yO1xuICAgICAgICBjb25zdHJ1Y3RvciA9IHR5cGVvZiBjb25maWcudXNlID09PSBcImZ1bmN0aW9uXCIgP1xuICAgICAgICAgICAgY29uZmlnLnVzZSA6XG4gICAgICAgICAgICB0eXBlb2YgU3RhY2tUcmFjZSA9PT0gXCJvYmplY3RcIiA/IEpGYWN0b3J5VHJhY2VfTElCX1NUQUNLVFJBQ0UgOiBKRmFjdG9yeVRyYWNlX05PRklMVEVSO1xuICAgICAgICBpZiAoY29uc3RydWN0b3IgPT09IEpGYWN0b3J5VHJhY2VfTElCX1NUQUNLVFJBQ0UpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcImpGYWN0b3J5OiBTdGFjayB0cmFjZSBlbmFibGVkOyBQZXJmb3JtYW5jZSB3aWxsIGJlIGFmZmVjdGVkXCIpXG4gICAgICAgIH1cbiAgICAgICAgakZhY3RvcnlUcmFjZS50cmFjZXIgPSBuZXcgY29uc3RydWN0b3IoY29uZmlnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBqRmFjdG9yeVRyYWNlLnRyYWNlciA9IHtcbiAgICAgICAgICAgIGNhcHR1cmVUcmFjZVNvdXJjZTogTk9PUCxcbiAgICAgICAgICAgIGF0dGFjaFRyYWNlOiBOT09QXG4gICAgICAgIH07XG4gICAgfVxufSk7IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IEpGQUNUT1JZX0RFViwgakZhY3RvcnlDb25maWcgfSBmcm9tIFwiLi9qRmFjdG9yeS1lbnZcIjtcbmltcG9ydCB7IGhlbHBlcl9nZXQsIGhlbHBlcl9pc05hdGl2ZSwgaGVscGVyX2xvd2VyRmlyc3QsIGhlbHBlcl90ZW1wbGF0ZSB9IGZyb20gXCIuL2pGYWN0b3J5LWhlbHBlcnNcIjtcbmltcG9ydCB7IGpGYWN0b3J5VHJhY2UgfSBmcm9tIFwiLi9KRmFjdG9yeVRyYWNlXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlFcnJvclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gXCJ1bnNwZWNpZmllZCBlcnJvclwiLCBkYXRhID0gbnVsbCkge1xuICAgICAgICBkYXRhID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCBkYXRhKTtcbiAgICAgICAgbWVzc2FnZSA9IEpGYWN0b3J5RXJyb3IudG9QcmludGFibGUobWVzc2FnZSwgZGF0YSk7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLiRkYXRhID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCBkYXRhKTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZVxuICAgIH1cblxuICAgICogW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHlpZWxkIHRoaXMubWVzc2FnZTtcbiAgICAgICAgeWllbGQgdGhpcy4kZGF0YTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SWQob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvYmplY3RbKGpGYWN0b3J5Q29uZmlnLkpGYWN0b3J5RXJyb3Iua2V5cyB8fCBKRmFjdG9yeUVycm9yLkRFRkFVTFRfS0VZUykuZmluZChrZXkgPT4ge1xuICAgICAgICAgICAgbGV0IHZhbCA9IGhlbHBlcl9nZXQob2JqZWN0LCBrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbCB8fCB2YWwgPT09IDBcbiAgICAgICAgfSldXG4gICAgfVxuXG4gICAgc3RhdGljIHRvUHJpbnRhYmxlRGF0YShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlRGF0YSA9IHt9O1xuICAgICAgICBsZXQgbnY7XG4gICAgICAgIGZvciAobGV0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWwubmFtZSArIFwiKClcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWwudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKChudiA9IEpGYWN0b3J5RXJyb3IuZ2V0SWQodmFsKSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gJ1wiJyArIG52ICsgJ1wiJ1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWxwZXJfaXNOYXRpdmUodmFsLnRvU3RyaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbC50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG52ID0gSlNPTi5zdHJpbmdpZnkodmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gbnYubGVuZ3RoID4gSkZhY3RvcnlFcnJvci5KU09OX01BWFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBudi5zdWJzdHJpbmcoMCwgSkZhY3RvcnlFcnJvci5KU09OX01BWCkgKyBcIlsuLi5dXCIgOiBudjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IFwiW29iamVjdCBcIiArIHZhbC5jb25zdHJ1Y3Rvci5uYW1lICsgXCJdXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgICAgICB2YWwgPSAnXCInICsgdmFsICsgJ1wiJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gU3RyaW5nKHZhbClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBsYXRlRGF0YVtrZXldID0gdmFsXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlRGF0YVxuICAgIH1cblxuICAgIHN0YXRpYyB0b1ByaW50YWJsZSh0ZW1wbGF0ZSwgZGF0YSkge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZU1lc3NhZ2UgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgcGFydCBvZiB0ZW1wbGF0ZS5zcGxpdChcIjtcIikpIHtcbiAgICAgICAgICAgIGxldCBwbGFjZWhvbGRlcjtcbiAgICAgICAgICAgIGxldCBSRV9QTEFDRUhPTERFUiA9IEpGYWN0b3J5RXJyb3IuUkVfUExBQ0VIT0xERVI7XG4gICAgICAgICAgICBSRV9QTEFDRUhPTERFUi5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgaWYgKChwbGFjZWhvbGRlciA9IFJFX1BMQUNFSE9MREVSLmV4ZWMocGFydCkpKSB7XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGxhY2Vob2xkZXJbMV0gJiYgcGxhY2Vob2xkZXJbMV0gaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVNZXNzYWdlLnB1c2gocGFydC50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gd2hpbGUgKChwbGFjZWhvbGRlciA9IFJFX1BMQUNFSE9MREVSLmV4ZWMocGFydCkpICE9PSBudWxsKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZU1lc3NhZ2UucHVzaChwYXJ0LnRyaW0oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlbHBlcl9sb3dlckZpcnN0KGhlbHBlcl90ZW1wbGF0ZSh0ZW1wbGF0ZU1lc3NhZ2Uuam9pbihcIjsgXCIpKShKRmFjdG9yeUVycm9yLnRvUHJpbnRhYmxlRGF0YShkYXRhKSkpO1xuICAgIH1cbn1cblxuSkZhY3RvcnlFcnJvci5KU09OX01BWCA9IDQwO1xuSkZhY3RvcnlFcnJvci5ERUZBVUxUX0tFWVMgPSBbXCJuYW1lXCIsIFwiaWRcIl07XG5KRmFjdG9yeUVycm9yLlJFX1BMQUNFSE9MREVSID0gL1xcJHsoW159XSspfS9nO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGpGYWN0b3J5RXJyb3Jcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGxldCBqRmFjdG9yeUVycm9yID0gbmV3IFByb3h5KEpGYWN0b3J5RXJyb3IsIHtcbiAgICBzZXQ6IGZ1bmN0aW9uKHRhcmdldCwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgICAgIGxldCB7IHRlbXBsYXRlIH0gPSB2YWx1ZTtcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWICYmIHRhcmdldFtwcm9wZXJ0eV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImFscmVhZHkgZGVjbGFyZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXRbcHJvcGVydHldID0gY2xhc3MgZXh0ZW5kcyBKRmFjdG9yeUVycm9yIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKGRhdGEsIHRyYWNlU291cmNlKSB7XG4gICAgICAgICAgICAgICAgc3VwZXIodGVtcGxhdGUsIGRhdGEpO1xuICAgICAgICAgICAgICAgIGpGYWN0b3J5VHJhY2UudHJhY2VyLmF0dGFjaFRyYWNlKHRoaXMuJGRhdGEsIHRyYWNlU291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gQ2F1dGlvbjogQ2hyb21lIGF1dG9tYXRpY2FsbHkgcmVzb2x2ZXMgc291cmNlbWFwIHdoZW4gbG9nZ2luZyBlcnJvcnNcbiAgICAgICAgLy8gYnV0IG9ubHkgaWYgdGhlIGVycm9yIG5hbWUgc3RhcnRzIHdpdGggXCJFcnJvclwiXG4gICAgICAgIHRhcmdldFtwcm9wZXJ0eV0ucHJvdG90eXBlLm5hbWUgPSBcIkVycm9yIGpGYWN0b3J5RXJyb3IuXCIgKyBwcm9wZXJ0eTtcblxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbn0pO1xuXG5qRmFjdG9yeUVycm9yLklOVkFMSURfVkFMVUUgPSB7IHRlbXBsYXRlOiBcImludmFsaWQgdmFsdWUgZm9yICR7dGFyZ2V0fTsgUmVhc29uOiAke3JlYXNvbn07IEdpdmVuOiAke2dpdmVufVwiIH07XG5qRmFjdG9yeUVycm9yLklOVkFMSURfQ0FMTCA9IHsgdGVtcGxhdGU6IFwiaW52YWxpZCBjYWxsICR7dGFyZ2V0fTsgUmVhc29uOiAke3JlYXNvbn07IE93bmVyOiAke293bmVyfVwiIH07XG5qRmFjdG9yeUVycm9yLlBST01JU0VfRVhQSVJFRCA9IHsgdGVtcGxhdGU6IFwiZXhwaXJlZCBwcm9taXNlICR7dGFyZ2V0fTsgUmVhc29uOiAke3JlYXNvbn1cIiB9O1xuakZhY3RvcnlFcnJvci5SRVFVRVNUX0VSUk9SID0geyB0ZW1wbGF0ZTogXCJlcnJvciByZXF1ZXN0aW5nICR7dGFyZ2V0fTsgUmVhc29uOiAke3JlYXNvbn07IE93bmVyOiAke293bmVyfVwiIH07XG5qRmFjdG9yeUVycm9yLktFWV9EVVBMSUNBVEVEID0geyB0ZW1wbGF0ZTogXCJkdXBsaWNhdGVkIGtleSBmb3IgJHt0YXJnZXR9OyBHaXZlbjogJHtnaXZlbn1cIiB9O1xuakZhY3RvcnlFcnJvci5LRVlfTUlTU0lORyA9IHsgdGVtcGxhdGU6IFwibWlzc2luZyBrZXkgZm9yICR7dGFyZ2V0fTsgR2l2ZW46ICR7Z2l2ZW59XCIgfTsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgakZhY3RvcnlFcnJvciB9IGZyb20gXCIuL0pGYWN0b3J5RXJyb3JcIjtcbmltcG9ydCB7IGhlbHBlcl9pc051bWJlciwgaGVscGVyX2lzUGxhaW5PYmplY3QsIGhlbHBlcl9pc1N0cmluZyB9IGZyb20gXCIuL2pGYWN0b3J5LWhlbHBlcnNcIjtcbmltcG9ydCB7IGpGYWN0b3J5TG9hZGVyIH0gZnJvbSBcIi4vakZhY3RvcnktbG9hZGVyXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlFeHBlY3Rcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQSBzbWFsbCBpbnB1dC9vdXRwdXQgdmFsaWRhdGlvbiB0b29sXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQWxwaGEsIERyYWZ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBAcmV0dXJuIHsqfEpGYWN0b3J5RXhwZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gSkZhY3RvcnlFeHBlY3QobGFiZWwsIHZhbHVlKSB7XG4gICAgaWYgKG5ldy50YXJnZXQpIHtcbiAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBKRmFjdG9yeUV4cGVjdChsYWJlbCwgdmFsdWUpXG4gICAgfVxufVxuXG5jb25zdCBlcnJvciA9IGZ1bmN0aW9uIGpGYWN0b3J5VGhyb3cobGFiZWwsIHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuSU5WQUxJRF9WQUxVRSh7XG4gICAgICAgIHRhcmdldDogbGFiZWwsXG4gICAgICAgIHJlYXNvbjogbWVzc2FnZSxcbiAgICAgICAgZ2l2ZW46IHZhbHVlXG4gICAgfSlcbn07XG5cbmNvbnN0IHN0YXRpY01ldGhvZHMgPSB7XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RVbmRlZmluZWRcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgbm90VW5kZWZpbmVkXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgbm90VW5kZWZpbmVkKGxhYmVsLCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcImNhbm5vdCBiZSB1bmRlZmluZWRcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdEVtcHR5U3RyaW5nXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdEVtcHR5U3RyaW5nXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgbm90RW1wdHlTdHJpbmcobGFiZWwsIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcImNhbm5vdCBiZSBlbXB0eSBzdHJpbmdcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdEZhbHN5XG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdEZhbHN5XG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgbm90RmFsc3kobGFiZWwsIHZhbHVlKSB7XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgJ2Nhbm5vdCBiZSBhIGZhbHN5IHZhbHVlICh1bmRlZmluZWQsIG51bGwsIE5hTiwgMCwgXCJcIiknKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdmFsaWRTcGFjZXNcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdmFsaWRTcGFjZXNcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICB2YWxpZFNwYWNlcyhsYWJlbCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCF2YWx1ZS5yZXBsYWNlIHx8IHZhbHVlLnJlcGxhY2UoL1xccysvZywgXCIgXCIpLnRyaW0oKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJpbnZhbGlkIHNwYWNlIGRlbGltaXRlcnNcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG1hdGNoUmVnXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7UmVnRXhwfSByZWdcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBtYXRjaFJlZ1xuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIG1hdGNoUmVnKGxhYmVsLCB2YWx1ZSwgcmVnKSB7XG4gICAgICAgIGlmICghcmVnLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsICdzdHJpbmcgXCInICsgdmFsdWUgKyAnXCIgbXVzdCBtYXRjaCAnICsgcmVnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcGFyYW0gey4uLip9IGV4cGVjdGVkXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHR5cGUobGFiZWwsIHZhbHVlLCAuLi5leHBlY3RlZCkge1xuICAgICAgICBsZXQgbmFtZSwgb2sgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgY29uc3RydWN0b3Igb2YgZXhwZWN0ZWQpIHtcbiAgICAgICAgICAgIGlmIChjb25zdHJ1Y3RvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBcIk51bGxcIlxuICAgICAgICAgICAgfSBlbHNlIGlmIChcIm5hbWVcIiBpbiBjb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBjb25zdHJ1Y3Rvci5uYW1lXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdGVzdCA9IHN0YXRpY01ldGhvZHNbXCJ0eXBlXCIgKyBuYW1lXTtcbiAgICAgICAgICAgIGlmICh0ZXN0KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtvayA9IHRlc3QobGFiZWwsIHZhbHVlLyosIGUqLyl9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvayA9IHZhbHVlIGluc3RhbmNlb2YgY29uc3RydWN0b3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvaykgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9rKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBbXCIgKyBleHBlY3RlZC5tYXAoZSA9PiBlLm5hbWUpLmpvaW4oXCIsIFwiKSArIFwiXVwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZU51bGxcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZU51bGxcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICB0eXBlTnVsbChsYWJlbCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBiZSBudWxsXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlQm9vbGVhblxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlQm9vbGVhblxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHR5cGVCb29sZWFuKGxhYmVsLCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT09IHRydWUgJiYgdmFsdWUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBiZSBhIGJvb2xlYW5cIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVTdHJpbmdcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZVN0cmluZ1xuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHR5cGVTdHJpbmcobGFiZWwsIHZhbHVlKSB7XG4gICAgICAgIGlmICghaGVscGVyX2lzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgYSBzdHJpbmdcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVOdW1iZXJcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZU51bWJlclxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHR5cGVOdW1iZXIobGFiZWwsIHZhbHVlKSB7XG4gICAgICAgIGlmICghaGVscGVyX2lzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgYSBudW1iZXJcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVGdW5jdGlvblxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlRnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICB0eXBlRnVuY3Rpb24obGFiZWwsIHZhbHVlKSB7XG4gICAgICAgIGlmICghKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgYSBmdW5jdGlvblwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZVBsYWluT2JqZWN0XG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVQbGFpbk9iamVjdFxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHR5cGVQbGFpbk9iamVjdChsYWJlbCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFoZWxwZXJfaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IGJlIGEgcGxhaW4gb2JqZWN0XCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBlcXVhbFxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcGFyYW0geyp9IGV4cGVjdGVkXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZXF1YWxcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICBlcXVhbChsYWJlbCwgdmFsdWUsIC4uLmV4cGVjdGVkKSB7XG4gICAgICAgIGxldCBvayA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBlIG9mIGV4cGVjdGVkKSB7XG4gICAgICAgICAgICBpZiAoKG9rID0gdmFsdWUgPT09IGUpKSBicmVha1xuICAgICAgICB9XG4gICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IGJlIG9uZSBvZiBbXCIgKyBleHBlY3RlZCArIFwiXVwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGVxdWFsSW5cbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGV4cGVjdGVkXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZXF1YWxJblxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIGVxdWFsSW4obGFiZWwsIHZhbHVlLCBleHBlY3RlZCkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhwZWN0ZWQpKSB7XG4gICAgICAgICAgICBleHBlY3RlZCA9IE9iamVjdC52YWx1ZXMoZXhwZWN0ZWQpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFleHBlY3RlZC5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IGJlIG9uZSBmcm9tIFtcIiArIGV4cGVjdGVkLmpvaW4oXCIsIFwiKSArIFwiXVwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgcHJvcGVydGllc1xuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBleHBlY3RlZFxuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHByb3BlcnRpZXNcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICBwcm9wZXJ0aWVzKGxhYmVsLCB2YWx1ZSwgZXhwZWN0ZWQpIHtcbiAgICAgICAgZm9yIChsZXQgbmFtZSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KGxhYmVsICsgJywgcHJvcGVydHkgbmFtZSBcIicgKyBuYW1lICsgJ1wiJywgbmFtZSkuZXF1YWxJbihleHBlY3RlZClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHdyaXRhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB3cml0YWJsZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHdyaXRhYmxlKGxhYmVsLCB2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmICghT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KS53cml0YWJsZSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgd3JpdGFibGVcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdFdyaXRhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RXcml0YWJsZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIG5vdFdyaXRhYmxlKGxhYmVsLCB2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpLndyaXRhYmxlKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBub3QgYmUgd3JpdGFibGVcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGVudW1lcmFibGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGVudW1lcmFibGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICBlbnVtZXJhYmxlKGxhYmVsLCB2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBiZSBlbnVtZXJhYmxlXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RFbnVtZXJhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RFbnVtZXJhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgbm90RW51bWVyYWJsZShsYWJlbCwgdmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBub3QgYmUgZW51bWVyYWJsZVwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgY29uZmlndXJhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBjb25maWd1cmFibGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICBjb25maWd1cmFibGUobGFiZWwsIHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgY29uZmlndXJhYmxlXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RDb25maWd1cmFibGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdENvbmZpZ3VyYWJsZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIG5vdENvbmZpZ3VyYWJsZShsYWJlbCwgdmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KS5jb25maWd1cmFibGUpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IG5vdCBiZSBjb25maWd1cmFibGVcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHJlc2VydmVkUHJvcGVydHlcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHJlc2VydmVkUHJvcGVydHlcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICByZXNlcnZlZFByb3BlcnR5KGxhYmVsLCB2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJpcyBhIHJlc2VydmVkIHByb3BlcnR5XCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG59O1xuXG5qRmFjdG9yeUxvYWRlci5vbkluaXQoZnVuY3Rpb24oKSB7XG4gICAgT2JqZWN0LmFzc2lnbihKRmFjdG9yeUV4cGVjdCwgc3RhdGljTWV0aG9kcyk7XG4gICAgLy8gR2VuZXJhdGUgbWVtYmVycyBmcm9tIHN0YXRpYyBtZXRob2RzXG4gICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHN0YXRpY01ldGhvZHMpKSB7XG4gICAgICAgIEpGYWN0b3J5RXhwZWN0LnByb3RvdHlwZVtuYW1lXSA9XG4gICAgICAgICAgICBmdW5jdGlvbiBjYWxsU3RhdGljKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBKRmFjdG9yeUV4cGVjdFtuYW1lXSh0aGlzLmxhYmVsLCB0aGlzLnZhbHVlLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICAgICAgfVxuICAgIH1cbn0pOyIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgeyBKRkFDVE9SWV9ERVYsIGpGYWN0b3J5Q29uZmlnIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBKRmFjdG9yeUV4cGVjdCB9IGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlUcmFpdHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5VHJhaXRzIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0pGYWN0b3J5Q29yZU9iamVjdHxPYmplY3R9IGNhbGxlckluc3RhbmNlXG4gICAgICogQHBhcmFtIHtDbGFzc3xGdW5jdGlvbn0gY2FsbGVyQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNhbGxlckluc3RhbmNlLCBjYWxsZXJDb25zdHJ1Y3Rvciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SkZhY3RvcnlDb3JlT2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYWxsZXJJbnN0YW5jZSA9IGNhbGxlckluc3RhbmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Q2xhc3N8RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbGxlckNvbnN0cnVjdG9yID0gY2FsbGVyQ29uc3RydWN0b3I7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cblxuICAgIHVzZSh0cmFpdCwgLi4udHJhaXRBcmdzKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlUcmFpdHModHJhaXQpXCIsIHRyYWl0KS50eXBlRnVuY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNhbGxlckNvbnN0cnVjdG9yIGlzIG5vdCBhbHdheXMgdGhlIGNhbGxlckluc3RhbmNlLmNvbnN0cnVjdG9yOlxuICAgICAgICAvLyBUaGUgVHJhaXQgY2FuIGJlIGluamVjdGVkIGluIGFuIGluaGVyaXRlZCBjb25zdHJ1Y3RvciBmcm9tIHN1cGVyKCkgYXQgY2FsbCB0aW1lXG4gICAgICAgIGxldCB7IGNhbGxlckluc3RhbmNlLCBjYWxsZXJDb25zdHJ1Y3RvciB9ID0gdGhpcztcblxuICAgICAgICAvLyBEZXRlY3QgaW1wcm9wZXIgZHVwbGljYXRpb24gKGNhbiBiZSBhIHRyYWl0IGFscmVhZHkgY2FsbGVkIGJ5IGEgc3VwZXIgY2xhc3MpXG4gICAgICAgIGxldCBjYWNoZSA9IEpGYWN0b3J5VHJhaXRzLkNBQ0hFLmdldChjYWxsZXJJbnN0YW5jZSk7XG5cbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICBpZiAoY2FjaGUuaGFzKHRyYWl0KSkge1xuICAgICAgICAgICAgICAgIGlmIChqRmFjdG9yeUNvbmZpZy5UcmFpdExvZykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYCR7dHJhaXQubmFtZX0gYWxyZWFkeSBjYWxsZWQgb25gLCBjYWxsZXJJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWNoZS5hZGQodHJhaXQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBKRmFjdG9yeVRyYWl0cy5DQUNIRS5zZXQoY2FsbGVySW5zdGFuY2UsIG5ldyBXZWFrU2V0KFt0cmFpdF0pKVxuICAgICAgICB9XG5cbiAgICAgICAgIWNhbGxlckNvbnN0cnVjdG9yLkpGYWN0b3J5VHJhaXQgJiYgKGNhbGxlckNvbnN0cnVjdG9yLkpGYWN0b3J5VHJhaXQgPSBuZXcgV2Vha1NldCk7XG5cbiAgICAgICAgaWYgKCFjYWxsZXJDb25zdHJ1Y3Rvci5KRmFjdG9yeVRyYWl0Lmhhcyh0cmFpdCkpIHtcbiAgICAgICAgICAgIGNhbGxlckNvbnN0cnVjdG9yLkpGYWN0b3J5VHJhaXQuYWRkKHRyYWl0KTtcbiAgICAgICAgICAgIHRoaXMuZXhwb3J0KHRyYWl0LnByb3RvdHlwZSwgY2FsbGVyQ29uc3RydWN0b3IucHJvdG90eXBlKTtcbiAgICAgICAgICAgIHRoaXMuZXhwb3J0KHRyYWl0LCBjYWxsZXJDb25zdHJ1Y3RvciwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbiBhIFRyYWl0LmNvbnN0cnVjdG9yKGNhbGxlckluc3RhbmNlLCAuLi5hcmdzKSA6IHRoaXMgIT0gY2FsbGVySW5zdGFuY2VcbiAgICAgICAgLy8gSW4gYSBUcmFpdC50cmFpdF9jb25zdHJ1Y3RvciguLi5hcmdzKSA6IHRoaXMgPT0gY2FsbGVySW5zdGFuY2UgKHRyYWl0cyBpcyBpbmplY3RlZCBhbmQgYXZhaWxhYmxlKVxuXG4gICAgICAgIC8vIFRyYWl0cyBhcmUgaW5qZWN0aW9ucy4gVGhleSBhcmUgbm90IGR5bmFtaWMgaW5oZXJpdGFuY2UuXG4gICAgICAgIC8vIFNvIHRoZSBUcmFpdC5jb25zdHJ1Y3RvcigpIGRvZXNuJ3Qgc2hhcmUgdGhlIFwidGhpc1wiIGtleXdvcmQgd2l0aCBpdHMgY2FsbGVyLlxuXG4gICAgICAgIC8vICNsaW1pdGF0aW9uIyBObyB3YXkgdG8gYmluZCBhbiBFUzYgY2xhc3MgY29uc3RydWN0b3IgdG8gYW4gb2JqZWN0XG4gICAgICAgIC8vID0+IEltcGxlbWVudGVyIGNhbiBkZWZpbmUgYSBcInRyYWl0X2NvbnN0cnVjdG9yKClcIiB0aGF0IGlzIGF1dG9tYXRpY2FsbHkgYm91bmQgdG8gXCJjYWxsZXJJbnN0YW5jZVwiXG4gICAgICAgIC8vIGFuZCBjYWxsZWQgYWZ0ZXIgdGhlIG5hdGl2ZSB0cmFpdCBjb25zdHJ1Y3RvcigpLlxuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG4gICAgICAgIGxldCB0cmFpdEluc3RhbmNlID0gbmV3IHRyYWl0KGNhbGxlckluc3RhbmNlLCAuLi50cmFpdEFyZ3MpO1xuICAgICAgICBpZiAodHJhaXRJbnN0YW5jZS50cmFpdF9jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgdHJhaXRJbnN0YW5jZS50cmFpdF9jb25zdHJ1Y3Rvci5hcHBseShjYWxsZXJJbnN0YW5jZSwgdHJhaXRBcmdzKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgZXhwb3J0KHNvdXJjZSwgdGFyZ2V0LCBpc1N0YXRpYykge1xuICAgICAgICBsZXQgc291cmNlRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSk7XG5cbiAgICAgICAgZm9yIChsZXQgcHJvcGVydHlOYW1lIG9mIE9iamVjdC5rZXlzKHNvdXJjZURlc2NyaXB0b3IpKSB7XG4gICAgICAgICAgICBsZXQgcHJlZml4ID0gSkZhY3RvcnlUcmFpdHMuZ2V0UHJlZml4KHByb3BlcnR5TmFtZSk7XG5cbiAgICAgICAgICAgIGlmIChKRmFjdG9yeVRyYWl0cy5nZXRUYXJnZXQocHJvcGVydHlOYW1lLCB0YXJnZXQsIHByZWZpeCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvcGVydHlEZXNjcmlwdG9yID0gc291cmNlRGVzY3JpcHRvcltwcm9wZXJ0eU5hbWVdO1xuICAgICAgICAgICAgICAgIGxldCBwYXJzZWQgPSAodGhpcy5vcHRpb25zLnBhcnNlciB8fCBKRmFjdG9yeVRyYWl0cy5kZWZhdWx0UGFyc2VyKShcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eURlc2NyaXB0b3IsIHNvdXJjZSwgdGFyZ2V0LCBpc1N0YXRpY1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZCkge1xuICAgICAgICAgICAgICAgICAgICAoeyBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5RGVzY3JpcHRvciB9ID0gcGFyc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eURlc2NyaXB0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBkZWZhdWx0UGFyc2VyKHByb3BlcnR5TmFtZSwgcHJvcGVydHlEZXNjcmlwdG9yLCBzb3VyY2UsIHRhcmdldCwgaXNTdGF0aWMpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gcHJvcGVydHlEZXNjcmlwdG9yLnZhbHVlO1xuXG4gICAgICAgIGlmIChpc1N0YXRpYykge3JldHVybiBudWxsfSAvLyBkb24ndCBleHBvcnQgc3RhdGljIG1lbWJlcnNcblxuICAgICAgICBpZiAocHJvcGVydHlOYW1lIGluIHRhcmdldCkgeyAvLyBza2lwIGV4aXN0aW5nIHByb3BlcnRpZXNcbiAgICAgICAgICAgIGlmIChqRmFjdG9yeUNvbmZpZy5UcmFpdExvZykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAgICAgYCR7dGFyZ2V0LmNvbnN0cnVjdG9yLm5hbWV9PiBza2lwcGluZyBleHBvcnQgb2YgZXhpc3RpbmcgcHJvcGVydHkgXCIke3Byb3BlcnR5TmFtZX1cImAsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7IC8vIHByZXZlbnQgc2hhcmVkIG9iamVjdCBleHBvcnRhdGlvblxuICAgICAgICAgICAgaWYgKGpGYWN0b3J5Q29uZmlnLlRyYWl0TG9nKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgICBgJHt0YXJnZXQuY29uc3RydWN0b3IubmFtZX0+IHNraXBwaW5nIGV4cG9ydCBvZiBzaGFyZWQgb2JqZWN0IFwiJHtwcm9wZXJ0eU5hbWV9XCJgLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHByb3BlcnR5TmFtZSwgcHJvcGVydHlEZXNjcmlwdG9yIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0UHJlZml4KGtleSkge1xuICAgICAgICBsZXQgc3BsaXQgPSBrZXkuc3BsaXQoXCJfXCIpO1xuICAgICAgICByZXR1cm4gc3BsaXQubGVuZ3RoID4gMSA/IHNwbGl0WzBdIDogbnVsbDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0VGFyZ2V0KGtleSwgdGFyZ2V0LCBwcmVmaXgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgSkZhY3RvcnlUcmFpdHMuRVhDTFVERVMuaW5jbHVkZXMoa2V5KSB8fFxuICAgICAgICAgICAgcHJlZml4ID09PSBcInRyYWl0XCJcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldFxuICAgIH1cbn1cblxuSkZhY3RvcnlUcmFpdHMuQ0FDSEUgPSBuZXcgV2Vha01hcDtcbkpGYWN0b3J5VHJhaXRzLkVYQ0xVREVTID0gW1wiY29uc3RydWN0b3JcIiwgXCJwcm90b3R5cGVcIiwgXCJsZW5ndGhcIiwgXCJzaXplXCJdOyIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgeyBKRkFDVE9SWV9ERVYsIGpGYWN0b3J5Q29uZmlnIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBKRmFjdG9yeUV4cGVjdCB9IGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5pbXBvcnQgeyBqRmFjdG9yeUVycm9yIH0gZnJvbSBcIi4vSkZhY3RvcnlFcnJvclwiO1xuaW1wb3J0IHsgc2V0RnVuY3Rpb25OYW1lIH0gZnJvbSBcIi4vakZhY3RvcnktaGVscGVyc1wiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5RnVuY3Rpb25Db21wb3NlclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlGdW5jdGlvbkNvbXBvc2VyIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9XG5cbiAgICAqIFtTeW1ib2wuaXRlcmF0b3JdKGhhbmRsZXJHcm91cHMgPSBbXSkge1xuXG4gICAgICAgIGlmICghaGFuZGxlckdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGhhbmRsZXJHcm91cHMgPSBPYmplY3Qua2V5cyh0aGlzLmhhbmRsZXJzKVxuICAgICAgICB9XG4gICAgICAgIGlmICghaGFuZGxlckdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGhhbmRsZXJHcm91cHMgPSBbXCJkZWZhdWx0XCJdXG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBoYW5kbGVyR3JvdXAgb2YgaGFuZGxlckdyb3Vwcykge1xuICAgICAgICAgICAgaWYgKGhhbmRsZXJHcm91cCBpbiB0aGlzLmhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgeWllbGQqIHRoaXMuaGFuZGxlcnNbaGFuZGxlckdyb3VwXVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIEByZXR1cm4ge0pGYWN0b3J5RnVuY3Rpb25Db21wb3Nlcn0gKi9cbiAgICBmaXJzdChoYW5kbGVyR3JvdXAsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIFtoYW5kbGVyR3JvdXAsIGhhbmRsZXJdID0gW1wiZGVmYXVsdFwiLCBoYW5kbGVyR3JvdXBdXG4gICAgICAgIH1cbiAgICAgICAgKHRoaXMuaGFuZGxlcnNbaGFuZGxlckdyb3VwXSB8fCAodGhpcy5oYW5kbGVyc1toYW5kbGVyR3JvdXBdID0gW10pKS51bnNoaWZ0KGhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKiBAcmV0dXJuIHtKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXJ9ICovXG4gICAgbGFzdChoYW5kbGVyR3JvdXAsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIFtoYW5kbGVyR3JvdXAsIGhhbmRsZXJdID0gW1wiZGVmYXVsdFwiLCBoYW5kbGVyR3JvdXBdXG4gICAgICAgIH1cbiAgICAgICAgKHRoaXMuaGFuZGxlcnNbaGFuZGxlckdyb3VwXSB8fCAodGhpcy5oYW5kbGVyc1toYW5kbGVyR3JvdXBdID0gW10pKS5wdXNoKGhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKiBAcmV0dXJuIHsoZnVuY3Rpb24oKTogKikgJiB7Y29tcG9zZXI6IEpGYWN0b3J5RnVuY3Rpb25Db21wb3Nlcn19ICovXG4gICAgY29tcG9zZSguLi5oYW5kbGVyR3JvdXBzKSB7XG4gICAgICAgIGxldCBjb21wb3NlciA9IHRoaXM7XG4gICAgICAgIGxldCBjb21wb3NpdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vICEhISEtLSEhISEtLSEhISEtLSEhISEtLSEhISEtLSEhISEtLSEhISEtLSEhISEgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHdyYXBwZWQgZnVuY3Rpb24gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIFlvdSBzaG91bGQgQmxhY2tib3ggSkZhY3RvcnlGdW5jdGlvbi5tanMgICAgLy9cbiAgICAgICAgICAgIC8vICAgIHRvIHNpbXBsaWZ5IGRlYnVnZ2luZyAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICEhISEtLSEhISEtLSEhISEtLSEhISEtLSEhISEtLSEhISEtLSEhISEtLSEhISEgLy9cbiAgICAgICAgICAgIGxldCBjb250ZXh0ID0ge1xuICAgICAgICAgICAgICAgIGNhbmNlbGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBBcnJheS5mcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgcmVzdWx0OiB1bmRlZmluZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgaXRlcmF0b3IgPSBjb21wb3NlcltTeW1ib2wuaXRlcmF0b3JdKGhhbmRsZXJHcm91cHMpO1xuICAgICAgICAgICAgbGV0IGl0ZXJhdGlvbiA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIHJldHVybiBKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXIuY29tcG9zaXRlX2l0ZXJhdG9yKFxuICAgICAgICAgICAgICAgIHRoaXMgLyogcHJlc2VydmUgY2FsbCBzY29wZSAqLywgY29udGV4dCwgaXRlcmF0aW9uLCBpdGVyYXRvcilcbiAgICAgICAgfTtcbiAgICAgICAgY29tcG9zaXRlLmNvbXBvc2VyID0gY29tcG9zZXI7XG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfVxuXG4gICAgLy8gU1BFQzogQ29tcG9zaXRlIGZ1bmN0aW9ucyByZXR1cm5zIHByb21pc2UgKm9ubHkqIGlmIGF0IGxlYXN0XG4gICAgLy8gb25lIGhhbmRsZXIgcmV0dXJucyBhIHByb21pc2UgKGFzeW5jIGZ1bmN0aW9uIG9yIHByb21pc2UgcmV0dXJuKVxuICAgIC8vIFNvIHdlIGNhbm5vdCBqdXN0IGl0ZXJhdGUgdXNpbmcgYW4gXCJhd2FpdCBmb3Igb2ZcIlxuICAgIHN0YXRpYyBjb21wb3NpdGVfaXRlcmF0b3Ioc2NvcGUsIGNvbnRleHQsIGl0ZXJhdGlvbiwgaGFuZGxlcnMpIHtcbiAgICAgICAgbGV0IGhhbmRsZXIsXG4gICAgICAgICAgICByZXN1bHQ7XG5cbiAgICAgICAgd2hpbGUgKCFjb250ZXh0LmNhbmNlbGVkICYmICFpdGVyYXRpb24uZG9uZSkge1xuICAgICAgICAgICAgaGFuZGxlciA9IGl0ZXJhdGlvbi52YWx1ZTtcbiAgICAgICAgICAgIGlmIChzY29wZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIuY2FsbChzY29wZSwgY29udGV4dCwgLi4uY29udGV4dC5wYXJhbWV0ZXJzKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBoYW5kbGVyKGNvbnRleHQsIC4uLmNvbnRleHQucGFyYW1ldGVycylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZXJhdGlvbiA9IGhhbmRsZXJzLm5leHQoKTsgLy8gcHJlcGFyZXMgbmV4dCBpdGVyYXRpb24gdG8ga25vdyBpZiBcImRvbmVcIlxuICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlcmF0aW9uLmRvbmVcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FzZSBvZiBsYXN0IGhhbmRsZXIgcmV0dXJuaW5nIGEgcHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAvLyAjbGltaXRhdGlvbiMgbm93IHdheSB0byBkZXRlY3QgaWYgdGhlIHByb21pc2UgaXMgdGhlIHJldHVybmVkIHZhbHVlIG9yIGFuIFwiYXdhaXRcIlxuICAgICAgICAgICAgICAgICAgICAvLyAod2UgZG9uJ3Qgd2FudCB0byBjaGFuZ2UgdGhlIHZhbHVlIG9mIGNvbnRleHQucmVzdWx0IGR1cmluZyBhIHBlbmRpbmcgaGFuZGxlcilcbiAgICAgICAgICAgICAgICAgICAgLy8gPT4gbmF0aXZlIFByb21pc2UgYXJlIGFsd2F5cyBjaGFpbmVkXG4gICAgICAgICAgICAgICAgICAgICYmIHJlc3VsdC5jb25zdHJ1Y3RvciAhPT0gUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3VsdCA9IHJlc3VsdCAvLyB3ZSBjYW4gc2FmZWx5IHNldCB0aGUgbmV3IHJlc3VsdFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEZ1bmN0aW9uTmFtZShbaGFuZGxlci5uYW1lLCBcImNvbXBvc2l0ZUFzeW5jSGFuZGxlclwiXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpGYWN0b3J5RnVuY3Rpb25Db21wb3Nlci5jb21wb3NpdGVfaXRlcmF0b3Ioc2NvcGUsIGNvbnRleHQsIGl0ZXJhdGlvbiwgaGFuZGxlcnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5yZXN1bHQgPSByZXN1bHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGV4dC5yZXN1bHRcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlGdW5jdGlvbkV4cGlyYWJsZSAtIEV4cGlyYWJsZSBGdW5jdGlvbiBQYXR0ZXJuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGZ1bmN0aW9uIGpGYWN0b3J5RnVuY3Rpb25FeHBpcmFibGUob3JpZ2luYWxIYW5kbGVyKSB7XG4gICAgcmV0dXJuIG5ldyBKRmFjdG9yeUZ1bmN0aW9uRXhwaXJhYmxlKG9yaWdpbmFsSGFuZGxlcikuY29tcG9zZSgpXG59XG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUZ1bmN0aW9uRXhwaXJhYmxlIHtcblxuICAgIGNvbnN0cnVjdG9yKG9yaWdpbmFsSGFuZGxlcikge1xuICAgICAgICB0aGlzLm9yaWdpbmFsSGFuZGxlciA9IG9yaWdpbmFsSGFuZGxlcjtcbiAgICAgICAgdGhpcy5leHBpcmVkQ2FsbHMgPSAwO1xuICAgICAgICB0aGlzLmNvbXBvc2VyID0gbmV3IEpGYWN0b3J5RnVuY3Rpb25Db21wb3NlcjtcblxuICAgICAgICBsZXQgaXNFeHBpcmVkID0gdGhpcy5jb21wb3Nlci5jb21wb3NlKFwiY29uZGl0aW9uc1wiKTtcbiAgICAgICAgbGV0IGV4cGlyYWJsZSA9IHRoaXM7XG4gICAgICAgIGxldCBleHBpcmVkO1xuXG4gICAgICAgIC8vIGNhbm5vdCB1c2UgYSByZWFsIGFjY2Vzc29yIGhlcmUgKGNvbmRpdGlvbnMgY2FuIGJlIHNjb3BlZCwgc28gaXNFeHBpcmVkIHRvbylcbiAgICAgICAgdGhpcy5pc0V4cGlyZWQgPSBzY29wZSA9PiBleHBpcmVkIHx8IGlzRXhwaXJlZC5jYWxsKHNjb3BlKSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5zZXRFeHBpcmVkID0gdmFsdWUgPT4gZXhwaXJlZCA9IHZhbHVlID9cbiAgICAgICAgICAgIHZhbHVlIGluc3RhbmNlb2YgRXJyb3IgPyB2YWx1ZSA6IG5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfQ0FMTCh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLm9yaWdpbmFsSGFuZGxlcixcbiAgICAgICAgICAgICAgICByZWFzb246IFwibWFudWFsbHkgZXhwaXJlZFwiXG4gICAgICAgICAgICB9KSA6IEJvb2xlYW4odGhpcy5leHBpcmVkQ2FsbHMgPSAwKTtcblxuICAgICAgICB0aGlzLmFkZEV4cGlyZUNvbmRpdGlvbiA9IGZ1bmN0aW9uKGNvbmRpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb21wb3Nlci5sYXN0KFwiY29uZGl0aW9uc1wiLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGRvbmUgPSBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUZ1bmN0aW9uRXhwaXJhYmxlLmFkZEV4cGlyZUNvbmRpdGlvbigpLCByZXN1bHRcIiwgcmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50eXBlKEJvb2xlYW4sIEVycm9yKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBpcmFibGUuc2V0RXhwaXJlZChyZXN1bHQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbnRleHQuY2FuY2VsZWQgPSB0cnVlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfQ0FMTCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogZXhwaXJhYmxlLm9yaWdpbmFsSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcImNvbmRpdGlvbmFsbHkgZXhwaXJlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBjb25kaXRpb24uYXBwbHkodGhpcywgY29udGV4dC5wYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSA/IHJlc3VsdC50aGVuKGRvbmUpIDogZG9uZShyZXN1bHQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb21wb3NlKCkge1xuICAgICAgICBsZXQgZXhwaXJhYmxlID0gdGhpcztcbiAgICAgICAgbGV0IGNvbXBvc2l0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGV0IGlzRXhwaXJlZCA9IGV4cGlyYWJsZS5pc0V4cGlyZWQodGhpcyk7XG4gICAgICAgICAgICBsZXQgY2FsbCA9IGV4cGlyYWJsZS5jb25zdHJ1Y3Rvci5jYWxsLmJpbmQodW5kZWZpbmVkLCBleHBpcmFibGUsIHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICByZXR1cm4gaXNFeHBpcmVkIGluc3RhbmNlb2YgUHJvbWlzZSA/IGlzRXhwaXJlZC50aGVuKGNhbGwpIDogY2FsbChpc0V4cGlyZWQpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihjb21wb3NpdGUsIHtcbiAgICAgICAgICAgIGV4cGlyYWJsZTogdGhpcyxcbiAgICAgICAgICAgIGlzRXhwaXJlZDogZiA9PiB0aGlzLmlzRXhwaXJlZChmKSxcbiAgICAgICAgICAgIHNldEV4cGlyZWQ6IGYgPT4gdGhpcy5zZXRFeHBpcmVkKGYpLFxuICAgICAgICAgICAgYWRkRXhwaXJlQ29uZGl0aW9uOiBmID0+IHt0aGlzLmFkZEV4cGlyZUNvbmRpdGlvbihmKTsgcmV0dXJuIGNvbXBvc2l0ZX1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNhbGwoZXhwaXJhYmxlLCBzY29wZSwgYXJncywgaXNFeHBpcmVkKSB7XG4gICAgICAgIHJldHVybiBpc0V4cGlyZWQgPyBleHBpcmFibGUub25FeHBpcmVkKGlzRXhwaXJlZCkgOiBleHBpcmFibGUub25Ob3RFeHBpcmVkKHNjb3BlLCBhcmdzKTtcbiAgICB9XG5cbiAgICBvbkV4cGlyZWQoZXhwaXJlZCkge1xuICAgICAgICBpZiAodGhpcy5leHBpcmVkQ2FsbHMgPCBKRmFjdG9yeUZ1bmN0aW9uRXhwaXJhYmxlLk1heFdhcm5pbmdFeHBpcmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmV4cGlyZWRDYWxscysrO1xuICAgICAgICAgICAgaWYgKGpGYWN0b3J5Q29uZmlnLlRyYWl0TG9nKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKC4uLm5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfQ0FMTCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmV4cGlyZWQuJGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogZXhwaXJlZC4kZGF0YS5yZWFzb25cbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCI7IGV4cGlyZWRDYWxscz1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyB0aGlzLmV4cGlyZWRDYWxsc1xuICAgICAgICAgICAgICAgICAgICAgICAgKyAodGhpcy5leHBpcmVkQ2FsbHMgPT09IEpGYWN0b3J5RnVuY3Rpb25FeHBpcmFibGUuTWF4V2FybmluZ0V4cGlyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiOyBNYXggV2FybmluZyBFeGNlZWRlZFwiIDogXCJcIilcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4cGlyZWRcbiAgICB9XG5cbiAgICBvbk5vdEV4cGlyZWQoc2NvcGUsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxIYW5kbGVyLmFwcGx5KHNjb3BlLCBhcmdzKVxuICAgIH1cbn1cblxuSkZhY3RvcnlGdW5jdGlvbkV4cGlyYWJsZS5NYXhXYXJuaW5nRXhwaXJhdGlvbiA9IDEwO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5RnVuY3Rpb25Db25kaXRpb25hbCAtIENvbmRpdGlvbmFsIEZ1bmN0aW9uIFBhdHRlcm5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgZnVuY3Rpb24gakZhY3RvcnlGdW5jdGlvbkNvbmRpdGlvbmFsKG9yaWdpbmFsSGFuZGxlcikge1xuICAgIHJldHVybiBuZXcgSkZhY3RvcnlGdW5jdGlvbkNvbmRpdGlvbmFsKG9yaWdpbmFsSGFuZGxlcikuY29tcG9zZSgpXG59XG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUZ1bmN0aW9uQ29uZGl0aW9uYWwge1xuXG4gICAgY29uc3RydWN0b3Iob3JpZ2luYWxIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxIYW5kbGVyID0gb3JpZ2luYWxIYW5kbGVyO1xuICAgICAgICB0aGlzLmNvbXBvc2VyID0gbmV3IEpGYWN0b3J5RnVuY3Rpb25Db21wb3NlcjtcbiAgICAgICAgdGhpcy5jb21wb3Nlci5maXJzdChcIm9yaWdpbmFsXCIsIHNldEZ1bmN0aW9uTmFtZShbb3JpZ2luYWxIYW5kbGVyLm5hbWUsIFwiY29uZGl0aW9uXCJdXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxIYW5kbGVyLmFwcGx5KHRoaXMsIGNvbnRleHQucGFyYW1ldGVycyk7XG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBjb21wb3NlKCkge1xuICAgICAgICBsZXQgY29tcG9zaXRlID0gdGhpcy5jb21wb3Nlci5jb21wb3NlKFwiY29uZGl0aW9uc1wiLCBcIm9yaWdpbmFsXCIpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihjb21wb3NpdGUsIHtcbiAgICAgICAgICAgIGNvbmRpdGlvbmFsOiB0aGlzLFxuICAgICAgICAgICAgYWRkQ29uZGl0aW9uOiBmID0+IHt0aGlzLmFkZENvbmRpdGlvbihmKTsgcmV0dXJuIGNvbXBvc2l0ZX1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYWRkQ29uZGl0aW9uKGNvbmRpdGlvbikge1xuICAgICAgICB0aGlzLmNvbXBvc2VyLmxhc3QoXCJjb25kaXRpb25zXCIsIGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgICAgICAgIGxldCBoYW5kbGUgPSBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlGdW5jdGlvbkNvbmRpdGlvbmFsLmFkZENvbmRpdGlvbigpLCByZXN1bHRcIiwgcmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnR5cGVCb29sZWFuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICFyZXN1bHQgJiYgKGNvbnRleHQuY2FuY2VsZWQgPSB0cnVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gY29uZGl0aW9uLmFwcGx5KHRoaXMsIGNvbnRleHQucGFyYW1ldGVycyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSA/IHJlc3VsdC50aGVuKGhhbmRsZSkgOiBoYW5kbGUocmVzdWx0KTtcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlGdW5jdGlvbldyYXBwYWJsZSAtIFdyYXBwYWJsZSBGdW5jdGlvbiBQYXR0ZXJuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGZ1bmN0aW9uIGpGYWN0b3J5RnVuY3Rpb25XcmFwcGFibGUob3JpZ2luYWxIYW5kbGVyKSB7XG4gICAgcmV0dXJuIG5ldyBKRmFjdG9yeUZ1bmN0aW9uV3JhcHBhYmxlKG9yaWdpbmFsSGFuZGxlcikuY29tcG9zZSgpXG59XG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUZ1bmN0aW9uV3JhcHBhYmxlIHtcblxuICAgIGNvbnN0cnVjdG9yKG9yaWdpbmFsSGFuZGxlcikge1xuICAgICAgICB0aGlzLm9yaWdpbmFsSGFuZGxlciA9IG9yaWdpbmFsSGFuZGxlcjtcbiAgICAgICAgdGhpcy5jb21wb3NlciA9IG5ldyBKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXI7XG4gICAgICAgIHRoaXMuY29tcG9zZXIuZmlyc3QoXCJvcmlnaW5hbFwiLCBzZXRGdW5jdGlvbk5hbWUoW29yaWdpbmFsSGFuZGxlci5uYW1lLCBcIndyYXBwZWRcIl1cbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIiksIGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbEhhbmRsZXIuYXBwbHkodGhpcywgY29udGV4dC5wYXJhbWV0ZXJzKTtcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGNvbXBvc2UoKSB7XG4gICAgICAgIGxldCBjb21wb3NpdGUgPSB0aGlzLmNvbXBvc2VyLmNvbXBvc2UoXCJiZWZvcmVcIiwgXCJvcmlnaW5hbFwiLCBcImFmdGVyXCIpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihjb21wb3NpdGUsIHtcbiAgICAgICAgICAgIHdyYXBwYWJsZTogdGhpcyxcbiAgICAgICAgICAgIGJlZm9yZUFsbDogZiA9PiB7dGhpcy5iZWZvcmVBbGwoZik7IHJldHVybiBjb21wb3NpdGV9LFxuICAgICAgICAgICAganVzdEJlZm9yZTogZiA9PiB7dGhpcy5qdXN0QmVmb3JlKGYpOyByZXR1cm4gY29tcG9zaXRlfSxcbiAgICAgICAgICAgIGp1c3RBZnRlcjogZiA9PiB7dGhpcy5qdXN0QWZ0ZXIoZik7IHJldHVybiBjb21wb3NpdGV9LFxuICAgICAgICAgICAgYWZ0ZXJBbGw6IGYgPT4ge3RoaXMuYWZ0ZXJBbGwoZik7IHJldHVybiBjb21wb3NpdGV9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGJlZm9yZUFsbChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuY29tcG9zZXIuZmlyc3QoXCJiZWZvcmVcIiwgaGFuZGxlcik7XG4gICAgfVxuXG4gICAganVzdEJlZm9yZShoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuY29tcG9zZXIubGFzdChcImJlZm9yZVwiLCBoYW5kbGVyKTtcbiAgICB9XG5cbiAgICBqdXN0QWZ0ZXIoaGFuZGxlcikge1xuICAgICAgICB0aGlzLmNvbXBvc2VyLmZpcnN0KFwiYWZ0ZXJcIiwgaGFuZGxlcik7XG4gICAgfVxuXG4gICAgYWZ0ZXJBbGwoaGFuZGxlcikge1xuICAgICAgICB0aGlzLmNvbXBvc2VyLmxhc3QoXCJhZnRlclwiLCBoYW5kbGVyKTtcbiAgICB9XG59IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IGpGYWN0b3J5RXJyb3IgfSBmcm9tIFwiLi9KRmFjdG9yeUVycm9yXCI7XG5pbXBvcnQgeyBKRmFjdG9yeVRyYWl0cyB9IGZyb20gXCIuL0pGYWN0b3J5VHJhaXRzXCI7XG5pbXBvcnQgeyBqRmFjdG9yeUZ1bmN0aW9uV3JhcHBhYmxlIH0gZnJvbSBcIi4vSkZhY3RvcnlGdW5jdGlvblwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGpGYWN0b3J5VHJhaXRzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBqRmFjdG9yeVRyYWl0cyhjYWxsZXJJbnN0YW5jZSwgY2FsbGVyQ29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gbmV3IEpGYWN0b3J5VHJhaXRzKGNhbGxlckluc3RhbmNlLCBjYWxsZXJDb25zdHJ1Y3Rvciwge1xuXG4gICAgICAgIHBhcnNlcihwcm9wZXJ0eU5hbWUsIHByb3BlcnR5RGVzY3JpcHRvci8qLCBzb3VyY2UsIHRhcmdldCwgaXNTdGF0aWMgKi8pIHtcbiAgICAgICAgICAgIGxldCBwYXJzZWQgPSBKRmFjdG9yeVRyYWl0cy5kZWZhdWx0UGFyc2VyKC4uLmFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgIGlmIChwYXJzZWQpIHtcbiAgICAgICAgICAgICAgICAoeyBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5RGVzY3JpcHRvciB9ID0gcGFyc2VkKTtcblxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IHByb3BlcnR5RGVzY3JpcHRvci52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh2YWx1ZS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiJGluc3RhbGxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIkdW5pbnN0YWxsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiJGVuYWJsZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiRkaXNhYmxlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiJHN0YXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5RGVzY3JpcHRvci52YWx1ZSA9IGpGYWN0b3J5RnVuY3Rpb25XcmFwcGFibGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5iZWZvcmVBbGwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuJC5zdGF0ZXMuZW5hYmxlZCAmJiB0aGlzLiQuc2VydmljZS5waGFzZSA9PT0gXCJQSEFTRV9OT05FXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZSA9IG5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfQ0FMTCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IFwiY29tcG9uZW50IGRpc2FibGVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRsb2dFcnIoLi4uZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eURlc2NyaXB0b3IgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcbn0iLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgakZhY3RvcnlUcmFpdHMgfSBmcm9tIFwiLi9qRmFjdG9yeS10cmFpdHNcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBQcmVkZWZpbmVkIENvbXBvbmVudHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBAbWl4ZXMgVHJhaXRDb3JlXG4gKiBAbWl4ZXMgVHJhaXRBYm91dFxuICogQG1peGVzIFRyYWl0TG9nXG4gKiBAbWl4ZXMgVHJhaXRFdmVudHNcbiAqIEBtaXhlcyBUcmFpdFN0YXRlXG4gKiBAbWl4ZXMgVHJhaXRTZXJ2aWNlXG4gKiBAbWl4ZXMgVHJhaXRUYXNrXG4gKi9cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUNvcmVPYmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgSkZhY3RvcnlDb3JlT2JqZWN0LmluamVjdCh0aGlzLCBKRmFjdG9yeUNvcmVPYmplY3QsIG5hbWUpXG4gICAgfVxuXG4gICAgc3RhdGljIGluamVjdCh0YXJnZXQsIGNvbnN0cnVjdG9yLCBuYW1lKSB7XG4gICAgICAgIGpGYWN0b3J5VHJhaXRzKHRhcmdldCwgY29uc3RydWN0b3IpXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0Q29yZSlcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRBYm91dCwgeyBuYW1lIH0pXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0TG9nKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdEV2ZW50cylcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRTdGF0ZSlcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRTZXJ2aWNlKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdFRhc2spO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbWl4ZXMgVHJhaXRGZXRjaFxuICogQG1peGVzIFRyYWl0RE9NXG4gKiBAbWl4ZXMgVHJhaXRDU1NcbiAqIEBtaXhlcyBUcmFpdE11dGF0aW9uXG4gKiBAbWl4ZXMgVHJhaXRUaW1lb3V0XG4gKiBAbWl4ZXMgVHJhaXRJbnRlcnZhbFxuICogQG1peGVzIFRyYWl0TGliVnVlXG4gKiBAbWl4ZXMgVHJhaXRMaWJSZWFjdFxuICovXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlDb21wb25lbnQgZXh0ZW5kcyBKRmFjdG9yeUNvcmVPYmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG4gICAgICAgIEpGYWN0b3J5Q29tcG9uZW50LmluamVjdCh0aGlzLCBKRmFjdG9yeUNvbXBvbmVudClcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5qZWN0KHRhcmdldCwgY29uc3RydWN0b3IpIHtcbiAgICAgICAgakZhY3RvcnlUcmFpdHModGFyZ2V0LCBjb25zdHJ1Y3RvcilcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRGZXRjaClcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRET00pXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0Q1NTKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdE11dGF0aW9uKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdFRpbWVvdXQpXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0SW50ZXJ2YWwpXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0TGliVnVlKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdExpYlJlYWN0KTtcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3Rvcnlcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKiogQHJldHVybiB7SkZhY3RvcnlDb21wb25lbnR9ICovXG5leHBvcnQgY29uc3QgakZhY3RvcnkgPSAobmFtZSwgcHJvcGVydGllcykgPT4gT2JqZWN0LmFzc2lnbihuZXcgSkZhY3RvcnlDb21wb25lbnQobmFtZSksIHByb3BlcnRpZXMpOyIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgeyBqRmFjdG9yeUxvYWRlciB9IGZyb20gXCIuL2pGYWN0b3J5LWxvYWRlclwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGpGYWN0b3J5T2JqZWN0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQWxwaGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlPYmplY3Qge1xuXG4gICAgc3RhdGljIGNyZWF0ZURlc2NyaXB0b3JzKGRlc2NyaXB0b3JQcm90b3R5cGUgPSBKRmFjdG9yeU9iamVjdC5ERVNDUklQVE9SU19QUk9UT1RZUEUpIHtcbiAgICAgICAgbGV0IGNyZWF0ZSA9IEpGYWN0b3J5T2JqZWN0LmNyZWF0ZShkZXNjcmlwdG9yUHJvdG90eXBlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgbGV0IG8gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgICAgIG8uTk9ORSA9IGNyZWF0ZSgpO1xuXG4gICAgICAgIG8uV1JJVEFCTEUgICAgID0gY3JlYXRlKHsgd3JpdGFibGU6IHRydWUgfSk7XG4gICAgICAgIG8uRU5VTUVSQUJMRSAgID0gY3JlYXRlKHsgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgby5DT05GSUdVUkFCTEUgPSBjcmVhdGUoeyBjb25maWd1cmFibGU6IHRydWUgfSk7XG5cbiAgICAgICAgby5DT05GSUdVUkFCTEVfV1JJVEFCTEUgICA9XG4gICAgICAgIG8uV1JJVEFCTEVfQ09ORklHVVJBQkxFICAgPSBjcmVhdGUoeyB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xuXG4gICAgICAgIG8uQ09ORklHVVJBQkxFX0VOVU1FUkFCTEUgPVxuICAgICAgICBvLkVOVU1FUkFCTEVfQ09ORklHVVJBQkxFID0gY3JlYXRlKHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xuXG4gICAgICAgIG8uRU5VTUVSQUJMRV9XUklUQUJMRSAgICAgPVxuICAgICAgICBvLldSSVRBQkxFX0VOVU1FUkFCTEUgICAgID0gY3JlYXRlKHsgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUgfSk7XG5cbiAgICAgICAgby5XUklUQUJMRV9FTlVNRVJBQkxFX0NPTkZJR1VSQUJMRSA9XG4gICAgICAgIG8uV1JJVEFCTEVfQ09ORklHVVJBQkxFX0VOVU1FUkFCTEUgPVxuICAgICAgICBvLkVOVU1FUkFCTEVfQ09ORklHVVJBQkxFX1dSSVRBQkxFID1cbiAgICAgICAgby5FTlVNRVJBQkxFX1dSSVRBQkxFX0NPTkZJR1VSQUJMRSA9XG4gICAgICAgIG8uQ09ORklHVVJBQkxFX1dSSVRBQkxFX0VOVU1FUkFCTEUgPVxuICAgICAgICBvLkNPTkZJR1VSQUJMRV9FTlVNRVJBQkxFX1dSSVRBQkxFID0gY3JlYXRlKHsgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcblxuICAgICAgICAvLyBTaG9ydGN1dHNcbiAgICAgICAgby5SRUFET05MWSA9IGNyZWF0ZSh7IHdyaXRhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogZmFsc2UgfSk7XG5cbiAgICAgICAgcmV0dXJuIG9cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGFzc2lnbihvYmosICdteVByb3BlcnR5JywgMTIzLCB7d3JpdGFibGU6ZmFsc2V9KVxuICAgICAqIGFzc2lnbihvYmosIHthOjEsIGI6Mn0nLCB7d3JpdGFibGU6ZmFsc2V9KVxuICAgICAqXG4gICAgICogZGVwcmVjYXRlZFxuICAgICAqIGFzc2lnbihvYmosICdteVByb3BlcnR5Jywge3ZhbHVlOlwib2tcIiwgd3JpdGFibGU6ZmFsc2V9KSA9PiBub3Qgc3RyaWN0XG4gICAgICogYXNzaWduKG9iaiwgJ215UHJvcGVydHknLCAxMjMpID0+IHVzZSBuYXRpdmUgaW5zdGVhZFxuICAgICAqIGFzc2lnbihvYmosIHthOjEsIGI6Mn0pID0+IHVzZSBuYXRpdmUgaW5zdGVhZFxuICAgICAqL1xuICAgIHN0YXRpYyBhc3NpZ24odGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgbGV0IGRlc2NyaXB0b3JzID0ge307XG5cbiAgICAgICAgc3dpdGNoICh0eXBlb2YgcHJvcGVydHkpIHtcblxuICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgLy8gYXNzaWduKG9iaiwgJ215UHJvcGVydHknLCAxMjMsIHt3cml0YWJsZTpmYWxzZX0pXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgICAgICBpZiAoIWRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWlzc2luZyBkZXNjcmlwdG9yIGFyZ3VtZW50OyB1c2UgT2JqZWN0LmFzc2lnbiBpbnN0ZWFkXCIpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvciA9IE9iamVjdC5jcmVhdGUoZGVzY3JpcHRvcik7IC8vIGF2b2lkIGRlc2NyaXB0b3IgY29ycnVwdGlvblxuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG5cbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAvLyBhc3NpZ24ob2JqLCB7YToxLCBiOjJ9Jywge3dyaXRhYmxlOmZhbHNlfSlcbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAgICAgICAgIFt2YWx1ZSwgZGVzY3JpcHRvcl0gPSBbcHJvcGVydHksIHZhbHVlXTtcblxuICAgICAgICAgICAgICAgIGlmICghZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIGRlc2NyaXB0b3IgYXJndW1lbnQ7IHVzZSBPYmplY3QuYXNzaWduIGluc3RlYWRcIilcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBuYW1lIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yc1tuYW1lXSA9IE9iamVjdC5jcmVhdGUoZGVzY3JpcHRvcik7IC8vIGF2b2lkIGRlc2NyaXB0b3IgY29ycnVwdGlvblxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yc1tuYW1lXS52YWx1ZSA9IHZhbHVlW25hbWVdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IG5hbWUgb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvcnNbbmFtZV0gPSBPYmplY3QuY3JlYXRlKGRlc2NyaXB0b3IpOyAvLyBhdm9pZCBkZXNjcmlwdG9yIGNvcnJ1cHRpb25cbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvcnNbbmFtZV0udmFsdWUgPSB2YWx1ZVtuYW1lXVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgZGVzY3JpcHRvcnMpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwcm9wZXJ0eSBhcmd1bWVudFwiKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldFxuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGUocHJvdG90eXBlLCBmbGF0ID0gZmFsc2UsIGRpc2luaGVyaXQgPSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGlmIChmbGF0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZGlzaW5oZXJpdCA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fSwgcHJvdG90eXBlLCBwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKFxuICAgICAgICAgICAgICAgICAgICBkaXNpbmhlcml0ID8gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCBwcm90b3R5cGUpIDogcHJvdG90eXBlXG4gICAgICAgICAgICAgICAgKSwgcHJvcGVydGllcylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBkaXNpbmhlcml0KG9iamVjdCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCBvYmplY3QpO1xuICAgIH1cbn1cblxuSkZhY3RvcnlPYmplY3QuREVTQ1JJUFRPUlNfUFJPVE9UWVBFID0geyB3cml0YWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IGZhbHNlIH07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnlPYmplY3Rcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5qRmFjdG9yeUxvYWRlci5vbkluaXQoZnVuY3Rpb24oKSB7XG4gICAgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMgPSBKRmFjdG9yeU9iamVjdC5jcmVhdGVEZXNjcmlwdG9ycygpXG59KTsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgSkZBQ1RPUllfREVWIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBKRmFjdG9yeUV4cGVjdCB9IGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5pbXBvcnQgeyBoZWxwZXJfY2FtZWxDYXNlIH0gZnJvbSBcIi4vakZhY3RvcnktaGVscGVyc1wiO1xuaW1wb3J0IHsgSkZhY3RvcnlPYmplY3QgfSBmcm9tIFwiLi9KRmFjdG9yeU9iamVjdFwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5QWJvdXRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuY29uc3QgbW9kdWxlR2VuSWQgPSAoKSA9PiArK21vZHVsZUdlbklkLnVpZDsgbW9kdWxlR2VuSWQudWlkID0gMDtcblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5QWJvdXQge1xuICAgIGNvbnN0cnVjdG9yKG93bmVyLCBhYm91dCA9IHt9KSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlBYm91dChvd25lcilcIiwgb3duZXIpLnR5cGUoT2JqZWN0KTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlBYm91dChhYm91dClcIiwgYWJvdXQpXG4gICAgICAgICAgICAgICAgLnR5cGVQbGFpbk9iamVjdCgpXG4gICAgICAgICAgICAgICAgLnJlc2VydmVkUHJvcGVydHkoXCJ1aWRcIilcbiAgICAgICAgICAgICAgICAucmVzZXJ2ZWRQcm9wZXJ0eShcImZpbmdlcnByaW50XCIpO1xuICAgICAgICAgICAgaWYgKFwibmFtZVwiIGluIGFib3V0KSB7XG4gICAgICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUFib3V0KGFib3V0Lm5hbWUpXCIsIGFib3V0Lm5hbWUpXG4gICAgICAgICAgICAgICAgICAgIC50eXBlU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgLm5vdEVtcHR5U3RyaW5nKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuYW1lO1xuICAgICAgICBsZXQgZmluZ2VycHJpbnQ7XG4gICAgICAgIGxldCB1aWQgPSBtb2R1bGVHZW5JZCgpO1xuXG4gICAgICAgIGlmIChhYm91dC5uYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gYWJvdXQubmFtZTtcbiAgICAgICAgICAgIGRlbGV0ZSBhYm91dC5uYW1lO1xuICAgICAgICAgICAgZmluZ2VycHJpbnQgPSBcImpGYWN0b3J5XCIgKyBcIl9cIiArIGhlbHBlcl9jYW1lbENhc2UobmFtZS50b0xvd2VyQ2FzZSgpKSArIFwiX1wiICsgdWlkXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgYWJvdXQubmFtZTtcbiAgICAgICAgICAgIG5hbWUgPSBgWyR7b3duZXIuY29uc3RydWN0b3IubmFtZX0jJHt1aWR9XWA7XG4gICAgICAgICAgICBmaW5nZXJwcmludCA9IFwiakZhY3RvcnlcIiArIFwiX1wiICsgb3duZXIuY29uc3RydWN0b3IubmFtZSArIFwiX1wiICsgdWlkO1xuICAgICAgICB9XG5cbiAgICAgICAgSkZhY3RvcnlPYmplY3QuYXNzaWduKHRoaXMsIC8qKiBAbGVuZHMgSkZhY3RvcnlBYm91dCMgKi8ge1xuICAgICAgICAgICAgdWlkLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGZpbmdlcnByaW50XG4gICAgICAgIH0sIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLkVOVU1FUkFCTEUpO1xuXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgYWJvdXQpO1xuXG4gICAgICAgIC8vIC0tLVxuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlBYm91dC5uYW1lXCIsIHRoaXMubmFtZSlcbiAgICAgICAgICAgICAgICAubWF0Y2hSZWcoL15bXFx3W1xcXSNdKyQvKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlBYm91dC5maW5nZXJwcmludFwiLCB0aGlzLmZpbmdlcnByaW50KVxuICAgICAgICAgICAgICAgIC5tYXRjaFJlZygvXltcXHddKyQvKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgSkZBQ1RPUllfREVWIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBKRmFjdG9yeUV4cGVjdCB9IGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5pbXBvcnQgeyBqRmFjdG9yeUVycm9yIH0gZnJvbSBcIi4vSkZhY3RvcnlFcnJvclwiO1xuaW1wb3J0IHsgakZhY3RvcnlUcmFjZSB9IGZyb20gXCIuL0pGYWN0b3J5VHJhY2VcIjtcbmltcG9ydCB7IGpRdWVyeSwgaGVscGVyX2lzTmF0aXZlIH0gZnJvbSBcIi4vakZhY3RvcnktaGVscGVyc1wiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5UHJvbWlzZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBQcm92aWRlcyBhd2FpdGFibGUsIGV4cGlyYWJsZSwgZGVidWdnYWJsZSBwcm9taXNlIGNoYWluc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEV4cGVyaW1lbnRhbCBEcmFmdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vICNsaW1pdGF0aW9uIyBhc3luYyBmdW5jdGlvbnMgYWx3YXlzIHVzZSB0aGUgbmF0aXZlIFByb21pc2UgY29uc3RydWN0b3IgZXZlbiBpZiBuYXRpdmUgUHJvbWlzZSBjbGFzcyBpcyBvdmVycmlkZGVuXG4vLyAjbGltaXRhdGlvbiMgYXN5bmMgZnVuY3Rpb25zIGFsd2F5cyByZXR1cm5zIGEgbmF0aXZlIFByb21pc2UgZXZlbiBpZiByZXR1cm5pbmcgYW4gZXh0ZW5kZWQgUHJvbWlzZVxuLy8gI2xpbWl0YXRpb24jIGFzeW5jIGZ1bmN0aW9ucyBhbHdheXMgcmV0dXJucyBhIHBlbmRpbmcgUHJvbWlzZSBldmVuIGlmIHJldHVybmluZyBhIHJlc29sdmVkIFByb21pc2VcblxuY29uc3QgbW9kdWxlR2VuSWQgPSAoKSA9PiArK21vZHVsZUdlbklkLnVpZDsgbW9kdWxlR2VuSWQudWlkID0gMDtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeVByb21pc2Vcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlQcm9taXNlIGV4dGVuZHMgUHJvbWlzZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGNvbmZpZywgdHJhY2VTb3VyY2UgfSwgZXhlY3V0b3IpIHtcblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgW25hbWUsIGNvbmZpZywgZXhlY3V0b3JdID0gW251bGwsIG51bGwsIGFyZ3VtZW50c1swXV1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNoYWluSWQgPSBtb2R1bGVHZW5JZCgpO1xuICAgICAgICBjb25maWcgPSB7IC4uLkpGYWN0b3J5UHJvbWlzZS5ERUZBVUxUX0NPTkZJRywgLi4uY29uZmlnIH07XG4gICAgICAgIG5hbWUgPSBuYW1lIHx8IFwidW5uYW1lZFwiO1xuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwibmFtZVwiLCBuYW1lKVxuICAgICAgICAgICAgICAgIC50eXBlKFN0cmluZywgTnVtYmVyKVxuICAgICAgICAgICAgICAgIC5tYXRjaFJlZygvXlteLiBdKyQvKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiY29uZmlnXCIsIGNvbmZpZykudHlwZVBsYWluT2JqZWN0KCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImV4ZWN1dG9yXCIsIGV4ZWN1dG9yKS50eXBlRnVuY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXNvbHZlO1xuICAgICAgICBsZXQgcmVqZWN0O1xuXG4gICAgICAgIHN1cGVyKChfcmVzb2x2ZSwgX3JlamVjdCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSA9IF9yZXNvbHZlO1xuICAgICAgICAgICAgcmVqZWN0ID0gX3JlamVjdDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgY2hhaW4gPSBuZXcgSkZhY3RvcnlQcm9taXNlQ2hhaW4odGhpcywgY2hhaW5JZCwgbmFtZSwgY29uZmlnKTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgICAgICAkY2hhaW46IHtcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBjaGFpblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICR0eXBlOiB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwicHJvbWlzZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICRpc1NldHRsZWQ6IHtcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAkaXNSZWplY3RlZDoge1xuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJGlzRnVsZmlsbGVkOiB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAkaXNFeHBpcmVkOiB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgICAgICAgICAkZGV2X25hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmFtZSArIFwiW1wiICsgY2hhaW5JZCArIFwiOjBdXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICRkZXZfcGF0aDoge1xuICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBKRmFjdG9yeVByb21pc2VQYXRoKHRoaXMpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAkZGV2X3Bvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFoZWxwZXJfaXNOYXRpdmUoZXhlY3V0b3IpKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICAgICAgICAgICAgICAkZGV2X3NvdXJjZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGV4ZWN1dG9yXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGpGYWN0b3J5VHJhY2UudHJhY2VyLmF0dGFjaFRyYWNlKHRoaXMsIHRyYWNlU291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRyeUF1dG9Db21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy4kY2hhaW4uaXNQZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kY2hhaW5Db21wbGV0ZShcImNvbmZpZy5jaGFpbkF1dG9Db21wbGV0ZSA9IHRydWVcIik7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDYXNlIG9mIGVycm9yIGluIFwiY29tcGxldGVcIiBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBjYXRjaCB0aGUgZXhjZXB0aW9uIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgYWxyZWFkeSBmdWxmaWxsZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gRnVydGhlcm1vcmUgdGhpcyBpc3N1ZSBtdXN0IGJlIGhhbmRsZWQgYnkgdGhlIGNoYWluLCBub3QgdGhlIGN1cnJlbnQgcHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpIC8vIHByaW50IHRoZSBlcnJvciBvdGhlcndpc2Ugbm90aGluZyBoYXBwZW5zXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG9uUmVzb2x2ZSA9IHZhbHVlID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdvblJlc29sdmUnLHRoaXMuJGRldl9uYW1lKTtcbiAgICAgICAgICAgIGlmICghdGhpcy4kaXNTZXR0bGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gMi4zLjEuIElmIHByb21pc2UgYW5kIHggcmVmZXIgdG8gdGhlIHNhbWUgb2JqZWN0LCByZWplY3QgcHJvbWlzZSB3aXRoIGEgVHlwZUVycm9yIGFzIHRoZSByZWFzb24uXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uUmVqZWN0KG5ldyBUeXBlRXJyb3IoXCJDaGFpbmluZyBjeWNsZSBkZXRlY3RlZCBmb3IgcHJvbWlzZSBcIiArIHRoaXMuJGRldl9uYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgdGhlbjtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiIHx8IHR5cGVvZiB4ID09IFwiZnVuY3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gMi4zLjMuMi4gSWYgcmV0cmlldmluZyB0aGUgcHJvcGVydHkgeC50aGVuIHJlc3VsdHMgaW4gYSB0aHJvd24gZXhjZXB0aW9uIGUsXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlamVjdCBwcm9taXNlIHdpdGggZSBhcyB0aGUgcmVhc29uLlxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhlbiA9IHZhbHVlLnRoZW47XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGVuID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZXNvbHZlUHJvbWlzZSA9IGZ1bmN0aW9uKHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDIuMy4zLjMuMS4gSWYvd2hlbiByZXNvbHZlUHJvbWlzZSBpcyBjYWxsZWQgd2l0aCBhIHZhbHVlIHksIHJ1biBbW1Jlc29sdmVdXShwcm9taXNlLCB5KS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblJlc29sdmUoeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGxldCByZWplY3RQcm9taXNlID0gZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMi4zLjMuMy4yLiBJZi93aGVuIHJlamVjdFByb21pc2UgaXMgY2FsbGVkIHdpdGggYSByZWFzb24gciwgcmVqZWN0IHByb21pc2Ugd2l0aCByLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVqZWN0KHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVuLmNhbGwodmFsdWUsIHJlc29sdmVQcm9taXNlLCByZWplY3RQcm9taXNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAvLyAyLjMuMy4zLjQuIElmIGNhbGxpbmcgdGhlbiB0aHJvd3MgYW4gZXhjZXB0aW9uIGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAyLjMuMy4zLjQuMS4gSWYgcmVzb2x2ZVByb21pc2Ugb3IgcmVqZWN0UHJvbWlzZSBoYXZlIGJlZW4gY2FsbGVkLCBpZ25vcmUgaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDIuMy4zLjMuNC4yLiBPdGhlcndpc2UsIHJlamVjdCBwcm9taXNlIHdpdGggZSBhcyB0aGUgcmVhc29uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpc1JlamVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGlzRnVsZmlsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJGlzRXhwaXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLiRjaGFpbi5lcnJvckV4cGlyZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIG9uU2V0dGxlKHZhbHVlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBvblJlamVjdCA9IHJlYXNvbiA9PiB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnb25SZWplY3QnLHRoaXMuJGRldl9uYW1lKTtcbiAgICAgICAgICAgIGlmICghdGhpcy4kaXNTZXR0bGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kaXNSZWplY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy4kaXNGdWxmaWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgICAgICBvblNldHRsZShyZWFzb24pXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgb25TZXR0bGUgPSB2YWx1ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLiR2YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy4kaXNTZXR0bGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuJGNoYWluLmNoYWluTWFwLnNldCh0aGlzLCB0cnVlKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuJGNoYWluLmNoYWluQ29uZmlnLmNoYWluQXV0b0NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJGNoYWluLmNoYWluTWFwLnNpemUgPT09IDEgJiYgIXRoaXMuJGlzRXhwaXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbnN1cmVzIHRoYXQgdHJ5QXV0b0NvbXBsZXRlKCkgd2lsbCBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHkgKHRoZW4oKSBjYWxsYmFjayBpcyBhc3luY2hyb25vdXMpXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhc2Ugb2YgcHJvbWlzZS5yZXNvbHZlKHByaW1pdGl2ZSksIHByZXZlbnRzIGZvbGxvd2luZyB0aGVuKCkgZnJvbSBiZWluZyBpbW1lZGlhdGVseSBsb2NrZWRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aGVuKHRyeUF1dG9Db21wbGV0ZSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cnlBdXRvQ29tcGxldGUoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgX2NoYWluQXV0b0NvbXBsZXRlID0gY29uZmlnLmNoYWluQXV0b0NvbXBsZXRlO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uZmlnLCBcImNoYWluQXV0b0NvbXBsZXRlXCIsIHtcbiAgICAgICAgICAgIGdldDogKCkgPT4gX2NoYWluQXV0b0NvbXBsZXRlLFxuICAgICAgICAgICAgc2V0OiB2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKF9jaGFpbkF1dG9Db21wbGV0ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgX2NoYWluQXV0b0NvbXBsZXRlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5QXV0b0NvbXBsZXRlKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2hhaW4uY2hhaW5NYXAuc2V0KHRoaXMsIGZhbHNlKTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgICAgICBfX3Jlc29sdmVfXzoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBvblJlc29sdmVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3JlamVjdF9fOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IG9uUmVqZWN0XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBleGVjdXRvcihvblJlc29sdmUsIG9uUmVqZWN0KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgb25SZWplY3QoZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIGZvcmNlVHlwZSkge1xuICAgICAgICBsZXQgd3JhcHBlZEZ1bGZpbGxlZDtcbiAgICAgICAgbGV0IHdyYXBwZWRSZWplY3RlZDtcbiAgICAgICAgbGV0IG5ld1Byb21pc2U7XG4gICAgICAgIGxldCBpc05hdGl2ZSA9IGhlbHBlcl9pc05hdGl2ZShvbkZ1bGZpbGxlZCkgJiYgIW9uRnVsZmlsbGVkLm5hbWUuc3RhcnRzV2l0aChcImJvdW5kIFwiKTtcblxuICAgICAgICBpZiAob25GdWxmaWxsZWQgJiYgdHlwZW9mIG9uRnVsZmlsbGVkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHdyYXBwZWRGdWxmaWxsZWQgPSBmdW5jdGlvbihyKSB7XG4gICAgICAgICAgICAgICAgLy8gU1BFQzogXCJhd2FpdFwiIHRocm93cyB0aGUgZXJyb3JFeHBpcmVkIGlmIGV4cGlyZWRcbiAgICAgICAgICAgICAgICAvLyBBbGxvd3MgYXN5bmMgZnVuY3Rpb24gdG8gdHJ5IGNhdGNoIHRoZSBhd2FpdGVkIHByb21pc2VcbiAgICAgICAgICAgICAgICAvLyBhbmQgYWxsb3dzIHN0YWNrIGNhbGwgZXhpdCBpZiBub3QgY2F1Z2h0XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwiYXdhaXRcIiAmJiBuZXdQcm9taXNlLiRpc0V4cGlyZWQgPT09IHRydWUgJiYgbmV3UHJvbWlzZS4kY2hhaW4uZXJyb3JFeHBpcmVkID09PSByKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvblJlamVjdGVkKHIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghbmV3UHJvbWlzZS4kaXNTZXR0bGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvbkZ1bGZpbGxlZChyKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAob25SZWplY3RlZCAmJiB0eXBlb2Ygb25SZWplY3RlZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB3cmFwcGVkUmVqZWN0ZWQgPSBmdW5jdGlvbihyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuZXdQcm9taXNlLiRpc1NldHRsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uUmVqZWN0ZWQocilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdHlwZSA9IGZvcmNlVHlwZSB8fCAoaXNOYXRpdmUgPyBcImF3YWl0XCIgOiBvbkZ1bGZpbGxlZCA9PT0gdW5kZWZpbmVkID8gXCJjYXRjaFwiIDogXCJ0aGVuXCIpO1xuICAgICAgICBuZXdQcm9taXNlID0gT2JqZWN0LmFzc2lnbihzdXBlci50aGVuKHdyYXBwZWRGdWxmaWxsZWQsIHdyYXBwZWRSZWplY3RlZCksIHRoaXMpO1xuICAgICAgICBtb2R1bGVHZW5JZC51aWQtLTsgLy8gcmV2ZXJzZSBiZWNhdXNlIG5vdCBhIG5ldyBjaGFpblxuICAgICAgICBuZXdQcm9taXNlLiR0eXBlID0gdHlwZTtcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBuZXdQcm9taXNlLiRkZXZfcG9zaXRpb24gPSB0aGlzLiRjaGFpbi5jaGFpbk1hcC5zaXplO1xuICAgICAgICAgICAgbGV0IGZOYW1lcyA9IFwiXCI7XG4gICAgICAgICAgICBpZiAob25GdWxmaWxsZWQgJiYgb25GdWxmaWxsZWQubmFtZSkge1xuICAgICAgICAgICAgICAgIGZOYW1lcyArPSBvbkZ1bGZpbGxlZC5uYW1lXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25SZWplY3RlZCAmJiBvblJlamVjdGVkLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBmTmFtZXMgKz0gXCIsXCIgKyBvblJlamVjdGVkLm5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG5ld1Byb21pc2UsIHtcbiAgICAgICAgICAgICAgICAkZGV2X25hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRjaGFpbi5jaGFpbk5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCJbXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgdGhpcy4kY2hhaW4uY2hhaW5JZFxuICAgICAgICAgICAgICAgICAgICAgICAgKyBcIjpcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyB0aGlzLiRkZXZfcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCJdXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCIuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgbmV3UHJvbWlzZS4kdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoZk5hbWVzID8gXCIoXCIgKyBmTmFtZXMgKyBcIilcIiA6IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICArIFwiW1wiXG4gICAgICAgICAgICAgICAgICAgICAgICArIG5ld1Byb21pc2UuJGNoYWluLmNoYWluSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCI6XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgbmV3UHJvbWlzZS4kZGV2X3Bvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICArIFwiXVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAkZGV2X3BhdGg6IHsgdmFsdWU6IG5ldyBKRmFjdG9yeVByb21pc2VQYXRoKHRoaXMuJGRldl9wYXRoLCBuZXdQcm9taXNlKSB9LFxuICAgICAgICAgICAgICAgICRkZXZfb25GdWxmaWxsZWQ6IHsgdmFsdWU6IG9uRnVsZmlsbGVkIH0sXG4gICAgICAgICAgICAgICAgJGRldl9vblJlamVjdGVkOiB7IHZhbHVlOiBvblJlamVjdGVkIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3UHJvbWlzZS4kY2hhaW4uY2hhaW5NYXAuc2V0KG5ld1Byb21pc2UsIGZhbHNlKTtcblxuICAgICAgICBpZiAodGhpcy4kaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAvLyBjYXNlOiBwMC50aGVuKCk7IGNoYWluQWJvcnQoKTsgcDEudGhlbigpXG4gICAgICAgICAgICAvLyA9PiB0aGUgbmV3IHByb21pc2UgbXVzdCBiZSBleHBpcmVkXG4gICAgICAgICAgICBKRmFjdG9yeVByb21pc2UuZm9yY2VFeHBpcmUobmV3UHJvbWlzZSwgdGhpcy4kY2hhaW4uZXJyb3JFeHBpcmVkKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld1Byb21pc2VcbiAgICB9XG5cbiAgICAkY2F0Y2hFeHBpcmVkKG9uRXhwaXJlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aGVuKHIgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuJGNoYWluLmNoYWluUm9vdC4kaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9uRXhwaXJlZChyKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gclxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB1bmRlZmluZWQsIFwiJGNhdGNoRXhwaXJlZFwiKVxuICAgIH1cblxuICAgIHN0YXRpYyByZXNvbHZlKG9wdGlvbmFsQXJncywgdmFsdWUpIHtcbiAgICAgICAgLy8gcmVzb2x2ZSgpXG4gICAgICAgIC8vIHJlc29sdmUob3B0aW9uYWxBcmdzLCB2YWx1ZSlcbiAgICAgICAgLy8gcmVzb2x2ZSh2YWx1ZSlcblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgW29wdGlvbmFsQXJncywgdmFsdWVdID0gW3t9LCBvcHRpb25hbEFyZ3NdXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25hbEFyZ3MpIHtcbiAgICAgICAgICAgIG9wdGlvbmFsQXJncyA9IHt9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgdGhpcyAmJiBhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAvLyBSZXR1cm5zIHRoZSBwcm9taXNlIGFzIGlzIChuYXRpdmUgc3BlYylcbiAgICAgICAgICAgIC8vIGJ1dCBvbmx5IGlmIG5vIG9wdGlvbmFsQXJnc1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMob3B0aW9uYWxBcmdzLCBmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHJlamVjdChvcHRpb25hbEFyZ3MsIHJlYXNvbikge1xuICAgICAgICAvLyByZWplY3QoKVxuICAgICAgICAvLyByZWplY3Qob3B0aW9uYWxBcmdzLCByZWFzb24pXG4gICAgICAgIC8vIHJlamVjdChyZWFzb24pXG5cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIFtvcHRpb25hbEFyZ3MsIHJlYXNvbl0gPSBbe30sIG9wdGlvbmFsQXJnc11cbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdGlvbmFsQXJncykge1xuICAgICAgICAgICAgb3B0aW9uYWxBcmdzID0ge31cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IHRoaXMob3B0aW9uYWxBcmdzLCBmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHJlamVjdChyZWFzb24pXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICR0b1Byb21pc2UoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcylcbiAgICB9XG5cbiAgICAvLyBDb21wbGV0ZXMgYW4gZXhwaXJlcyB0aGUgd2hvbGUgY2hhaW4gYmVmb3JlIGl0cyBub3JtYWwgZW5kXG4gICAgJGNoYWluQWJvcnQocmVhc29uID0gXCIkY2hhaW5BYm9ydCgpXCIpIHtcbiAgICAgICAgdGhpcy4kY2hhaW4uY29tcGxldGUocmVhc29uKTtcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvLyBNYW51YWxseSBjb21wbGV0ZXMgYW4gZXhwaXJlcyB0aGUgd2hvbGUgY2hhaW5cbiAgICAvLyBPbmx5IHJlcXVpcmVkIGlmIGF3YWl0aW5nIFwibXlQcm9taXNlLiRjaGFpblwiXG4gICAgLy8gd2hlbiB0aGUgYXV0b2NvbXBsZXRlIHdhdGNoZXIgaXMgbm90IHVzZWRcbiAgICAkY2hhaW5Db21wbGV0ZShyZWFzb24gPSBcIiRjaGFpbkNvbXBsZXRlKClcIikge1xuICAgICAgICB0aGlzLiRjaGFpbi5jb21wbGV0ZShyZWFzb24pO1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgICRjaGFpbkF1dG9Db21wbGV0ZSgpIHtcbiAgICAgICAgdGhpcy4kY2hhaW4uY2hhaW5Db25maWcuY2hhaW5BdXRvQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHN0YXRpYyBmb3JjZUV4cGlyZShwcm9taXNlLCByZWFzb24pIHtcbiAgICAgICAgcHJvbWlzZS4kaXNFeHBpcmVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFwcm9taXNlLiRpc1NldHRsZWQpIHtcbiAgICAgICAgICAgIGlmIChwcm9taXNlLiR0eXBlICE9PSBcImF3YWl0XCIgJiYgcHJvbWlzZS4kdHlwZSAhPT0gXCIkY2F0Y2hFeHBpcmVkXCIpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlLl9fcmVzb2x2ZV9fKHJlYXNvbilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuSkZhY3RvcnlQcm9taXNlLkRFRkFVTFRfQ09ORklHID0ge1xuICAgIGNoYWluQXV0b0NvbXBsZXRlOiBmYWxzZVxufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeVByb21pc2VDaGFpblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeVByb21pc2VDaGFpbiB7XG5cbiAgICBjb25zdHJ1Y3RvcihjaGFpblJvb3QsIGNoYWluSWQsIGNoYWluTmFtZSwgY2hhaW5Db25maWcpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICAgICAgY2hhaW5Db25maWc6IHsgdmFsdWU6IGNoYWluQ29uZmlnIH0sXG4gICAgICAgICAgICBjaGFpblJvb3Q6IHsgdmFsdWU6IGNoYWluUm9vdCB9LFxuICAgICAgICAgICAgY2hhaW5JZDogeyB2YWx1ZTogY2hhaW5JZCB9LFxuICAgICAgICAgICAgY2hhaW5OYW1lOiB7IHZhbHVlOiBjaGFpbk5hbWUgfSxcbiAgICAgICAgICAgIGNoYWluTWFwOiB7IHZhbHVlOiBuZXcgTWFwIH0sXG4gICAgICAgICAgICBpc0NvbXBsZXRlZDogeyB2YWx1ZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LFxuICAgICAgICAgICAgZGF0YTogeyB2YWx1ZToge30gfSxcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG4gICAgICAgICAgICBfX2RlZmVycmVkX186IHsgdmFsdWU6IGpRdWVyeS5EZWZlcnJlZCgpIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBnZXQgaXNQZW5kaW5nKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmNoYWluTWFwLnZhbHVlcygpKS5pbmNsdWRlcyhmYWxzZSlcbiAgICB9XG5cbiAgICB0aGVuKG9uUmVzb2x2ZSkgeyAvLyA9PiBcImF3YWl0IGNoYWluXCJcbiAgICAgICAgdGhpcy5fX2RlZmVycmVkX18uZG9uZShvblJlc29sdmUpO1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGNvbXBsZXRlKHJlYXNvbiA9IFwiY2hhaW4uY29tcGxldGUoKVwiKSB7XG4gICAgICAgIGxldCBjaGFpblJvb3QgPSB0aGlzLmNoYWluUm9vdDtcbiAgICAgICAgaWYgKCFjaGFpblJvb3QuJGlzRXhwaXJlZCkge1xuICAgICAgICAgICAgbGV0IGVycm9yRXhwaXJlZCA9IGNoYWluUm9vdC4kY2hhaW4uZXJyb3JFeHBpcmVkID0gbmV3IGpGYWN0b3J5RXJyb3IuUFJPTUlTRV9FWFBJUkVEKHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGNoYWluUm9vdCxcbiAgICAgICAgICAgICAgICByZWFzb25cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgbWFwID0gdGhpcy5jaGFpbk1hcDtcbiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgbWFwLmtleXMoKSkge1xuICAgICAgICAgICAgICAgIEpGYWN0b3J5UHJvbWlzZS5mb3JjZUV4cGlyZShpdGVtLCBlcnJvckV4cGlyZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0NvbXBsZXRlZFwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgICAgICAgICAgdGhpcy5fX2RlZmVycmVkX18ucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5UHJvbWlzZVBhdGhcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlQcm9taXNlUGF0aCBleHRlbmRzIEFycmF5IHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBmb3IgKGxldCBpIG9mIGFyZ3VtZW50cykge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2goLi4uaSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoKGkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgcHJpbnRhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAoKHYsIGkpID0+IGkgPT09IDAgPyB2LiRkZXZfbmFtZSA6IHYuJGRldl9uYW1lLnNwbGl0KFwiLlwiKVsxXSkuam9pbihcIi5cIilcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtyZXR1cm4gdGhpcy5wcmludGFibGV9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlQcm9taXNlU3luY1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBQcm9taXNlIHRoYXQgdHJpZXMgdG8gcmVzb2x2ZSBzeW5jaHJvbm91c2x5XG4vLyBhbGxvd2luZyBzeW5jaHJvbm91cyBzdGF0ZXMgYW5kIHJlc3VsdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeVByb21pc2VTeW5jIGV4dGVuZHMgUHJvbWlzZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihleGVjdXRvcikge1xuXG4gICAgICAgIGxldCBzdGF0ZXMgPSB7XG4gICAgICAgICAgICAkaXNTZXR0bGVkOiBmYWxzZSwgLy8gdHJ1ZSA9IG5vdCBwZW5kaW5nXG4gICAgICAgICAgICAkaXNSZWplY3RlZDogbnVsbCwgLy8gdHJ1ZSA9IG5vdCBwZW5kaW5nICsgcmVqZWN0ZWRcbiAgICAgICAgICAgICR2YWx1ZTogdW5kZWZpbmVkXG4gICAgICAgIH07XG5cbiAgICAgICAgc3VwZXIoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgICAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGxldCBvblJlc29sdmUgPSByID0+IHtcbiAgICAgICAgICAgICAgICBpZiAociBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgSkZhY3RvcnlQcm9taXNlU3luYy5yZXNvbHZlKHIpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihvblJlc29sdmUsIG9uUmVqZWN0KVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVzLiRpc1NldHRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVzLiRpc1JlamVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZXMuJHZhbHVlID0gcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGxldCBvblJlamVjdCA9IHIgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGRvbid0IHJlc29sdmUgcGVuZGluZyBwcm9taXNlXG4gICAgICAgICAgICAgICAgLy8gdG8ga2VlcCBuYXRpdmUgc3BlY2lmaWNhdGlvblxuICAgICAgICAgICAgICAgIGlmICghY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlcy4kaXNTZXR0bGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVzLiRpc1JlamVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVzLiR2YWx1ZSA9IHI7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChyKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZXhlY3V0b3Iob25SZXNvbHZlLCBvblJlamVjdClcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBvblJlamVjdChlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHN0YXRlcyk7XG4gICAgICAgIHN0YXRlcyA9IHRoaXNcbiAgICB9XG5cbiAgICB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuJGlzU2V0dGxlZCkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy4kdmFsdWU7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJGlzUmVqZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FuY2VsIGFueSB1bmNhdWdodCByZWplY3RlZCByZXN1bHQgZnJvbSB0aGlzIHByb21pc2VcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVmb3JlIHJldHVybmluZyB0aGUgbmV3IG9uZVxuICAgICAgICAgICAgICAgICAgICBzdXBlci50aGVuKHVuZGVmaW5lZCwgKCkgPT4gbnVsbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uUmVqZWN0ZWQgJiYgdHlwZW9mIG9uUmVqZWN0ZWQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBvblJlamVjdGVkKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpGYWN0b3J5UHJvbWlzZVN5bmMucmVqZWN0KHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uRnVsZmlsbGVkICYmIHR5cGVvZiBvbkZ1bGZpbGxlZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG9uRnVsZmlsbGVkKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKRmFjdG9yeVByb21pc2VTeW5jLnJlamVjdChlKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gSkZhY3RvcnlQcm9taXNlU3luYy5yZXNvbHZlKHZhbHVlKVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyByZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEpGYWN0b3J5UHJvbWlzZVN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSkZhY3RvcnlQcm9taXNlU3luYyh2YWx1ZS50aGVuLmJpbmQodmFsdWUpKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEpGYWN0b3J5UHJvbWlzZVN5bmMociA9PiByKHZhbHVlKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgSkZBQ1RPUllfREVWIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBKRmFjdG9yeUV4cGVjdCB9IGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5pbXBvcnQgeyBKRmFjdG9yeVByb21pc2VTeW5jIH0gZnJvbSBcIi4vSkZhY3RvcnlQcm9taXNlXCI7XG5pbXBvcnQgeyBKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXIgfSBmcm9tIFwiLi9KRmFjdG9yeUZ1bmN0aW9uXCI7XG5pbXBvcnQgeyBqRmFjdG9yeUVycm9yIH0gZnJvbSBcIi4vSkZhY3RvcnlFcnJvclwiO1xuaW1wb3J0IHsgalF1ZXJ5LCBoZWxwZXJfaXNQbGFpbk9iamVjdCB9IGZyb20gXCIuL2pGYWN0b3J5LWhlbHBlcnNcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeUV2ZW50c1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBodHRwczovL2xlYXJuLmpxdWVyeS5jb20vZXZlbnRzL2V2ZW50LWV4dGVuc2lvbnMvXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUV2ZW50cyB7XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBqUXVlcnkgZG9lc24ndCBoYW5kbGUgYXN5bmMgdHJpZ2dlciBzbyBqRmFjdG9yeSBwcm92aWRlcyB0aGUgZm9sbG93aW5nIDpcbiAgICAvL1xuICAgIC8vIC0gdHJpZ2dlclBhcmFsbGVsKCk6IHRoZSB0cmlnZ2VyIGZ1bmN0aW9uIHJldHVybnMgYSBQcm9taXNlLmFsbChwZW5kaW5nQXJyYXkpXG4gICAgLy8gICB3aGVyZSBwZW5kaW5nQXJyYXkgaXMgZmlsbGVkIGJ5IGFueSBhc3luYyBydW5uaW5nIGhhbmRsZXIuXG4gICAgLy8gICBOb3QgcmVjb21tZW5kZWQgYmVjYXVzZSBpdCdzIHRoZSBiZXN0IHdheSB0byBwcm9kdWNlIHVucHJlZGljdGFibGUgYXN5bmMgc2lkZSBlZmZlY3RzXG4gICAgLy9cbiAgICAvLyAtIHRyaWdnZXJTZXJpZXMoKTogaGFuZGxlcnMgYXJlIHJ1biBpbiBhIHN5bmNocm9ub3VzIG9yZGVyLCB3aXRoIFwiYXdhaXRcIlxuICAgIC8vICAgVGhpcyBhdm9pZHMgdW5wcmVkaWN0YWJsZSBhc3luYyByYWNlIGNvbmRpdGlvblxuICAgIC8vXG4gICAgLy8gIEJvdGggcmV0dXJucyBhIEpGYWN0b3J5UHJvbWlzZVN5bmMgdGhhdCBjb250YWlucyB0aGUgakZhY3RvcnlfZnVsZmlsbGVkIGZsYWdcbiAgICAvLyAgVGhpcyBmbGFnIGlzIGltbWVkaWF0ZWx5IChub3QgYXN5bmMpIHNldCB0byB0cnVlIGlmIG5vIGFzeW5jIGhhbmRsZXIgaXMgc3RpbGwgcGVuZGluZ1xuICAgIC8vXG4gICAgLy8gPT4gaGFuZGxlcnMgYXJlIHdyYXBwZWQuIE9yaWdpbmFsSGFuZGxlcnMgYW5kIHdyYXBwZWRIYW5kbGVycyByZWxhdGlvbnMgYXJlIHN0b3JlZCBpbiBhIFdlYWtNYXBcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIC8qKiBAbGVuZHMgSkZhY3RvcnlFdmVudHMjICovIHtcbiAgICAgICAgICAgIHJlZ2lzdHJ5OiB7IHZhbHVlOiBqUXVlcnkoT2JqZWN0LmNyZWF0ZShudWxsKSkgfSxcbiAgICAgICAgICAgIGhhbmRsZXJzOiB7IHZhbHVlOiBuZXcgV2Vha01hcCB9LFxuICAgICAgICAgICAgb25MaXN0ZW5lclVwZGF0ZTogeyB2YWx1ZTogbnVsbCwgd3JpdGFibGU6IHRydWUgfSxcbiAgICAgICAgICAgIG9uT2JzZXJ2ZXJVcGRhdGU6IHsgdmFsdWU6IG51bGwsIHdyaXRhYmxlOiB0cnVlIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb24oeyBldmVudHMsIGhhbmRsZXIsIHRhcmdldCwgc2VsZWN0b3IgfSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZVNlbGVjdG9yKGV2ZW50cyk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5RXZlbnRzLm9uKHtoYW5kbGVyfSlcIiwgaGFuZGxlcikudHlwZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICB0YXJnZXQgJiYgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUV2ZW50cy5vbih7dGFyZ2V0fSlcIiwgdGFyZ2V0KS50eXBlKFN0cmluZywgalF1ZXJ5LCBIVE1MRWxlbWVudCk7XG4gICAgICAgICAgICBzZWxlY3RvciAmJiBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5RXZlbnRzLm9uKHtzZWxlY3Rvcn0pXCIsIHRhcmdldCkudHlwZVN0cmluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHdyYXBwZWRIYW5kbGVyID0gdGhpcy5oYW5kbGVycy5nZXQoaGFuZGxlcik7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIC8vIGRvbid0IG5lZWQgdG8gd3JhcCBET00gaGFuZGxlcnNcbiAgICAgICAgICAgIGlmICghd3JhcHBlZEhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZXJzLnNldChoYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIGpRdWVyeSh0YXJnZXQpLm9uKGV2ZW50cywgc2VsZWN0b3IsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkodGFyZ2V0KS5vbihldmVudHMsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub25MaXN0ZW5lclVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25MaXN0ZW5lclVwZGF0ZShhcmd1bWVudHMpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXdyYXBwZWRIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVycy5zZXQoaGFuZGxlciwgd3JhcHBlZEhhbmRsZXIgPSBmdW5jdGlvbihlLCB7IGRhdGEsIHN0YWNrIH0pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaCgoKSA9PiBoYW5kbGVyKGUsIGRhdGEpKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHdyYXBwZWRIYW5kbGVyLm9yaWdpbmFsSGFuZGxlciA9IGhhbmRsZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5Lm9uKGV2ZW50cywgd3JhcHBlZEhhbmRsZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMub25PYnNlcnZlclVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25PYnNlcnZlclVwZGF0ZShhcmd1bWVudHMpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvZmYoeyBldmVudHMsIGhhbmRsZXIsIHRhcmdldCwgc2VsZWN0b3IgfSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHsgLy8gb2ZmKCkgaXMgdmFsaWRcbiAgICAgICAgICAgICAgICBKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZVNlbGVjdG9yKGV2ZW50cyk7XG4gICAgICAgICAgICAgICAgaGFuZGxlciAmJiBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5RXZlbnRzLm9mZih7aGFuZGxlcn0pXCIsIGhhbmRsZXIpLnR5cGVGdW5jdGlvbigpO1xuICAgICAgICAgICAgICAgIHRhcmdldCAmJiBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5RXZlbnRzLm9mZih7dGFyZ2V0fSlcIiwgdGFyZ2V0KS50eXBlKFN0cmluZywgalF1ZXJ5LCBIVE1MRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3IgJiYgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUV2ZW50cy5vZmYoe3NlbGVjdG9yfSlcIiwgdGFyZ2V0KS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkodGFyZ2V0KS5vZmYoZXZlbnRzLCBzZWxlY3RvciwgaGFuZGxlcilcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5KHRhcmdldCkub2ZmKGV2ZW50cywgaGFuZGxlcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGpRdWVyeShcIipcIikub2ZmKGV2ZW50cywgaGFuZGxlcik7XG5cbiAgICAgICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlciA9IHRoaXMuaGFuZGxlcnMuZ2V0KGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5JTlZBTElEX1ZBTFVFKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJoYW5kbGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IFwibm90IHJlZ2lzdGVyZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGdpdmVuOiBoYW5kbGVyXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5vZmYoZXZlbnRzLCBoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vbk9ic2VydmVyVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLm9uT2JzZXJ2ZXJVcGRhdGUoYXJndW1lbnRzKVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9uTGlzdGVuZXJVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMub25MaXN0ZW5lclVwZGF0ZShhcmd1bWVudHMpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSdW4gaW4gcGFyYWxsZWwuIERvbid0IFwiYXdhaXRcIiBmb3IgYXN5bmMgaGFuZGxlcnNcbiAgICAgKiBPYnZpb3VzbHkgcHJvZHVjZXMgdW5wcmVkaWN0YWJsZSByYWNlIGNvbmRpdGlvbnNcbiAgICAgKi9cbiAgICB0cmlnZ2VyUGFyYWxsZWwoeyBldmVudHMsIGRhdGEsIHRhcmdldCB9KSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlU2VsZWN0b3IoZXZlbnRzKTtcbiAgICAgICAgICAgIHRhcmdldFxuICAgICAgICAgICAgICAgICYmIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlFdmVudHMudHJpZ2dlclBhcmFsbGVsKHt0YXJnZXR9KVwiLCB0YXJnZXQpLnR5cGUoU3RyaW5nLCBqUXVlcnksIEhUTUxFbGVtZW50KVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICAgICAgY29uc3QgcGVuZGluZyA9IFtdO1xuICAgICAgICBldmVudHMgPSBldmVudHMuc3BsaXQoXCIgXCIpO1xuXG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGV2ZW50IG9mIGV2ZW50cykge1xuICAgICAgICAgICAgICAgIGpRdWVyeSh0YXJnZXQpLnRyaWdnZXIoZXZlbnQsIHsgZGF0YSwgc3RhY2sgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBldmVudCBvZiBldmVudHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnRyaWdnZXJIYW5kbGVyKGV2ZW50LCB7IGRhdGEsIHN0YWNrIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBoYW5kbGVyIG9mIHN0YWNrKSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gaGFuZGxlcigpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2VcbiAgICAgICAgICAgICAgICAmJiAhcmVzdWx0LiRpc1NldHRsZWQgLy8gZG9uJ3QgbmVlZCB0byBhd2FpdFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcGVuZGluZy5wdXNoKHJlc3VsdClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwZW5kaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gSkZhY3RvcnlQcm9taXNlU3luYy5yZXNvbHZlKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJ1biBpbiBkZWNsYXJhdGlvbiBvcmRlciBzeW5jaHJvbm91c2x5LiBXaWxsIFwiYXdhaXRcIiBmb3IgYXN5bmMgaGFuZGxlcnNcbiAgICAgKiBQcmV2ZW50cyB1bnByZWRpY3RhYmxlIHJhY2UgY29uZGl0aW9uc1xuICAgICAqL1xuICAgIHRyaWdnZXJTZXJpZXMoeyBldmVudHMsIGRhdGEsIHRhcmdldCB9KSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlU2VsZWN0b3IoZXZlbnRzKTtcbiAgICAgICAgICAgIHRhcmdldCAmJiBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5RXZlbnRzLnRyaWdnZXJTZXJpZXMoe3RhcmdldH0pXCIsIHRhcmdldCkudHlwZShTdHJpbmcsIGpRdWVyeSwgSFRNTEVsZW1lbnQpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEpGYWN0b3J5UHJvbWlzZVN5bmMoYXN5bmMgcmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGFjayA9IFtdO1xuICAgICAgICAgICAgZXZlbnRzID0gZXZlbnRzLnNwbGl0KFwiIFwiKTtcblxuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGV2ZW50IG9mIGV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGFyZ2V0KS50cmlnZ2VyKGV2ZW50LCB7IGRhdGEsIHN0YWNrIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZXZlbnQgb2YgZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cnkudHJpZ2dlckhhbmRsZXIoZXZlbnQsIHsgZGF0YSwgc3RhY2sgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGhhbmRsZXIgb2Ygc3RhY2spIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gaGFuZGxlcigpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlXG4gICAgICAgICAgICAgICAgICAgICYmICFyZXN1bHQuJGlzU2V0dGxlZCAvLyBkb24ndCBuZWVkIHRvIGF3YWl0XG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICB9KVxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5RXZlbnRzTWFuYWdlciBleHRlbmRzIEpGYWN0b3J5RXZlbnRzIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICAgICAgcGFyZW50OiB7IHZhbHVlOiBwYXJlbnQgfSxcbiAgICAgICAgICAgIGFmZmlsaWF0ZVJ1bGVzOiB7IHZhbHVlOiBuZXcgSkZhY3RvcnlGdW5jdGlvbkNvbXBvc2VyKCkuY29tcG9zZSgpIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWZmaWxpYXRlQWRkUnVsZShKRmFjdG9yeUV2ZW50c01hbmFnZXIucnVsZV9uYW1lc3BhY2UpXG4gICAgfVxuXG4gICAgYWZmaWxpYXRlKGV2ZW50cyA9IFwiXCIsIG5hbWVzcGFjZXMgPSBcIlwiLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBwYXJzZXIgPSBuZXcgSkZhY3RvcnlFdmVudFNlbGVjdG9yUGFyc2VyKGV2ZW50cyk7XG4gICAgICAgIGZvciAobGV0IHBhcnNlZEV2ZW50IG9mIHBhcnNlci5ldmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuYWZmaWxpYXRlUnVsZXMocGFyc2VkRXZlbnQsIG5hbWVzcGFjZXMsIG9wdGlvbnMpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlci50b1N0cmluZygpO1xuICAgIH1cblxuICAgIGFmZmlsaWF0ZUFkZFJ1bGUoaGFuZGxlcikge1xuICAgICAgICB0aGlzLmFmZmlsaWF0ZVJ1bGVzLmNvbXBvc2VyLmxhc3QoaGFuZGxlcilcbiAgICB9XG5cbiAgICBzdGF0aWMgcnVsZV9uYW1lc3BhY2UoY29udGV4dCwgcGFyc2VkRXZlbnQsIG5hbWVzcGFjZXMpIHtcbiAgICAgICAgbmFtZXNwYWNlcyA9IG5hbWVzcGFjZXMuc3BsaXQoXCIuXCIpO1xuICAgICAgICBmb3IgKGxldCBuYW1lc3BhY2Ugb2YgbmFtZXNwYWNlcykge1xuICAgICAgICAgICAgbmFtZXNwYWNlICYmIHBhcnNlZEV2ZW50LmFkZE5hbWVzcGFjZShuYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb24oZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yLCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIE9ic2VydmVyczpcbiAgICAgICAgLy8gZXZlbnRzLCBoYW5kbGVyXG4gICAgICAgIC8vIGV2ZW50cywgaGFuZGxlciwgb3B0aW9uc1xuXG4gICAgICAgIC8vIERPTSBFdmVudHM6XG4gICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBoYW5kbGVyXG4gICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBoYW5kbGVyLCBvcHRpb25zXG4gICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBzZWxlY3RvciwgaGFuZGxlcixcbiAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yLCBoYW5kbGVyLCBvcHRpb25zXG5cbiAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgLy8gZXZlbnRzLCBoYW5kbGVyXG4gICAgICAgICAgICAgICAgW2hhbmRsZXIsIHRhcmdldF0gPSBbdGFyZ2V0LyosIHVuZGVmaW5lZCovXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1syXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBoYW5kbGVyXG4gICAgICAgICAgICAgICAgICAgIFtoYW5kbGVyLCBzZWxlY3Rvcl0gPSBbc2VsZWN0b3IvKiwgdW5kZWZpbmVkKi9dO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgaGFuZGxlciwgb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICBbaGFuZGxlciwgb3B0aW9ucywgdGFyZ2V0LCBzZWxlY3Rvcl0gPSBbdGFyZ2V0LCBzZWxlY3Rvci8qLCB1bmRlZmluZWQsIHVuZGVmaW5lZCovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbM10gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIGhhbmRsZXIsIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgW29wdGlvbnMsIGhhbmRsZXIsIHNlbGVjdG9yXSA9IFtoYW5kbGVyLCBzZWxlY3Rvci8qLCB1bmRlZmluZWQqL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgZXZlbnRzID0gdGhpcy5hZmZpbGlhdGUoZXZlbnRzLCB0aGlzLnBhcmVudC4kLmFib3V0LmZpbmdlcnByaW50LCBvcHRpb25zKTtcblxuICAgICAgICB0YXJnZXQgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICBzdXBlci5vbih7IGV2ZW50cywgaGFuZGxlciB9KSA6XG4gICAgICAgICAgICBzdXBlci5vbih7IGV2ZW50cywgdGFyZ2V0LCBzZWxlY3RvciwgaGFuZGxlci8qLCBvcHRpb25zKi8gfSlcbiAgICB9XG5cbiAgICBvZmYoZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yLCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIEJvdGg6XG4gICAgICAgIC8vIGV2ZW50cyAoY2FuIGJlIG5hbWVzcGFjZXMpXG4gICAgICAgIC8vIGV2ZW50cywgb3B0aW9uc1xuICAgICAgICAvLyBvcHRpb25zIChjYW4gYmUgcmVtb3ZhbClcblxuICAgICAgICAvLyBPYnNlcnZlcjpcbiAgICAgICAgLy8gZXZlbnRzLCBoYW5kbGVyXG4gICAgICAgIC8vIGV2ZW50cywgaGFuZGxlciwgb3B0aW9uc1xuXG4gICAgICAgIC8vIERPTSBFdmVudHM6XG4gICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBoYW5kbGVyXG4gICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBoYW5kbGVyLCBvcHRpb25zXG4gICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBzZWxlY3RvclxuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgc2VsZWN0b3IsIGhhbmRsZXIsXG4gICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBzZWxlY3RvciwgaGFuZGxlciwgb3B0aW9uc1xuXG4gICAgICAgIGNvbnN0IGFyZ0wgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBzd2l0Y2ggKGFyZ0wpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgIFtvcHRpb25zLCBldmVudHNdID0gW2V2ZW50cy8qLCB1bmRlZmluZWQqL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVsc2UgZXZlbnRzIChjYW4gbmFtZXNwYWNlcylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1sxXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgaGFuZGxlclxuICAgICAgICAgICAgICAgICAgICBbaGFuZGxlciwgdGFyZ2V0XSA9IFt0YXJnZXQvKiwgdW5kZWZpbmVkKi9dO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGVscGVyX2lzUGxhaW5PYmplY3QoYXJndW1lbnRzWzFdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudHMsIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgW29wdGlvbnMsIHRhcmdldF0gPSBbdGFyZ2V0LyosIHVuZGVmaW5lZCovXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBlbHNlIGV2ZW50cywgdGFyZ2V0XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMl0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgaGFuZGxlclxuICAgICAgICAgICAgICAgICAgICBbaGFuZGxlciwgc2VsZWN0b3JdID0gW3NlbGVjdG9yLyosIHVuZGVmaW5lZCovXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmd1bWVudHNbMV0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudHMsIGhhbmRsZXIsIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgW2hhbmRsZXIsIG9wdGlvbnMsIHRhcmdldCwgc2VsZWN0b3JdID0gW3RhcmdldCwgc2VsZWN0b3IvKiwgdW5kZWZpbmVkLCB1bmRlZmluZWQqL107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzNdID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBoYW5kbGVyLCBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgIFtvcHRpb25zLCBoYW5kbGVyLCBzZWxlY3Rvcl0gPSBbaGFuZGxlciwgc2VsZWN0b3IvKiwgdW5kZWZpbmVkKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGV2ZW50cyA9IHRoaXMuYWZmaWxpYXRlKGV2ZW50cywgdGhpcy5wYXJlbnQuJC5hYm91dC5maW5nZXJwcmludCwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKGFyZ0wgPCAyKSB7XG4gICAgICAgICAgICBzdXBlci5vZmYoeyBldmVudHMgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXQgP1xuICAgICAgICAgICAgICAgIHN1cGVyLm9mZih7IGV2ZW50cywgdGFyZ2V0LCBzZWxlY3RvciwgaGFuZGxlci8qLCBvcHRpb25zKi8gfSkgOlxuICAgICAgICAgICAgICAgIHN1cGVyLm9mZih7IGV2ZW50cywgaGFuZGxlciB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdHJpZ2dlcihldmVudHMsIHRhcmdldCwgZGF0YSkge1xuICAgICAgICAvLyBldmVudHNcbiAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXRcbiAgICAgICAgLy8gZXZlbnRzLCBkYXRhXG4gICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBkYXRhXG5cbiAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09IFwib2JqZWN0XCIgJiYgIXRhcmdldC5qcXVlcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnRzLCBkYXRhXG4gICAgICAgICAgICAgICAgICAgIFtkYXRhLCB0YXJnZXRdID0gW3RhcmdldF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXRcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldCA/XG4gICAgICAgICAgICBzdXBlci50cmlnZ2VyU2VyaWVzKHsgZXZlbnRzLCB0YXJnZXQsIGRhdGEgfSkgOlxuICAgICAgICAgICAgc3VwZXIudHJpZ2dlclNlcmllcyh7IGV2ZW50cywgZGF0YSB9KVxuICAgIH1cblxuICAgIHRyaWdnZXJQYXJhbGxlbChldmVudHMsIHRhcmdldCwgZGF0YSkge1xuICAgICAgICAvLyBldmVudHNcbiAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXRcbiAgICAgICAgLy8gZXZlbnRzLCBkYXRhXG4gICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBkYXRhXG5cbiAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09IFwib2JqZWN0XCIgJiYgIXRhcmdldC5qcXVlcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnRzLCBkYXRhXG4gICAgICAgICAgICAgICAgICAgIFtkYXRhLCB0YXJnZXRdID0gW3RhcmdldF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXRcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldCA/XG4gICAgICAgICAgICBzdXBlci50cmlnZ2VyUGFyYWxsZWwoeyBldmVudHMsIHRhcmdldCwgZGF0YSB9KSA6XG4gICAgICAgICAgICBzdXBlci50cmlnZ2VyUGFyYWxsZWwoeyBldmVudHMsIGRhdGEgfSlcbiAgICB9XG5cbiAgICAvLyAjdW5vcHRpbWl6ZWQgZHJhZnQjXG4gICAgLy8gSXQncyBub3QgZWFzeSB0byBrZWVwIHRoaXMgbGlzdCB1cCB0byBkYXRlIGJlY2F1c2U6XG4gICAgLy8gLSBsaXN0ZW5lcnMgY2FuIGJlIHJlbW92ZWQgYnkgZXh0ZXJuYWwgZG9tIG11dGF0aW9uc1xuICAgIC8vIC0gbGlzdGVuZXJzIGNhbiBiZSBkZWxlZ2F0ZWRcbiAgICAvLyAtIG9mZigpIG1ldGhvZCBjYW4gcmVtb3ZlIGxpc3RlbmVycyBnbG9iYWxseVxuICAgIGdldERvbUxpc3RlbmVycyhuYW1lc3BhY2UpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChsZXQgZWxtIG9mIGpRdWVyeShcIipcIikpIHtcbiAgICAgICAgICAgIGxldCBkYXRhID0galF1ZXJ5Ll9kYXRhKGVsbSwgXCJldmVudHNcIik7XG4gICAgICAgICAgICBpZiAoZGF0YSkgey8vIGRhdGEgPSB7Y2xpY2s6IFt7fV0sIC4uLiB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZW50cmllcyBvZiBPYmplY3QudmFsdWVzKGRhdGEpKSB7Ly8gZW50cmllcyA9IFt7dHlwZTouLi59XVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiBlbnRyaWVzKSB7Ly8gZW50cnkgPSB7dHlwZSwgbmFtZXNwYWNlLCBoYW5kbGVyLCAuLi59XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IEpGYWN0b3J5RXZlbnRTZWxlY3RvcihlbnRyeS5uYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlci5oYXNOYW1lc3BhY2UobmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHR5cGVzID0gcmVzdWx0LmdldChlbG0pKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc2V0KGVsbSwgdHlwZXMgPSB7fSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGUgPSB0eXBlc1tlbnRyeS50eXBlXSB8fCAodHlwZXNbZW50cnkudHlwZV0gPSBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi4uZW50cnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiBlbnRyeS5zZWxlY3RvciB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBlbnRyeS5oYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IGVudHJ5Lm5hbWVzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICAvLyAjdW5vcHRpbWl6ZWQgZHJhZnQjXG4gICAgZ2V0T2JzZXJ2ZXJzKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IE1hcCgpO1xuICAgICAgICBsZXQgZXZlbnRzID0gdGhpcy5yZWdpc3RyeS5fZXZlbnRzO1xuXG4gICAgICAgIGlmICghZXZlbnRzKSB7XG4gICAgICAgICAgICBsZXQgcmVnaXN0cnkgPSBPYmplY3QudmFsdWVzKHRoaXMucmVnaXN0cnkpWzBdO1xuICAgICAgICAgICAgbGV0IGV4cGFuZG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhyZWdpc3RyeSkuZmluZChrID0+IGsuaW5kZXhPZihcImpRdWVyeVwiKSA9PT0gMCk7XG4gICAgICAgICAgICBpZiAocmVnaXN0cnkgJiYgZXhwYW5kbykge1xuICAgICAgICAgICAgICAgIGV2ZW50cyA9IHRoaXMucmVnaXN0cnkuX2V2ZW50cyA9IHJlZ2lzdHJ5W2V4cGFuZG9dLmV2ZW50cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudHMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoZXZlbnRzKSkge1xuICAgICAgICAgICAgICAgIGxldCBldmVudCA9IHJlc3VsdC5nZXQoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50ID0gW107XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCBldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGV2ZW50VHlwZUVudHJ5IG9mIHZhbCkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGV2ZW50VHlwZUVudHJ5LmhhbmRsZXIub3JpZ2luYWxIYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBldmVudFR5cGVFbnRyeS5uYW1lc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlFdmVudFNlbGVjdG9yUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3RvcnMpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFdmVudHMudmFsaWRhdGVTZWxlY3RvcihzZWxlY3RvcnMpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSBBcnJheTxKRmFjdG9yeUV2ZW50U2VsZWN0b3I+XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmV2ZW50cyA9IHNlbGVjdG9ycy5zcGxpdChcIiBcIikubWFwKHNlbGVjdG9yID0+IG5ldyBKRmFjdG9yeUV2ZW50U2VsZWN0b3Ioc2VsZWN0b3IpKVxuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBldmVudCBvZiB0aGlzLmV2ZW50cykge1xuICAgICAgICAgICAgcy5wdXNoKGV2ZW50LnRvU3RyaW5nKCkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHMuam9pbihcIiBcIilcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUV2ZW50U2VsZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XG4gICAgICAgIGxldCBbZXZlbnQsIC4uLm5hbWVzcGFjZV0gPSBzZWxlY3Rvci5zcGxpdChcIi5cIik7XG4gICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcbiAgICAgICAgdGhpcy5uYW1lc3BhY2UgPSBuZXcgU2V0KG5hbWVzcGFjZSlcbiAgICB9XG5cbiAgICAvKiogQHJldHVybiB7Qm9vbGVhbnxTdHJpbmd9ICovXG4gICAgaGFzTmFtZXNwYWNlKG5hbWVzcGFjZXMpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG5hbWVzcGFjZXMpKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2VzID0gW25hbWVzcGFjZXNdXG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgbmFtZXNwYWNlIG9mIG5hbWVzcGFjZXMpIHtcbiAgICAgICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIS9eW1xcdzpdKyQvLnRlc3QobmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5JTlZBTElEX1ZBTFVFKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJuYW1lc3BhY2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogXCJtdXN0IGJlIGFscGhhbnVtZXJpYywgdW5kZXJzY29yZSBhbmQgY29sb24gY2hhcmFjdGVyc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IG5hbWVzcGFjZVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYW1lc3BhY2UgJiYgdGhpcy5uYW1lc3BhY2UuaGFzKG5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZXNwYWNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgYWRkTmFtZXNwYWNlKG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBpZiAoIS9eW1xcdzpdKyQvLnRlc3QobmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfVkFMVUUoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwibmFtZXNwYWNlXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogXCJtdXN0IGJlIGFscGhhbnVtZXJpYywgdW5kZXJzY29yZSBhbmQgY29sb24gY2hhcmFjdGVyc1wiLFxuICAgICAgICAgICAgICAgICAgICBnaXZlbjogbmFtZXNwYWNlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWVzcGFjZS5hZGQobmFtZXNwYWNlKVxuICAgIH1cblxuICAgIGRlbGV0ZU5hbWVzcGFjZShuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgaWYgKCEvXltcXHc6XSskLy50ZXN0KG5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5JTlZBTElEX1ZBTFVFKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIm5hbWVzcGFjZVwiLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246IFwibXVzdCBiZSBhbHBoYW51bWVyaWMsIHVuZGVyc2NvcmUgYW5kIGNvbG9uIGNoYXJhY3RlcnNcIixcbiAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IG5hbWVzcGFjZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lc3BhY2UuZGVsZXRlKG5hbWVzcGFjZSlcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZXNwYWNlLnNpemUgPyB0aGlzLmV2ZW50ICsgXCIuXCIgKyBBcnJheS5mcm9tKHRoaXMubmFtZXNwYWNlLnZhbHVlcygpKS5qb2luKFwiLlwiKSA6IHRoaXMuZXZlbnQ7XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuaWYgKEpGQUNUT1JZX0RFVikge1xuICAgIEpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlU2VsZWN0b3IgPSBmdW5jdGlvbihzZWxlY3Rvcikge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlU2VsZWN0b3Ioc2VsZWN0b3IpXCIsIHNlbGVjdG9yKVxuICAgICAgICAgICAgICAgIC5ub3RVbmRlZmluZWQoKVxuICAgICAgICAgICAgICAgIC52YWxpZFNwYWNlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgW2V2ZW50LCBuc10gb2Ygc2VsZWN0b3Iuc3BsaXQoXCIgXCIpXG4gICAgICAgICAgICAubWFwKHYgPT4gdi5zcGxpdChcIi5cIikpXG4gICAgICAgICAgICAubWFwKHYgPT4gW3Yuc2hpZnQoKSwgdi5qb2luKFwiLlwiKV0pKSB7XG4gICAgICAgICAgICBldmVudCAmJiBKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIG5zICYmIEpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlTmFtZXNwYWNlKG5zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH07XG5cbiAgICBKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZUV2ZW50ID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZUV2ZW50KGV2ZW50KVwiLCBldmVudClcbiAgICAgICAgICAgICAgICAubm90VW5kZWZpbmVkKClcbiAgICAgICAgICAgICAgICAubm90RW1wdHlTdHJpbmcoKVxuICAgICAgICAgICAgICAgIC52YWxpZFNwYWNlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEvXltcXHc6XSskLy50ZXN0KGV2ZW50KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuSU5WQUxJRF9WQUxVRSh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBcIkpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlRXZlbnQoZXZlbnQpXCIsXG4gICAgICAgICAgICAgICAgcmVhc29uOiBcIm11c3QgYmUgYWxwaGFudW1lcmljLCB1bmRlcnNjb3JlIGFuZCBjb2xvbiBjaGFyYWN0ZXJzXCIsXG4gICAgICAgICAgICAgICAgZ2l2ZW46IGV2ZW50XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9O1xuXG4gICAgSkZhY3RvcnlFdmVudHMudmFsaWRhdGVOYW1lc3BhY2UgPSBmdW5jdGlvbihuYW1lc3BhY2UpIHsgLy8gZXg6IG5zLm5zMi5uczNcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZU5hbWVzcGFjZShuYW1lc3BhY2UpXCIsIG5hbWVzcGFjZSlcbiAgICAgICAgICAgICAgICAubm90VW5kZWZpbmVkKClcbiAgICAgICAgICAgICAgICAubm90RW1wdHlTdHJpbmcoKVxuICAgICAgICAgICAgICAgIC52YWxpZFNwYWNlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEvXltcXHc6Ll0rJC8udGVzdChuYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5JTlZBTElEX1ZBTFVFKHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiSkZhY3RvcnlFdmVudHMudmFsaWRhdGVOYW1lc3BhY2UobmFtZXNwYWNlKVwiLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogXCJtdXN0IGJlIGFscGhhbnVtZXJpYywgdW5kZXJzY29yZSwgZG90IGFuZCBjb2xvbiBjaGFyYWN0ZXJzXCIsXG4gICAgICAgICAgICAgICAgZ2l2ZW46IG5hbWVzcGFjZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfTtcbn0iLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgSkZhY3RvcnlQcm9taXNlIH0gZnJvbSBcIi4vSkZhY3RvcnlQcm9taXNlXCI7XG5pbXBvcnQgeyBqRmFjdG9yeUVycm9yIH0gZnJvbSBcIi4vSkZhY3RvcnlFcnJvclwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5RmV0Y2hcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5RmV0Y2ggZXh0ZW5kcyBKRmFjdG9yeVByb21pc2Uge1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uYWxBcmdzLCB1cmwsIGZldGNoT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uYWxBcmdzID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHN1cGVyKG9wdGlvbmFsQXJncyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbmFsQXJncyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIFtvcHRpb25hbEFyZ3MsIHVybCwgZmV0Y2hPcHRpb25zXSA9IFt7fSwgYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV1dXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBmZXRjaFJlcXVlc3QgPSBuZXcgUmVxdWVzdCh1cmwsIGZldGNoT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHN1cGVyKG9wdGlvbmFsQXJncywgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBwcm9taXNlID0gZmV0Y2goZmV0Y2hSZXF1ZXN0KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRjaGFpbi5mZXRjaFJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IocmVzcG9uc2Uuc3RhdHVzICsgXCI6XCIgKyByZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChmZXRjaE9wdGlvbnMuJHR5cGVUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50ZXh0KCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyID0+IHRoaXMuJGNoYWluLnJlc3BvbnNlVGV4dCA9IHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmZXRjaE9wdGlvbnMuJHR5cGVKU09OKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyID0+IHRoaXMuJGNoYWluLnJlc3BvbnNlSlNPTiA9IHIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLlJFUVVFU1RfRVJST1Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiByZWFzb24ubWVzc2FnZSB8fCByZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMuJGNoYWluLmZldGNoUmVzcG9uc2UgJiYgdGhpcy4kY2hhaW4uZmV0Y2hSZXNwb25zZS51cmwgfHwgdXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3duZXI6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBmZXRjaE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBmZXRjaFJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBmZXRjaFJlc3BvbnNlOiB0aGlzLiRjaGFpbi5mZXRjaFJlc3BvbnNlIHx8IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfSwgb3B0aW9uYWxBcmdzLnRyYWNlU291cmNlKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdClcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLiRjaGFpbi5mZXRjaE9wdGlvbnMgPSBmZXRjaE9wdGlvbnM7XG4gICAgICAgICAgICB0aGlzLiRjaGFpbi5mZXRjaFJlcXVlc3QgPSBmZXRjaFJlcXVlc3Q7XG5cbiAgICAgICAgICAgIGxldCBhYm9ydEN0cmwgPSBmZXRjaE9wdGlvbnMuYWJvcnRDb250cm9sbGVyIHx8IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgIGZldGNoT3B0aW9ucy5zaWduYWwgPSBhYm9ydEN0cmwuc2lnbmFsO1xuICAgICAgICAgICAgdGhpcy4kY2hhaW4uZmV0Y2hBYm9ydENvbnRyb2xsZXIgPSBhYm9ydEN0cmw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkY2hhaW5BYm9ydChyZWFzb24gPSBcInJlcXVlc3QgYWJvcnRlZFwiKSB7XG4gICAgICAgIHN1cGVyLiRjaGFpbkFib3J0KHJlYXNvbik7XG4gICAgICAgIHRoaXMuJGNoYWluLmZldGNoQWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxufSIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgeyBKRkFDVE9SWV9ERVYsIEpGQUNUT1JZX0NMSSB9IGZyb20gXCIuL2pGYWN0b3J5LWVudlwiO1xuaW1wb3J0IHsgSkZhY3RvcnlFeHBlY3QgfSBmcm9tIFwiLi9KRmFjdG9yeUV4cGVjdFwiO1xuaW1wb3J0IHsgakZhY3RvcnlGdW5jdGlvbkNvbmRpdGlvbmFsIH0gZnJvbSBcIi4vSkZhY3RvcnlGdW5jdGlvblwiO1xuaW1wb3J0IHsgaGVscGVyX2RlZmF1bHRzRGVlcCwgTk9PUCB9IGZyb20gXCIuL2pGYWN0b3J5LWhlbHBlcnNcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeUxvZ2dlclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBBIGNvbnRleHR1YWwgbG9nZ2VyIHRoYXQgcHJlcGVuZHMgYSBsYWJlbCBhbmQgYWxsb3dzIHJ1bnRpbWUgZmlsdGVyaW5nIHdoaWxlIHByZXNlcnZpbmcgdGhlIGNhbGxlciBsaW5lIG51bWJlclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBsb2dnZXIuY3JlYXRlU3ViTG9nZ2VyKGxhYmVsKSBjcmVhdGUgYSBzdWItbG9nZ2VyIG9mIGxvZ2dlcjsgXCJsb2dnZXJcIiBjYW4gYmUgYSBzdWItbG9nZ2VyLlxuLy8gbG9nZ2VyLmRpc2FibGUoKSBkaXNhYmxlIGNvbnNvbGUgZm9yIGl0c2VsZiBhbmQgc3ViLWxvZ2dlcnNcbi8vIGxvZ2dlci5kaXNhbGxvdygnbG9nJykgZGlzYWxsb3cgbG9nZ2VyLmxvZygpIG9ubHlcbi8vIGxvZ2dlci5kaXNhbGxvdygnbG9nJywgc3ViTG9nZ2VyLmxhYmVsKSBkaXNhbGxvdyBzdWItbG9nZ2VyLmxvZygpIG9ubHkuIFRoaXMgaXMgY2FsbGFibGUgZnJvbSBhbnkgbG9nZ2VyL3N1Yi1sb2dnZXJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzIDogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmNvbnN0IFNZTUJPTF9FTkFCTEVEID0gU3ltYm9sKCk7XG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUxvZ2dlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYgJiYgb3B0aW9ucykge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUxvZ2dlcihvcHRpb25zKVwiLCBvcHRpb25zKVxuICAgICAgICAgICAgICAgIC5wcm9wZXJ0aWVzKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKEpGYWN0b3J5TG9nZ2VyLkRFRkFVTFRfQ09ORklHKSlcbiAgICAgICAgfVxuICAgICAgICBoZWxwZXJfZGVmYXVsdHNEZWVwKHRoaXMsIG9wdGlvbnMsIEpGYWN0b3J5TG9nZ2VyLkRFRkFVTFRfQ09ORklHKTtcbiAgICAgICAgdGhpcy5jb25kaXRpb24gPSBqRmFjdG9yeUZ1bmN0aW9uQ29uZGl0aW9uYWwoSkZhY3RvcnlMb2dnZXIuREVGQVVMVF9DT05ESVRJT04pO1xuICAgICAgICB0aGlzLmluc3RhbGxBY2Nlc3NvcihcImxvZ1wiKTtcbiAgICAgICAgdGhpcy5pbnN0YWxsQWNjZXNzb3IoXCJ3YXJuXCIpO1xuICAgICAgICB0aGlzLmluc3RhbGxBY2Nlc3NvcihcImVycm9yXCIpXG4gICAgfVxuXG4gICAgZ2V0IGVuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzW1NZTUJPTF9FTkFCTEVEXSAmJiAodGhpcy5wYXJlbnRMb2dnZXIgPyB0aGlzLnBhcmVudExvZ2dlci5lbmFibGVkIDogdHJ1ZSlcbiAgICB9XG5cbiAgICBzZXQgZW5hYmxlZCh2KSB7XG4gICAgICAgIHYgPyB0aGlzLmVuYWJsZSgpIDogdGhpcy5kaXNhYmxlKClcbiAgICB9XG5cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIGlmICh0aGlzW1NZTUJPTF9FTkFCTEVEXSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpc1tTWU1CT0xfRU5BQkxFRF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgaWYgKHRoaXNbU1lNQk9MX0VOQUJMRURdICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpc1tTWU1CT0xfRU5BQkxFRF0gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc2FsbG93KG5hdGl2ZU5hbWUsIGxhYmVsID0gdGhpcy5sYWJlbCkge1xuICAgICAgICBpZiAoIXRoaXMuZmlsdGVyc1tsYWJlbF0pIHt0aGlzLmZpbHRlcnNbbGFiZWxdID0ge319XG4gICAgICAgIHRoaXMuZmlsdGVyc1tsYWJlbF1bbmF0aXZlTmFtZV0gPSB0cnVlXG4gICAgfVxuXG4gICAgYWxsb3cobmF0aXZlTmFtZSwgbGFiZWwgPSB0aGlzLmxhYmVsKSB7XG4gICAgICAgIGlmICh0aGlzLmZpbHRlcnNbbGFiZWxdKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5maWx0ZXJzW2xhYmVsXVtuYXRpdmVOYW1lXVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW5zdGFsbEFjY2Vzc29yKG5hdGl2ZU5hbWUsIHRhcmdldE5hbWUgPSBuYXRpdmVOYW1lLCB0YXJnZXQgPSB0aGlzKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlMb2dnZXIobmF0aXZlTmFtZSlcIiwgbmF0aXZlTmFtZSkuZXF1YWxJbihbXCJsb2dcIiwgXCJ3YXJuXCIsIFwiZXJyb3JcIl0pO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwge1xuICAgICAgICAgICAgW3RhcmdldE5hbWVdOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiB0aGlzLmFjY2Vzc29yLmJpbmQodGhpcywgbmF0aXZlTmFtZS8qLCB0YXJnZXQqLyksXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgYWNjZXNzb3IobmF0aXZlTmFtZS8qLCB0YXJnZXQqLykge1xuICAgICAgICBpZiAoIXRoaXNbU1lNQk9MX0VOQUJMRURdKSB7XG4gICAgICAgICAgICByZXR1cm4gTk9PUDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb25kaXRpb24obmF0aXZlTmFtZSkgJiYgdGhpcy5mb3JtYXR0ZXJbbmF0aXZlTmFtZV0odGhpcykgfHwgTk9PUFxuICAgIH1cblxuICAgIGNyZWF0ZVN1YkxvZ2dlcihsYWJlbCkge1xuICAgICAgICAvKiogQHR5cGUgSkZhY3RvcnlMb2dnZXIgKi9cbiAgICAgICAgbGV0IHN1YiA9IG5ldyBKRmFjdG9yeUxvZ2dlcih7XG4gICAgICAgICAgICBlbmFibGVkOiB0aGlzLmVuYWJsZWQsXG4gICAgICAgICAgICBsYWJlbDogdGhpcy5sYWJlbCArIFwiLlwiICsgbGFiZWwsXG4gICAgICAgICAgICBzdHlsZXNfY3NzOiB0aGlzLnN0eWxlc19jc3MsXG4gICAgICAgICAgICBzdHlsZXNfY2xpOiB0aGlzLnN0eWxlc19jbGksXG4gICAgICAgICAgICBjb25zb2xlOiB0aGlzLmNvbnNvbGUsXG4gICAgICAgICAgICBmb3JtYXR0ZXI6IHRoaXMuZm9ybWF0dGVyXG4gICAgICAgIH0pO1xuICAgICAgICBzdWIucGFyZW50TG9nZ2VyID0gdGhpcztcbiAgICAgICAgc3ViLmNvbmRpdGlvbi5hZGRDb25kaXRpb24oKCkgPT4gdGhpcy5lbmFibGVkKTtcbiAgICAgICAgc3ViLmZpbHRlcnMgPSB0aGlzLmZpbHRlcnM7IC8vIHNoYXJlZCB0byBhbGxvdy9kaXNhbGxvdyBmcm9tIGFueXdoZXJlXG4gICAgICAgIHJldHVybiBzdWJcbiAgICB9XG59XG5cbi8vICNsaW1pdGF0aW9uIyBUbyBwcmVzZXJ2ZSB0aGUgbGluZSBudW1iZXIsIHdlIGNhbiBvbmx5IHVzZSBuYXRpdmUgZnVuY3Rpb25zLCBsaWtlIGJpbmRcbi8vICNsaW1pdGF0aW9uIyBCZWNhdXNlIHdlIHVzZSBiaW5kKCksIG9ubHkgdGhlIHN0eWxlIG9mIHRoZSBmaXJzdCBlbGVtZW50IGNhbiBiZSBlZmZpY2llbnRseSBkZWZpbmVkXG5cbkpGYWN0b3J5TG9nZ2VyLkZPUk1BVFRFUl9OQVRJVkUgPSB7XG4gICAgbG9nOiBsb2dnZXIgPT4gbG9nZ2VyLmNvbnNvbGUubG9nLmJpbmQobG9nZ2VyLmNvbnNvbGUsIGxvZ2dlci5sYWJlbCArIFwiPlwiKSxcbiAgICB3YXJuOiBsb2dnZXIgPT4gbG9nZ2VyLmNvbnNvbGUud2Fybi5iaW5kKGxvZ2dlci5jb25zb2xlLCBsb2dnZXIubGFiZWwgKyBcIj5cIiksXG4gICAgZXJyb3I6IGxvZ2dlciA9PiBsb2dnZXIuY29uc29sZS5lcnJvci5iaW5kKGxvZ2dlci5jb25zb2xlLCBsb2dnZXIubGFiZWwgKyBcIj5cIilcbn07XG5cbkpGYWN0b3J5TG9nZ2VyLkZPUk1BVFRFUl9DTEkgPSB7XG4gICAgbG9nOiBsb2dnZXIgPT4gbG9nZ2VyLmNvbnNvbGUubG9nLmJpbmQobG9nZ2VyLmNvbnNvbGUsIGxvZ2dlci5zdHlsZXNfY2xpLmxhYmVsLCBsb2dnZXIubGFiZWwgKyBcIj5cIiksXG4gICAgd2FybjogbG9nZ2VyID0+IGxvZ2dlci5jb25zb2xlLndhcm4uYmluZChsb2dnZXIuY29uc29sZSwgbG9nZ2VyLnN0eWxlc19jbGkubGFiZWwsIGxvZ2dlci5sYWJlbCArIFwiPlwiKSxcbiAgICBlcnJvcjogbG9nZ2VyID0+IGxvZ2dlci5jb25zb2xlLmVycm9yLmJpbmQobG9nZ2VyLmNvbnNvbGUsIGxvZ2dlci5zdHlsZXNfY2xpLmxhYmVsLCBsb2dnZXIubGFiZWwgKyBcIj5cIilcbn07XG5cbkpGYWN0b3J5TG9nZ2VyLkZPUk1BVFRFUl9CUk9XU0VSID0ge1xuICAgIGxvZzogbG9nZ2VyID0+IGxvZ2dlci5jb25zb2xlLmxvZy5iaW5kKGxvZ2dlci5jb25zb2xlLCBcIiVjXCIgKyBsb2dnZXIubGFiZWwgKyBcIj5cIiwgbG9nZ2VyLnN0eWxlc19jc3MubGFiZWwpLFxuICAgIHdhcm46IGxvZ2dlciA9PiBsb2dnZXIuY29uc29sZS53YXJuLmJpbmQobG9nZ2VyLmNvbnNvbGUsIFwiJWNcIiArIGxvZ2dlci5sYWJlbCArIFwiPlwiLCBsb2dnZXIuc3R5bGVzX2Nzcy5sYWJlbCksXG4gICAgZXJyb3I6IGxvZ2dlciA9PiBsb2dnZXIuY29uc29sZS5lcnJvci5iaW5kKGxvZ2dlci5jb25zb2xlLCBcIiVjXCIgKyBsb2dnZXIubGFiZWwgKyBcIj5cIiwgbG9nZ2VyLnN0eWxlc19jc3MubGFiZWwpXG59O1xuXG4vKiogQHJldHVybiB7Ym9vbGVhbn0gKi9cbkpGYWN0b3J5TG9nZ2VyLkRFRkFVTFRfQ09ORElUSU9OID0gZnVuY3Rpb24obmF0aXZlTmFtZSkge1xuICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUxvZ2dlci5jb25kaXRpb24obmF0aXZlTmFtZSlcIiwgbmF0aXZlTmFtZSkuZXF1YWxJbihbXCJsb2dcIiwgXCJ3YXJuXCIsIFwiZXJyb3JcIl0pO1xuICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5TG9nZ2VyLmVuYWJsZWRcIiwgdGhpcy5lbmFibGVkKS5lcXVhbCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuICEodGhpcy5maWx0ZXJzW3RoaXMubGFiZWxdICYmIHRoaXMuZmlsdGVyc1t0aGlzLmxhYmVsXVtuYXRpdmVOYW1lXSlcbn07XG5cbkpGYWN0b3J5TG9nZ2VyLkRFRkFVTFRfQ09ORklHID0gLyoqIEBsZW5kcyBKRmFjdG9yeUxvZ2dlciMgKi8ge1xuICAgIGxhYmVsOiBcIlwiLFxuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgcGFyZW50TG9nZ2VyOiBudWxsLFxuICAgIGZvcm1hdHRlcjogSkZBQ1RPUllfQ0xJID9cbiAgICAgICAgSkZhY3RvcnlMb2dnZXIuRk9STUFUVEVSX0NMSSA6XG4gICAgICAgIEpGYWN0b3J5TG9nZ2VyLkZPUk1BVFRFUl9CUk9XU0VSLFxuICAgIGNvbnNvbGUsXG4gICAgZmlsdGVyczoge1xuICAgIH0sXG4gICAgc3R5bGVzX2NsaToge1xuICAgICAgICBsYWJlbDogXCJcXHgxYlsxOzMwbSVzXFx4MWJbMG1cIlxuICAgIH0sXG4gICAgc3R5bGVzX2Nzczoge1xuICAgICAgICBsYWJlbDogXCJjb2xvcjogZ3JheVwiXG4gICAgfVxufTsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeVRpbWVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5VGltZSBleHRlbmRzIERhdGUge1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b0xvY2FsZVRpbWVTdHJpbmcoKSArIFwiLCBcIiArIHRoaXMuZ2V0VVRDTWlsbGlzZWNvbmRzKCkgKyBcIm1zIChcIiArIHRoaXMudmFsdWVPZigpICsgXCIpXCJcbiAgICB9XG4gICAgJHRvRHVyYXRpb25TdHJpbmcoKSB7XG4gICAgICAgIGxldCBob3VycyA9IHRoaXMuZ2V0VVRDSG91cnMoKTtcbiAgICAgICAgbGV0IG1pbnV0ZXMgPSB0aGlzLmdldFVUQ01pbnV0ZXMoKTtcbiAgICAgICAgbGV0IHNlY29uZHMgPSB0aGlzLmdldFVUQ1NlY29uZHMoKTtcbiAgICAgICAgbGV0IG1pbGxpc2Vjb25kcyA9IHRoaXMuZ2V0VVRDTWlsbGlzZWNvbmRzKCk7XG5cbiAgICAgICAgbGV0IGEgPSBbXTtcbiAgICAgICAgaWYgKGhvdXJzKSB7XG4gICAgICAgICAgICBhLnB1c2goaG91cnMgKyBcImhcIilcbiAgICAgICAgfVxuICAgICAgICBpZiAobWludXRlcykge1xuICAgICAgICAgICAgYS5wdXNoKG1pbnV0ZXMgKyBcIm1pblwiKVxuICAgICAgICB9XG4gICAgICAgIGlmIChzZWNvbmRzKSB7XG4gICAgICAgICAgICBhLnB1c2goc2Vjb25kcyArIFwic1wiKVxuICAgICAgICB9XG4gICAgICAgIGEucHVzaChtaWxsaXNlY29uZHMgKyBcIm1zXCIpO1xuICAgICAgICBpZiAoYS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBhWzBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGEuam9pbihcIixcIikgKyBcIiAoXCIgKyB0aGlzLnZhbHVlT2YoKSArIFwiKVwiO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlUaW1lVHJhY2UgZXh0ZW5kcyBEYXRlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5lbGFwc2VkID0gbnVsbDtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICAgICAgdDE6IHsgdmFsdWU6IG51bGwsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgICAgICAgICB0MDogeyB2YWx1ZTogbmV3IEpGYWN0b3J5VGltZSgpIH1cbiAgICAgICAgfSlcbiAgICB9XG4gICAgZW5kKCkge1xuICAgICAgICB0aGlzLnQxID0gbmV3IEpGYWN0b3J5VGltZSgpO1xuICAgICAgICB0aGlzLmVsYXBzZWQgPSBuZXcgSkZhY3RvcnlUaW1lKHRoaXMudDEgLSB0aGlzLnQwKS4kdG9EdXJhdGlvblN0cmluZygpXG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGFwc2VkXG4gICAgfVxufSIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXRDb3JlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5pbXBvcnQgeyBKRkFDVE9SWV9ERVYsIGpGYWN0b3J5Q29uZmlnIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBqRmFjdG9yeUVycm9yLCBKRmFjdG9yeUVycm9yIH0gZnJvbSBcIi4vSkZhY3RvcnlFcnJvclwiO1xuaW1wb3J0IHsgakZhY3RvcnkgfSBmcm9tIFwiLi9qRmFjdG9yeVwiO1xuaW1wb3J0IHsgSkZhY3RvcnlFeHBlY3QgfSBmcm9tIFwiLi9KRmFjdG9yeUV4cGVjdFwiO1xuaW1wb3J0IHsgSkZhY3RvcnlBYm91dCB9IGZyb20gXCIuL0pGYWN0b3J5QWJvdXRcIjtcbmltcG9ydCB7IEpGYWN0b3J5TG9nZ2VyIH0gZnJvbSBcIi4vSkZhY3RvcnlMb2dnZXJcIjtcbmltcG9ydCB7IEpGYWN0b3J5UHJvbWlzZSwgSkZhY3RvcnlQcm9taXNlU3luYyB9IGZyb20gXCIuL0pGYWN0b3J5UHJvbWlzZVwiO1xuaW1wb3J0IHsgSkZhY3RvcnlFdmVudHNNYW5hZ2VyIH0gZnJvbSBcIi4vSkZhY3RvcnlFdmVudHNcIjtcbmltcG9ydCB7IEpGYWN0b3J5T2JqZWN0IH0gZnJvbSBcIi4vSkZhY3RvcnlPYmplY3RcIjtcbmltcG9ydCB7IEpGYWN0b3J5VGltZVRyYWNlIH0gZnJvbSBcIi4vSkZhY3RvcnlUaW1lXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgT2JqZWN0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFRyYWl0Q29yZSB7XG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IG93bmVyID0gdGhpcztcblxuICAgICAgICBjbGFzcyBTdWJNYXAgZXh0ZW5kcyBNYXAge1xuICAgICAgICAgICAgJHJlZ2lzdGVyU3luYyhrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN1YiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHt9LCB7XG4gICAgICAgICAgICAgICAgICAgICR2YWx1ZTogeyB2YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAkcGhhc2VSZW1vdmU6IHsgdmFsdWU6IFRyYWl0U2VydmljZS5nZXRDb250ZXh0dWFsUmVtb3ZlUGhhc2Uob3duZXIpIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChrZXksIHN1Yik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHJlZ2lzdGVyQXN5bmMoa2V5LCB0YXNrTmFtZSwgcHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGxldCB0YXNrID0gb3duZXIuJHRhc2sodGFza05hbWUsIHByb21pc2UuJGNoYWluKTtcblxuICAgICAgICAgICAgICAgIC8vIEVuZCBvZiBwcm9taXNlIGNoYWluIG11c3QgY29tcGxldGUgdGhlIHRhc2tcbiAgICAgICAgICAgICAgICAvLyB0YXNrLiRjaGFpbkF1dG9Db21wbGV0ZSgpXG4gICAgICAgICAgICAgICAgcHJvbWlzZS4kY2hhaW4udGhlbigoKSA9PiB7IC8vIHN5bmNocm9ub3VzIHRoZW5cbiAgICAgICAgICAgICAgICAgICAgdGFzay4kY2hhaW5Db21wbGV0ZShcInRhc2sgY29tcGxldGVkXCIpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBBYm9ydGVkIHRhc2sgbXVzdCBhYm9ydCB0aGUgcHJvbWlzZSBpZiBzdGlsbCBydW5uaW5nXG4gICAgICAgICAgICAgICAgdGFzay4kY2hhaW4udGhlbigoKSA9PiB7Ly8gc3luY2hyb25vdXMgdGhlblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb21pc2UuJGNoYWluLmlzQ29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLiRjaGFpbkFib3J0KFwiYWJvcnRlZCBieSB0YXNrXCIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIiRwaGFzZVJlbW92ZVwiLCB7IHZhbHVlOiB0YXNrLiRwaGFzZVJlbW92ZSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChrZXksIHByb21pc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcm90byA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShudWxsKSwge1xuICAgICAgICAgICAgW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV06IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICAgICAgICBhc3NpZ246IGZ1bmN0aW9uKHByb3BlcnR5LCB2YWx1ZSwgZGVzY3JpcHRvcikge0pGYWN0b3J5T2JqZWN0LmFzc2lnbih0aGlzLCBwcm9wZXJ0eSwgdmFsdWUsIGRlc2NyaXB0b3IpfSxcbiAgICAgICAgICAgIGNyZWF0ZVN1Yk1hcDogKCkgPT4gbmV3IFN1Yk1hcCgpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIiRcIiwgeyB2YWx1ZTogT2JqZWN0LmNyZWF0ZShwcm90bykgfSk7XG5cbiAgICAgICAgLy8gcHJlLWRlZmluZSBtb3N0IGltcG9ydGFudCBwcm9wZXJ0aWVzXG4gICAgICAgIC8vIHRvIG9yZGVyIHRoZW0gZmlyc3QgaW4gZGV2dG9vbCAocmVkdWNlZCBmb3JtIG9ubHkpXG4gICAgICAgIHRoaXMuJC5hc3NpZ24oe1xuICAgICAgICAgICAgdGFza3M6IG51bGwsXG4gICAgICAgICAgICByZXF1ZXN0czogbnVsbFxuICAgICAgICB9LCBKRmFjdG9yeU9iamVjdC5kZXNjcmlwdG9ycy5FTlVNRVJBQkxFX1dSSVRBQkxFKTtcbiAgICB9XG59XG5cblRyYWl0Q29yZS5TWU1CT0xfUFJJVkFURSA9IFN5bWJvbChcIl9cIik7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgQWJvdXRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRBYm91dCB7XG5cbiAgICB0cmFpdF9jb25zdHJ1Y3RvcihhYm91dCkge1xuICAgICAgICBKRmFjdG9yeU9iamVjdC5hc3NpZ24odGhpcy4kLCBcImFib3V0XCIsXG4gICAgICAgICAgICBuZXcgSkZhY3RvcnlBYm91dCh0aGlzLCBhYm91dCksIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLlJFQURPTkxZKVxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBMb2dcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRMb2cge1xuXG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGxldCBjb25maWcgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGxhYmVsOiB0aGlzLiQuYWJvdXQubmFtZVxuICAgICAgICB9LCBqRmFjdG9yeUNvbmZpZy5UcmFpdExvZyB8fCB7XG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgbG9nZ2VyID0gbmV3IEpGYWN0b3J5TG9nZ2VyKGNvbmZpZyk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuJCwgXCJsb2dnZXJcIiwgeyB2YWx1ZTogbG9nZ2VyIH0pO1xuXG4gICAgICAgIGxvZ2dlci5pbnN0YWxsQWNjZXNzb3IoXCJsb2dcIiwgICBcIiRsb2dcIiwgICAgIHRoaXMpO1xuICAgICAgICBsb2dnZXIuaW5zdGFsbEFjY2Vzc29yKFwid2FyblwiLCAgXCIkbG9nV2FyblwiLCB0aGlzKTtcbiAgICAgICAgbG9nZ2VyLmluc3RhbGxBY2Nlc3NvcihcImVycm9yXCIsIFwiJGxvZ0VyclwiLCAgdGhpcyk7XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0IFRhc2tzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFRyYWl0VGFzayB7XG5cbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gY29uc3Qga2VybmVsID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmtlcm5lbDtcbiAgICAgICAgLy8ga2VybmVsLm9uKFwiZGlzYWJsZVwiLCAoKSA9PiB7XG4gICAgICAgIC8vICAgICBpZiAodGhpcy4kLnRhc2tzLnNpemUpIHtkZWJ1Z2dlcn1cbiAgICAgICAgLy8gICAgIC8vIHRoaXMuJHRhc2tSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpXG4gICAgICAgIC8vIH0pO1xuICAgICAgICAvLyBrZXJuZWwub24oXCJ1bmluc3RhbGxcIiwgKCkgPT4ge1xuICAgICAgICAvLyAgICAgaWYgKHRoaXMuJC50YXNrcy5zaXplKSB7ZGVidWdnZXJ9XG4gICAgICAgIC8vICAgICAvLyB0aGlzLiR0YXNrUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEwpXG4gICAgICAgIC8vIH0pO1xuICAgICAgICB0aGlzLiQuYXNzaWduKFwidGFza3NcIiwgbmV3IE1hcCwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuRU5VTUVSQUJMRSk7XG4gICAgfVxuXG4gICAgJHRhc2soaWQsIGV4ZWN1dG9yT3JWYWx1ZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiR0YXNrKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkdGFzayhleGVjdXRvck9yVmFsdWUpXCIsIGV4ZWN1dG9yT3JWYWx1ZSkubm90VW5kZWZpbmVkKCk7XG4gICAgICAgICAgICBpZiAodGhpcy4kLnRhc2tzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfRFVQTElDQVRFRCh7IHRhcmdldDogXCIkdGFzayhpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGFzaztcblxuICAgICAgICBpZiAodHlwZW9mIGV4ZWN1dG9yT3JWYWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0YXNrICA9IG5ldyBKRmFjdG9yeVByb21pc2UoeyBuYW1lOiBpZCwgb3duZXI6IHRoaXMgfSwgZXhlY3V0b3JPclZhbHVlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFzayA9IEpGYWN0b3J5UHJvbWlzZS5yZXNvbHZlKHsgbmFtZTogaWQsIG93bmVyOiB0aGlzIH0sIGV4ZWN1dG9yT3JWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0YXNrLiRwaGFzZVJlbW92ZSA9IFRyYWl0U2VydmljZS5nZXRDb250ZXh0dWFsUmVtb3ZlUGhhc2UodGhpcyk7XG5cbiAgICAgICAgbGV0IG1ldHJpY3M7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIG1ldHJpY3MgPSBuZXcgSkZhY3RvcnlUaW1lVHJhY2UoKTtcbiAgICAgICAgICAgIHRhc2suJHRhc2tNZXRyaWNzID0geyAkZGV2X3RpbWluZzogbWV0cmljcyB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGFzay4kY2hhaW4udGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICAgICAgbWV0cmljcy5lbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLiQudGFza3MuZ2V0KGlkKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHRhc2tSZW1vdmUoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiQudGFza3Muc2V0KGlkLCB0YXNrKTtcbiAgICAgICAgcmV0dXJuIHRhc2tcbiAgICB9XG5cbiAgICAkdGFza1JlbW92ZShpZCwgcmVhc29uKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJHRhc2tSZW1vdmUoaWQpXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICByZWFzb24gJiYgSkZhY3RvcnlFeHBlY3QoXCIkdGFza1JlbW92ZShyZWFzb24pXCIsIHJlYXNvbikudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiQudGFza3MuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9NSVNTSU5HKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIiR0YXNrUmVtb3ZlKGlkKVwiLFxuICAgICAgICAgICAgICAgICAgICBnaXZlbjogaWRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyXG4gICAgICAgICAgICBpZiAodGhpcy4kLnRhc2tzLmdldChpZCkuX2NhbGxlZCkge2RlYnVnZ2VyfVxuICAgICAgICAgICAgdGhpcy4kLnRhc2tzLmdldChpZCkuX2NhbGxlZCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlbnRyeSA9IHRoaXMuJC50YXNrcy5nZXQoaWQpO1xuICAgICAgICAvLyBkZWxldGluZyBiZWZvcmUgY2hhaW5BYm9ydCgpIHRvIHByZXZlbnQgcmVtb3ZlKCkgcmVjYWxsXG4gICAgICAgIHRoaXMuJC50YXNrcy5kZWxldGUoaWQpO1xuICAgICAgICBlbnRyeS4kY2hhaW5BYm9ydChyZWFzb24gfHwgXCIkdGFza1JlbW92ZSgpXCIpO1xuICAgIH1cblxuICAgICR0YXNrUmVtb3ZlQWxsKHJlbW92ZVBoYXNlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJHRhc2tSZW1vdmVBbGwocmVtb3ZlUGhhc2UpXCIsIHJlbW92ZVBoYXNlKVxuICAgICAgICAgICAgICAgIC5lcXVhbEluKFRyYWl0U2VydmljZS5QSEFTRVMpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRhc2tzID0gdGhpcy4kLnRhc2tzO1xuICAgICAgICBpZiAodGFza3Muc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB0YXNrXSBvZiB0YXNrcykge1xuICAgICAgICAgICAgICAgIGlmICh0YXNrLiRwaGFzZVJlbW92ZSA9PT0gcmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGFza1JlbW92ZShrZXksIFwiJHRhc2tSZW1vdmVBbGwoXCIgKyByZW1vdmVQaGFzZSArIFwiKVwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgICR0YXNrUHJvbWlzZUFsbChhdXRvQ29tcGxldGUgPSBmYWxzZSkge1xuICAgICAgICBsZXQgcGVuZGluZyA9IFtdO1xuICAgICAgICBpZiAodGhpcy4kLnRhc2tzLnNpemUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHRhc2sgb2YgdGhpcy4kLnRhc2tzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF1dG9Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZXNvbHZlcyB0aGUgY2hhaW4gYXMgc29vbiBhcyBubyBtb3JlIHBlbmRpbmcgcHJvbWlzZSBpbiB0aGUgY2hhaW5cbiAgICAgICAgICAgICAgICAgICAgdGFzay4kY2hhaW4uY2hhaW5Db25maWcuY2hhaW5BdXRvQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzdGlsbCBwZW5kaW5nID9cbiAgICAgICAgICAgICAgICBpZiAodGFzay4kY2hhaW4uaXNQZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmcucHVzaCh0YXNrLiRjaGFpbilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBlbmRpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gSkZhY3RvcnlQcm9taXNlU3luYy5yZXNvbHZlKClcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBFdmVudHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRFdmVudHMge1xuXG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGFzc2lnblByaXZhdGUodGhpcywgXCJldmVudHNcIiwge1xuICAgICAgICAgICAgY3VzdG9tOiBuZXcgSkZhY3RvcnlFdmVudHNNYW5hZ2VyKHRoaXMpLFxuICAgICAgICAgICAga2VybmVsOiBuZXcgSkZhY3RvcnlFdmVudHNNYW5hZ2VyKHRoaXMpXG4gICAgICAgIH0sIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLk5PTkUpO1xuXG4gICAgICAgIGxldCBldmVudE1hbmFnZXIgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMuY3VzdG9tO1xuXG4gICAgICAgIC8vIGlmIChKRkFDVE9SWV9ERVYpIHsgLy8gdmVyeSBzbG93OyByZXF1aXJlcyBvcHRpbWl6YXRpb25cbiAgICAgICAgLy8gICAgIC8vIHJlZ2lzdHJ5IGFyZSBhdXRvIHVwZGF0ZWQgaW4gZGV2IG1vZGUgKHVub3B0aW1pemVkIGltcGxlbWVudGF0aW9uKVxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgbGV0IGxpc3RlbmVyVXBkYXRlID0gKCkgPT4ge1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuJC5saXN0ZW5lcnMgPSBldmVudE1hbmFnZXIuZ2V0RG9tTGlzdGVuZXJzKHRoaXMuJC5hYm91dC5maW5nZXJwcmludCk7XG4gICAgICAgIC8vICAgICB9O1xuICAgICAgICAvLyAgICAgbGV0IG9ic2VydmVyVXBkYXRlID0gKCkgPT4ge1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuJC5vYnNlcnZlcnMgPSBldmVudE1hbmFnZXIuZ2V0T2JzZXJ2ZXJzKCk7XG4gICAgICAgIC8vICAgICB9O1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgZXZlbnRNYW5hZ2VyLm9uTGlzdGVuZXJVcGRhdGUgPSBsaXN0ZW5lclVwZGF0ZTtcbiAgICAgICAgLy8gICAgIGV2ZW50TWFuYWdlci5vbk9ic2VydmVyVXBkYXRlID0gb2JzZXJ2ZXJVcGRhdGU7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihsaXN0ZW5lclVwZGF0ZSk7XG4gICAgICAgIC8vICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwge2NoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZX0pO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgbGlzdGVuZXJVcGRhdGUoKTtcbiAgICAgICAgLy8gICAgIG9ic2VydmVyVXBkYXRlKCk7XG4gICAgICAgIC8vIH0gZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLiQsIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBldmVudE1hbmFnZXIuZ2V0RG9tTGlzdGVuZXJzLmJpbmQoZXZlbnRNYW5hZ2VyLCB0aGlzLiQuYWJvdXQuZmluZ2VycHJpbnQpLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvYnNlcnZlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBldmVudE1hbmFnZXIuZ2V0T2JzZXJ2ZXJzLmJpbmQoZXZlbnRNYW5hZ2VyKSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkb24oLyogZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yLCBoYW5kbGVyLCBvcHRpb25zICovKSB7XG4gICAgICAgIHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5jdXN0b20ub24oLi4uYXJndW1lbnRzKVxuICAgIH1cblxuICAgICRvZmYoLyogZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yLCBoYW5kbGVyLCBvcHRpb25zICovKSB7XG4gICAgICAgIHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5jdXN0b20ub2ZmKC4uLmFyZ3VtZW50cylcbiAgICB9XG5cbiAgICAkdHJpZ2dlcigvKiBldmVudHMsIHRhcmdldCwgZGF0YSAqLykge1xuICAgICAgICByZXR1cm4gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmN1c3RvbS50cmlnZ2VyKC4uLmFyZ3VtZW50cylcbiAgICB9XG5cbiAgICAkdHJpZ2dlclBhcmFsbGVsKC8qIGV2ZW50cywgdGFyZ2V0LCBkYXRhICovKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMuY3VzdG9tLnRyaWdnZXJQYXJhbGxlbCguLi5hcmd1bWVudHMpXG4gICAgfVxuXG4gICAgJG5vdGlmeShldmVudHMsIGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHRyaWdnZXIoZXZlbnRzLCBkYXRhKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmtlcm5lbC50cmlnZ2VyKGV2ZW50cywgZGF0YSkpXG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0IFN0YXRlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBUcmFpdFN0YXRlIHtcblxuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBzdGF0ZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBjb25zdCBzdGF0ZVJvdXRlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGNvbnN0IGtlcm5lbCA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5rZXJuZWw7XG5cbiAgICAgICAgYXNzaWduUHJpdmF0ZSh0aGlzLCB7IHN0YXRlcywgc3RhdGVSb3V0ZXMgfSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuUkVBRE9OTFkpO1xuXG4gICAgICAgIEpGYWN0b3J5T2JqZWN0LmFzc2lnbih0aGlzLiQsIFwic3RhdGVzXCIsIG5ldyBQcm94eShzdGF0ZXMsIHtcbiAgICAgICAgICAgIHNldDogKHRhcmdldCwga2V5LCB2YWwpID0+IHRoaXMuJHN0YXRlKGtleSwgdmFsKSxcbiAgICAgICAgICAgIGdldDogKHRhcmdldCwga2V5KSA9PiBzdGF0ZXNba2V5XVxuICAgICAgICB9KSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuUkVBRE9OTFkpO1xuXG4gICAgICAgIGtlcm5lbC5vbihcImJlZm9yZVN0YXRlQ2hhbmdlXCIsIChlLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICBsZXQgaDtcbiAgICAgICAgICAgIGlmIChzdGF0ZVJvdXRlc1tkYXRhLmtleV0gJiYgc3RhdGVSb3V0ZXNbZGF0YS5rZXldLmJlZm9yZVxuICAgICAgICAgICAgICAgICYmIChoID0gc3RhdGVSb3V0ZXNbZGF0YS5rZXldLmJlZm9yZShkYXRhLnZhbCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG5vdGlmeShoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAga2VybmVsLm9uKFwiYWZ0ZXJTdGF0ZUNoYW5nZVwiLCAoZSwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgbGV0IGg7XG4gICAgICAgICAgICBpZiAoc3RhdGVSb3V0ZXNbZGF0YS5rZXldICYmIHN0YXRlUm91dGVzW2RhdGEua2V5XS5hZnRlclxuICAgICAgICAgICAgICAgICYmIChoID0gc3RhdGVSb3V0ZXNbZGF0YS5rZXldLmFmdGVyKGRhdGEudmFsKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kbm90aWZ5KGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkc3RhdGUoa2V5LCB2YWwsIG5vdGlmeSA9IHRydWUpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkc3RhdGUoa2V5KVwiLCBrZXkpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJHN0YXRlKG5vdGlmeSlcIiwgbm90aWZ5KS50eXBlQm9vbGVhbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBKRmFjdG9yeVByb21pc2VTeW5jKGFzeW5jIHJlc29sdmUgPT4ge1xuXG4gICAgICAgICAgICBsZXQgc3RhdGVzID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uc3RhdGVzO1xuICAgICAgICAgICAgbGV0IHByZXZpb3VzVmFsID0gc3RhdGVzW2tleV07XG4gICAgICAgICAgICBsZXQgcGVuZGluZztcblxuICAgICAgICAgICAgaWYgKCEoa2V5IGluIHN0YXRlcykgfHwgcHJldmlvdXNWYWwgIT09IHZhbCkge1xuXG4gICAgICAgICAgICAgICAgcGVuZGluZyA9IG5vdGlmeSAmJiB0aGlzLiRub3RpZnkoXCJiZWZvcmVTdGF0ZUNoYW5nZVwiLCB7IGtleSwgdmFsLCBwcmV2aW91c1ZhbCB9KTtcbiAgICAgICAgICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmcgJiYgSkZhY3RvcnlFeHBlY3QoXCJiZWZvcmVTdGF0ZUNoYW5nZSByZXN1bHRcIiwgcGVuZGluZykudHlwZShKRmFjdG9yeVByb21pc2VTeW5jKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocGVuZGluZyAmJiAhcGVuZGluZy4kaXNTZXR0bGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlc1trZXldID0gcGVuZGluZztcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGVuZGluZztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHN0YXRlc1trZXldXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVzW2tleV0gPSB2YWw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGVuZGluZyA9IG5vdGlmeSAmJiB0aGlzLiRub3RpZnkoXCJhZnRlclN0YXRlQ2hhbmdlXCIsIHsga2V5LCB2YWwsIHByZXZpb3VzVmFsIH0pO1xuICAgICAgICAgICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZyAmJiBKRmFjdG9yeUV4cGVjdChcImFmdGVyU3RhdGVDaGFuZ2UgcmVzdWx0XCIsIHBlbmRpbmcpLnR5cGUoSkZhY3RvcnlQcm9taXNlU3luYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGVuZGluZykge1xuICAgICAgICAgICAgICAgIHBlbmRpbmcudGhlbihyZXNvbHZlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBTZXJ2aWNlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFRyYWl0U2VydmljZSB7XG5cbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIHRoaXMuJC5zZXJ2aWNlXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBKRmFjdG9yeU9iamVjdC5hc3NpZ24odGhpcy4kLCBcInNlcnZpY2VcIiwgT2JqZWN0LmNyZWF0ZShudWxsKSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuUkVBRE9OTFkpO1xuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZSA9IFRyYWl0U2VydmljZS5QSEFTRS5OT05FO1xuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlID0gSkZhY3RvcnlQcm9taXNlU3luYy5yZXNvbHZlKCk7XG5cbiAgICAgICAgLy8gU2V0IGluaXRpYWwgc3RhdGVzIGJ1dCBkb24ndCB0cmlnZ2VyIGV2ZW50c1xuICAgICAgICB0aGlzLiRzdGF0ZShcImluc3RhbGxlZFwiLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLiRzdGF0ZShcImVuYWJsZWRcIiwgZmFsc2UsIGZhbHNlKTtcblxuICAgICAgICAvLyBEZWZpbmUgdGhlIGV2ZW50cyB0byBub3RpZnkgYmVmb3JlL2FmdGVyIGEgc3RhdGUgY2hhbmdlXG4gICAgICAgIC8vIHN0YXRlTmFtZSA6IHtiZWZvcmUgOiBldmVudE5hbWUsIGFmdGVyIDogZXZlbnROYW1lfVxuXG4gICAgICAgIC8vIFNQRUNcbiAgICAgICAgLy8gc3RhdCBpcyBjaGFuZ2VkIGJlZm9yZSBjYWxsaW5nIGhhbmRsZXJzIGV2ZW4gaWYgcGVuZGluZ1xuXG4gICAgICAgIGFzc2lnblByaXZhdGVNZW1iZXIodGhpcywgXCJzdGF0ZVJvdXRlc1wiLCB7XG4gICAgICAgICAgICBpbnN0YWxsZWQ6IHsgYWZ0ZXI6IHZhbCA9PiB2YWwgPyBcImluc3RhbGxcIiA6IFwidW5pbnN0YWxsXCIgfSxcbiAgICAgICAgICAgIGVuYWJsZWQ6IHsgYWZ0ZXI6IHZhbCA9PiB2YWwgPyBcImVuYWJsZVwiICA6IFwiZGlzYWJsZVwiIH1cbiAgICAgICAgfSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuTk9ORSk7XG5cbiAgICAgICAgbGV0IGN1c3RvbSA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5jdXN0b207XG4gICAgICAgIGxldCBrZXJuZWwgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMua2VybmVsO1xuXG4gICAgICAgIC8vIEF0dGFjaCBhIHJlbW92ZSBwaGFzZSBuYW1lc3BhY2VzIG9uIGV2ZW50c1xuICAgICAgICBjdXN0b20uYWZmaWxpYXRlQWRkUnVsZSgoY29udGV4dCwgcGFyc2VkRXZlbnQsIG5hbWVzcGFjZXMsIG9wdGlvbnMpID0+XG4gICAgICAgICAgICBUcmFpdFNlcnZpY2Uuc2V0RXZlbnROYW1lc3BhY2VSZW1vdmVQaGFzZSh0aGlzLCBwYXJzZWRFdmVudCwgb3B0aW9ucylcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBBdHRhY2ggbW9kdWxlIGV2ZW50IGhhbmRsZXJzXG5cbiAgICAgICAgLyoqIEBuYW1lIEpGYWN0b3J5Q29yZU9iamVjdCNvbkluc3RhbGwgKi9cbiAgICAgICAgLyoqIEBuYW1lIEpGYWN0b3J5Q29yZU9iamVjdCNvbkVuYWJsZSAqL1xuICAgICAgICAvKiogQG5hbWUgSkZhY3RvcnlDb3JlT2JqZWN0I29uRGlzYWJsZSAqL1xuICAgICAgICAvKiogQG5hbWUgSkZhY3RvcnlDb3JlT2JqZWN0I29uVW5pbnN0YWxsICovXG5cbiAgICAgICAgbGV0IHJlc29sdmVQcm9taXNlcyA9IGhhbmRsZXIgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuJC50YXNrcy5zaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kdGFza1JlbW92ZUFsbCh0aGlzLiQuc2VydmljZS5waGFzZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwcm9taXNlID0gSkZhY3RvcnlQcm9taXNlU3luYy5yZXNvbHZlKCk7IC8vIHRoaXMuJHRhc2tQcm9taXNlQWxsKHRydWUpO1xuICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiBoYW5kbGVyLmNhbGwodGhpcykpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuJHRhc2tQcm9taXNlQWxsKHRydWUpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VcbiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHRoaXMuJC5zZXJ2aWNlLmlzUGhhc2VLaWxsaW5nICYmIGUgaW5zdGFuY2VvZiBqRmFjdG9yeUVycm9yLlBST01JU0VfRVhQSVJFRCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGxvZ0VycihcInVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiBpbiBcIiArIHRoaXMuJC5zZXJ2aWNlLnBoYXNlICsgXCI7XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZSBpbnN0YW5jZW9mIEpGYWN0b3J5RXJyb3IgPyBlIDogW2VdKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAga2VybmVsLm9uKFwiaW5zdGFsbFwiLCAoKSA9PiByZXNvbHZlUHJvbWlzZXModGhpcy5vbkluc3RhbGwpKTtcbiAgICAgICAga2VybmVsLm9uKFwiZW5hYmxlXCIsICgpID0+IHJlc29sdmVQcm9taXNlcyh0aGlzLm9uRW5hYmxlKSk7XG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgKCkgPT4gcmVzb2x2ZVByb21pc2VzKHRoaXMub25EaXNhYmxlKSk7XG4gICAgICAgIGtlcm5lbC5vbihcInVuaW5zdGFsbFwiLCAoKSA9PiByZXNvbHZlUHJvbWlzZXModGhpcy5vblVuaW5zdGFsbCkpO1xuXG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgICAoKSA9PiB0aGlzLiRvZmYoeyByZW1vdmFsOiBUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSB9KSk7XG4gICAgICAgIGtlcm5lbC5vbihcInVuaW5zdGFsbFwiLCAoKSA9PiB0aGlzLiRvZmYoeyByZW1vdmFsOiBUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMIH0pKTtcbiAgICB9XG5cbiAgICAkaW5zdGFsbChlbmFibGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlLiRpc1NldHRsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kaW5zdGFsbCgpKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtpZiAodGhpcy4kLnNlcnZpY2UuaXNQaGFzZUtpbGxpbmcpIHtkZWJ1Z2dlcn19XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuJC5zZXJ2aWNlLnBoYXNlUXVldWUgPSBKRmFjdG9yeVByb21pc2VTeW5jLnJlc29sdmUoKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy4kLnN0YXRlcy5pbnN0YWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuSU5TVEFMTDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0YXRlKFwiaW5zdGFsbGVkXCIsIHRydWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZW5hYmxlICYmIHRoaXMuJC5zdGF0ZXMuaW5zdGFsbGVkICYmICF0aGlzLiQuc3RhdGVzLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuRU5BQkxFO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RhdGUoXCJlbmFibGVkXCIsIHRydWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZSA9IFRyYWl0U2VydmljZS5QSEFTRS5OT05FO1xuICAgICAgICAgICAgfSlcbiAgICB9XG5cbiAgICAkZW5hYmxlKCkge1xuICAgICAgICBpZiAoIXRoaXMuJC5zZXJ2aWNlLnBoYXNlUXVldWUuJGlzU2V0dGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJC5zZXJ2aWNlLnBoYXNlUXVldWVcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLiRlbmFibGUoKSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1kZWJ1Z2dlclxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7aWYgKHRoaXMuJC5zZXJ2aWNlLmlzUGhhc2VLaWxsaW5nKSB7ZGVidWdnZXJ9fVxuXG4gICAgICAgIHJldHVybiB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlID0gSkZhY3RvcnlQcm9taXNlU3luYy5yZXNvbHZlKClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kLnN0YXRlcy5pbnN0YWxsZWQgJiYgIXRoaXMuJC5zdGF0ZXMuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZSA9IFRyYWl0U2VydmljZS5QSEFTRS5FTkFCTEU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdGF0ZShcImVuYWJsZWRcIiwgdHJ1ZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLk5PTkU7XG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgICRkaXNhYmxlKCkge1xuICAgICAgICBpZiAoIXRoaXMuJC5zZXJ2aWNlLnBoYXNlUXVldWUuJGlzU2V0dGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIFRyYWl0U2VydmljZS5waGFzZUtpbGwodGhpcylcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLiRkaXNhYmxlKCkpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXJcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge2lmICh0aGlzLiQuc2VydmljZS5pc1BoYXNlS2lsbGluZykge2RlYnVnZ2VyfX1cblxuICAgICAgICByZXR1cm4gdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZSA9IEpGYWN0b3J5UHJvbWlzZVN5bmMucmVzb2x2ZSgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJC5zdGF0ZXMuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZSA9IFRyYWl0U2VydmljZS5QSEFTRS5ESVNBQkxFO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RhdGUoXCJlbmFibGVkXCIsIGZhbHNlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuTk9ORTtcbiAgICAgICAgICAgIH0pXG4gICAgfVxuXG4gICAgJHVuaW5zdGFsbCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlLiRpc1NldHRsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBUcmFpdFNlcnZpY2UucGhhc2VLaWxsKHRoaXMpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kdW5pbnN0YWxsKCkpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXJcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge2lmICh0aGlzLiQuc2VydmljZS5pc1BoYXNlS2lsbGluZykge2RlYnVnZ2VyfX1cblxuICAgICAgICByZXR1cm4gdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZSA9IEpGYWN0b3J5UHJvbWlzZVN5bmMucmVzb2x2ZSgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJC5zdGF0ZXMuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kZGlzYWJsZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kLnN0YXRlcy5pbnN0YWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RhdGUoXCJpbnN0YWxsZWRcIiwgZmFsc2UpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZSA9IFRyYWl0U2VydmljZS5QSEFTRS5OT05FO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHBoYXNlS2lsbChjb21wb25lbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgaWYgKCFjb21wb25lbnQuJC5zZXJ2aWNlLnBoYXNlUXVldWUuJGlzU2V0dGxlZCkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudC4kLnNlcnZpY2UuaXNQaGFzZUtpbGxpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudC4kbG9nV2FybihcInBoYXNlIGtpbGwgW1wiICsgY29tcG9uZW50LiQuc2VydmljZS5waGFzZSArIFwiXS4uLlwiKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50LiQudGFza3Muc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuJHRhc2tSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLmdldENvbnRleHR1YWxSZW1vdmVQaGFzZShjb21wb25lbnQpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKFRyYWl0U2VydmljZS5waGFzZUtpbGwoY29tcG9uZW50KSksIDUwKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuJC5zZXJ2aWNlLmlzUGhhc2VLaWxsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIGdldENvbnRleHR1YWxSZW1vdmVQaGFzZShqRmFjdG9yeUNvcmVPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIFRyYWl0U2VydmljZS5QSEFTRV9SRVZFUlRbakZhY3RvcnlDb3JlT2JqZWN0LiQuc2VydmljZS5waGFzZV1cbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0RXZlbnROYW1lc3BhY2VSZW1vdmVQaGFzZShqRmFjdG9yeUNvcmVPYmplY3QsIHBhcnNlZEV2ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBjdXJSZW1vdmVQaGFzZSA9IHBhcnNlZEV2ZW50Lmhhc05hbWVzcGFjZShUcmFpdFNlcnZpY2UuUEhBU0VTKTtcbiAgICAgICAgbGV0IG5ld1JlbW92ZVBoYXNlID0gb3B0aW9ucyAmJiBvcHRpb25zLnJlbW92YWw7XG5cbiAgICAgICAgaWYgKCFuZXdSZW1vdmVQaGFzZSkge1xuICAgICAgICAgICAgbmV3UmVtb3ZlUGhhc2UgPSBUcmFpdFNlcnZpY2UuZ2V0Q29udGV4dHVhbFJlbW92ZVBoYXNlKGpGYWN0b3J5Q29yZU9iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzcGVjaWFsIGNhc2UgOiBvbihcInVuaW5zdGFsbFwiKSB3aXRoIHJlbW92YWwgPSBESVNBQkxFICh0aGUgZGVmYXVsdCB2YWx1ZSlcbiAgICAgICAgLy8gPT4gZGlzYWJsZSgpIGlzIGFsd2F5cyBjYWxsZWQgYmVmb3JlIHVuaW5zdGFsbCgpIGNhdXNpbmcgdGhlIGV2ZW50IHRvIGJlIHJlbW92ZWQgdG9vIGVhcmx5XG4gICAgICAgIGlmIChwYXJzZWRFdmVudC5ldmVudCA9PT0gXCJ1bmluc3RhbGxcIiAmJiBuZXdSZW1vdmVQaGFzZSA9PT0gVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpIHtcbiAgICAgICAgICAgIG5ld1JlbW92ZVBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1clJlbW92ZVBoYXNlICE9PSBuZXdSZW1vdmVQaGFzZSkge1xuICAgICAgICAgICAgcGFyc2VkRXZlbnQuZGVsZXRlTmFtZXNwYWNlKGN1clJlbW92ZVBoYXNlKTtcbiAgICAgICAgICAgIHBhcnNlZEV2ZW50LmFkZE5hbWVzcGFjZShuZXdSZW1vdmVQaGFzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZWRFdmVudC5hZGROYW1lc3BhY2UobmV3UmVtb3ZlUGhhc2UpO1xuICAgIH1cbn1cblxuVHJhaXRTZXJ2aWNlLlBIQVNFID0ge1xuICAgIE5PTkU6IFwiUEhBU0VfTk9ORVwiLFxuICAgIElOU1RBTEw6IFwiUEhBU0VfSU5TVEFMTFwiLFxuICAgIEVOQUJMRTogXCJQSEFTRV9FTkFCTEVcIixcbiAgICBESVNBQkxFOiBcIlBIQVNFX0RJU0FCTEVcIixcbiAgICBVTklOU1RBTEw6IFwiUEhBU0VfVU5JTlNUQUxMXCJcbn07XG5cblRyYWl0U2VydmljZS5QSEFTRV9SRVZFUlQgPSB7XG4gICAgW1RyYWl0U2VydmljZS5QSEFTRS5JTlNUQUxMXTogVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTCxcbiAgICBbVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTF06IFRyYWl0U2VydmljZS5QSEFTRS5JTlNUQUxMLFxuICAgIFtUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRV06IFRyYWl0U2VydmljZS5QSEFTRS5FTkFCTEUsXG4gICAgW1RyYWl0U2VydmljZS5QSEFTRS5FTkFCTEVdOiBUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSxcbiAgICBbVHJhaXRTZXJ2aWNlLlBIQVNFLk5PTkVdOiBUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRVxufTtcblxuVHJhaXRTZXJ2aWNlLlBIQVNFUyA9IE9iamVjdC52YWx1ZXMoVHJhaXRTZXJ2aWNlLlBIQVNFKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnblByaXZhdGUoc2NvcGUsIHByb3BlcnR5LCB2YWx1ZSwgZGVzY3JpcHRvcikge1xuICAgIEpGYWN0b3J5T2JqZWN0LmFzc2lnbihzY29wZS4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0sIHByb3BlcnR5LCB2YWx1ZSwgZGVzY3JpcHRvcilcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnblByaXZhdGVNZW1iZXIoc2NvcGUsIHByb3BlcnR5LCB2YWx1ZSwgZGVzY3JpcHRvcikge1xuICAgIEpGYWN0b3J5T2JqZWN0LmFzc2lnbihzY29wZS4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV1bcHJvcGVydHldLCB2YWx1ZSwgZGVzY3JpcHRvcilcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmpGYWN0b3J5LlBIQVNFID0gSkZhY3RvcnlPYmplY3QuZGlzaW5oZXJpdChUcmFpdFNlcnZpY2UuUEhBU0UpO1xuXG5qRmFjdG9yeS5UcmFpdENvcmUgPSBUcmFpdENvcmU7XG5qRmFjdG9yeS5UcmFpdEFib3V0ID0gVHJhaXRBYm91dDtcbmpGYWN0b3J5LlRyYWl0TG9nID0gVHJhaXRMb2c7XG5qRmFjdG9yeS5UcmFpdEV2ZW50cyA9IFRyYWl0RXZlbnRzO1xuakZhY3RvcnkuVHJhaXRTdGF0ZSA9IFRyYWl0U3RhdGU7XG5qRmFjdG9yeS5UcmFpdFNlcnZpY2UgPSBUcmFpdFNlcnZpY2U7XG5qRmFjdG9yeS5UcmFpdFRhc2sgPSBUcmFpdFRhc2s7IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdENvbXBvbmVudHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmltcG9ydCB7IGpGYWN0b3J5IH0gZnJvbSBcIi4vakZhY3RvcnlcIjtcbmltcG9ydCB7IEpGQUNUT1JZX0RFViB9IGZyb20gXCIuL2pGYWN0b3J5LWVudlwiO1xuaW1wb3J0IHsgakZhY3RvcnlFcnJvciB9IGZyb20gXCIuL0pGYWN0b3J5RXJyb3JcIjtcbmltcG9ydCB7IEpGYWN0b3J5RXhwZWN0IH0gZnJvbSBcIi4vSkZhY3RvcnlFeHBlY3RcIjtcbmltcG9ydCB7IFRyYWl0Q29yZSwgVHJhaXRTZXJ2aWNlIH0gZnJvbSBcIi4vVHJhaXRzQ29yZVwiO1xuaW1wb3J0IHsgSkZhY3RvcnlGZXRjaCB9IGZyb20gXCIuL0pGYWN0b3J5RmV0Y2hcIjtcbmltcG9ydCB7IEpGYWN0b3J5UHJvbWlzZSB9IGZyb20gXCIuL0pGYWN0b3J5UHJvbWlzZVwiO1xuaW1wb3J0IHsgSkZhY3RvcnlPYmplY3QgfSBmcm9tIFwiLi9KRmFjdG9yeU9iamVjdFwiO1xuaW1wb3J0IHsgakZhY3RvcnlUcmFjZSB9IGZyb20gXCIuL0pGYWN0b3J5VHJhY2VcIjtcbmltcG9ydCB7IGhlbHBlcl9pc1BsYWluT2JqZWN0LCBqUXVlcnkgfSBmcm9tIFwiLi9qRmFjdG9yeS1oZWxwZXJzXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgRmV0Y2hcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRGZXRjaCB7XG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGtlcm5lbCA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5rZXJuZWw7XG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgKCkgPT4gdGhpcy4kZmV0Y2hSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpKTtcbiAgICAgICAga2VybmVsLm9uKFwidW5pbnN0YWxsXCIsICgpID0+IHRoaXMuJGZldGNoUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEwpKTtcbiAgICAgICAgdGhpcy4kLmFzc2lnbihcInJlcXVlc3RzXCIsIHRoaXMuJC5jcmVhdGVTdWJNYXAoKSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuRU5VTUVSQUJMRSk7XG4gICAgfVxuXG4gICAgJGZldGNoKGlkLCB1cmwsIGZldGNoT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJGZldGNoKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkZmV0Y2godXJsKVwiLCB1cmwpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJGZldGNoKGZldGNoT3B0aW9ucylcIiwgZmV0Y2hPcHRpb25zKS50eXBlUGxhaW5PYmplY3QoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLiQucmVxdWVzdHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiRmZXRjaChpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcHJvbWlzZSA9IG5ldyBKRmFjdG9yeUZldGNoKHtcbiAgICAgICAgICAgIG5hbWU6IGlkLFxuICAgICAgICAgICAgdHJhY2VTb3VyY2U6IGpGYWN0b3J5VHJhY2UudHJhY2VyLmNhcHR1cmVUcmFjZVNvdXJjZShcIiRmZXRjaFwiKSxcbiAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgIGNoYWluQXV0b0NvbXBsZXRlOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHVybCwgZmV0Y2hPcHRpb25zKTtcblxuICAgICAgICB0aGlzLiQucmVxdWVzdHMuJHJlZ2lzdGVyQXN5bmMoaWQsICckZmV0Y2goXCInICsgaWQgKyAnXCIpJywgcHJvbWlzZSk7XG5cbiAgICAgICAgcHJvbWlzZS4kY2hhaW4udGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy4kLnJlcXVlc3RzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRmZXRjaFJlbW92ZShpZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG4gICAgJGZldGNoVGV4dChpZCwgdXJsLCBmZXRjaE9wdGlvbnMgPSB7fSkge1xuICAgICAgICByZXR1cm4gdGhpcy4kZmV0Y2goaWQsIHVybCwgeyAuLi5mZXRjaE9wdGlvbnMsICR0eXBlVGV4dDogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICAkZmV0Y2hKU09OKGlkLCB1cmwsIGZldGNoT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRmZXRjaChpZCwgdXJsLCB7IC4uLmZldGNoT3B0aW9ucywgJHR5cGVKU09OOiB0cnVlIH0pO1xuICAgIH1cblxuICAgICRmZXRjaFJlbW92ZShpZCwgcmVhc29uKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJGZldGNoUmVtb3ZlKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgcmVhc29uICYmIEpGYWN0b3J5RXhwZWN0KFwiJGZldGNoUmVtb3ZlKHJlYXNvbilcIiwgcmVhc29uKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJC5yZXF1ZXN0cy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX01JU1NJTkcoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiJGZldGNoUmVtb3ZlKGlkKVwiLFxuICAgICAgICAgICAgICAgICAgICBnaXZlbjogaWRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyLGJyYWNlLXN0eWxlXG4gICAgICAgICAgICBpZiAodGhpcy4kLnJlcXVlc3RzLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQpIHtkZWJ1Z2dlcn1cbiAgICAgICAgICAgIHRoaXMuJC5yZXF1ZXN0cy5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGVudHJ5ID0gdGhpcy4kLnJlcXVlc3RzLmdldChpZCk7XG4gICAgICAgIHRoaXMuJC5yZXF1ZXN0cy5kZWxldGUoaWQpO1xuICAgICAgICBlbnRyeS4kY2hhaW5BYm9ydChyZWFzb24gfHwgXCIkZmV0Y2hSZW1vdmUoKVwiKTtcbiAgICB9XG5cbiAgICAkZmV0Y2hSZW1vdmVBbGwocmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJyZW1vdmVQaGFzZVwiLCByZW1vdmVQaGFzZSlcbiAgICAgICAgICAgICAgICAuZXF1YWxJbihUcmFpdFNlcnZpY2UuUEhBU0VTKVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdWJzID0gdGhpcy4kLnJlcXVlc3RzO1xuICAgICAgICBpZiAoc3Vicy5zaXplKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHN1Yl0gb2Ygc3Vicykge1xuICAgICAgICAgICAgICAgIGlmIChzdWIuJHBoYXNlUmVtb3ZlID09PSByZW1vdmVQaGFzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRmZXRjaFJlbW92ZShrZXksIFwiJGZldGNoUmVtb3ZlQWxsKFwiICsgcmVtb3ZlUGhhc2UgKyBcIilcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgVGltZW91dFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBUcmFpdFRpbWVvdXQge1xuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBrZXJuZWwgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMua2VybmVsO1xuICAgICAgICBrZXJuZWwub24oXCJkaXNhYmxlXCIsICgpID0+IHRoaXMuJHRpbWVvdXRSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpKTtcbiAgICAgICAga2VybmVsLm9uKFwidW5pbnN0YWxsXCIsICgpID0+IHRoaXMuJHRpbWVvdXRSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTCkpO1xuICAgICAgICB0aGlzLiQuYXNzaWduKFwidGltZW91dHNcIiwgdGhpcy4kLmNyZWF0ZVN1Yk1hcCgpLCBKRmFjdG9yeU9iamVjdC5kZXNjcmlwdG9ycy5FTlVNRVJBQkxFKTtcbiAgICB9XG5cbiAgICAkdGltZW91dChpZCwgZGVsYXksIGhhbmRsZXIgPSBudWxsLCAuLi5hcmdzKSB7XG4gICAgICAgIC8vIGlkXG4gICAgICAgIC8vIGlkLCBkZWxheVxuICAgICAgICAvLyBpZCwgZGVsYXksIGhhbmRsZXIsIC4uLmFyZ3NcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImRlbGF5XCIsIGRlbGF5KS50eXBlTnVtYmVyKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImhhbmRsZXJcIiwgaGFuZGxlcikudHlwZShGdW5jdGlvbiwgbnVsbCk7XG4gICAgICAgICAgICBpZiAodGhpcy4kLnRpbWVvdXRzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfRFVQTElDQVRFRCh7IHRhcmdldDogXCIkdGltZW91dChpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGltZXI7XG4gICAgICAgIGxldCBwcm9taXNlID0gbmV3IEpGYWN0b3J5UHJvbWlzZShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBpZCxcbiAgICAgICAgICAgICAgICB0cmFjZVNvdXJjZTogakZhY3RvcnlUcmFjZS50cmFjZXIuY2FwdHVyZVRyYWNlU291cmNlKFwiJHRpbWVvdXRcIiksXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNoYWluQXV0b0NvbXBsZXRlOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvbWlzZS4kaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGhhbmRsZXIgPyBoYW5kbGVyKC4uLmFyZ3MpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGRlbGF5KVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuJC50aW1lb3V0cy4kcmVnaXN0ZXJBc3luYyhpZCwgJyR0aW1lb3V0KFwiJyArIGlkICsgJ1wiKScsIHByb21pc2UpO1xuICAgICAgICBwcm9taXNlLiRjaGFpbi5kYXRhLnRpbWVyID0gdGltZXI7XG5cbiAgICAgICAgcHJvbWlzZS4kY2hhaW4udGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy4kLnRpbWVvdXRzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiR0aW1lb3V0UmVtb3ZlKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG4gICAgJHRpbWVvdXRSZW1vdmUoaWQsIHJlYXNvbikge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiR0aW1lb3V0UmVtb3ZlKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgcmVhc29uICYmIEpGYWN0b3J5RXhwZWN0KFwiJHRpbWVvdXRSZW1vdmUocmVhc29uKVwiLCByZWFzb24pLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy4kLnRpbWVvdXRzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfTUlTU0lORyh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCIkdGltZW91dFJlbW92ZShpZClcIixcbiAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IGlkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1kZWJ1Z2dlcixicmFjZS1zdHlsZVxuICAgICAgICAgICAgaWYgKHRoaXMuJC50aW1lb3V0cy5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkKSB7ZGVidWdnZXJ9XG4gICAgICAgICAgICB0aGlzLiQudGltZW91dHMuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZW50cnkgPSB0aGlzLiQudGltZW91dHMuZ2V0KGlkKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGVudHJ5LiRjaGFpbi5kYXRhLnRpbWVyKTtcbiAgICAgICAgLy8gZGVsZXRpbmcgYmVmb3JlIGNoYWluQWJvcnQoKSB0byBwcmV2ZW50IHJlbW92ZSgpIHJlY2FsbFxuICAgICAgICB0aGlzLiQudGltZW91dHMuZGVsZXRlKGlkKTtcbiAgICAgICAgZW50cnkuJGNoYWluQWJvcnQocmVhc29uIHx8IFwiJHRpbWVvdXRSZW1vdmUoKVwiKTtcbiAgICB9XG5cbiAgICAkdGltZW91dFJlbW92ZUFsbChyZW1vdmVQaGFzZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcInJlbW92ZVBoYXNlXCIsIHJlbW92ZVBoYXNlKVxuICAgICAgICAgICAgICAgIC5lcXVhbEluKFRyYWl0U2VydmljZS5QSEFTRVMpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdWJzID0gdGhpcy4kLnRpbWVvdXRzO1xuICAgICAgICBpZiAoc3Vicy5zaXplKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHN1Yl0gb2Ygc3Vicykge1xuICAgICAgICAgICAgICAgIGlmIChzdWIuJHBoYXNlUmVtb3ZlID09PSByZW1vdmVQaGFzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiR0aW1lb3V0UmVtb3ZlKGtleSwgXCIkdGltZW91dFJlbW92ZUFsbCgpXCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0IEludGVydmFsXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFRyYWl0SW50ZXJ2YWwge1xuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBrZXJuZWwgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMua2VybmVsO1xuICAgICAgICBrZXJuZWwub24oXCJkaXNhYmxlXCIsICgpID0+IHRoaXMuJGludGVydmFsUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5ESVNBQkxFKSk7XG4gICAgICAgIGtlcm5lbC5vbihcInVuaW5zdGFsbFwiLCAoKSA9PiB0aGlzLiRpbnRlcnZhbFJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMKSk7XG4gICAgICAgIHRoaXMuJC5hc3NpZ24oXCJ0aW1laW50c1wiLCB0aGlzLiQuY3JlYXRlU3ViTWFwKCksIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLkVOVU1FUkFCTEUpO1xuICAgIH1cblxuICAgICRpbnRlcnZhbChpZCwgZGVsYXksIGhhbmRsZXIsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJpZFwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJoYW5kbGVyXCIsIGhhbmRsZXIpLnR5cGVGdW5jdGlvbigpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJkZWxheVwiLCBkZWxheSkudHlwZU51bWJlcigpO1xuICAgICAgICAgICAgaWYgKHRoaXMuJC50aW1laW50cy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX0RVUExJQ0FURUQoeyB0YXJnZXQ6IFwiJGludGVydmFsKGlkKVwiLCBnaXZlbjogaWQgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgdGltZXIgPSBzZXRJbnRlcnZhbChoYW5kbGVyLCBkZWxheSwgLi4uYXJncyk7XG4gICAgICAgIHRoaXMuJC50aW1laW50cy4kcmVnaXN0ZXJTeW5jKGlkLCB0aW1lcilcbiAgICB9XG5cbiAgICAkaW50ZXJ2YWxSZW1vdmUoaWQpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkaW50ZXJ2YWxSZW1vdmUoaWQpXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJC50aW1laW50cy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX01JU1NJTkcoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiJGludGVydmFsUmVtb3ZlKGlkKVwiLFxuICAgICAgICAgICAgICAgICAgICBnaXZlbjogaWRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyLGJyYWNlLXN0eWxlXG4gICAgICAgICAgICBpZiAodGhpcy4kLnRpbWVpbnRzLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQpIHtkZWJ1Z2dlcn1cbiAgICAgICAgICAgIHRoaXMuJC50aW1laW50cy5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy4kLnRpbWVpbnRzLmdldChpZCkuJHZhbHVlKTtcbiAgICAgICAgdGhpcy4kLnRpbWVpbnRzLmRlbGV0ZShpZClcbiAgICB9XG5cbiAgICAkaW50ZXJ2YWxSZW1vdmVBbGwocmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJyZW1vdmVQaGFzZVwiLCByZW1vdmVQaGFzZSlcbiAgICAgICAgICAgICAgICAuZXF1YWxJbihUcmFpdFNlcnZpY2UuUEhBU0VTKVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdWJzID0gdGhpcy4kLnRpbWVpbnRzO1xuICAgICAgICBpZiAoc3Vicy5zaXplKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHN1Yl0gb2Ygc3Vicykge1xuICAgICAgICAgICAgICAgIGlmIChzdWIuJHBoYXNlUmVtb3ZlID09PSByZW1vdmVQaGFzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpbnRlcnZhbFJlbW92ZShrZXkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0IE11dGF0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBUcmFpdE11dGF0aW9uIHtcbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3Qga2VybmVsID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmtlcm5lbDtcbiAgICAgICAga2VybmVsLm9uKFwiZGlzYWJsZVwiLCAoKSA9PiB0aGlzLiRtdXRhdGlvblJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSkpO1xuICAgICAgICBrZXJuZWwub24oXCJ1bmluc3RhbGxcIiwgKCkgPT4gdGhpcy4kbXV0YXRpb25SZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTCkpO1xuICAgICAgICB0aGlzLiQuYXNzaWduKFwibXV0YXRpb25zXCIsIHRoaXMuJC5jcmVhdGVTdWJNYXAoKSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuRU5VTUVSQUJMRSk7XG4gICAgfVxuXG4gICAgJG11dGF0aW9uKGlkLCBwYXJlbnQsIGNvbmZpZywgaGFuZGxlcikge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcInBhcmVudFwiLCBwYXJlbnQpLnR5cGUoSFRNTEVsZW1lbnQsIERvY3VtZW50KTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiY29uZmlnXCIsIGNvbmZpZykudHlwZVBsYWluT2JqZWN0KCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImhhbmRsZXJcIiwgaGFuZGxlcikudHlwZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICBpZiAodGhpcy4kLm11dGF0aW9ucy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX0RVUExJQ0FURUQoeyB0YXJnZXQ6IFwiJG11dGF0aW9uKGlkKVwiLCBnaXZlbjogaWQgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihoYW5kbGVyKTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShwYXJlbnQsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMuJC5tdXRhdGlvbnMuJHJlZ2lzdGVyU3luYyhpZCwgb2JzZXJ2ZXIpO1xuICAgIH1cblxuICAgICRtdXRhdGlvblJlbW92ZShpZCwgcmVhc29uKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJG11dGF0aW9uUmVtb3ZlKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgcmVhc29uICYmIEpGYWN0b3J5RXhwZWN0KFwiJG11dGF0aW9uUmVtb3ZlKHJlYXNvbilcIiwgcmVhc29uKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJC5tdXRhdGlvbnMuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9NSVNTSU5HKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIiRtdXRhdGlvblJlbW92ZShpZClcIixcbiAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IGlkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1kZWJ1Z2dlcixicmFjZS1zdHlsZVxuICAgICAgICAgICAgaWYgKHRoaXMuJC5tdXRhdGlvbnMuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCkge2RlYnVnZ2VyfVxuICAgICAgICAgICAgdGhpcy4kLm11dGF0aW9ucy5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuJC5tdXRhdGlvbnMuZ2V0KGlkKS4kdmFsdWUuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLiQubXV0YXRpb25zLmRlbGV0ZShpZClcbiAgICB9XG5cbiAgICAkbXV0YXRpb25SZW1vdmVBbGwocmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJyZW1vdmVQaGFzZVwiLCByZW1vdmVQaGFzZSlcbiAgICAgICAgICAgICAgICAuZXF1YWxJbihUcmFpdFNlcnZpY2UuUEhBU0VTKVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdWJzID0gdGhpcy4kLm11dGF0aW9ucztcbiAgICAgICAgaWYgKHN1YnMuc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBzdWJdIG9mIHN1YnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ViLiRwaGFzZVJlbW92ZSA9PT0gcmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbXV0YXRpb25SZW1vdmUoa2V5KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBET01cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRET00ge1xuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBrZXJuZWwgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMua2VybmVsO1xuICAgICAgICBrZXJuZWwub24oXCJkaXNhYmxlXCIsICgpID0+IHRoaXMuJGRvbVJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSkpO1xuICAgICAgICBrZXJuZWwub24oXCJ1bmluc3RhbGxcIiwgKCkgPT4gdGhpcy4kZG9tUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEwpKTtcbiAgICAgICAgdGhpcy4kLmFzc2lnbihcImRvbVwiLCB0aGlzLiQuY3JlYXRlU3ViTWFwKCksIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLkVOVU1FUkFCTEUpO1xuICAgIH1cblxuICAgICRkb20oaWQsIGpRdWVyeUFyZ3VtZW50LCBhcHBlbmRUbykge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImpRdWVyeUFyZ3VtZW50XCIsIGpRdWVyeUFyZ3VtZW50KS50eXBlKFN0cmluZywgT2JqZWN0KTtcbiAgICAgICAgICAgIGFwcGVuZFRvICYmIEpGYWN0b3J5RXhwZWN0KFwiYXBwZW5kVG9cIiwgYXBwZW5kVG8pLnR5cGUoU3RyaW5nLCBPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRvbUlkO1xuICAgICAgICBpZiAoaWRbMF0gPT09IFwiI1wiKSB7XG4gICAgICAgICAgICBpZCA9IGlkLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIGRvbUlkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFViAmJiB0aGlzLiQuZG9tLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiRkb20oaWQpXCIsIGdpdmVuOiBpZCB9KVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRvbSA9IGpRdWVyeShqUXVlcnlBcmd1bWVudCk7XG5cbiAgICAgICAgaWYgKGRvbVswXS50YWdOYW1lID09PSBcIlRFTVBMQVRFXCIpIHtcbiAgICAgICAgICAgIGRvbSA9IGpRdWVyeShkb2N1bWVudC5pbXBvcnROb2RlKGRvbVswXS5jb250ZW50LCB0cnVlKS5jaGlsZHJlbilcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkb21JZCkge1xuICAgICAgICAgICAgZG9tWzBdLmlkID0gaWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcHBlbmRUbykge1xuICAgICAgICAgICAgZG9tLmFwcGVuZFRvKGFwcGVuZFRvKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuJC5kb20uJHJlZ2lzdGVyU3luYyhpZCwgZG9tKS4kdmFsdWU7XG4gICAgfVxuXG4gICAgJGRvbUZldGNoKGlkLCB1cmwsIGZldGNoT3B0aW9ucywgYXBwZW5kVG8pIHtcbiAgICAgICAgaWYgKGZldGNoT3B0aW9ucyAmJiAhaGVscGVyX2lzUGxhaW5PYmplY3QoZmV0Y2hPcHRpb25zKSkge1xuICAgICAgICAgICAgW2ZldGNoT3B0aW9ucywgYXBwZW5kVG9dID0gW3t9LCBmZXRjaE9wdGlvbnNdXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcInVybFwiLCB1cmwpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIGFwcGVuZFRvICYmIEpGYWN0b3J5RXhwZWN0KFwiYXBwZW5kVG9cIiwgYXBwZW5kVG8pLnR5cGUoU3RyaW5nLCBPYmplY3QpO1xuICAgICAgICAgICAgZmV0Y2hPcHRpb25zICYmIEpGYWN0b3J5RXhwZWN0KFwiZmV0Y2hPcHRpb25zXCIsIGZldGNoT3B0aW9ucykudHlwZShPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRvbUlkO1xuICAgICAgICBpZiAoaWRbMF0gPT09IFwiI1wiKSB7XG4gICAgICAgICAgICBpZCA9IGlkLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIGRvbUlkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFViAmJiB0aGlzLiQuZG9tLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiRkb21GZXRjaChpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuJGZldGNoVGV4dCgnJGRvbUZldGNoKFwiJyArIGlkICsgJ1wiKScsIHVybCwgZmV0Y2hPcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4ociA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGRvbSA9IGpRdWVyeShyKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9tSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tWzBdLmlkID0gaWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFwcGVuZFRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbS5hcHBlbmRUbyhhcHBlbmRUbylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kLmRvbS4kcmVnaXN0ZXJBc3luYyhpZCwgJyRkb21GZXRjaChcIicgKyBpZCArICdcIiknLCBwcm9taXNlKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2VcbiAgICB9XG5cbiAgICAkZG9tUmVtb3ZlKGlkLCByZWFzb24pIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkZG9tUmVtb3ZlKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgcmVhc29uICYmIEpGYWN0b3J5RXhwZWN0KFwiJGRvbVJlbW92ZShyZWFzb24pXCIsIHJlYXNvbikudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiQuZG9tLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfTUlTU0lORyh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCIkZG9tUmVtb3ZlKGlkKVwiLFxuICAgICAgICAgICAgICAgICAgICBnaXZlbjogaWRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyLGJyYWNlLXN0eWxlXG4gICAgICAgICAgICBpZiAodGhpcy4kLmRvbS5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkKSB7ZGVidWdnZXJ9XG4gICAgICAgICAgICB0aGlzLiQuZG9tLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQgPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZW50cnkgPSB0aGlzLiQuZG9tLmdldChpZCk7XG4gICAgICAgIGxldCB2YWx1ZSA9IGVudHJ5LiR2YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgalF1ZXJ5KSB7XG4gICAgICAgICAgICB2YWx1ZS5yZW1vdmUoKVxuICAgICAgICB9XG4gICAgICAgIGlmIChlbnRyeSBpbnN0YW5jZW9mIEpGYWN0b3J5RmV0Y2gpIHtcbiAgICAgICAgICAgIGVudHJ5LiRjaGFpbkFib3J0KHJlYXNvbiB8fCBcIiRkb21SZW1vdmUoKVwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiQuZG9tLmRlbGV0ZShpZClcbiAgICB9XG5cbiAgICAkZG9tUmVtb3ZlQWxsKHJlbW92ZVBoYXNlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwicmVtb3ZlUGhhc2VcIiwgcmVtb3ZlUGhhc2UpXG4gICAgICAgICAgICAgICAgLmVxdWFsSW4oVHJhaXRTZXJ2aWNlLlBIQVNFUylcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3VicyA9IHRoaXMuJC5kb207XG4gICAgICAgIGlmIChzdWJzLnNpemUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgc3ViXSBvZiBzdWJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1Yi4kcGhhc2VSZW1vdmUgPT09IHJlbW92ZVBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGRvbVJlbW92ZShrZXkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vICBUcmFpdCBDU1Ncbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRDU1Mge1xuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBrZXJuZWwgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMua2VybmVsO1xuICAgICAgICBrZXJuZWwub24oXCJkaXNhYmxlXCIsICgpID0+IHRoaXMuJGNzc1JlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSkpO1xuICAgICAgICBrZXJuZWwub24oXCJ1bmluc3RhbGxcIiwgKCkgPT4gdGhpcy4kY3NzUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEwpKTtcbiAgICAgICAgdGhpcy4kLmFzc2lnbihcImNzc1wiLCB0aGlzLiQuY3JlYXRlU3ViTWFwKCksIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLkVOVU1FUkFCTEUpO1xuICAgIH1cblxuICAgICRjc3MoaWQsIHN0eWxlQm9keSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImNzc1wiLCBzdHlsZUJvZHkpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjc3NJZDtcbiAgICAgICAgaWYgKGlkWzBdID09PSBcIiNcIikge1xuICAgICAgICAgICAgaWQgPSBpZC5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICBjc3NJZCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYgJiYgdGhpcy4kLmNzcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfRFVQTElDQVRFRCh7IHRhcmdldDogXCIkY3NzKGlkKVwiLCBnaXZlbjogaWQgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLiQuY3NzLiRyZWdpc3RlclN5bmMoaWQsXG4gICAgICAgICAgICBqUXVlcnkoXCI8c3R5bGU+XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoY3NzSWQgPyB7IGlkIH0gOiB7fSlcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJqRmFjdG9yeS1jc3NcIilcbiAgICAgICAgICAgICAgICAuaHRtbChzdHlsZUJvZHkpXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKFwiaGVhZFwiKVxuICAgICAgICApLiR2YWx1ZTtcbiAgICB9XG5cbiAgICAkY3NzRmV0Y2goaWQsIHVybCwgYXBwZW5kVG8gPSBcImhlYWRcIikge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcInVybFwiLCB1cmwpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjc3NJZDtcbiAgICAgICAgaWYgKGlkWzBdID09PSBcIiNcIikge1xuICAgICAgICAgICAgaWQgPSBpZC5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICBjc3NJZCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYgJiYgdGhpcy4kLmNzcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfRFVQTElDQVRFRCh7IHRhcmdldDogXCIkY3NzRmV0Y2goaWQpXCIsIGdpdmVuOiBpZCB9KVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRvbTtcbiAgICAgICAgbGV0IHByb21pc2UgPSBuZXcgSkZhY3RvcnlQcm9taXNlKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IGlkLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICAvLyBwcm9taXNlUmVqZWN0SWZFeHBpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjaGFpbkF1dG9Db21wbGV0ZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHJhY2VTb3VyY2U6IGpGYWN0b3J5VHJhY2UudHJhY2VyLmNhcHR1cmVUcmFjZVNvdXJjZShcIiRjc3NGZXRjaFwiKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc29sdmUgPT4gZG9tID0galF1ZXJ5KFwiPGxpbms+XCIsIHsgaWQ6IGNzc0lkID8gaWQgOiBcIlwiLCByZWw6IFwic3R5bGVzaGVldFwiLCB0eXBlOiBcInRleHQvY3NzXCIgfSlcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJqRmFjdG9yeS1jc3NcIilcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oYXBwZW5kVG8pXG4gICAgICAgICAgICAgICAgLm9uKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZG9tKVxuICAgICAgICAgICAgICAgIH0pLmF0dHIoXCJocmVmXCIsIHVybClcbiAgICAgICAgKTtcbiAgICAgICAgcHJvbWlzZS4kY2hhaW4uZGF0YS5kb20gPSBkb207XG4gICAgICAgIHRoaXMuJC5jc3MuJHJlZ2lzdGVyQXN5bmMoaWQsICckY3NzRmV0Y2goXCInICsgaWQgKyAnXCIpJywgcHJvbWlzZSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlXG4gICAgfVxuXG4gICAgJGNzc1JlbW92ZShpZCwgcmVhc29uKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJGNzc1JlbW92ZShpZClcIiwgaWQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIHJlYXNvbiAmJiBKRmFjdG9yeUV4cGVjdChcIiRjc3NSZW1vdmUocmVhc29uKVwiLCByZWFzb24pLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy4kLmNzcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX01JU1NJTkcoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiJGNzc1JlbW92ZShpZClcIixcbiAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IGlkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1kZWJ1Z2dlcixicmFjZS1zdHlsZVxuICAgICAgICAgICAgaWYgKHRoaXMuJC5jc3MuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCkge2RlYnVnZ2VyfVxuICAgICAgICAgICAgdGhpcy4kLmNzcy5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGVudHJ5ID0gdGhpcy4kLmNzcy5nZXQoaWQpO1xuICAgICAgICBsZXQgdmFsdWUgPSBlbnRyeS4kdmFsdWUgfHwgZW50cnkuJGNoYWluICYmIGVudHJ5LiRjaGFpbi5kYXRhLmRvbTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgalF1ZXJ5KSB7XG4gICAgICAgICAgICB2YWx1ZS5yZW1vdmUoKVxuICAgICAgICB9XG4gICAgICAgIGlmIChlbnRyeSBpbnN0YW5jZW9mIEpGYWN0b3J5UHJvbWlzZSkge1xuICAgICAgICAgICAgZW50cnkuJGNoYWluQWJvcnQocmVhc29uIHx8IFwiJGNzc1JlbW92ZSgpXCIpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kLmNzcy5kZWxldGUoaWQpXG4gICAgfVxuXG4gICAgJGNzc1JlbW92ZUFsbChyZW1vdmVQaGFzZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcInJlbW92ZVBoYXNlXCIsIHJlbW92ZVBoYXNlKVxuICAgICAgICAgICAgICAgIC5lcXVhbEluKFRyYWl0U2VydmljZS5QSEFTRVMpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN1YnMgPSB0aGlzLiQuY3NzO1xuICAgICAgICBpZiAoc3Vicy5zaXplKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHN1Yl0gb2Ygc3Vicykge1xuICAgICAgICAgICAgICAgIGlmIChzdWIuJHBoYXNlUmVtb3ZlID09PSByZW1vdmVQaGFzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRjc3NSZW1vdmUoa2V5KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRyYWl0TGliVnVlIHtcbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3Qga2VybmVsID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmtlcm5lbDtcbiAgICAgICAga2VybmVsLm9uKFwiZGlzYWJsZVwiLCAoKSA9PiB0aGlzLiR2dWVSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpKTtcbiAgICAgICAga2VybmVsLm9uKFwidW5pbnN0YWxsXCIsICgpID0+IHRoaXMuJHZ1ZVJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMKSk7XG4gICAgICAgIHRoaXMuJC5hc3NpZ24oXCJ2dWVcIiwgdGhpcy4kLmNyZWF0ZVN1Yk1hcCgpLCBKRmFjdG9yeU9iamVjdC5kZXNjcmlwdG9ycy5FTlVNRVJBQkxFKTtcbiAgICB9XG5cbiAgICAkdnVlKGlkLCB2dWUpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJpZFwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJ2dWVcIiwgdnVlKS50eXBlKE9iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWICYmIHRoaXMuJC52dWUuaGFzKGlkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX0RVUExJQ0FURUQoeyB0YXJnZXQ6IFwiJHZ1ZShpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy4kLnZ1ZS4kcmVnaXN0ZXJTeW5jKGlkLCB2dWUpLiR2YWx1ZTtcbiAgICB9XG5cbiAgICAkdnVlUmVtb3ZlKGlkKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJHZ1ZVJlbW92ZShpZClcIiwgaWQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy4kLnZ1ZS5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX01JU1NJTkcoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiJHZ1ZVJlbW92ZShpZClcIixcbiAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IGlkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1kZWJ1Z2dlcixicmFjZS1zdHlsZVxuICAgICAgICAgICAgaWYgKHRoaXMuJC52dWUuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCkge2RlYnVnZ2VyfVxuICAgICAgICAgICAgdGhpcy4kLnZ1ZS5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGVudHJ5ID0gdGhpcy4kLnZ1ZS5nZXQoaWQpO1xuICAgICAgICBqUXVlcnkoZW50cnkuJHZhbHVlLiRlbCkucmVtb3ZlKCk7XG4gICAgICAgIGVudHJ5LiR2YWx1ZS4kZGVzdHJveSgpO1xuICAgICAgICB0aGlzLiQudnVlLmRlbGV0ZShpZClcbiAgICB9XG5cbiAgICAkdnVlUmVtb3ZlQWxsKHJlbW92ZVBoYXNlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwicmVtb3ZlUGhhc2VcIiwgcmVtb3ZlUGhhc2UpXG4gICAgICAgICAgICAgICAgLmVxdWFsSW4oVHJhaXRTZXJ2aWNlLlBIQVNFUylcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3VicyA9IHRoaXMuJC52dWU7XG4gICAgICAgIGlmIChzdWJzLnNpemUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgc3ViXSBvZiBzdWJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1Yi4kcGhhc2VSZW1vdmUgPT09IHJlbW92ZVBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHZ1ZVJlbW92ZShrZXkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVHJhaXRMaWJSZWFjdCB7XG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGtlcm5lbCA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5rZXJuZWw7XG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgKCkgPT4gdGhpcy4kcmVhY3RSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpKTtcbiAgICAgICAga2VybmVsLm9uKFwidW5pbnN0YWxsXCIsICgpID0+IHRoaXMuJHJlYWN0UmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEwpKTtcbiAgICAgICAgdGhpcy4kLmFzc2lnbihcInJlYWN0XCIsIHRoaXMuJC5jcmVhdGVTdWJNYXAoKSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuRU5VTUVSQUJMRSk7XG4gICAgfVxuXG4gICAgJHJlYWN0KGlkLCBjb250YWluZXIsIGVsZW1lbnQsIC4uLnJlbmRlck90aGVyQXJndW1lbnRzKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIGlmICghakZhY3RvcnkuUmVhY3RET00pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJqRmFjdG9yeS5SZWFjdERPTT1SZWFjdERPTSBtdXN0IGJlIHNldCBiZWZvcmUgdXNpbmcgdGhlIFJlYWN0IFRyYWl0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJpZFwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJjb250YWluZXJcIiwgY29udGFpbmVyKS50eXBlKEhUTUxFbGVtZW50LCBqUXVlcnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFViAmJiB0aGlzLiQucmVhY3QuaGFzKGlkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX0RVUExJQ0FURUQoeyB0YXJnZXQ6IFwiJHJlYWN0KGlkKVwiLCBnaXZlbjogaWQgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRhaW5lciA9IGpRdWVyeShjb250YWluZXIpWzBdO1xuICAgICAgICBsZXQgdmlldyA9IGpGYWN0b3J5LlJlYWN0RE9NLnJlbmRlcihlbGVtZW50LCBjb250YWluZXIsIC4uLnJlbmRlck90aGVyQXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuJC5yZWFjdC4kcmVnaXN0ZXJTeW5jKGlkLCB7IGNvbnRhaW5lciwgdmlldyB9KS4kdmFsdWUudmlldztcbiAgICB9XG5cbiAgICAkcmVhY3RSZW1vdmUoaWQpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkcmVhY3RSZW1vdmUoaWQpXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJC5yZWFjdC5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX01JU1NJTkcoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiJHJlYWN0UmVtb3ZlKGlkKVwiLFxuICAgICAgICAgICAgICAgICAgICBnaXZlbjogaWRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyLGJyYWNlLXN0eWxlXG4gICAgICAgICAgICBpZiAodGhpcy4kLnJlYWN0LmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQpIHtkZWJ1Z2dlcn1cbiAgICAgICAgICAgIHRoaXMuJC5yZWFjdC5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy4kLnJlYWN0LmdldChpZCkuJHZhbHVlO1xuICAgICAgICBsZXQgZWwgPSB2YWx1ZS5jb250YWluZXI7XG4gICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgaWYgKCFqRmFjdG9yeS5SZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKGVsKSkge1xuICAgICAgICAgICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbG9nV2FybihcInVubW91bnRDb21wb25lbnRBdE5vZGUgZmFpbGVkIHRvIHVubW91bnRcIiwgZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGpRdWVyeShlbCkucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kLnJlYWN0LmRlbGV0ZShpZClcbiAgICB9XG5cbiAgICAkcmVhY3RSZW1vdmVBbGwocmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJyZW1vdmVQaGFzZVwiLCByZW1vdmVQaGFzZSlcbiAgICAgICAgICAgICAgICAuZXF1YWxJbihUcmFpdFNlcnZpY2UuUEhBU0VTKVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdWJzID0gdGhpcy4kLnJlYWN0O1xuICAgICAgICBpZiAoc3Vicy5zaXplKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHN1Yl0gb2Ygc3Vicykge1xuICAgICAgICAgICAgICAgIGlmIChzdWIuJHBoYXNlUmVtb3ZlID09PSByZW1vdmVQaGFzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWFjdFJlbW92ZShrZXkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuakZhY3RvcnkuVHJhaXRGZXRjaCA9IFRyYWl0RmV0Y2g7XG5qRmFjdG9yeS5UcmFpdFRpbWVvdXQgPSBUcmFpdFRpbWVvdXQ7XG5qRmFjdG9yeS5UcmFpdEludGVydmFsID0gVHJhaXRJbnRlcnZhbDtcbmpGYWN0b3J5LlRyYWl0TXV0YXRpb24gPSBUcmFpdE11dGF0aW9uO1xuakZhY3RvcnkuVHJhaXRET00gPSBUcmFpdERPTTtcbmpGYWN0b3J5LlRyYWl0Q1NTID0gVHJhaXRDU1M7XG5qRmFjdG9yeS5UcmFpdExpYlZ1ZSA9IFRyYWl0TGliVnVlO1xuakZhY3RvcnkuVHJhaXRMaWJSZWFjdCA9IFRyYWl0TGliUmVhY3Q7IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnkgYnVuZGxlIGluZGV4IChzZWUgcGFja2FnZS5qc29uIHNjcmlwdHMgdG8gY29tcGlsZSB0aGUgL2Rpc3QpXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFVzZWQgYnkgdGhlIGJ1aWxkIHNjcmlwdHMgdG8gY29tcGlsZSBtb2R1bGVzIHRhcmdldGluZyB0aGUgY29uZmlndXJhdGlvbiAocHJvZHVjdGlvbiwgZGV2ZWxvcG1lbnQsIGRlYnVnLi4uKVxuLy8gQWxtb3N0IGV2ZXJ5dGhpbmcgaXMgZXhwb3J0ZWQ7IFRoZSByZXN1bHRpbmcgbW9kdWxlcyBzaG91bGQgYmUgaW1wb3J0ZWQgYnkgYSBidW5kbGVyIHRoYXQgc3VwcG9ydHMgVHJlZSBTaGFja2luZy5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5pbXBvcnQgeyBqRmFjdG9yeUxvYWRlciB9IGZyb20gXCIuL2pGYWN0b3J5LWxvYWRlclwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9qRmFjdG9yeVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2pGYWN0b3J5LXRyYWl0c1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vakZhY3RvcnktbG9hZGVyXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL0pGYWN0b3J5QWJvdXRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0pGYWN0b3J5RXJyb3JcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0pGYWN0b3J5RXZlbnRzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeUV4cGVjdFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlGZXRjaFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlGdW5jdGlvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlMb2dnZXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0pGYWN0b3J5T2JqZWN0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeVByb21pc2VcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0pGYWN0b3J5VGltZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlUcmFjZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlUcmFpdHNcIjtcblxuZXhwb3J0ICogZnJvbSBcIi4vVHJhaXRzQ29yZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vVHJhaXRzQ29tcG9uZW50c1wiO1xuXG4vLyBub2luc3BlY3Rpb24gSlNVbnJlc29sdmVkVmFyaWFibGVcbmlmICh0eXBlb2YgakZhY3RvcnlPdmVycmlkZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhakZhY3RvcnlPdmVycmlkZSkge1xuICAgIGpGYWN0b3J5TG9hZGVyLmluaXQoKTtcbn0iXSwibmFtZXMiOlsiSkZBQ1RPUllfREVWIiwiSkZBQ1RPUllfREVCVUciLCJKRkFDVE9SWV9DTEkiLCJwcm9jZXNzIiwidmVyc2lvbnMiLCJub2RlIiwiakZhY3RvcnlDb25maWciLCJUcmFpdExvZyIsIkpGYWN0b3J5RXJyb3IiLCJrZXlzIiwiSkZhY3RvcnlUcmFjZSIsImxpYk9wdGlvbnMiLCJvZmZsaW5lIiwiQm9vbGVhbiIsImdsb2JhbFRoaXMiLCJjaHJvbWUiLCJmaWx0ZXIiLCJ2YWx1ZSIsImxpbmVOdW1iZXIiLCJqRmFjdG9yeURldiIsInJlcXVpcmVDb21wYXRpYmlsaXR5IiwidGVzdCIsImluZm8iLCJmZXRjaCIsIlJlcXVlc3QiLCJBYm9ydENvbnRyb2xsZXIsIEFib3J0U2lnbmFsIiwiQWJvcnRDb250cm9sbGVyIiwic2lnbmFsIiwiTXV0YXRpb25PYnNlcnZlciIsImpGYWN0b3J5TG9hZGVyIiwic2VxIiwiW29iamVjdCBPYmplY3RdIiwidGhpcyIsIm1vZHVsZSIsImpGYWN0b3J5T3ZlcnJpZGUiLCJoYW5kbGVyIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJuYW1lIiwiZW50cnkiLCJPYmplY3QiLCJlbnRyaWVzIiwicGFzcyIsImlnbm9yZSIsIndhcm4iLCJqRmFjdG9yeUluaXQiLCJvbkluaXQiLCJqUXVlcnkiLCIkIiwiaGVscGVyX2lzTmF0aXZlIiwiXyIsImlzTmF0aXZlIiwiaGVscGVyX2lzU3RyaW5nIiwiaXNTdHJpbmciLCJoZWxwZXJfaXNOdW1iZXIiLCJpc051bWJlciIsImhlbHBlcl9pc1BsYWluT2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsImhlbHBlcl9kZWZhdWx0c0RlZXAiLCJkZWZhdWx0c0RlZXAiLCJoZWxwZXJfbG93ZXJGaXJzdCIsImxvd2VyRmlyc3QiLCJoZWxwZXJfZ2V0IiwiZ2V0IiwiaGVscGVyX3RlbXBsYXRlIiwidGVtcGxhdGUiLCJoZWxwZXJfY2FtZWxDYXNlIiwiY2FtZWxDYXNlIiwiTk9PUCIsInNldEZ1bmN0aW9uTmFtZSIsImYiLCJkZWZpbmVQcm9wZXJ0eSIsIkpGYWN0b3J5VHJhY2VfTk9GSUxURVIiLCJsYWJlbCIsInN0YWNrVHJhY2VMaW1pdCIsIkluZmluaXR5Iiwib21pdEFib3ZlRnVuY3Rpb25OYW1lIiwib21pdFNlbGYiLCJfc3RhY2tUcmFjZUxpbWl0IiwiRXJyb3IiLCJ0cmFjZVNvdXJjZSIsInNvdXJjZSIsInRhcmdldE9iamVjdCIsImNhcHR1cmVUcmFjZVNvdXJjZSIsInRyYWNlIiwidG9QcmludGFibGVUcmFjZSIsInRoZW4iLCJyIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiSkZhY3RvcnlUcmFjZV9MSUJfU1RBQ0tUUkFDRSIsImNvbmZpZyIsInN1cGVyIiwiU3RhY2tUcmFjZSIsImZyb21FcnJvciIsInRyYWNlRnJhbWVzIiwic2xpY2UiLCJmaW5kSW5kZXgiLCJmdW5jdGlvbk5hbWUiLCJlbmRzV2l0aCIsImZvcm1hdFRyYWNlRnJhbWVzIiwiaGVhZGVyIiwibGluZVByZWZpeCIsIndpbmRvdyIsIm1hcCIsInNmIiwidG9TdHJpbmciLCJqb2luIiwiakZhY3RvcnlUcmFjZSIsInVzZSIsImNvbnN0cnVjdG9yIiwidHJhY2VyIiwiYXR0YWNoVHJhY2UiLCJtZXNzYWdlIiwiZGF0YSIsImFzc2lnbiIsImNyZWF0ZSIsInRvUHJpbnRhYmxlIiwiJGRhdGEiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9iamVjdCIsIkRFRkFVTFRfS0VZUyIsImZpbmQiLCJrZXkiLCJ2YWwiLCJ0ZW1wbGF0ZURhdGEiLCJudiIsInVuZGVmaW5lZCIsImdldElkIiwiSlNPTiIsInN0cmluZ2lmeSIsImxlbmd0aCIsIkpTT05fTUFYIiwic3Vic3RyaW5nIiwiZSIsIlN0cmluZyIsInRlbXBsYXRlTWVzc2FnZSIsInBhcnQiLCJzcGxpdCIsInBsYWNlaG9sZGVyIiwiUkVfUExBQ0VIT0xERVIiLCJsYXN0SW5kZXgiLCJleGVjIiwidHJpbSIsInRvUHJpbnRhYmxlRGF0YSIsImpGYWN0b3J5RXJyb3IiLCJQcm94eSIsInNldCIsInRhcmdldCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiSkZhY3RvcnlFeHBlY3QiLCJJTlZBTElEX1ZBTFVFIiwiSU5WQUxJRF9DQUxMIiwiUFJPTUlTRV9FWFBJUkVEIiwiUkVRVUVTVF9FUlJPUiIsIktFWV9EVVBMSUNBVEVEIiwiS0VZX01JU1NJTkciLCJlcnJvciIsInJlYXNvbiIsImdpdmVuIiwic3RhdGljTWV0aG9kcyIsIm5vdFVuZGVmaW5lZCIsIm5vdEVtcHR5U3RyaW5nIiwibm90RmFsc3kiLCJ2YWxpZFNwYWNlcyIsInJlcGxhY2UiLCJtYXRjaFJlZyIsInJlZyIsImV4cGVjdGVkIiwib2siLCJ0eXBlTnVsbCIsInR5cGVCb29sZWFuIiwidHlwZVN0cmluZyIsInR5cGVOdW1iZXIiLCJ0eXBlRnVuY3Rpb24iLCJ0eXBlUGxhaW5PYmplY3QiLCJlcXVhbEluIiwiQXJyYXkiLCJpc0FycmF5IiwidmFsdWVzIiwiaW5jbHVkZXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwid3JpdGFibGUiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJub3RXcml0YWJsZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiY2FsbCIsIm5vdEVudW1lcmFibGUiLCJub3RDb25maWd1cmFibGUiLCJyZXNlcnZlZFByb3BlcnR5IiwiYXJncyIsIkpGYWN0b3J5VHJhaXRzIiwiY2FsbGVySW5zdGFuY2UiLCJjYWxsZXJDb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJ0cmFpdCIsInRyYWl0QXJncyIsImNhY2hlIiwiQ0FDSEUiLCJoYXMiLCJhZGQiLCJXZWFrU2V0IiwiSkZhY3RvcnlUcmFpdCIsImV4cG9ydCIsInRyYWl0SW5zdGFuY2UiLCJ0cmFpdF9jb25zdHJ1Y3RvciIsImFwcGx5IiwiaXNTdGF0aWMiLCJzb3VyY2VEZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsInByb3BlcnR5TmFtZSIsInByZWZpeCIsImdldFByZWZpeCIsImdldFRhcmdldCIsInByb3BlcnR5RGVzY3JpcHRvciIsInBhcnNlZCIsInBhcnNlciIsImRlZmF1bHRQYXJzZXIiLCJFWENMVURFUyIsIldlYWtNYXAiLCJKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXIiLCJoYW5kbGVycyIsImhhbmRsZXJHcm91cHMiLCJoYW5kbGVyR3JvdXAiLCJhcmd1bWVudHMiLCJ1bnNoaWZ0IiwiY29tcG9zZXIiLCJjb21wb3NpdGUiLCJjb250ZXh0IiwiY2FuY2VsZWQiLCJwYXJhbWV0ZXJzIiwiZnJvbSIsInJlc3VsdCIsIml0ZXJhdGlvbiIsIm5leHQiLCJjb21wb3NpdGVfaXRlcmF0b3IiLCJzY29wZSIsImRvbmUiLCJqRmFjdG9yeUZ1bmN0aW9uRXhwaXJhYmxlIiwib3JpZ2luYWxIYW5kbGVyIiwiSkZhY3RvcnlGdW5jdGlvbkV4cGlyYWJsZSIsImNvbXBvc2UiLCJleHBpcmVkQ2FsbHMiLCJleHBpcmVkIiwiaXNFeHBpcmVkIiwiZXhwaXJhYmxlIiwic2V0RXhwaXJlZCIsImFkZEV4cGlyZUNvbmRpdGlvbiIsImNvbmRpdGlvbiIsImxhc3QiLCJ0eXBlIiwiYmluZCIsIm9uRXhwaXJlZCIsIm9uTm90RXhwaXJlZCIsIk1heFdhcm5pbmdFeHBpcmF0aW9uIiwiakZhY3RvcnlGdW5jdGlvbkNvbmRpdGlvbmFsIiwiSkZhY3RvcnlGdW5jdGlvbkNvbmRpdGlvbmFsIiwiZmlyc3QiLCJjb25kaXRpb25hbCIsImFkZENvbmRpdGlvbiIsImhhbmRsZSIsImpGYWN0b3J5RnVuY3Rpb25XcmFwcGFibGUiLCJKRmFjdG9yeUZ1bmN0aW9uV3JhcHBhYmxlIiwid3JhcHBhYmxlIiwiYmVmb3JlQWxsIiwianVzdEJlZm9yZSIsImp1c3RBZnRlciIsImFmdGVyQWxsIiwiakZhY3RvcnlUcmFpdHMiLCJzdGF0ZXMiLCJlbmFibGVkIiwic2VydmljZSIsInBoYXNlIiwib3duZXIiLCIkbG9nRXJyIiwiSkZhY3RvcnlDb3JlT2JqZWN0IiwiaW5qZWN0IiwiakZhY3RvcnkiLCJUcmFpdENvcmUiLCJUcmFpdEFib3V0IiwiVHJhaXRFdmVudHMiLCJUcmFpdFN0YXRlIiwiVHJhaXRTZXJ2aWNlIiwiVHJhaXRUYXNrIiwiSkZhY3RvcnlDb21wb25lbnQiLCJUcmFpdEZldGNoIiwiVHJhaXRET00iLCJUcmFpdENTUyIsIlRyYWl0TXV0YXRpb24iLCJUcmFpdFRpbWVvdXQiLCJUcmFpdEludGVydmFsIiwiVHJhaXRMaWJWdWUiLCJUcmFpdExpYlJlYWN0IiwicHJvcGVydGllcyIsIkpGYWN0b3J5T2JqZWN0IiwiZGVzY3JpcHRvclByb3RvdHlwZSIsIkRFU0NSSVBUT1JTX1BST1RPVFlQRSIsIm8iLCJOT05FIiwiV1JJVEFCTEUiLCJFTlVNRVJBQkxFIiwiQ09ORklHVVJBQkxFIiwiQ09ORklHVVJBQkxFX1dSSVRBQkxFIiwiV1JJVEFCTEVfQ09ORklHVVJBQkxFIiwiQ09ORklHVVJBQkxFX0VOVU1FUkFCTEUiLCJFTlVNRVJBQkxFX0NPTkZJR1VSQUJMRSIsIkVOVU1FUkFCTEVfV1JJVEFCTEUiLCJXUklUQUJMRV9FTlVNRVJBQkxFIiwiV1JJVEFCTEVfRU5VTUVSQUJMRV9DT05GSUdVUkFCTEUiLCJXUklUQUJMRV9DT05GSUdVUkFCTEVfRU5VTUVSQUJMRSIsIkVOVU1FUkFCTEVfQ09ORklHVVJBQkxFX1dSSVRBQkxFIiwiRU5VTUVSQUJMRV9XUklUQUJMRV9DT05GSUdVUkFCTEUiLCJDT05GSUdVUkFCTEVfV1JJVEFCTEVfRU5VTUVSQUJMRSIsIkNPTkZJR1VSQUJMRV9FTlVNRVJBQkxFX1dSSVRBQkxFIiwiUkVBRE9OTFkiLCJkZXNjcmlwdG9yIiwiZGVzY3JpcHRvcnMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZmxhdCIsImRpc2luaGVyaXQiLCJjcmVhdGVEZXNjcmlwdG9ycyIsIm1vZHVsZUdlbklkIiwidWlkIiwiSkZhY3RvcnlBYm91dCIsImFib3V0IiwiZmluZ2VycHJpbnQiLCJ0b0xvd2VyQ2FzZSIsIkpGYWN0b3J5UHJvbWlzZSIsImV4ZWN1dG9yIiwiY2hhaW5JZCIsInJlamVjdCIsIkRFRkFVTFRfQ09ORklHIiwiTnVtYmVyIiwiX3Jlc29sdmUiLCJfcmVqZWN0IiwiY2hhaW4iLCJKRmFjdG9yeVByb21pc2VDaGFpbiIsIiRjaGFpbiIsIiR0eXBlIiwiJHZhbHVlIiwiJGlzU2V0dGxlZCIsIiRpc1JlamVjdGVkIiwiJGlzRnVsZmlsbGVkIiwiJGlzRXhwaXJlZCIsIiRkZXZfbmFtZSIsIiRkZXZfcGF0aCIsIkpGYWN0b3J5UHJvbWlzZVBhdGgiLCIkZGV2X3Bvc2l0aW9uIiwiJGRldl9zb3VyY2UiLCJ0cnlBdXRvQ29tcGxldGUiLCJpc1BlbmRpbmciLCIkY2hhaW5Db21wbGV0ZSIsIm9uUmVzb2x2ZSIsIm9uUmVqZWN0IiwiVHlwZUVycm9yIiwieCIsImNhbGxlZCIsInJlc29sdmVQcm9taXNlIiwieSIsInJlamVjdFByb21pc2UiLCJlcnJvckV4cGlyZWQiLCJvblNldHRsZSIsImNoYWluTWFwIiwiY2hhaW5Db25maWciLCJjaGFpbkF1dG9Db21wbGV0ZSIsInNpemUiLCJfY2hhaW5BdXRvQ29tcGxldGUiLCJfX3Jlc29sdmVfXyIsIl9fcmVqZWN0X18iLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJmb3JjZVR5cGUiLCJ3cmFwcGVkRnVsZmlsbGVkIiwid3JhcHBlZFJlamVjdGVkIiwibmV3UHJvbWlzZSIsInN0YXJ0c1dpdGgiLCJmTmFtZXMiLCJjaGFpbk5hbWUiLCIkZGV2X29uRnVsZmlsbGVkIiwiJGRldl9vblJlamVjdGVkIiwiZm9yY2VFeHBpcmUiLCJjaGFpblJvb3QiLCJvcHRpb25hbEFyZ3MiLCJjb21wbGV0ZSIsInByb21pc2UiLCJNYXAiLCJpc0NvbXBsZXRlZCIsIl9fZGVmZXJyZWRfXyIsIkRlZmVycmVkIiwiaXRlbSIsImkiLCJwcmludGFibGUiLCJ2IiwiSkZhY3RvcnlQcm9taXNlU3luYyIsIkpGYWN0b3J5RXZlbnRzIiwicmVnaXN0cnkiLCJvbkxpc3RlbmVyVXBkYXRlIiwib25PYnNlcnZlclVwZGF0ZSIsImV2ZW50cyIsInNlbGVjdG9yIiwidmFsaWRhdGVTZWxlY3RvciIsIkhUTUxFbGVtZW50Iiwid3JhcHBlZEhhbmRsZXIiLCJvbiIsInN0YWNrIiwib2ZmIiwicGVuZGluZyIsImV2ZW50IiwidHJpZ2dlciIsInRyaWdnZXJIYW5kbGVyIiwiYWxsIiwiYXN5bmMiLCJKRmFjdG9yeUV2ZW50c01hbmFnZXIiLCJwYXJlbnQiLCJhZmZpbGlhdGVSdWxlcyIsImFmZmlsaWF0ZUFkZFJ1bGUiLCJydWxlX25hbWVzcGFjZSIsIm5hbWVzcGFjZXMiLCJKRmFjdG9yeUV2ZW50U2VsZWN0b3JQYXJzZXIiLCJwYXJzZWRFdmVudCIsIm5hbWVzcGFjZSIsImFkZE5hbWVzcGFjZSIsImFmZmlsaWF0ZSIsImFyZ0wiLCJqcXVlcnkiLCJ0cmlnZ2VyU2VyaWVzIiwidHJpZ2dlclBhcmFsbGVsIiwiZWxtIiwiX2RhdGEiLCJ0eXBlcyIsIkpGYWN0b3J5RXZlbnRTZWxlY3RvciIsImhhc05hbWVzcGFjZSIsIl9ldmVudHMiLCJleHBhbmRvIiwiayIsImluZGV4T2YiLCJldmVudFR5cGVFbnRyeSIsInNlbGVjdG9ycyIsInMiLCJTZXQiLCJkZWxldGUiLCJucyIsInNoaWZ0IiwidmFsaWRhdGVFdmVudCIsInZhbGlkYXRlTmFtZXNwYWNlIiwiSkZhY3RvcnlGZXRjaCIsInVybCIsImZldGNoT3B0aW9ucyIsImZldGNoUmVxdWVzdCIsInJlc3BvbnNlIiwiZmV0Y2hSZXNwb25zZSIsInN0YXR1cyIsInN0YXR1c1RleHQiLCIkdHlwZVRleHQiLCJ0ZXh0IiwicmVzcG9uc2VUZXh0IiwiJHR5cGVKU09OIiwianNvbiIsInJlc3BvbnNlSlNPTiIsImNhdGNoIiwiYWJvcnRDdHJsIiwiYWJvcnRDb250cm9sbGVyIiwiZmV0Y2hBYm9ydENvbnRyb2xsZXIiLCIkY2hhaW5BYm9ydCIsImFib3J0IiwiU1lNQk9MX0VOQUJMRUQiLCJKRmFjdG9yeUxvZ2dlciIsIkRFRkFVTFRfQ09ORElUSU9OIiwiaW5zdGFsbEFjY2Vzc29yIiwicGFyZW50TG9nZ2VyIiwiZW5hYmxlIiwiZGlzYWJsZSIsIm5hdGl2ZU5hbWUiLCJmaWx0ZXJzIiwidGFyZ2V0TmFtZSIsImFjY2Vzc29yIiwiZm9ybWF0dGVyIiwic3ViIiwic3R5bGVzX2NzcyIsInN0eWxlc19jbGkiLCJGT1JNQVRURVJfTkFUSVZFIiwibG9nZ2VyIiwiRk9STUFUVEVSX0NMSSIsIkZPUk1BVFRFUl9CUk9XU0VSIiwiZXF1YWwiLCJKRmFjdG9yeVRpbWUiLCJEYXRlIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiZ2V0VVRDTWlsbGlzZWNvbmRzIiwidmFsdWVPZiIsImhvdXJzIiwiZ2V0VVRDSG91cnMiLCJtaW51dGVzIiwiZ2V0VVRDTWludXRlcyIsInNlY29uZHMiLCJnZXRVVENTZWNvbmRzIiwibWlsbGlzZWNvbmRzIiwiYSIsIkpGYWN0b3J5VGltZVRyYWNlIiwiZWxhcHNlZCIsInQxIiwidDAiLCIkdG9EdXJhdGlvblN0cmluZyIsIlN1Yk1hcCIsIiRwaGFzZVJlbW92ZSIsImdldENvbnRleHR1YWxSZW1vdmVQaGFzZSIsInRhc2tOYW1lIiwidGFzayIsIiR0YXNrIiwicHJvdG8iLCJTWU1CT0xfUFJJVkFURSIsImNyZWF0ZVN1Yk1hcCIsInRhc2tzIiwicmVxdWVzdHMiLCJpZCIsImV4ZWN1dG9yT3JWYWx1ZSIsIm1ldHJpY3MiLCIkdGFza01ldHJpY3MiLCIkZGV2X3RpbWluZyIsImVuZCIsIiR0YXNrUmVtb3ZlIiwiX2NhbGxlZCIsInJlbW92ZVBoYXNlIiwiUEhBU0VTIiwiYXV0b0NvbXBsZXRlIiwiYXNzaWduUHJpdmF0ZSIsImN1c3RvbSIsImtlcm5lbCIsImV2ZW50TWFuYWdlciIsImxpc3RlbmVycyIsImdldERvbUxpc3RlbmVycyIsIm9ic2VydmVycyIsImdldE9ic2VydmVycyIsIiR0cmlnZ2VyIiwic3RhdGVSb3V0ZXMiLCIkc3RhdGUiLCJoIiwiYmVmb3JlIiwiJG5vdGlmeSIsImFmdGVyIiwibm90aWZ5IiwicHJldmlvdXNWYWwiLCJQSEFTRSIsInBoYXNlUXVldWUiLCJhc3NpZ25Qcml2YXRlTWVtYmVyIiwiaW5zdGFsbGVkIiwic2V0RXZlbnROYW1lc3BhY2VSZW1vdmVQaGFzZSIsInJlc29sdmVQcm9taXNlcyIsIiR0YXNrUmVtb3ZlQWxsIiwiJHRhc2tQcm9taXNlQWxsIiwiaXNQaGFzZUtpbGxpbmciLCJvbkluc3RhbGwiLCJvbkVuYWJsZSIsIm9uRGlzYWJsZSIsIm9uVW5pbnN0YWxsIiwiJG9mZiIsInJlbW92YWwiLCJESVNBQkxFIiwiVU5JTlNUQUxMIiwiSU5TVEFMTCIsIkVOQUJMRSIsIiRpbnN0YWxsIiwiJGVuYWJsZSIsInBoYXNlS2lsbCIsIiRkaXNhYmxlIiwiJHVuaW5zdGFsbCIsImNvbXBvbmVudCIsInNldFRpbWVvdXQiLCJqRmFjdG9yeUNvcmVPYmplY3QiLCJQSEFTRV9SRVZFUlQiLCJjdXJSZW1vdmVQaGFzZSIsIm5ld1JlbW92ZVBoYXNlIiwiZGVsZXRlTmFtZXNwYWNlIiwiJGZldGNoUmVtb3ZlQWxsIiwiJHJlZ2lzdGVyQXN5bmMiLCIkZmV0Y2hSZW1vdmUiLCIkZmV0Y2giLCJfZGVidWdfcmVtb3ZlX2NhbGxlZCIsInN1YnMiLCIkdGltZW91dFJlbW92ZUFsbCIsImRlbGF5IiwiRnVuY3Rpb24iLCJ0aW1lb3V0cyIsInRpbWVyIiwiJHRpbWVvdXRSZW1vdmUiLCJjbGVhclRpbWVvdXQiLCIkaW50ZXJ2YWxSZW1vdmVBbGwiLCJ0aW1laW50cyIsInNldEludGVydmFsIiwiJHJlZ2lzdGVyU3luYyIsImNsZWFySW50ZXJ2YWwiLCIkaW50ZXJ2YWxSZW1vdmUiLCIkbXV0YXRpb25SZW1vdmVBbGwiLCJEb2N1bWVudCIsIm11dGF0aW9ucyIsIm9ic2VydmVyIiwib2JzZXJ2ZSIsImRpc2Nvbm5lY3QiLCIkbXV0YXRpb25SZW1vdmUiLCIkZG9tUmVtb3ZlQWxsIiwialF1ZXJ5QXJndW1lbnQiLCJhcHBlbmRUbyIsImRvbUlkIiwiZG9tIiwidGFnTmFtZSIsImRvY3VtZW50IiwiaW1wb3J0Tm9kZSIsImNvbnRlbnQiLCJjaGlsZHJlbiIsIiRmZXRjaFRleHQiLCJyZW1vdmUiLCIkZG9tUmVtb3ZlIiwiJGNzc1JlbW92ZUFsbCIsInN0eWxlQm9keSIsImNzc0lkIiwiY3NzIiwiYXR0ciIsImFkZENsYXNzIiwiaHRtbCIsInJlbCIsIiRjc3NSZW1vdmUiLCIkdnVlUmVtb3ZlQWxsIiwidnVlIiwiJGVsIiwiJGRlc3Ryb3kiLCIkdnVlUmVtb3ZlIiwiJHJlYWN0UmVtb3ZlQWxsIiwiY29udGFpbmVyIiwiZWxlbWVudCIsInJlbmRlck90aGVyQXJndW1lbnRzIiwiUmVhY3RET00iLCJyZWFjdCIsInZpZXciLCJyZW5kZXIiLCJlbCIsInVubW91bnRDb21wb25lbnRBdE5vZGUiLCIkbG9nV2FybiIsIiRyZWFjdFJlbW92ZSIsImluaXQiXSwibWFwcGluZ3MiOiI7Ozs7O0FBVVksTUFBQ0EsR0FBNkQsRUFDN0RDLEdBQWlFLEVBQ2pFQyxFQUNVLG9CQUFaQyxTQUEyQkEsUUFBUUMsVUFBWUQsUUFBUUMsU0FBU0MsS0FHOURDLEVBQWlCLENBQzFCQyxVQUEyQkwsSUFOK0MsRUFPMUVNLGNBQWUsQ0FDWEMsS0FBTSxDQUFDLGVBQWdCLFlBQWEsUUFBUyxPQUFRLE9BRXpEQyxlQUFnQ1IsR0FDekIsQ0FDQ08sS0FBTSxDQUFDLGdCQUFpQixvQkFDeEJFLFdBQVksQ0FDUkMsUUFBU0MsUUFBUUMsV0FBV0MsUUFDNUJDLE9BQVEsU0FBU0MsR0FDYixPQUFPQSxFQUFNQyxjQUs3QkMsWUFDTyxDQUNDQyxxQkFBc0IsQ0FDbEJOLFdBQVksQ0FDUk8sS0FBTSxJQUFNUCxXQUNaUSxLQUFNLHlGQUVWQyxNQUFPLENBQ0hGLEtBQU0sSUFBTUUsTUFDWkQsS0FBTSxvRUFFVkUsUUFBUyxDQUNMSCxLQUFNLElBQU1HLFFBQ1pGLEtBQU0sc0RBRVZHLCtCQUFnQyxDQUM1QkosS0FBTSxLQUFNLElBQUlLLGlCQUFrQkMsT0FDbENMLEtBQU0sc0hBR1ZNLGlCQUFrQixDQUNkUCxLQUFNLElBQU1PLGlCQUNaTixLQUFNLGtFQzVDYk8sRUFBaUIsQ0FDMUJDLElBQUssR0FDTEMsT0FDSSxHQUFJQyxLQUFLRixJQUFLLENBQ1YsSUFBSUEsRUFBTUUs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
