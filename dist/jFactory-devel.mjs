import e from"lodash";import t from"jquery";
/*!
 * jFactory, Copyright (c) 2019, StÃ©phane Plazis
 * https://github.com/jfactory-es/jfactory/blob/master/LICENSE.txt
 */
const s=!0,i=!1,r="undefined"!=typeof process&&process.versions&&process.versions.node,n={TraitLog:!r||!1,JFactoryError:{keys:["$.about.name","$dev_name","$name","name","id"]},JFactoryTrace:!r&&{keys:["$dev_traceLog","$dev_traceSource"],libOptions:{offline:Boolean(globalThis.chrome),filter:function(e){return e.lineNumber}}},jFactoryDev:{requireCompatibility:{globalThis:{test:()=>globalThis,info:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/globalThis"},fetch:{test:()=>fetch,info:"https://developer.mozilla.org/docs/Web/API/Fetch_API/Using_Fetch"},Request:{test:()=>Request,info:"https://developer.mozilla.org/docs/Web/API/Request"},"AbortController, AbortSignal":{test:()=>(new AbortController).signal,info:"https://developer.mozilla.org/docs/Web/API/AbortController, https://developer.mozilla.org/docs/Web/API/AbortSignal"},MutationObserver:{test:()=>MutationObserver,info:"https://developer.mozilla.org/docs/Web/API/MutationObserver"}}}},a={seq:[],init(){if(this.seq){let e=this.seq;delete this.seq;for(let t of e)t();delete globalThis.jFactoryOverride}},onInit(e){this.seq.push(e)}};function o(){console.log("jFactory is running in development mode.\nPerformances will be affected.");for(let[e,t]of Object.entries(n.jFactoryDev.requireCompatibility)){let s;try{s=Boolean(t.test())}catch(e){}s||console.warn(`jFactory may require the support of "${e}", ${t.info}`)}}function l(){!n.TraitLog&&console.warn("jFactory: LOGS REMOVED")}a.onInit(o),a.onInit(l);const c=t,h=e.isNative,u=e.isString,p=e.isNumber,d=e.isPlainObject,m=e.defaultsDeep,f=e.lowerFirst,$=e.get,g=e.template,v=e.camelCase,b=e=>(b.a.href=e,b.a.href);b.a=document.createElement("a");const E=()=>{},A=(e,t)=>Object.defineProperty(t,"name",{value:e});class S{constructor({label:e,stackTraceLimit:t,keys:s,libOptions:i}={}){this.label=e||"The stack has been printed in the console",this.stackTraceLimit=t||1/0,this.keys=s||["stackLog","stackSource"],this.libOptions=i||{}}captureTraceSource(e,t){let s;this.stackTraceLimit&&(s=Error.stackTraceLimit,Error.stackTraceLimit=this.stackTraceLimit),e||(e="captureTraceSource",t=!0);let i={source:new Error,omitAboveFunctionName:e,omitSelf:t};return this.stackTraceLimit&&(Error.stackTraceLimit=s),i}attachTrace(e,t){"object"!=typeof t&&(t=this.captureTraceSource(t||"attachTrace",!t));let s=t.source;this.toPrintableTrace(t).then(e=>s=e);let i=()=>console.log(s)||this.label;Object.defineProperty(e,this.keys[0],{enumerable:!1,configurable:!0,get:()=>i()}),Object.defineProperty(e,this.keys[1],{enumerable:!1,configurable:!0,get:()=>t})}toPrintableTrace(e){return Promise.resolve(e.source)}}class y extends S{constructor(e){super(e)}toPrintableTrace(e){return StackTrace.fromError(e.source,this.libOptions).then(t=>{if(e.omitAboveFunctionName){let s=t.findIndex(t=>t.functionName&&t.functionName.endsWith(e.omitAboveFunctionName));s>0&&(e.omitSelf&&s++,t=t.slice(s))}return t=t.filter(this.libOptions.filter),this.formatTraceFrames(t)})}formatTraceFrames(e){let t,s;return this.libOptions.offline&&window.chrome?(t="Error\n",s="\tat "):(t="",s=""),t+e.map(e=>s+e.toString()).join("\n")}}const R={};a.onInit((function(){let e=n.JFactoryTrace;if(e&&!1!==e.use){let t;t="function"==typeof e.use?e.use:"object"==typeof StackTrace?y:S,t===y&&console.warn("jFactory: Stack trace enabled; Performance will be affected"),R.tracer=new t(e)}else R.tracer={captureTraceSource:E,attachTrace:E}}));class L extends Error{constructor(e="unspecified error",t=null){t=Object.assign(Object.create(null),t),super(e=L.toPrintable(e,t)),this.$data=Object.assign(Object.create(null),t)}toString(){return this.message}*[Symbol.iterator](){yield this.message,yield this.$data}static getId(e){return e[(n.JFactoryError.keys||L.DEFAULT_KEYS).find(t=>{let s=$(e,t);return s||0===s})]}static toPrintableData(e){const t={};let s;for(let[i,r]of Object.entries(e)){switch(typeof r){case"function":r=r.name+"()";break;case"object":if(null===r){r="null";break}if(r instanceof Error){r=r.toString();break}if(void 0!==(s=L.getId(r)))r='"'+s+'"';else if(h(r.toString))try{s=JSON.stringify(r),r=s.length>L.JSON_MAX?s.substring(0,L.JSON_MAX)+"[...]":s}catch(e){r="[object "+r.constructor.name+"]"}else r=r.toString();break;case"string":r='"'+r+'"';break;default:r=String(r)}t[i]=r}return t}static toPrintable(e,t){const s=[];for(let i of e.split(";")){let e,r=L.RE_PLACEHOLDER;if(r.lastIndex=0,e=r.exec(i)){do{if(e[1]&&e[1]in t){s.push(i.trim());break}}while(null!==(e=r.exec(i)))}else s.push(i.trim())}return f(g(s.join("; "))(L.toPrintableData(t)))}}L.JSON_MAX=40,L.DEFAULT_KEYS=["name","id"],L.RE_PLACEHOLDER=/\${([^}]+)}/g;let _=new Proxy(L,{set:function(e,t,s){let{template:i}=s;if(e[t])throw new Error("already declared");return e[t]=class extends L{constructor(e,t){super(i,e),R.tracer.attachTrace(this.$data,t)}},e[t].prototype.name="Error jFactoryError."+t,!0}});function w(e,t){if(!new.target)return new w(e,t);this.label=e,this.value=t}_.INVALID_VALUE={template:"invalid value for ${target}; Reason: ${reason}; Given: ${given}"},_.INVALID_CALL={template:"invalid call ${target}; Reason: ${reason}; Owner: ${owner}"},_.PROMISE_EXPIRED={template:"expired promise ${target}; Reason: ${reason}"},_.REQUEST_ERROR={template:"error requesting ${target}; Reason: ${reason}; Owner: ${owner}"},_.KEY_DUPLICATED={template:"duplicated key for ${target}; Given: ${given}"},_.KEY_MISSING={template:"missing key for ${target}; Given: ${given}"};const O=function(e,t,s){throw new _.INVALID_VALUE({target:e,reason:s,given:t})},T={notUndefined:(e,t)=>(void 0===t&&O(e,t,"cannot be undefined"),!0),notEmptyString:(e,t)=>(""===t&&O(e,t,"cannot be empty string"),!0),notFalsy:(e,t)=>(t||O(e,t,'cannot be a falsy value (undefined, null, NaN, 0, "")'),!0),validSpaces:(e,t)=>(t.replace&&t.replace(/\s+/g," ").trim()===t||O(e,t,"invalid space delimiters"),!0),matchReg:(e,t,s)=>(s.test(t)||O(e,t,'string "'+t+'" must match '+s),!0),type(e,t,...s){let i,r=!1;for(let n of s){null===n?i="Null":"name"in n&&(i=n.name);let s=T["type"+i];if(s)try{r=s(e,t)}catch(e){}else r=t instanceof n;if(r)break}return r||O(e,t,"must be an instance of ["+s.map(e=>e.name).join(", ")+"]"),!0},typeNull:(e,t)=>(null!==t&&O(e,t,"must be null"),!0),typeBoolean:(e,t)=>(!0!==t&&!1!==t&&O(e,t,"must be a boolean"),!0),typeString:(e,t)=>(u(t)||O(e,t,"must be a string"),!0),typeNumber:(e,t)=>(p(t)||O(e,t,"must be a number"),!0),typeFunction:(e,t)=>("function"!=typeof t&&O(e,t,"must be a function"),!0),typePlainObject:(e,t)=>(d(t)||O(e,t,"must be a plain object"),!0),equal(e,t,...s){let i=!1;for(let e of s)if(i=t===e)break;return i||O(e,t,"must be one of ["+s+"]"),!0},equalIn:(e,t,s)=>(Array.isArray(s)||(s=Object.values(s)),s.includes(t)||O(e,t,"must be one from ["+s.join(", ")+"]"),!0),properties(e,t,s){for(let i of Object.getOwnPropertyNames(t))w(e+', property name "'+i+'"',i).equalIn(s);return!0},writable:(e,t,s)=>(Object.getOwnPropertyDescriptor(t,s).writable||O(e,t,"must be writable"),!0),notWritable:(e,t,s)=>(Object.getOwnPropertyDescriptor(t,s).writable&&O(e,t,"must not be writable"),!0),enumerable:(e,t,s)=>(Object.prototype.propertyIsEnumerable.call(t,s)||O(e,t,"must be enumerable"),!0),notEnumerable:(e,t,s)=>(Object.prototype.propertyIsEnumerable.call(t,s)&&O(e,t,"must not be enumerable"),!0),configurable:(e,t,s)=>(Object.getOwnPropertyDescriptor(t,s).configurable||O(e,t,"must be configurable"),!0),notConfigurable:(e,t,s)=>(Object.getOwnPropertyDescriptor(t,s).configurable&&O(e,t,"must not be configurable"),!0),reservedProperty:(e,t,s)=>(s in t&&O(e,t,"is a reserved property"),!0)};a.onInit((function(){Object.assign(w,T);for(const e of Object.getOwnPropertyNames(T))w.prototype[e]=function(...t){return w[e](this.label,this.value,...t),this}}));class P{constructor(e,t,s={}){this.callerInstance=e,this.callerConstructor=t,this.options=s}use(e,...t){w("JFactoryTraits(trait)",e).typeFunction();let{callerInstance:s,callerConstructor:i}=this,r=P.CACHE.get(s);if(r){if(r.has(e))return n.TraitLog&&console.warn(`${e.name} already called on`,s),this;r.add(e)}else P.CACHE.set(s,new WeakSet([e]));!i.JFactoryTrait&&(i.JFactoryTrait=new WeakSet),i.JFactoryTrait.has(e)||(i.JFactoryTrait.add(e),this.export(e.prototype,i.prototype),this.export(e,i,!0));let a=new e(s,...t);return a.trait_constructor&&a.trait_constructor.apply(s,t),this}export(e,t,s){let i=Object.getOwnPropertyDescriptors(e);for(let r of Object.keys(i)){let n=P.getPrefix(r);if(P.getTarget(r,t,n)){let n=i[r],a=(this.options.parser||P.defaultParser)(r,n,e,t,s);a&&(({propertyName:r,propertyDescriptor:n}=a),Object.defineProperty(t,r,n))}}}static defaultParser(e,t,s,i,r){let a=t.value;return r?null:e in i?(n.TraitLog&&console.warn(`${i.constructor.name}> skipping export of existing property "${e}"`,a),null):"object"==typeof a?(n.TraitLog&&console.warn(`${i.constructor.name}> skipping export of shared object "${e}"`,a),null):{propertyName:e,propertyDescriptor:t}}static getPrefix(e){let t=e.split("_");return t.length>1?t[0]:null}static getTarget(e,t,s){return P.EXCLUDES.includes(e)||"trait"===s?null:t}}P.CACHE=new WeakMap,P.EXCLUDES=["constructor","prototype","length","size"];class I{constructor(){this.handlers=Object.create(null)}*[Symbol.iterator](e=[]){e.length||(e=Object.keys(this.handlers)),e.length||(e=["default"]);for(let t of e)t in this.handlers&&(yield*this.handlers[t])}first(e,t){return 1===arguments.length&&([e,t]=["default",e]),(this.handlers[e]||(this.handlers[e]=[])).unshift(t),this}last(e,t){return 1===arguments.length&&([e,t]=["default",e]),(this.handlers[e]||(this.handlers[e]=[])).push(t),this}compose(...e){let t=this,s=function(){let s={canceled:!1,parameters:Array.from(arguments),result:void 0},i=t[Symbol.iterator](e),r=i.next();return I.composite_iterator(this,s,r,i)};return s.composer=t,s}static composite_iterator(e,t,s,i){let r,n;for(;!t.canceled&&!s.done;)if(r=s.value,n=e?r.call(e,t,...t.parameters):r(t,...t.parameters),s=i.next(),n instanceof Promise){if(!s.done||n.constructor===Promise)return n.then(A([r.name,"[compositeAsyncHandler]"].filter(Boolean).join(" "),(function(r){return t.result=r,I.composite_iterator(e,t,s,i)})));t.result=n}else t.result=n;return t.result}}function N(e){return new j(e).compose()}class j{constructor(e){this.originalHandler=e,this.expiredCalls=0,this.composer=new I;let t,s=this.composer.compose("conditions"),i=this;this.isExpired=e=>t||s.call(e)||!1,this.setExpired=e=>t=e?e instanceof Error?e:new _.INVALID_CALL({target:this.originalHandler,reason:"manually expired"}):Boolean(this.expiredCalls=0),this.addExpireCondition=function(e){this.composer.last("conditions",(function(t){let s=function(s){return w("JFactoryFunctionExpirable.addExpireCondition(), result",s).type(Boolean,Error),i.setExpired(!!s&&((t.canceled=!0)&&(s instanceof Error?s:new _.INVALID_CALL({target:i.originalHandler,reason:"conditionally expired",condition:e}))))},r=e.apply(this,t.parameters);return r instanceof Promise?r.then(s):s(r)}))}}compose(){let e=this,t=function(){let t=e.isExpired(this),s=e.constructor.call.bind(void 0,e,this,arguments);return t instanceof Promise?t.then(s):s(t)};return Object.assign(t,{expirable:this,isExpired:e=>this.isExpired(e),setExpired:e=>this.setExpired(e),addExpireCondition:e=>(this.addExpireCondition(e),t)})}static call(e,t,s,i){return i?e.onExpired(i):e.onNotExpired(t,s)}onExpired(e){return this.expiredCalls<j.MaxWarningExpiration&&(this.expiredCalls++,n.TraitLog&&console.warn(...new _.INVALID_CALL({...e.$data,reason:e.$data.reason+"; expiredCalls="+this.expiredCalls+(this.expiredCalls===j.MaxWarningExpiration?"; Max Warning Exceeded":"")}))),e}onNotExpired(e,t){return this.originalHandler.apply(e,t)}}function M(e){return new C(e).compose()}j.MaxWarningExpiration=10;class C{constructor(e){this.originalHandler=e,this.composer=new I,this.composer.first("original",A([e.name,"[condition]"].filter(Boolean).join(" "),(function(t){return e.apply(this,t.parameters)})))}compose(){let e=this.composer.compose("conditions","original");return Object.assign(e,{conditional:this,addCondition:t=>(this.addCondition(t),e)})}addCondition(e){this.composer.last("conditions",(function(t){let s=function(e){w("JFactoryFunctionConditional.addCondition(), result",e).typeBoolean(),!e&&(t.canceled=!0)},i=e.apply(this,t.parameters);return i instanceof Promise?i.then(s):s(i)}))}}function k(e){return new D(e).compose()}class D{constructor(e){this.originalHandler=e,this.composer=new I,this.composer.first("original",A([e.name,"[wrapped]"].filter(Boolean).join(" "),(function(t){return e.apply(this,t.parameters)})))}compose(){let e=this.composer.compose("before","original","after");return Object.assign(e,{wrappable:this,beforeAll:t=>(this.beforeAll(t),e),justBefore:t=>(this.justBefore(t),e),justAfter:t=>(this.justAfter(t),e),afterAll:t=>(this.afterAll(t),e)})}beforeAll(e){this.composer.first("before",e)}justBefore(e){this.composer.last("before",e)}justAfter(e){this.composer.first("after",e)}afterAll(e){this.composer.last("after",e)}}function F(e,t){return new P(e,t,{parser(e,t){let s=P.defaultParser(...arguments);if(s){({propertyName:e,propertyDescriptor:t}=s);let i=t.value;if("function"==typeof i)switch(i.name){case"$install":case"$uninstall":case"$enable":case"$disable":case"$state":break;default:t.value=k(i).beforeAll((function(){if(!this.$.states.enabled&&"PHASE_NONE"===this.$.service.phase){let e=new _.INVALID_CALL({owner:this,target:i,reason:"component disabled"});throw this.$logErr(...e),e}}))}return{propertyName:e,propertyDescriptor:t}}}})}class U{constructor(e){U.inject(this,U,e)}static inject(e,t,s){F(e,t).use(H.TraitCore).use(H.TraitAbout,{name:s}).use(H.TraitLog).use(H.TraitEvents).use(H.TraitState).use(H.TraitService).use(H.TraitTask)}}class B extends U{constructor(e){super(e),B.inject(this,B)}static inject(e,t){F(e,t).use(H.TraitFetch).use(H.TraitDOM).use(H.TraitCSS).use(H.TraitMutation).use(H.TraitTimeout).use(H.TraitInterval).use(H.TraitLibVue).use(H.TraitLibReact)}}const H=(e,t)=>Object.assign(new B(e),t);class V{static createDescriptors(e=V.DESCRIPTORS_PROTOTYPE){let t=V.create(e,!0,!0),s=Object.create(null);return s.NONE=t(),s.WRITABLE=t({writable:!0}),s.ENUMERABLE=t({enumerable:!0}),s.CONFIGURABLE=t({configurable:!0}),s.CONFIGURABLE_WRITABLE=s.WRITABLE_CONFIGURABLE=t({writable:!0,configurable:!0}),s.CONFIGURABLE_ENUMERABLE=s.ENUMERABLE_CONFIGURABLE=t({enumerable:!0,configurable:!0}),s.ENUMERABLE_WRITABLE=s.WRITABLE_ENUMERABLE=t({writable:!0,enumerable:!0}),s.WRITABLE_ENUMERABLE_CONFIGURABLE=s.WRITABLE_CONFIGURABLE_ENUMERABLE=s.ENUMERABLE_CONFIGURABLE_WRITABLE=s.ENUMERABLE_WRITABLE_CONFIGURABLE=s.CONFIGURABLE_WRITABLE_ENUMERABLE=s.CONFIGURABLE_ENUMERABLE_WRITABLE=t({writable:!0,enumerable:!0,configurable:!0}),s.READONLY=t({writable:!1,enumerable:!1,configurable:!1}),s}static assign(e,t,s,i){let r={};switch(typeof t){case"string":case"symbol":if(!i)throw new Error("missing descriptor argument; use Object.assign instead");(i=Object.create(i)).value=s,Object.defineProperty(e,t,i);break;case"object":if([s,i]=[t,s],!i)throw new Error("missing descriptor argument; use Object.assign instead");for(let e of Object.getOwnPropertyNames(s))r[e]=Object.create(i),r[e].value=s[e];for(let e of Object.getOwnPropertySymbols(s))r[e]=Object.create(i),r[e].value=s[e];Object.defineProperties(e,r);break;default:throw new Error("invalid property argument")}return e}static create(e,t=!1,s=!1){return function(i){return t?Object.assign(s?Object.create(null):{},e,i):Object.assign(Object.create(s?Object.assign(Object.create(null),e):e),i)}}static disinherit(e){return Object.assign(Object.create(null),e)}}V.DESCRIPTORS_PROTOTYPE={writable:!1,enumerable:!1,configurable:!1},a.onInit((function(){V.descriptors=V.createDescriptors()}));const Y=()=>++Y.uid;Y.uid=0;class q{constructor(e,t={}){let s,i;w("JFactoryAbout(owner)",e).type(Object),w("JFactoryAbout(about)",t).typePlainObject().reservedProperty("uid").reservedProperty("fingerprint"),"name"in t&&w("JFactoryAbout(about.name)",t.name).typeString().notEmptyString();let r=Y();t.name?(s=t.name,delete t.name,i="jFactory_"+v(s.toLowerCase())+"_"+r):(delete t.name,s=`[${e.constructor.name}#${r}]`,i="jFactory_"+e.constructor.name+"_"+r),V.assign(this,{uid:r,name:s,fingerprint:i},V.descriptors.ENUMERABLE),Object.assign(this,t),w("JFactoryAbout.name",this.name).matchReg(/^[\w[\]#]+$/),w("JFactoryAbout.fingerprint",this.fingerprint).matchReg(/^[\w]+$/)}}const J=()=>++J.uid;J.uid=0;class W extends Promise{constructor({name:e,config:t,traceSource:s},i){1===arguments.length&&([e,t,i]=[null,null,arguments[0]]);const r=J();let n,a;t={...W.DEFAULT_CONFIG,...t},w("name",e=e||"unnamed").type(String,Number).matchReg(/^[^. ]+$/),w("config",t).typePlainObject(),w("executor",i).typeFunction(),super((e,t)=>{n=e,a=t});const o=new G(this,r,e,t);Object.defineProperties(this,{$chain:{enumerable:!0,writable:!0,value:o},$type:{writable:!0,value:"promise"},$value:{writable:!0,value:void 0},$isSettled:{writable:!0,value:!1},$isRejected:{writable:!0,value:null},$isFulfilled:{writable:!0,value:null},$isExpired:{writable:!0,value:!1},$isAborted:{writable:!0,value:!1}}),Object.defineProperties(this,{$dev_name:{configurable:!0,value:e+"["+r+":0]"},$dev_path:{writable:!0,value:new K(this)},$dev_position:{writable:!0,value:0}}),h(i)||Object.defineProperties(this,{$dev_source:{value:i}}),R.tracer.attachTrace(this,s);const l=()=>{if(!this.$chain.isPending)try{this.$chainComplete("auto-completed")}catch(e){console.error(e)}},c=e=>{if(!this.$isSettled){if(e===this)return void u(new TypeError("Chaining cycle detected for promise "+this.$dev_name));let t;if(null!==e&&("object"==typeof e||"function"==typeof x))try{t=e.then}catch(e){return void u(e)}if("function"==typeof t){let s=!1,i=function(e){s||(s=!0,c(e))},r=function(e){s||(s=!0,u(e))};try{t.call(e,i,r)}catch(e){s||u(e)}}else this.$isRejected=!1,this.$isFulfilled=!0,this.$isExpired&&(e=this.$chain.errorExpired),n(e),p(e)}},u=e=>{this.$isSettled||(this.$isRejected=!0,this.$isFulfilled=!1,a(e),p(e))},p=e=>{this.$value=e,this.$isSettled=!0,this.$chain.chainMap.set(this,!0),this.$chain.chainConfig.chainAutoComplete&&(1!==this.$chain.chainMap.size||this.$isExpired?l():this.then(l))};let d=t.chainAutoComplete;Object.defineProperty(t,"chainAutoComplete",{get:()=>d,set:e=>{d!==e&&(d=e,e&&l())}}),o.chainMap.set(this,!1),Object.defineProperties(this,{__resolve__:{value:c},__reject__:{value:u}});try{i(c,u)}catch(e){u(e)}}then(e,t,s){let i,r,n,a=h(e)&&!e.name.startsWith("bound ");e&&"function"==typeof e&&(i=function(s){return"await"===o?n.$isAborted?t(n.$chain.errorExpired):e(s):n.$isExpired?void 0:(n.$isSettled,e(s))}),t&&"function"==typeof t&&(r=function(e){return n.$isSettled,t(e)});let o=s||(a?"await":void 0===e?"catch":"then");n=Object.assign(super.then(i,r),this),J.uid--,n.$type=o;{n.$dev_position=this.$chain.chainMap.size;let s="";e&&e.name&&(s+=e.name),t&&t.name&&(s+=","+t.name),Object.defineProperties(n,{$dev_name:{value:this.$chain.chainName+"["+this.$chain.chainId+":"+this.$dev_position+"]."+n.$type+(s?"("+s+")":"")+"["+n.$chain.chainId+":"+n.$dev_position+"]"},$dev_path:{value:new K(this.$dev_path,n)},$dev_onFulfilled:{value:e},$dev_onRejected:{value:t}})}return n.$chain.chainMap.set(n,!1),this.$isExpired&&W.setExpired(n,!0,!this.$isAborted,this.$chain.errorExpired),n}$catchExpired(e){return this.then(t=>this.$chain.chainRoot.$isExpired?e(t):t,void 0,"$catchExpired")}static resolve(e,t){return 1===arguments.length&&([e,t]=[{},e]),e||(e={}),t instanceof this&&1===arguments.length?t:new this(e,(function(e){e(t)}))}static reject(e,t){return 1===arguments.length&&([e,t]=[{},e]),e||(e={}),new this(e,(function(e,s){s(t)}))}$toPromise(){return Promise.resolve(this)}$chainAbort(e="$chainAbort()"){return this.$chain.complete(e,!0),this}$chainComplete(e="$chainComplete()"){try{this.$chain.complete(e,!1)}catch(e){throw e instanceof _.INVALID_CALL?new _.INVALID_CALL({target:e.$data.target,reason:"Trying to complete a pending chain. Use $chainAbort() if you want to stop it."}):e}return this}$chainAutoComplete(){return this.$chain.chainConfig.chainAutoComplete=!0,this}static setExpired(e,t,s,i){if(!e.$isSettled){if(!t)throw new _.INVALID_CALL({target:e,reason:"promise must be aborted or settled before setting it to expired."});e.$isAborted=!s,e.__resolve__(i)}e.$isExpired=!0}}W.DEFAULT_CONFIG={chainAutoComplete:!1};class G{constructor(e,t,s,i){Object.defineProperties(this,{chainConfig:{value:i},chainRoot:{value:e},chainId:{value:t},chainName:{value:s},chainMap:{value:new Map},isCompleted:{value:!1,configurable:!0},data:{value:{}},__deferred__:{value:c.Deferred()}})}get isPending(){return Array.from(this.chainMap.values()).includes(!1)}then(e){return this.__deferred__.done(e),this}complete(e="chain.complete()",t){let s=this.chainRoot;if(!s.$isExpired){let i=s.$chain.errorExpired=new _.PROMISE_EXPIRED({target:s,reason:e}),r=this.chainMap;for(let e of r.keys())W.setExpired(e,t,!1,i);Object.defineProperty(this,"isCompleted",{value:!0}),this.__deferred__.resolve()}return this}}class K extends Array{constructor(){super();for(let e of arguments)Array.isArray(e)?this.push(...e):this.push(e)}get printable(){return this.map((e,t)=>0===t?e.$dev_name:e.$dev_name.split(".")[1]).join(".")}toString(){return this.printable}}class z extends Promise{constructor(e){let t={$isSettled:!1,$isRejected:null,$value:void 0};super((s,i)=>{let r=!1,n=e=>{e instanceof Promise?z.resolve(e).then(n,a):r||(r=!0,t.$isSettled=!0,t.$isRejected=!1,t.$value=e,s(e))},a=e=>{r||(r=!0,t.$isSettled=!0,t.$isRejected=!0,t.$value=e,i(e))};try{e(n,a)}catch(e){a(e)}}),Object.assign(this,t),t=this}then(e,t){if(this.$isSettled){let s=this.$value;try{if(this.$isRejected){if(super.then(void 0,()=>null),!t||"function"!=typeof t)return z.reject(s);s=t(s)}else e&&"function"==typeof e&&(s=e(s))}catch(e){return z.reject(e)}return z.resolve(s)}return super.then(e,t)}static resolve(e){return e instanceof z?e:new z(e instanceof Promise?e.then.bind(e):t=>t(e))}}class Q{constructor(){Object.defineProperties(this,{registry:{value:c(Object.create(null))},handlers:{value:new WeakMap},onListenerUpdate:{value:null,writable:!0},onObserverUpdate:{value:null,writable:!0}})}on({events:e,handler:t,target:s,selector:i}){Q.validateSelector(e),w("JFactoryEvents.on({handler})",t).typeFunction(),s&&w("JFactoryEvents.on({target})",s).type(String,c,HTMLElement),i&&w("JFactoryEvents.on({selector})",s).typeString();let r=this.handlers.get(t);s?(r||this.handlers.set(t,!0),i?c(s).on(e,i,t):c(s).on(e,t),this.onListenerUpdate&&this.onListenerUpdate(arguments)):(r||(this.handlers.set(t,r=function(e,{data:s,stack:i}){i.push(()=>t(e,s))}),r.originalHandler=t),this.registry.on(e,r),this.onObserverUpdate&&this.onObserverUpdate(arguments))}off({events:e,handler:t,target:s,selector:i}){if(void 0!==e&&(Q.validateSelector(e),t&&w("JFactoryEvents.off({handler})",t).typeFunction(),s&&w("JFactoryEvents.off({target})",s).type(String,c,HTMLElement),i&&w("JFactoryEvents.off({selector})",s).typeString()),s)i?c(s).off(e,i,t):c(s).off(e,t);else{if(c("*").off(e,t),t&&!(t=this.handlers.get(t)))throw new _.INVALID_VALUE({target:"handler",reason:"not registered",given:t});this.registry.off(e,t)}this.onObserverUpdate&&this.onObserverUpdate(arguments),this.onListenerUpdate&&this.onListenerUpdate(arguments)}triggerParallel({events:e,data:t,target:s}){Q.validateSelector(e),s&&w("JFactoryEvents.triggerParallel({target})",s).type(String,c,HTMLElement);const i=[],r=[];if(e=e.split(" "),s)for(let r of e)c(s).trigger(r,{data:t,stack:i});else for(let s of e)this.registry.triggerHandler(s,{data:t,stack:i});for(let e of i){let t=e();t instanceof Promise&&!t.$isSettled&&r.push(t)}return r.length?Promise.all(r):z.resolve()}triggerSeries({events:e,data:t,target:s}){return Q.validateSelector(e),s&&w("JFactoryEvents.triggerSeries({target})",s).type(String,c,HTMLElement),new z(async i=>{const r=[];if(e=e.split(" "),s)for(let i of e)c(s).trigger(i,{data:t,stack:r});else for(let s of e)this.registry.triggerHandler(s,{data:t,stack:r});for(let e of r){let t=e();t instanceof Promise&&!t.$isSettled&&await t}i()})}}class X extends Q{constructor(e){super(),Object.defineProperties(this,{parent:{value:e},affiliateRules:{value:(new I).compose()}}),this.affiliateAddRule(X.rule_namespace)}affiliate(e="",t="",s){let i=new Z(e);for(let e of i.events)this.affiliateRules(e,t,s);return i.toString()}affiliateAddRule(e){this.affiliateRules.composer.last(e)}static rule_namespace(e,t,s){s=s.split(".");for(let e of s)e&&t.addNamespace(e)}on(e,t,s,i,r){switch(arguments.length){case 2:[i,t]=[t];break;case 3:"function"==typeof arguments[2]?[i,s]=[s]:[i,r,t,s]=[t,s];break;case 4:"object"==typeof arguments[3]&&([r,i,s]=[i,s])}e=this.affiliate(e,this.parent.$.about.fingerprint,r),void 0===t?super.on({events:e,handler:i}):super.on({events:e,target:t,selector:s,handler:i})}off(e,t,s,i,r){const n=arguments.length;switch(n){case 1:"object"==typeof arguments[0]&&([r,e]=[e]);break;case 2:"function"==typeof arguments[1]?[i,t]=[t]:d(arguments[1])&&([r,t]=[t]);break;case 3:"function"==typeof arguments[2]?[i,s]=[s]:"function"==typeof arguments[1]&&([i,r,t,s]=[t,s]);break;case 4:"object"==typeof arguments[3]&&([r,i,s]=[i,s])}e=this.affiliate(e,this.parent.$.about.fingerprint,r),n<2?super.off({events:e}):t?super.off({events:e,target:t,selector:s,handler:i}):super.off({events:e,handler:i})}trigger(e,t,s){switch(arguments.length){case 2:"object"!=typeof t||t.jquery||([s,t]=[t])}return t?super.triggerSeries({events:e,target:t,data:s}):super.triggerSeries({events:e,data:s})}triggerParallel(e,t,s){switch(arguments.length){case 2:"object"!=typeof t||t.jquery||([s,t]=[t])}return t?super.triggerParallel({events:e,target:t,data:s}):super.triggerParallel({events:e,data:s})}getDomListeners(e){let t=new Map;for(let s of c("*")){let i=c._data(s,"events");if(i)for(let r of Object.values(i))for(let i of r){let r;if(new ee(i.namespace).hasNamespace(e)){(r=t.get(s))||t.set(s,r={}),(r[i.type]||(r[i.type]=[])).push({selector:i.selector||null,handler:i.handler,namespace:i.namespace})}}}return t}getObservers(){let e=new Map,t=this.registry._events;if(!t){let e=Object.values(this.registry)[0],s=Object.getOwnPropertyNames(e).find(e=>0===e.indexOf("jQuery"));e&&s&&(t=this.registry._events=e[s].events)}if(t)for(let[s,i]of Object.entries(t)){let t=e.get(s);t||(t=[],e.set(s,t));for(let e of i)t.push({handler:e.handler.originalHandler,namespace:e.namespace})}return e}}class Z{constructor(e){Q.validateSelector(e),this.events=e.split(" ").map(e=>new ee(e))}toString(){let e=[];for(let t of this.events)e.push(t.toString());return e.join(" ")}}class ee{constructor(e){let[t,...s]=e.split(".");this.event=t,this.namespace=new Set(s)}hasNamespace(e){Array.isArray(e)||(e=[e]);for(let t of e){if(!/^[\w:]+$/.test(t))throw new _.INVALID_VALUE({target:"namespace",reason:"must be alphanumeric, underscore and colon characters",given:t});if(t&&this.namespace.has(t))return t}return!1}addNamespace(e){if(!/^[\w:]+$/.test(e))throw new _.INVALID_VALUE({target:"namespace",reason:"must be alphanumeric, underscore and colon characters",given:e});this.namespace.add(e)}deleteNamespace(e){if(!/^[\w:]+$/.test(e))throw new _.INVALID_VALUE({target:"namespace",reason:"must be alphanumeric, underscore and colon characters",given:e});this.namespace.delete(e)}toString(){return this.namespace.size?this.event+"."+Array.from(this.namespace.values()).join("."):this.event}}Q.validateSelector=function(e){w("JFactoryEvents.validateSelector(selector)",e).notUndefined().validSpaces();for(let[t,s]of e.split(" ").map(e=>e.split(".")).map(e=>[e.shift(),e.join(".")]))t&&Q.validateEvent(t),s&&Q.validateNamespace(s);return!0},Q.validateEvent=function(e){if(w("JFactoryEvents.validateEvent(event)",e).notUndefined().notEmptyString().validSpaces(),!/^[\w:]+$/.test(e))throw new _.INVALID_VALUE({target:"JFactoryEvents.validateEvent(event)",reason:"must be alphanumeric, underscore and colon characters",given:e});return!0},Q.validateNamespace=function(e){if(w("JFactoryEvents.validateNamespace(namespace)",e).notUndefined().notEmptyString().validSpaces(),!/^[\w:.]+$/.test(e))throw new _.INVALID_VALUE({target:"JFactoryEvents.validateNamespace(namespace)",reason:"must be alphanumeric, underscore, dot and colon characters",given:e});return!0};class te extends W{constructor(e,t,s={}){if("function"==typeof e)super(e);else{"string"==typeof e&&([e,t,s]=[{},arguments[0],arguments[1]]);let i=new Request(t,s);super(e,(r,n)=>{let a=fetch(i).then(e=>{if(this.$chain.fetchResponse=e,!e.ok)throw Error(e.status+":"+e.statusText);return e});s.$typeText?a=a.then(e=>e.text()).then(e=>this.$chain.responseText=e):s.$typeJSON&&(a=a.then(e=>e.json()).then(e=>this.$chain.responseJSON=e)),a=a.catch(r=>{throw new _.REQUEST_ERROR({reason:r.message||r,target:this.$chain.fetchResponse&&this.$chain.fetchResponse.url||t,owner:this,fetchOptions:s,fetchRequest:i,fetchResponse:this.$chain.fetchResponse||null},e.traceSource)}),a.then(r,n)}),this.$chain.fetchOptions=s,this.$chain.fetchRequest=i;let r=s.abortController||new AbortController;s.signal=r.signal,this.$chain.fetchAbortController=r}}$chainAbort(e="request aborted"){return super.$chainAbort(e),this.$chain.fetchAbortController.abort(),this}}const se=Symbol();class ie{constructor(e){e&&w("JFactoryLogger(options)",e).properties(Object.getOwnPropertyNames(ie.DEFAULT_CONFIG)),m(this,e,ie.DEFAULT_CONFIG),this.condition=M(ie.DEFAULT_CONDITION),this.installAccessor("log"),this.installAccessor("warn"),this.installAccessor("error")}get enabled(){return this[se]&&(!this.parentLogger||this.parentLogger.enabled)}set enabled(e){e?this.enable():this.disable()}enable(){!0!==this[se]&&(this[se]=!0)}disable(){!1!==this[se]&&(this[se]=!1)}disallow(e,t=this.label){this.filters[t]||(this.filters[t]={}),this.filters[t][e]=!0}allow(e,t=this.label){this.filters[t]&&delete this.filters[t][e]}installAccessor(e,t=e,s=this){w("JFactoryLogger(nativeName)",e).equalIn(["log","warn","error"]),Object.defineProperties(s,{[t]:{get:this.accessor.bind(this,e),configurable:!0}})}accessor(e){return this[se]&&this.condition(e)&&this.formatter[e](this)||E}createSubLogger(e){let t=new ie({enabled:this.enabled,label:this.label+"."+e,styles_css:this.styles_css,styles_cli:this.styles_cli,console:this.console,formatter:this.formatter});return t.parentLogger=this,t.condition.addCondition(()=>this.enabled),t.filters=this.filters,t}}ie.FORMATTER_NATIVE={log:e=>e.console.log.bind(e.console,e.label+">"),warn:e=>e.console.warn.bind(e.console,e.label+">"),error:e=>e.console.error.bind(e.console,e.label+">")},ie.FORMATTER_CLI={log:e=>e.console.log.bind(e.console,e.styles_cli.label,e.label+">"),warn:e=>e.console.warn.bind(e.console,e.styles_cli.label,e.label+">"),error:e=>e.console.error.bind(e.console,e.styles_cli.label,e.label+">")},ie.FORMATTER_BROWSER={log:e=>e.console.log.bind(e.console,"%c"+e.label+">",e.styles_css.label),warn:e=>e.console.warn.bind(e.console,"%c"+e.label+">",e.styles_css.label),error:e=>e.console.error.bind(e.console,"%c"+e.label+">",e.styles_css.label)},ie.DEFAULT_CONDITION=function(e){return w("JFactoryLogger.condition(nativeName)",e).equalIn(["log","warn","error"]),w("JFactoryLogger.enabled",this.enabled).equal(!0),!(this.filters[this.label]&&this.filters[this.label][e])},ie.DEFAULT_CONFIG={label:"",enabled:!0,parentLogger:null,formatter:r?ie.FORMATTER_CLI:ie.FORMATTER_BROWSER,console:console,filters:{},styles_cli:{label:"[1;30m%s[0m"},styles_css:{label:"color: gray"}};class re extends Date{toString(){return this.toLocaleTimeString()+", "+this.getUTCMilliseconds()+"ms ("+this.valueOf()+")"}$toDurationString(){let e=this.getUTCHours(),t=this.getUTCMinutes(),s=this.getUTCSeconds(),i=this.getUTCMilliseconds(),r=[];return e&&r.push(e+"h"),t&&r.push(t+"min"),s&&r.push(s+"s"),r.push(i+"ms"),1===r.length?r[0]:r.join(",")+" ("+this.valueOf()+")"}}class ne extends Date{constructor(){super(),this.elapsed=null,Object.defineProperties(this,{t1:{value:null,writable:!0},t0:{value:new re}})}end(){this.t1=new re,this.elapsed=new re(this.t1-this.t0).$toDurationString()}toString(){return this.elapsed}}class ae{trait_constructor(){const e=this;class t extends Map{$registerSync(t,s){let i=Object.defineProperties({},{$value:{value:s},$phaseRemove:{value:pe.getContextualRemovePhase(e)}});return this.set(t,i),i}$registerAsync(t,s,i){let r=e.$task(s,i.$chain);return i.$chain.then(()=>{r.$chainAutoComplete()}),r.$chain.then(()=>{i.$chain.isCompleted||i.$chainAbort("aborted by task")}),Object.defineProperty(i,"$phaseRemove",{value:r.$phaseRemove}),this.set(t,i),r}}const s=Object.assign(Object.create(null),{[ae.SYMBOL_PRIVATE]:Object.create(null),assign:function(e,t,s){V.assign(this,e,t,s)},createSubMap:()=>new t});Object.defineProperty(this,"$",{value:Object.create(s)}),this.$.assign({tasks:null,requests:null},V.descriptors.ENUMERABLE_WRITABLE)}}ae.SYMBOL_PRIVATE=Symbol("_");class oe{trait_constructor(e){V.assign(this.$,"about",new q(this,e),V.descriptors.READONLY)}}class le{trait_constructor(){let e=Object.assign({label:this.$.about.name},n.TraitLog||{enabled:!1}),t=new ie(e);Object.defineProperty(this.$,"logger",{value:t}),t.installAccessor("log","$log",this),t.installAccessor("warn","$logWarn",this),t.installAccessor("error","$logErr",this)}}class ce{trait_constructor(){this.$.assign("tasks",new Map,V.descriptors.ENUMERABLE)}$task(e,t){if(w("$task(id)",e).typeString(),w("$task(executorOrValue)",t).notUndefined(),this.$.tasks.has(e))throw new _.KEY_DUPLICATED({target:"$task(id)",given:e});let s,i;return s="function"==typeof t?new W({name:e,owner:this},t):W.resolve({name:e,owner:this},t),s.$phaseRemove=pe.getContextualRemovePhase(this),i=new ne,s.$taskMetrics={$dev_timing:i},s.$chain.then(()=>{i.end(),this.$.tasks.get(e)&&this.$taskRemove(e)}),this.$.tasks.set(e,s),s}$taskRemove(e,t){if(w("$taskRemove(id)",e).typeString(),t&&w("$taskRemove(reason)",t).typeString(),!this.$.tasks.has(e))throw new _.KEY_MISSING({target:"$taskRemove(id)",given:e});this.$.tasks.get(e)._called,this.$.tasks.get(e)._called=!0;let s=this.$.tasks.get(e);this.$.tasks.delete(e),s.$chainAbort(t||"$taskRemove()")}$taskRemoveAll(e){w("$taskRemoveAll(removePhase)",e).equalIn(pe.PHASES);let t=this.$.tasks;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$taskRemove(s,"$taskRemoveAll("+e+")")}$taskPromiseAll(e=!1){let t=[];if(this.$.tasks.size)for(let s of this.$.tasks.values())e&&(s.$chain.chainConfig.chainAutoComplete=!0),s.$chain.isPending&&t.push(s.$chain);return t.length?Promise.all(t):z.resolve()}}class he{trait_constructor(){de(this,"events",{custom:new X(this),kernel:new X(this)},V.descriptors.NONE);let e=this.$[ae.SYMBOL_PRIVATE].events.custom;Object.defineProperties(this.$,{listeners:{get:e.getDomListeners.bind(e,this.$.about.fingerprint),enumerable:!0},observers:{get:e.getObservers.bind(e),enumerable:!0}})}$on(){this.$[ae.SYMBOL_PRIVATE].events.custom.on(...arguments)}$off(){this.$[ae.SYMBOL_PRIVATE].events.custom.off(...arguments)}$trigger(){return this.$[ae.SYMBOL_PRIVATE].events.custom.trigger(...arguments)}$triggerParallel(){return this.$[ae.SYMBOL_PRIVATE].events.custom.triggerParallel(...arguments)}$notify(e,t){return this.$trigger(e,t).then(()=>this.$[ae.SYMBOL_PRIVATE].events.kernel.trigger(e,t))}}class ue{trait_constructor(){const e=Object.create(null),t=Object.create(null),s=this.$[ae.SYMBOL_PRIVATE].events.kernel;de(this,{states:e,stateRoutes:t},V.descriptors.READONLY),V.assign(this.$,"states",new Proxy(e,{set:(e,t,s)=>this.$state(t,s),get:(t,s)=>e[s]}),V.descriptors.READONLY),s.on("beforeStateChange",(e,s)=>{let i;if(t[s.key]&&t[s.key].before&&(i=t[s.key].before(s.val)))return this.$notify(i)}),s.on("afterStateChange",(e,s)=>{let i;if(t[s.key]&&t[s.key].after&&(i=t[s.key].after(s.val)))return this.$notify(i)})}$state(e,t,s=!0){return w("$state(key)",e).typeString(),w("$state(notify)",s).typeBoolean(),new z(async i=>{let r,n=this.$[ae.SYMBOL_PRIVATE].states,a=n[e];e in n&&a===t||(r=s&&this.$notify("beforeStateChange",{key:e,val:t,previousVal:a}),r&&w("beforeStateChange result",r).type(z),r&&!r.$isSettled&&(n[e]=r,await r),void 0===t?delete n[e]:n[e]=t,r=s&&this.$notify("afterStateChange",{key:e,val:t,previousVal:a}),r&&w("afterStateChange result",r).type(z)),r?r.then(i):i()})}}class pe{trait_constructor(){V.assign(this.$,"service",Object.create(null),V.descriptors.READONLY),this.$.service.phase=pe.PHASE.NONE,this.$.service.phaseQueue=W.resolve({name:"phaseQueue"},null),this.$.service.phaseTask=null,this.$.service.phaseMap={install:new Set,enable:new Set,disable:new Set,uninstall:new Set},this.$state("installed",!1,!1),this.$state("enabled",!1,!1),me(this,"stateRoutes",{installed:{after:e=>e?"install":"uninstall"},enabled:{after:e=>e?"enable":"disable"}},V.descriptors.NONE);let e=this.$[ae.SYMBOL_PRIVATE].events.custom,t=this.$[ae.SYMBOL_PRIVATE].events.kernel;e.affiliateAddRule((e,t,s,i)=>pe.setEventNamespaceRemovePhase(this,t,i));let s=e=>{this.$.tasks.size&&this.$taskRemoveAll(this.$.service.phase);let t=z.resolve();return e&&(t=t.then(()=>e.call(this)).then(()=>this.$taskPromiseAll(!0))),t.catch(e=>{e instanceof _.PROMISE_EXPIRED||this.$logErr("unhandled promise rejection in "+this.$.service.phase+";",...e instanceof L?e:[e])})};t.on("install",()=>s(this.onInstall)),t.on("enable",()=>s(this.onEnable)),t.on("disable",()=>s(this.onDisable)),t.on("uninstall",()=>s(this.onUninstall)),t.on("disable",()=>this.$off({removal:pe.PHASE.DISABLE})),t.on("uninstall",()=>this.$off({removal:pe.PHASE.UNINSTALL}))}$install(e){let t;const s=new W({name:"install",config:{chainAutoComplete:!0}},e=>t=e).then(()=>{if(!this.$.states.installed)return this.$.service.phase=pe.PHASE.INSTALL,this.$state("installed",!0)});return this.$.service.phaseMap.install.add(s),s.$chain.then(()=>{this.$.service.phaseTask=null,this.$.service.phaseMap.install.delete(s),this.$.service.phase=pe.PHASE.NONE}),this.$.service.phaseQueue=this.$.service.phaseQueue.then(()=>(this.$.service.phaseTask=s,t(),s.$chain)),e?this.$enable():s}$enable(){let e;const t=new W({name:"enable",config:{chainAutoComplete:!0}},t=>e=t).then(()=>{if(this.$.states.installed&&!this.$.states.enabled)return this.$.service.phase=pe.PHASE.ENABLE,this.$state("enabled",!0)});return this.$.service.phaseMap.enable.add(t),t.$chain.then(()=>{this.$.service.phaseTask=null,this.$.service.phaseMap.enable.delete(t),this.$.service.phase=pe.PHASE.NONE}),this.$.service.phaseQueue=this.$.service.phaseQueue.then(()=>(this.$.service.phaseTask=t,e(),t.$chain)),t}$disable(){let e;const t=new W({name:"disable",config:{chainAutoComplete:!0}},t=>e=t).then(()=>{if(this.$.states.enabled)return this.$.service.phase=pe.PHASE.DISABLE,this.$state("enabled",!1)});this.$.service.phaseMap.disable.add(t),t.$chain.then(()=>{this.$.service.phaseTask=null,this.$.service.phaseMap.disable.delete(t),this.$.service.phase=pe.PHASE.NONE});for(let[e,t]of this.$.service.phaseMap.enable.entries())t===this.$.service.phaseTask&&pe.phaseKill(this),t.$chainAbort(),this.$.service.phaseMap.enable.delete(e);return this.$.service.phaseQueue=this.$.service.phaseQueue.then(()=>(this.$.service.phaseTask=t,e(),t.$chain)),t}$uninstall(){let e;const t=new W({name:"uninstall",config:{chainAutoComplete:!0}},t=>e=t).then(()=>{if(this.$.states.installed)return this.$.service.phase=pe.PHASE.UNINSTALL,this.$state("installed",!1)});this.$.service.phaseMap.uninstall.add(t),t.$chain.then(()=>{this.$.service.phaseTask=null,this.$.service.phaseMap.uninstall.delete(t),this.$.service.phase=pe.PHASE.NONE});for(let[e,t]of this.$.service.phaseMap.install.entries())t===this.$.service.phaseTask&&pe.phaseKill(this),t.$chainAbort(),this.$.service.phaseMap.install.delete(e);return this.$disable(),this.$.service.phaseQueue=this.$.service.phaseQueue.then(()=>(this.$.service.phaseTask=t,e(),t.$chain)),t}static phaseKill(e){e.$.tasks.size&&e.$taskRemoveAll(pe.getContextualRemovePhase(e)),e.$.service.phase=pe.PHASE.NONE}static getContextualRemovePhase(e){return pe.PHASE_REVERT[e.$.service.phase]}static setEventNamespaceRemovePhase(e,t,s){let i=t.hasNamespace(pe.PHASES),r=s&&s.removal;r||(r=pe.getContextualRemovePhase(e)),"uninstall"===t.event&&r===pe.PHASE.DISABLE&&(r=pe.PHASE.UNINSTALL),i!==r&&(t.deleteNamespace(i),t.addNamespace(r)),t.addNamespace(r)}}function de(e,t,s,i){V.assign(e.$[ae.SYMBOL_PRIVATE],t,s,i)}function me(e,t,s,i){V.assign(e.$[ae.SYMBOL_PRIVATE][t],s,i)}pe.PHASE={NONE:"PHASE_NONE",INSTALL:"PHASE_INSTALL",ENABLE:"PHASE_ENABLE",DISABLE:"PHASE_DISABLE",UNINSTALL:"PHASE_UNINSTALL"},pe.PHASE_REVERT={[pe.PHASE.INSTALL]:pe.PHASE.UNINSTALL,[pe.PHASE.UNINSTALL]:pe.PHASE.INSTALL,[pe.PHASE.DISABLE]:pe.PHASE.ENABLE,[pe.PHASE.ENABLE]:pe.PHASE.DISABLE,[pe.PHASE.NONE]:pe.PHASE.DISABLE},pe.PHASES=Object.values(pe.PHASE),H.PHASE=V.disinherit(pe.PHASE),H.TraitCore=ae,H.TraitAbout=oe,H.TraitLog=le,H.TraitEvents=he,H.TraitState=ue,H.TraitService=pe,H.TraitTask=ce;class fe{trait_constructor(){const e=this.$[ae.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$fetchRemoveAll(pe.PHASE.DISABLE)),e.on("uninstall",()=>this.$fetchRemoveAll(pe.PHASE.UNINSTALL)),this.$.assign("requests",this.$.createSubMap(),V.descriptors.ENUMERABLE)}$fetch(e,t,s={}){if(w("$fetch(id)",e).typeString(),w("$fetch(url)",t).typeString(),w("$fetch(fetchOptions)",s).typePlainObject(),this.$.requests.has(e))throw new _.KEY_DUPLICATED({target:"$fetch(id)",given:e});let i=new te({name:e,traceSource:R.tracer.captureTraceSource("$fetch"),config:{chainAutoComplete:!0}},t,s);return this.$.requests.$registerAsync(e,'$fetch("'+e+'")',i),i.$chain.then(()=>{this.$.requests.has(e)&&this.$fetchRemove(e)}),i}$fetchText(e,t,s={}){return this.$fetch(e,t,{...s,$typeText:!0})}$fetchJSON(e,t,s={}){return this.$fetch(e,t,{...s,$typeJSON:!0})}$fetchRemove(e,t){if(w("$fetchRemove(id)",e).typeString(),t&&w("$fetchRemove(reason)",t).typeString(),!this.$.requests.has(e))throw new _.KEY_MISSING({target:"$fetchRemove(id)",given:e});this.$.requests.get(e)._debug_remove_called,this.$.requests.get(e)._debug_remove_called=!0;let s=this.$.requests.get(e);this.$.requests.delete(e),s.$chainAbort(t||"$fetchRemove()")}$fetchRemoveAll(e){w("removePhase",e).equalIn(pe.PHASES);let t=this.$.requests;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$fetchRemove(s,"$fetchRemoveAll("+e+")")}}class $e{trait_constructor(){const e=this.$[ae.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$timeoutRemoveAll(pe.PHASE.DISABLE)),e.on("uninstall",()=>this.$timeoutRemoveAll(pe.PHASE.UNINSTALL)),this.$.assign("timeouts",this.$.createSubMap(),V.descriptors.ENUMERABLE)}$timeout(e,t,s=null,...i){if(w("id",e).typeString(),w("delay",t).typeNumber(),w("handler",s).type(Function,null),this.$.timeouts.has(e))throw new _.KEY_DUPLICATED({target:"$timeout(id)",given:e});let r,n=new W({name:e,traceSource:R.tracer.captureTraceSource("$timeout"),config:{chainAutoComplete:!0}},e=>{r=setTimeout(()=>{n.$isExpired||e(s?s(...i):void 0)},t)});return n.$chain.data.timer=r,this.$.timeouts.$registerAsync(e,'$timeout("'+e+'")',n),n.$chain.then(()=>{this.$.timeouts.has(e)&&this.$timeoutRemove(e)}),n}$timeoutRemove(e,t){if(w("$timeoutRemove(id)",e).typeString(),t&&w("$timeoutRemove(reason)",t).typeString(),!this.$.timeouts.has(e))throw new _.KEY_MISSING({target:"$timeoutRemove(id)",given:e});this.$.timeouts.get(e)._debug_remove_called,this.$.timeouts.get(e)._debug_remove_called=!0;let s=this.$.timeouts.get(e);clearTimeout(s.$chain.data.timer),this.$.timeouts.delete(e),s.$chainAbort(t||"$timeoutRemove()")}$timeoutRemoveAll(e){w("removePhase",e).equalIn(pe.PHASES);let t=this.$.timeouts;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$timeoutRemove(s,"$timeoutRemoveAll()")}}class ge{trait_constructor(){const e=this.$[ae.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$intervalRemoveAll(pe.PHASE.DISABLE)),e.on("uninstall",()=>this.$intervalRemoveAll(pe.PHASE.UNINSTALL)),this.$.assign("timeints",this.$.createSubMap(),V.descriptors.ENUMERABLE)}$interval(e,t,s,...i){if(w("id",e).typeString(),w("handler",s).typeFunction(),w("delay",t).typeNumber(),this.$.timeints.has(e))throw new _.KEY_DUPLICATED({target:"$interval(id)",given:e});let r=setInterval(s,t,...i);this.$.timeints.$registerSync(e,r)}$intervalRemove(e){if(w("$intervalRemove(id)",e).typeString(),!this.$.timeints.has(e))throw new _.KEY_MISSING({target:"$intervalRemove(id)",given:e});this.$.timeints.get(e)._debug_remove_called,this.$.timeints.get(e)._debug_remove_called=!0,clearInterval(this.$.timeints.get(e).$value),this.$.timeints.delete(e)}$intervalRemoveAll(e){w("removePhase",e).equalIn(pe.PHASES);let t=this.$.timeints;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$intervalRemove(s)}}class ve{trait_constructor(){const e=this.$[ae.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$mutationRemoveAll(pe.PHASE.DISABLE)),e.on("uninstall",()=>this.$mutationRemoveAll(pe.PHASE.UNINSTALL)),this.$.assign("mutations",this.$.createSubMap(),V.descriptors.ENUMERABLE)}$mutation(e,t,s,i){if(w("id",e).typeString(),w("parent",t).type(HTMLElement,Document),w("config",s).typePlainObject(),w("handler",i).typeFunction(),this.$.mutations.has(e))throw new _.KEY_DUPLICATED({target:"$mutation(id)",given:e});let r=new MutationObserver(i);r.observe(t,s),this.$.mutations.$registerSync(e,r)}$mutationRemove(e,t){if(w("$mutationRemove(id)",e).typeString(),t&&w("$mutationRemove(reason)",t).typeString(),!this.$.mutations.has(e))throw new _.KEY_MISSING({target:"$mutationRemove(id)",given:e});this.$.mutations.get(e)._debug_remove_called,this.$.mutations.get(e)._debug_remove_called=!0,this.$.mutations.get(e).$value.disconnect(),this.$.mutations.delete(e)}$mutationRemoveAll(e){w("removePhase",e).equalIn(pe.PHASES);let t=this.$.mutations;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$mutationRemove(s)}}class be{trait_constructor(){const e=this.$[ae.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$domRemoveAll(pe.PHASE.DISABLE)),e.on("uninstall",()=>this.$domRemoveAll(pe.PHASE.UNINSTALL)),this.$.assign("dom",this.$.createSubMap(),V.descriptors.ENUMERABLE)}$dom(e,t,s){let i;if(w("id",e).typeString(),w("jQueryArgument",t).type(String,Object),s&&w("appendTo",s).type(String,Object),"#"===e[0]&&(e=e.substring(1),i=!0),this.$.dom.has(e))throw new _.KEY_DUPLICATED({target:"$dom(id)",given:e});let r=c(t);if("TEMPLATE"===r[0].tagName&&(r=c(c(r[0]).html())),i){if(r[0].nodeType!==Node.ELEMENT_NODE)throw new _.INVALID_VALUE({target:"$dom(#id)",given:r,reason:"cannot set the dom id: the first element of the selection isn't an ELEMENT_NODE"});r[0].id=e}return s&&r.appendTo(s),this.$.dom.$registerSync(e,r).$value}$domFetch(e,t,s,i){let r;if(s&&!d(s)&&([s,i]=[{},s]),w("id",e).typeString(),w("url",t).typeString(),i&&w("appendTo",i).type(String,Object),s&&w("fetchOptions",s).type(Object),"#"===e[0]&&(e=e.substring(1),r=!0),this.$.dom.has(e))throw new _.KEY_DUPLICATED({target:"$domFetch(id)",given:e});let n=this.$fetchText('$domFetch("'+e+'")',t,s).then(t=>{let s=c(t);return r&&(s[0].id=e),i&&s.appendTo(i),s});return this.$.dom.$registerAsync(e,'$domFetch("'+e+'")',n),n}$domRemove(e,t){if(w("$domRemove(id)",e).typeString(),t&&w("$domRemove(reason)",t).typeString(),!this.$.dom.has(e))throw new _.KEY_MISSING({target:"$domRemove(id)",given:e});this.$.dom.get(e)._debug_remove_called,this.$.dom.get(e)._debug_remove_called=!0;let s=this.$.dom.get(e),i=s.$value;i instanceof c&&i.remove(),s instanceof te&&s.$chainAbort(t||"$domRemove()"),this.$.dom.delete(e)}$domRemoveAll(e){w("removePhase",e).equalIn(pe.PHASES);let t=this.$.dom;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$domRemove(s)}}class Ee{trait_constructor(){const e=this.$[ae.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$cssRemoveAll(pe.PHASE.DISABLE)),e.on("uninstall",()=>this.$cssRemoveAll(pe.PHASE.UNINSTALL)),this.$.assign("css",this.$.createSubMap(),V.descriptors.ENUMERABLE)}$css(e,t){let s;if(w("id",e).typeString(),w("css",t).typeString(),"#"===e[0]&&(e=e.substring(1),s=!0),this.$.css.has(e))throw new _.KEY_DUPLICATED({target:"$css(id)",given:e});return this.$.css.$registerSync(e,c("<style>").attr(s?{id:e}:{}).html(t).appendTo("head")).$value}$cssFetch(e,t,s="head"){let i;if(w("id",e).typeString(),w("url",t).typeString(),"#"===e[0]&&(e=e.substring(1),i=!0),this.$.css.has(e))throw new _.KEY_DUPLICATED({target:"$cssFetch(id)",given:e});t=b(t);let r=c(s).find(`link[href="${t}"]`)[0];if(r){r.dataset.usage=parseInt(r.dataset.usage)+1;let t=c(r),s=W.resolve({name:e,config:{chainAutoComplete:!0},traceSource:R.tracer.captureTraceSource("$cssFetch")},t);return s.$chain.data.dom=t,this.$.css.$registerAsync(e,'$cssFetch("'+e+'")',s),s}{let r,n=new W({name:e,config:{chainAutoComplete:!0},traceSource:R.tracer.captureTraceSource("$cssFetch")},n=>r=c("<link>",{id:i?e:"",rel:"stylesheet",type:"text/css","data-usage":"1"}).appendTo(s).on("load",()=>n(r)).attr("href",t));return n.$chain.data.dom=r,this.$.css.$registerAsync(e,'$cssFetch("'+e+'")',n),n}}$cssRemove(e,t){if(w("$cssRemove(id)",e).typeString(),t&&w("$cssRemove(reason)",t).typeString(),!this.$.css.has(e))throw new _.KEY_MISSING({target:"$cssRemove(id)",given:e});this.$.css.get(e)._debug_remove_called,this.$.css.get(e)._debug_remove_called=!0;let s=this.$.css.get(e),i=s.$chain&&s.$chain.data.dom||s.$value;if(i instanceof c){let e=parseInt(i[0].dataset.usage)-1;e?i[0].dataset.usage=e:i.remove()}s instanceof W&&s.$chainAbort(t||"$cssRemove()"),this.$.css.delete(e)}$cssRemoveAll(e){w("removePhase",e).equalIn(pe.PHASES);let t=this.$.css;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$cssRemove(s)}}class Ae{trait_constructor(){const e=this.$[ae.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$vueRemoveAll(pe.PHASE.DISABLE)),e.on("uninstall",()=>this.$vueRemoveAll(pe.PHASE.UNINSTALL)),this.$.assign("vue",this.$.createSubMap(),V.descriptors.ENUMERABLE)}$vue(e,t){if(w("id",e).typeString(),w("vue",t).type(Object),this.$.vue.has(e))throw new _.KEY_DUPLICATED({target:"$vue(id)",given:e});return this.$.vue.$registerSync(e,t).$value}$vueRemove(e){if(w("$vueRemove(id)",e).typeString(),!this.$.vue.has(e))throw new _.KEY_MISSING({target:"$vueRemove(id)",given:e});this.$.vue.get(e)._debug_remove_called,this.$.vue.get(e)._debug_remove_called=!0;let t=this.$.vue.get(e);c(t.$value.$el).remove(),t.$value.$destroy(),this.$.vue.delete(e)}$vueRemoveAll(e){w("removePhase",e).equalIn(pe.PHASES);let t=this.$.vue;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$vueRemove(s)}}class Se{trait_constructor(){const e=this.$[ae.SYMBOL_PRIVATE].events.kernel;e.on("disable",()=>this.$reactRemoveAll(pe.PHASE.DISABLE)),e.on("uninstall",()=>this.$reactRemoveAll(pe.PHASE.UNINSTALL)),this.$.assign("react",this.$.createSubMap(),V.descriptors.ENUMERABLE)}$react(e,t,s,...i){if(!H.ReactDOM)throw new Error("jFactory.ReactDOM=ReactDOM must be set before using the React Trait");if(w("id",e).typeString(),w("container",t).type(HTMLElement,c),this.$.react.has(e))throw new _.KEY_DUPLICATED({target:"$react(id)",given:e});t=c(t)[0];let r=H.ReactDOM.render(s,t,...i);return this.$.react.$registerSync(e,{container:t,view:r}).$value.view}$reactRemove(e){if(w("$reactRemove(id)",e).typeString(),!this.$.react.has(e))throw new _.KEY_MISSING({target:"$reactRemove(id)",given:e});this.$.react.get(e)._debug_remove_called,this.$.react.get(e)._debug_remove_called=!0;let t=this.$.react.get(e).$value.container;t&&(H.ReactDOM.unmountComponentAtNode(t)||this.$logWarn("unmountComponentAtNode failed to unmount",t),c(t).remove()),this.$.react.delete(e)}$reactRemoveAll(e){w("removePhase",e).equalIn(pe.PHASES);let t=this.$.react;if(t.size)for(const[s,i]of t)i.$phaseRemove===e&&this.$reactRemove(s)}}H.TraitFetch=fe,H.TraitTimeout=$e,H.TraitInterval=ge,H.TraitMutation=ve,H.TraitDOM=be,H.TraitCSS=Ee,H.TraitLibVue=Ae,H.TraitLibReact=Se,"undefined"!=typeof jFactoryOverride&&jFactoryOverride||a.init();export{r as JFACTORY_CLI,i as JFACTORY_DEBUG,s as JFACTORY_DEV,q as JFactoryAbout,B as JFactoryComponent,U as JFactoryCoreObject,L as JFactoryError,ee as JFactoryEventSelector,Z as JFactoryEventSelectorParser,Q as JFactoryEvents,X as JFactoryEventsManager,w as JFactoryExpect,te as JFactoryFetch,I as JFactoryFunctionComposer,C as JFactoryFunctionConditional,j as JFactoryFunctionExpirable,D as JFactoryFunctionWrappable,ie as JFactoryLogger,V as JFactoryObject,W as JFactoryPromise,G as JFactoryPromiseChain,K as JFactoryPromisePath,z as JFactoryPromiseSync,re as JFactoryTime,ne as JFactoryTimeTrace,y as JFactoryTrace_LIB_STACKTRACE,S as JFactoryTrace_NOFILTER,P as JFactoryTraits,oe as TraitAbout,Ee as TraitCSS,ae as TraitCore,be as TraitDOM,he as TraitEvents,fe as TraitFetch,ge as TraitInterval,Se as TraitLibReact,Ae as TraitLibVue,le as TraitLog,ve as TraitMutation,pe as TraitService,ue as TraitState,ce as TraitTask,$e as TraitTimeout,de as assignPrivate,me as assignPrivateMember,H as jFactory,n as jFactoryConfig,o as jFactoryDev,_ as jFactoryError,M as jFactoryFunctionConditional,N as jFactoryFunctionExpirable,k as jFactoryFunctionWrappable,l as jFactoryInit,a as jFactoryLoader,R as jFactoryTrace,F as jFactoryTraits};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiakZhY3RvcnktZGV2ZWwubWpzIiwic291cmNlcyI6WyIuLi9zcmMvakZhY3RvcnktZW52Lm1qcyIsIi4uL3NyYy9qRmFjdG9yeS1sb2FkZXIubWpzIiwiLi4vc3JjL2pGYWN0b3J5LWhlbHBlcnMubWpzIiwiLi4vc3JjL0pGYWN0b3J5VHJhY2UubWpzIiwiLi4vc3JjL0pGYWN0b3J5RXJyb3IubWpzIiwiLi4vc3JjL0pGYWN0b3J5RXhwZWN0Lm1qcyIsIi4uL3NyYy9KRmFjdG9yeVRyYWl0cy5tanMiLCIuLi9zcmMvSkZhY3RvcnlGdW5jdGlvbi5tanMiLCIuLi9zcmMvakZhY3RvcnktdHJhaXRzLm1qcyIsIi4uL3NyYy9qRmFjdG9yeS5tanMiLCIuLi9zcmMvSkZhY3RvcnlPYmplY3QubWpzIiwiLi4vc3JjL0pGYWN0b3J5QWJvdXQubWpzIiwiLi4vc3JjL0pGYWN0b3J5UHJvbWlzZS5tanMiLCIuLi9zcmMvSkZhY3RvcnlFdmVudHMubWpzIiwiLi4vc3JjL0pGYWN0b3J5RmV0Y2gubWpzIiwiLi4vc3JjL0pGYWN0b3J5TG9nZ2VyLm1qcyIsIi4uL3NyYy9KRmFjdG9yeVRpbWUubWpzIiwiLi4vc3JjL1RyYWl0c0NvcmUubWpzIiwiLi4vc3JjL1RyYWl0c0NvbXBvbmVudHMubWpzIiwiLi4vc3JjL2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuICovXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnkgRW52XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gQ29tcGlsZS10aW1lIGltbXV0YWJsZSBFbnY7IHVzZWQgYnkgVHJlZSBTaGFraW5nIHRvIHJlbW92ZSB1bnVzZWQgY29kZVxuZXhwb3J0IGNvbnN0IEpGQUNUT1JZX0RFViA9IHR5cGVvZiBDT01QSUxFUl9ERVYgPT09IFwidW5kZWZpbmVkXCIgPyBmYWxzZSA6IENPTVBJTEVSX0RFVjsgLy8gRGV2ZWxvcGVyIE1vZGVcbmV4cG9ydCBjb25zdCBKRkFDVE9SWV9ERUJVRyA9IHR5cGVvZiBDT01QSUxFUl9ERUJVRyA9PT0gXCJ1bmRlZmluZWRcIiA/IGZhbHNlIDogQ09NUElMRVJfREVCVUc7IC8vIERlYnVnIHRoZSBsaWJyYXJ5XG5leHBvcnQgY29uc3QgSkZBQ1RPUllfQ0xJID0gdHlwZW9mIENPTVBJTEVSX0NMSSA9PT0gXCJ1bmRlZmluZWRcIiA/XG4gICAgdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUgOiBDT01QSUxFUl9DTEk7XG5cbi8vIE11dGFibGUgY29uZmlndXJhdGlvblxuZXhwb3J0IGNvbnN0IGpGYWN0b3J5Q29uZmlnID0ge1xuICAgIFRyYWl0TG9nOiBKRkFDVE9SWV9ERVYgJiYgIUpGQUNUT1JZX0NMSSB8fCBKRkFDVE9SWV9ERUJVRyxcbiAgICBKRmFjdG9yeUVycm9yOiB7XG4gICAgICAgIGtleXM6IFtcIiQuYWJvdXQubmFtZVwiLCBcIiRkZXZfbmFtZVwiLCBcIiRuYW1lXCIsIFwibmFtZVwiLCBcImlkXCJdXG4gICAgfSxcbiAgICBKRmFjdG9yeVRyYWNlOiBKRkFDVE9SWV9ERVYgJiYgIUpGQUNUT1JZX0NMSVxuICAgICAgICAmJiB7XG4gICAgICAgICAgICBrZXlzOiBbXCIkZGV2X3RyYWNlTG9nXCIsIFwiJGRldl90cmFjZVNvdXJjZVwiXSxcbiAgICAgICAgICAgIGxpYk9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBvZmZsaW5lOiBCb29sZWFuKGdsb2JhbFRoaXMuY2hyb21lKSwgLy8gbG9hZGluZyBzb3VyY2VtYXBzIGlzIG5vdCByZXF1aXJlZCBpbiBjaHJvbWVcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5saW5lTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgIC8vICYmICh2YWx1ZS5maWxlTmFtZSArIHZhbHVlLmZ1bmN0aW9uTmFtZSkudG9Mb2NhbGVMb3dlckNhc2UoKS5pbmRleE9mKCdqZmFjdG9yeScpIDwgMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICBqRmFjdG9yeURldjogSkZBQ1RPUllfREVWXG4gICAgICAgICYmIHtcbiAgICAgICAgICAgIHJlcXVpcmVDb21wYXRpYmlsaXR5OiB7XG4gICAgICAgICAgICAgICAgZ2xvYmFsVGhpczoge1xuICAgICAgICAgICAgICAgICAgICB0ZXN0OiAoKSA9PiBnbG9iYWxUaGlzLFxuICAgICAgICAgICAgICAgICAgICBpbmZvOiBcImh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2dsb2JhbFRoaXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmV0Y2g6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVzdDogKCkgPT4gZmV0Y2gsXG4gICAgICAgICAgICAgICAgICAgIGluZm86IFwiaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0ZldGNoX0FQSS9Vc2luZ19GZXRjaFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBSZXF1ZXN0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRlc3Q6ICgpID0+IFJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgIGluZm86IFwiaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL1JlcXVlc3RcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJBYm9ydENvbnRyb2xsZXIsIEFib3J0U2lnbmFsXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVzdDogKCkgPT4gbmV3IEFib3J0Q29udHJvbGxlcigpLnNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgaW5mbzogXCJodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvQWJvcnRDb250cm9sbGVyLCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcImh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9BYm9ydFNpZ25hbFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBNdXRhdGlvbk9ic2VydmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlc3Q6ICgpID0+IE11dGF0aW9uT2JzZXJ2ZXIsXG4gICAgICAgICAgICAgICAgICAgIGluZm86IFwiaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL011dGF0aW9uT2JzZXJ2ZXJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxufTsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgSkZBQ1RPUllfQ0xJLCBKRkFDVE9SWV9ERVYsIGpGYWN0b3J5Q29uZmlnIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnkgTG9hZGVyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjb25zdCBqRmFjdG9yeUxvYWRlciA9IHtcbiAgICBzZXE6IFtdLFxuICAgIGluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLnNlcSkge1xuICAgICAgICAgICAgbGV0IHNlcSA9IHRoaXMuc2VxO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc2VxO1xuICAgICAgICAgICAgZm9yIChsZXQgbW9kdWxlIG9mIHNlcSkge1xuICAgICAgICAgICAgICAgIG1vZHVsZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgZ2xvYmFsVGhpcy5qRmFjdG9yeU92ZXJyaWRlXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG9uSW5pdChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuc2VxLnB1c2goaGFuZGxlcilcbiAgICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gakZhY3RvcnlEZXYoKSB7XG4gICAgY29uc29sZS5sb2coXCJqRmFjdG9yeSBpcyBydW5uaW5nIGluIGRldmVsb3BtZW50IG1vZGUuXFxuUGVyZm9ybWFuY2VzIHdpbGwgYmUgYWZmZWN0ZWQuXCIpO1xuICAgIGZvciAobGV0IFtuYW1lLCBlbnRyeV0gb2YgT2JqZWN0LmVudHJpZXMoakZhY3RvcnlDb25maWcuakZhY3RvcnlEZXYucmVxdWlyZUNvbXBhdGliaWxpdHkpKSB7XG4gICAgICAgIGxldCBwYXNzO1xuICAgICAgICB0cnkge3Bhc3MgPSBCb29sZWFuKGVudHJ5LnRlc3QoKSl9IGNhdGNoIChpZ25vcmUpIHt9XG4gICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBqRmFjdG9yeSBtYXkgcmVxdWlyZSB0aGUgc3VwcG9ydCBvZiBcIiR7bmFtZX1cIiwgJHtlbnRyeS5pbmZvfWApXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBqRmFjdG9yeUluaXQoKSB7XG4gICAgIWpGYWN0b3J5Q29uZmlnLlRyYWl0TG9nICYmIChKRkFDVE9SWV9ERVYgfHwgSkZBQ1RPUllfQ0xJKSAmJiBjb25zb2xlLndhcm4oXCJqRmFjdG9yeTogTE9HUyBSRU1PVkVEXCIpO1xufVxuXG5KRkFDVE9SWV9ERVYgJiYgakZhY3RvcnlMb2FkZXIub25Jbml0KGpGYWN0b3J5RGV2KTtcbmpGYWN0b3J5TG9hZGVyLm9uSW5pdChqRmFjdG9yeUluaXQpOyIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgJCBmcm9tIFwianF1ZXJ5XCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnkgSGVscGVyc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDZW50cmFsaXplIGhlbHBlcnMgYW5kIGV4dGVybmFscyBpbiBvbmUgbW9kdWxlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRoZSBqRmFjdG9yeSBidW5kbGVyIHNob3VsZCBleGNsdWRlIGV4dGVybmFsIGltcG9ydHMgdG8gbGV0IHRoZSBwcm9qZWN0IGRlYWxzIHdpdGggZXh0ZXJuYWwgbGlicmFyaWVzLFxuLy8gYWxsb3dpbmcgY3VzdG9taXplZCBpbXBvcnRzIChDRE4gc2NyaXB0cywgb3B0aW1pemVkIGNvbXBpbGVkIGltcG9ydHMsIG92ZXJyaWRlcy4uLilcbi8vIFNlZTogcm9sbHVwOiBcIm91dHB1dC5nbG9iYWxzXCIgYW5kIFwiZXh0ZXJuYWxcIjsgd2VicGFjazogXCJleHRlcm5hbHNcIlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY29uc3QgalF1ZXJ5ID0gJDtcblxuZXhwb3J0IGNvbnN0IGhlbHBlcl9pc05hdGl2ZSA9IF8uaXNOYXRpdmU7XG5leHBvcnQgY29uc3QgaGVscGVyX2lzU3RyaW5nID0gXy5pc1N0cmluZztcbmV4cG9ydCBjb25zdCBoZWxwZXJfaXNOdW1iZXIgPSBfLmlzTnVtYmVyO1xuZXhwb3J0IGNvbnN0IGhlbHBlcl9pc1BsYWluT2JqZWN0ID0gXy5pc1BsYWluT2JqZWN0O1xuZXhwb3J0IGNvbnN0IGhlbHBlcl9kZWZhdWx0c0RlZXAgPSBfLmRlZmF1bHRzRGVlcDtcbmV4cG9ydCBjb25zdCBoZWxwZXJfbG93ZXJGaXJzdCA9IF8ubG93ZXJGaXJzdDtcbmV4cG9ydCBjb25zdCBoZWxwZXJfZ2V0ID0gXy5nZXQ7XG5leHBvcnQgY29uc3QgaGVscGVyX3RlbXBsYXRlID0gXy50ZW1wbGF0ZTtcbmV4cG9ydCBjb25zdCBoZWxwZXJfY2FtZWxDYXNlID0gXy5jYW1lbENhc2U7XG5cbmV4cG9ydCBjb25zdCBoZWxwZXJfdXJsX2FicyA9IHVybCA9PiB7aGVscGVyX3VybF9hYnMuYS5ocmVmID0gdXJsOyByZXR1cm4gaGVscGVyX3VybF9hYnMuYS5ocmVmfTtcbmhlbHBlcl91cmxfYWJzLmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcblxuZXhwb3J0IGNvbnN0IE5PT1AgPSAoKSA9PiB7fTtcbmV4cG9ydCBjb25zdCBzZXRGdW5jdGlvbk5hbWUgPSAobmFtZSwgZikgPT4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsIFwibmFtZVwiLCB7IHZhbHVlOiBuYW1lIH0pOyIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgeyBqRmFjdG9yeUNvbmZpZyB9IGZyb20gXCIuL2pGYWN0b3J5LWVudlwiO1xuaW1wb3J0IHsgakZhY3RvcnlMb2FkZXIgfSBmcm9tIFwiLi9qRmFjdG9yeS1sb2FkZXJcIjtcbmltcG9ydCB7IE5PT1AgfSBmcm9tIFwiLi9qRmFjdG9yeS1oZWxwZXJzXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlUcmFjZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLSAjbGltaXRhdGlvbiMgRXJyb3Iuc3RhY2sgaXMgbm90IHN0YW5kYXJkaXplZFxuLy8gLSAjbGltaXRhdGlvbiMgRXJyb3Iuc3RhY2sgaXMgbm90IHNvdXJjZS1tYXBwZWRcbi8vIC0gI2xpbWl0YXRpb24jIGJ1ZyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTg0MjQ0XG4vLyAtICNsaW1pdGF0aW9uIyBTdGFja1RyYWNlLmpzIHJlc29sdmVzIHNvdXJjZW1hcHMuIFVuZm9ydHVuYXRlbHksIGl0IGRvZXNuJ3Qgd29yayB3aXRoIFwid2VicGFjazpcIiBwcm90b2NvbFxuLy8gICBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3N0YWNrdHJhY2Vqcy9zdGFja3RyYWNlLmpzL2lzc3Vlcy8yMDlcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvc291cmNlLW1hcC9cbi8vIGh0dHBzOi8vd3d3LnN0YWNrdHJhY2Vqcy5jb20vXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbm92b2NhaW5lL3NvdXJjZW1hcHBlZC1zdGFja3RyYWNlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5VHJhY2VfTk9GSUxURVIge1xuXG4gICAgY29uc3RydWN0b3IoeyBsYWJlbCwgc3RhY2tUcmFjZUxpbWl0LCBrZXlzLCBsaWJPcHRpb25zIH0gPSB7fSkge1xuICAgICAgICB0aGlzLmxhYmVsID0gbGFiZWwgfHwgXCJUaGUgc3RhY2sgaGFzIGJlZW4gcHJpbnRlZCBpbiB0aGUgY29uc29sZVwiO1xuICAgICAgICB0aGlzLnN0YWNrVHJhY2VMaW1pdCA9IHN0YWNrVHJhY2VMaW1pdCB8fCBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5rZXlzID0ga2V5cyB8fCBbXCJzdGFja0xvZ1wiLCBcInN0YWNrU291cmNlXCJdO1xuICAgICAgICB0aGlzLmxpYk9wdGlvbnMgPSBsaWJPcHRpb25zIHx8IHt9XG4gICAgfVxuXG4gICAgY2FwdHVyZVRyYWNlU291cmNlKG9taXRBYm92ZUZ1bmN0aW9uTmFtZSwgb21pdFNlbGYpIHtcbiAgICAgICAgbGV0IF9zdGFja1RyYWNlTGltaXQ7XG4gICAgICAgIGlmICh0aGlzLnN0YWNrVHJhY2VMaW1pdCkge1xuICAgICAgICAgICAgX3N0YWNrVHJhY2VMaW1pdCA9IEVycm9yLnN0YWNrVHJhY2VMaW1pdDtcbiAgICAgICAgICAgIEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IHRoaXMuc3RhY2tUcmFjZUxpbWl0XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvbWl0QWJvdmVGdW5jdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIG9taXRBYm92ZUZ1bmN0aW9uTmFtZSA9IFwiY2FwdHVyZVRyYWNlU291cmNlXCI7XG4gICAgICAgICAgICBvbWl0U2VsZiA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBsZXQgdHJhY2VTb3VyY2UgPSB7XG4gICAgICAgICAgICBzb3VyY2U6IG5ldyBFcnJvcigpLFxuICAgICAgICAgICAgb21pdEFib3ZlRnVuY3Rpb25OYW1lLFxuICAgICAgICAgICAgb21pdFNlbGZcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuc3RhY2tUcmFjZUxpbWl0KSB7XG4gICAgICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSBfc3RhY2tUcmFjZUxpbWl0XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRyYWNlU291cmNlXG4gICAgfVxuXG4gICAgYXR0YWNoVHJhY2UodGFyZ2V0T2JqZWN0LCB0cmFjZVNvdXJjZSkge1xuICAgICAgICBpZiAodHlwZW9mIHRyYWNlU291cmNlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICB0cmFjZVNvdXJjZSA9IHRoaXMuY2FwdHVyZVRyYWNlU291cmNlKHRyYWNlU291cmNlIHx8IFwiYXR0YWNoVHJhY2VcIiwgIXRyYWNlU291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0cmFjZSA9IHRyYWNlU291cmNlLnNvdXJjZTtcbiAgICAgICAgdGhpcy50b1ByaW50YWJsZVRyYWNlKHRyYWNlU291cmNlKVxuICAgICAgICAgICAgLnRoZW4ociA9PiB0cmFjZSA9IHIpO1xuXG4gICAgICAgIGxldCBsb2cgPSAoKSA9PiBjb25zb2xlLmxvZyh0cmFjZSkgfHwgdGhpcy5sYWJlbDtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0T2JqZWN0LCB0aGlzLmtleXNbMF0gLyogdHJhY2VMb2cgKi8sIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgLy8gaGlkZSB0aGUgZnVuY3Rpb24gYm9keSB0byBpbXByb3ZlIHJlYWRhYmlsaXR5IGluIGRldnRvb2xcbiAgICAgICAgICAgIGdldDogKCkgPT4gbG9nKClcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXRPYmplY3QsIHRoaXMua2V5c1sxXSAvKiB0cmFjZVNvdXJjZSAqLywge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAvLyBoaWRlIHRoZSB0cmFjZVNvdXJjZSBFcnJvciB0byBpbXByb3ZlIHJlYWRhYmlsaXR5IGluIGRldnRvb2wsIHNwZWNpYWxseSBpbiBGaXJlZm94XG4gICAgICAgICAgICBnZXQ6ICgpID0+IHRyYWNlU291cmNlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRvUHJpbnRhYmxlVHJhY2UodHJhY2VTb3VyY2UpIHtcbiAgICAgICAgLy8gU1BFQzogdGhpcyBvdmVycmlkYWJsZSBtZXRob2QgcmV0dXJucyBhIHByb21pc2VcbiAgICAgICAgLy8gYmVjYXVzZSBzdGFja3RyYWNlIHBhcnNlcnMgbWF5IGJlIGFzeW5jaHJvbm91c1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRyYWNlU291cmNlLnNvdXJjZSlcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeVRyYWNlX0xJQl9TVEFDS1RSQUNFIGV4dGVuZHMgSkZhY3RvcnlUcmFjZV9OT0ZJTFRFUiB7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcbiAgICB9XG5cbiAgICB0b1ByaW50YWJsZVRyYWNlKHRyYWNlU291cmNlKSB7XG4gICAgICAgIHJldHVybiBTdGFja1RyYWNlLmZyb21FcnJvcih0cmFjZVNvdXJjZS5zb3VyY2UsIHRoaXMubGliT3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKHRyYWNlRnJhbWVzID0+IHtcblxuICAgICAgICAgICAgICAgIGlmICh0cmFjZVNvdXJjZS5vbWl0QWJvdmVGdW5jdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNsaWNlID0gdHJhY2VGcmFtZXMuZmluZEluZGV4KFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5mdW5jdGlvbk5hbWUgJiYgdmFsdWUuZnVuY3Rpb25OYW1lLmVuZHNXaXRoKHRyYWNlU291cmNlLm9taXRBYm92ZUZ1bmN0aW9uTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNsaWNlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNlU291cmNlLm9taXRTZWxmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpY2UrK1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VGcmFtZXMgPSB0cmFjZUZyYW1lcy5zbGljZShzbGljZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJhY2VGcmFtZXMgPSB0cmFjZUZyYW1lc1xuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHRoaXMubGliT3B0aW9ucy5maWx0ZXIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdFRyYWNlRnJhbWVzKHRyYWNlRnJhbWVzKVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9ybWF0VHJhY2VGcmFtZXModHJhY2VGcmFtZXMpIHtcbiAgICAgICAgbGV0IGhlYWRlcjtcbiAgICAgICAgbGV0IGxpbmVQcmVmaXg7XG4gICAgICAgIGlmICh0aGlzLmxpYk9wdGlvbnMub2ZmbGluZSAmJiB3aW5kb3cuY2hyb21lKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgZmFsbG93aW5nIHN5bnRheCBpcyBkZXRlY3RlZCBvbiBDaHJvbWUsXG4gICAgICAgICAgICAvLyB0aGUgY29uc29sZS5sb2coKSB3aWxsIGNvbnZlcnQgdGhlIGZpbGVOYW1lcyB1c2luZyBzb3VyY2VtYXBzXG4gICAgICAgICAgICBoZWFkZXIgPSBcIkVycm9yXFxuXCI7IC8vIG5vdGVzIHRoYXQgYW55dGhpbmcgYWZ0ZXIgXCJFcnJvclwiIGlzIHZhbGlkXG4gICAgICAgICAgICBsaW5lUHJlZml4ID0gXCJcXHRhdCBcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhlYWRlciA9IFwiXCI7XG4gICAgICAgICAgICBsaW5lUHJlZml4ID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGVhZGVyICtcbiAgICAgICAgICAgIHRyYWNlRnJhbWVzXG4gICAgICAgICAgICAgICAgLm1hcChzZiA9PiBsaW5lUHJlZml4ICsgc2YudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAuam9pbihcIlxcblwiKTtcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnlUcmFjZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY29uc3QgakZhY3RvcnlUcmFjZSA9IHt9O1xuXG5qRmFjdG9yeUxvYWRlci5vbkluaXQoZnVuY3Rpb24oKSB7XG4gICAgbGV0IGNvbmZpZyA9IGpGYWN0b3J5Q29uZmlnLkpGYWN0b3J5VHJhY2U7XG4gICAgaWYgKGNvbmZpZyAmJiBjb25maWcudXNlICE9PSBmYWxzZSkge1xuICAgICAgICBsZXQgY29uc3RydWN0b3I7XG4gICAgICAgIGNvbnN0cnVjdG9yID0gdHlwZW9mIGNvbmZpZy51c2UgPT09IFwiZnVuY3Rpb25cIiA/XG4gICAgICAgICAgICBjb25maWcudXNlIDpcbiAgICAgICAgICAgIHR5cGVvZiBTdGFja1RyYWNlID09PSBcIm9iamVjdFwiID8gSkZhY3RvcnlUcmFjZV9MSUJfU1RBQ0tUUkFDRSA6IEpGYWN0b3J5VHJhY2VfTk9GSUxURVI7XG4gICAgICAgIGlmIChjb25zdHJ1Y3RvciA9PT0gSkZhY3RvcnlUcmFjZV9MSUJfU1RBQ0tUUkFDRSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiakZhY3Rvcnk6IFN0YWNrIHRyYWNlIGVuYWJsZWQ7IFBlcmZvcm1hbmNlIHdpbGwgYmUgYWZmZWN0ZWRcIilcbiAgICAgICAgfVxuICAgICAgICBqRmFjdG9yeVRyYWNlLnRyYWNlciA9IG5ldyBjb25zdHJ1Y3Rvcihjb25maWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGpGYWN0b3J5VHJhY2UudHJhY2VyID0ge1xuICAgICAgICAgICAgY2FwdHVyZVRyYWNlU291cmNlOiBOT09QLFxuICAgICAgICAgICAgYXR0YWNoVHJhY2U6IE5PT1BcbiAgICAgICAgfTtcbiAgICB9XG59KTsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgSkZBQ1RPUllfREVWLCBqRmFjdG9yeUNvbmZpZyB9IGZyb20gXCIuL2pGYWN0b3J5LWVudlwiO1xuaW1wb3J0IHsgaGVscGVyX2dldCwgaGVscGVyX2lzTmF0aXZlLCBoZWxwZXJfbG93ZXJGaXJzdCwgaGVscGVyX3RlbXBsYXRlIH0gZnJvbSBcIi4vakZhY3RvcnktaGVscGVyc1wiO1xuaW1wb3J0IHsgakZhY3RvcnlUcmFjZSB9IGZyb20gXCIuL0pGYWN0b3J5VHJhY2VcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeUVycm9yXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UgPSBcInVuc3BlY2lmaWVkIGVycm9yXCIsIGRhdGEgPSBudWxsKSB7XG4gICAgICAgIGRhdGEgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIGRhdGEpO1xuICAgICAgICBtZXNzYWdlID0gSkZhY3RvcnlFcnJvci50b1ByaW50YWJsZShtZXNzYWdlLCBkYXRhKTtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuJGRhdGEgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIGRhdGEpO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlXG4gICAgfVxuXG4gICAgKiBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgeWllbGQgdGhpcy5tZXNzYWdlO1xuICAgICAgICB5aWVsZCB0aGlzLiRkYXRhO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJZChvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdFsoakZhY3RvcnlDb25maWcuSkZhY3RvcnlFcnJvci5rZXlzIHx8IEpGYWN0b3J5RXJyb3IuREVGQVVMVF9LRVlTKS5maW5kKGtleSA9PiB7XG4gICAgICAgICAgICBsZXQgdmFsID0gaGVscGVyX2dldChvYmplY3QsIGtleSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsIHx8IHZhbCA9PT0gMFxuICAgICAgICB9KV1cbiAgICB9XG5cbiAgICBzdGF0aWMgdG9QcmludGFibGVEYXRhKGRhdGEpIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVEYXRhID0ge307XG4gICAgICAgIGxldCBudjtcbiAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhkYXRhKSkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbC5uYW1lICsgXCIoKVwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoKG52ID0gSkZhY3RvcnlFcnJvci5nZXRJZCh2YWwpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSAnXCInICsgbnYgKyAnXCInXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhlbHBlcl9pc05hdGl2ZSh2YWwudG9TdHJpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gdmFsLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnYgPSBKU09OLnN0cmluZ2lmeSh2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBudi5sZW5ndGggPiBKRmFjdG9yeUVycm9yLkpTT05fTUFYXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG52LnN1YnN0cmluZygwLCBKRmFjdG9yeUVycm9yLkpTT05fTUFYKSArIFwiWy4uLl1cIiA6IG52O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gXCJbb2JqZWN0IFwiICsgdmFsLmNvbnN0cnVjdG9yLm5hbWUgKyBcIl1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9ICdcIicgKyB2YWwgKyAnXCInO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB2YWwgPSBTdHJpbmcodmFsKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVtcGxhdGVEYXRhW2tleV0gPSB2YWxcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGVtcGxhdGVEYXRhXG4gICAgfVxuXG4gICAgc3RhdGljIHRvUHJpbnRhYmxlKHRlbXBsYXRlLCBkYXRhKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlTWVzc2FnZSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBwYXJ0IG9mIHRlbXBsYXRlLnNwbGl0KFwiO1wiKSkge1xuICAgICAgICAgICAgbGV0IHBsYWNlaG9sZGVyO1xuICAgICAgICAgICAgbGV0IFJFX1BMQUNFSE9MREVSID0gSkZhY3RvcnlFcnJvci5SRV9QTEFDRUhPTERFUjtcbiAgICAgICAgICAgIFJFX1BMQUNFSE9MREVSLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICBpZiAoKHBsYWNlaG9sZGVyID0gUkVfUExBQ0VIT0xERVIuZXhlYyhwYXJ0KSkpIHtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbGFjZWhvbGRlclsxXSAmJiBwbGFjZWhvbGRlclsxXSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZU1lc3NhZ2UucHVzaChwYXJ0LnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoKHBsYWNlaG9sZGVyID0gUkVfUExBQ0VIT0xERVIuZXhlYyhwYXJ0KSkgIT09IG51bGwpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlTWVzc2FnZS5wdXNoKHBhcnQudHJpbSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGVscGVyX2xvd2VyRmlyc3QoaGVscGVyX3RlbXBsYXRlKHRlbXBsYXRlTWVzc2FnZS5qb2luKFwiOyBcIikpKEpGYWN0b3J5RXJyb3IudG9QcmludGFibGVEYXRhKGRhdGEpKSk7XG4gICAgfVxufVxuXG5KRmFjdG9yeUVycm9yLkpTT05fTUFYID0gNDA7XG5KRmFjdG9yeUVycm9yLkRFRkFVTFRfS0VZUyA9IFtcIm5hbWVcIiwgXCJpZFwiXTtcbkpGYWN0b3J5RXJyb3IuUkVfUExBQ0VIT0xERVIgPSAvXFwkeyhbXn1dKyl9L2c7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnlFcnJvclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgbGV0IGpGYWN0b3J5RXJyb3IgPSBuZXcgUHJveHkoSkZhY3RvcnlFcnJvciwge1xuICAgIHNldDogZnVuY3Rpb24odGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgbGV0IHsgdGVtcGxhdGUgfSA9IHZhbHVlO1xuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYgJiYgdGFyZ2V0W3Byb3BlcnR5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYWxyZWFkeSBkZWNsYXJlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhcmdldFtwcm9wZXJ0eV0gPSBjbGFzcyBleHRlbmRzIEpGYWN0b3J5RXJyb3Ige1xuICAgICAgICAgICAgY29uc3RydWN0b3IoZGF0YSwgdHJhY2VTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBzdXBlcih0ZW1wbGF0ZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgakZhY3RvcnlUcmFjZS50cmFjZXIuYXR0YWNoVHJhY2UodGhpcy4kZGF0YSwgdHJhY2VTb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBDYXV0aW9uOiBDaHJvbWUgYXV0b21hdGljYWxseSByZXNvbHZlcyBzb3VyY2VtYXAgd2hlbiBsb2dnaW5nIGVycm9yc1xuICAgICAgICAvLyBidXQgb25seSBpZiB0aGUgZXJyb3IgbmFtZSBzdGFydHMgd2l0aCBcIkVycm9yXCJcbiAgICAgICAgdGFyZ2V0W3Byb3BlcnR5XS5wcm90b3R5cGUubmFtZSA9IFwiRXJyb3IgakZhY3RvcnlFcnJvci5cIiArIHByb3BlcnR5O1xuXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxufSk7XG5cbmpGYWN0b3J5RXJyb3IuSU5WQUxJRF9WQUxVRSA9IHsgdGVtcGxhdGU6IFwiaW52YWxpZCB2YWx1ZSBmb3IgJHt0YXJnZXR9OyBSZWFzb246ICR7cmVhc29ufTsgR2l2ZW46ICR7Z2l2ZW59XCIgfTtcbmpGYWN0b3J5RXJyb3IuSU5WQUxJRF9DQUxMID0geyB0ZW1wbGF0ZTogXCJpbnZhbGlkIGNhbGwgJHt0YXJnZXR9OyBSZWFzb246ICR7cmVhc29ufTsgT3duZXI6ICR7b3duZXJ9XCIgfTtcbmpGYWN0b3J5RXJyb3IuUFJPTUlTRV9FWFBJUkVEID0geyB0ZW1wbGF0ZTogXCJleHBpcmVkIHByb21pc2UgJHt0YXJnZXR9OyBSZWFzb246ICR7cmVhc29ufVwiIH07XG5qRmFjdG9yeUVycm9yLlJFUVVFU1RfRVJST1IgPSB7IHRlbXBsYXRlOiBcImVycm9yIHJlcXVlc3RpbmcgJHt0YXJnZXR9OyBSZWFzb246ICR7cmVhc29ufTsgT3duZXI6ICR7b3duZXJ9XCIgfTtcbmpGYWN0b3J5RXJyb3IuS0VZX0RVUExJQ0FURUQgPSB7IHRlbXBsYXRlOiBcImR1cGxpY2F0ZWQga2V5IGZvciAke3RhcmdldH07IEdpdmVuOiAke2dpdmVufVwiIH07XG5qRmFjdG9yeUVycm9yLktFWV9NSVNTSU5HID0geyB0ZW1wbGF0ZTogXCJtaXNzaW5nIGtleSBmb3IgJHt0YXJnZXR9OyBHaXZlbjogJHtnaXZlbn1cIiB9OyIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgeyBqRmFjdG9yeUVycm9yIH0gZnJvbSBcIi4vSkZhY3RvcnlFcnJvclwiO1xuaW1wb3J0IHsgaGVscGVyX2lzTnVtYmVyLCBoZWxwZXJfaXNQbGFpbk9iamVjdCwgaGVscGVyX2lzU3RyaW5nIH0gZnJvbSBcIi4vakZhY3RvcnktaGVscGVyc1wiO1xuaW1wb3J0IHsgakZhY3RvcnlMb2FkZXIgfSBmcm9tIFwiLi9qRmFjdG9yeS1sb2FkZXJcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeUV4cGVjdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBBIHNtYWxsIGlucHV0L291dHB1dCB2YWxpZGF0aW9uIHRvb2xcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBBbHBoYSwgRHJhZnRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIEByZXR1cm4geyp8SkZhY3RvcnlFeHBlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBKRmFjdG9yeUV4cGVjdChsYWJlbCwgdmFsdWUpIHtcbiAgICBpZiAobmV3LnRhcmdldCkge1xuICAgICAgICB0aGlzLmxhYmVsID0gbGFiZWw7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IEpGYWN0b3J5RXhwZWN0KGxhYmVsLCB2YWx1ZSlcbiAgICB9XG59XG5cbmNvbnN0IGVycm9yID0gZnVuY3Rpb24gakZhY3RvcnlUaHJvdyhsYWJlbCwgdmFsdWUsIG1lc3NhZ2UpIHtcbiAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5JTlZBTElEX1ZBTFVFKHtcbiAgICAgICAgdGFyZ2V0OiBsYWJlbCxcbiAgICAgICAgcmVhc29uOiBtZXNzYWdlLFxuICAgICAgICBnaXZlbjogdmFsdWVcbiAgICB9KVxufTtcblxuY29uc3Qgc3RhdGljTWV0aG9kcyA9IHtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdFVuZGVmaW5lZFxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBub3RVbmRlZmluZWRcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICBub3RVbmRlZmluZWQobGFiZWwsIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwiY2Fubm90IGJlIHVuZGVmaW5lZFwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgbm90RW1wdHlTdHJpbmdcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgbm90RW1wdHlTdHJpbmdcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICBub3RFbXB0eVN0cmluZyhsYWJlbCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwiY2Fubm90IGJlIGVtcHR5IHN0cmluZ1wiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgbm90RmFsc3lcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgbm90RmFsc3lcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICBub3RGYWxzeShsYWJlbCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCAnY2Fubm90IGJlIGEgZmFsc3kgdmFsdWUgKHVuZGVmaW5lZCwgbnVsbCwgTmFOLCAwLCBcIlwiKScpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB2YWxpZFNwYWNlc1xuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB2YWxpZFNwYWNlc1xuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHZhbGlkU3BhY2VzKGxhYmVsLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXZhbHVlLnJlcGxhY2UgfHwgdmFsdWUucmVwbGFjZSgvXFxzKy9nLCBcIiBcIikudHJpbSgpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcImludmFsaWQgc3BhY2UgZGVsaW1pdGVyc1wiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgbWF0Y2hSZWdcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IHJlZ1xuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG1hdGNoUmVnXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgbWF0Y2hSZWcobGFiZWwsIHZhbHVlLCByZWcpIHtcbiAgICAgICAgaWYgKCFyZWcudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgJ3N0cmluZyBcIicgKyB2YWx1ZSArICdcIiBtdXN0IG1hdGNoICcgKyByZWcpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7Li4uKn0gZXhwZWN0ZWRcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgdHlwZShsYWJlbCwgdmFsdWUsIC4uLmV4cGVjdGVkKSB7XG4gICAgICAgIGxldCBuYW1lLCBvayA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBjb25zdHJ1Y3RvciBvZiBleHBlY3RlZCkge1xuICAgICAgICAgICAgaWYgKGNvbnN0cnVjdG9yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IFwiTnVsbFwiXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFwibmFtZVwiIGluIGNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IGNvbnN0cnVjdG9yLm5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB0ZXN0ID0gc3RhdGljTWV0aG9kc1tcInR5cGVcIiArIG5hbWVdO1xuICAgICAgICAgICAgaWYgKHRlc3QpIHtcbiAgICAgICAgICAgICAgICB0cnkge29rID0gdGVzdChsYWJlbCwgdmFsdWUvKiwgZSovKX0gY2F0Y2ggKGUpIHt9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9rID0gdmFsdWUgaW5zdGFuY2VvZiBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9rKSBicmVha1xuICAgICAgICB9XG4gICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFtcIiArIGV4cGVjdGVkLm1hcChlID0+IGUubmFtZSkuam9pbihcIiwgXCIpICsgXCJdXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlTnVsbFxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlTnVsbFxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHR5cGVOdWxsKGxhYmVsLCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IGJlIG51bGxcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVCb29sZWFuXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVCb29sZWFuXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgdHlwZUJvb2xlYW4obGFiZWwsIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdHJ1ZSAmJiB2YWx1ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IGJlIGEgYm9vbGVhblwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZVN0cmluZ1xuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlU3RyaW5nXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgdHlwZVN0cmluZyhsYWJlbCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFoZWxwZXJfaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBiZSBhIHN0cmluZ1wiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZU51bWJlclxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlTnVtYmVyXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgdHlwZU51bWJlcihsYWJlbCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFoZWxwZXJfaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBiZSBhIG51bWJlclwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZUZ1bmN0aW9uXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHR5cGVGdW5jdGlvblxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHR5cGVGdW5jdGlvbihsYWJlbCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCEodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBiZSBhIGZ1bmN0aW9uXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0eXBlUGxhaW5PYmplY3RcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdHlwZVBsYWluT2JqZWN0XG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgdHlwZVBsYWluT2JqZWN0KGxhYmVsLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIWhlbHBlcl9pc1BsYWluT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgYSBwbGFpbiBvYmplY3RcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGVxdWFsXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7Kn0gZXhwZWN0ZWRcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBlcXVhbFxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIGVxdWFsKGxhYmVsLCB2YWx1ZSwgLi4uZXhwZWN0ZWQpIHtcbiAgICAgICAgbGV0IG9rID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGUgb2YgZXhwZWN0ZWQpIHtcbiAgICAgICAgICAgIGlmICgob2sgPSB2YWx1ZSA9PT0gZSkpIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvaykge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgb25lIG9mIFtcIiArIGV4cGVjdGVkICsgXCJdXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZXF1YWxJblxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gZXhwZWN0ZWRcbiAgICAgKiBAcmV0dXJuIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBlcXVhbEluXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgZXF1YWxJbihsYWJlbCwgdmFsdWUsIGV4cGVjdGVkKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShleHBlY3RlZCkpIHtcbiAgICAgICAgICAgIGV4cGVjdGVkID0gT2JqZWN0LnZhbHVlcyhleHBlY3RlZClcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWV4cGVjdGVkLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3QgYmUgb25lIGZyb20gW1wiICsgZXhwZWN0ZWQuam9pbihcIiwgXCIpICsgXCJdXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBwcm9wZXJ0aWVzXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0I1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGV4cGVjdGVkXG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgcHJvcGVydGllc1xuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHByb3BlcnRpZXMobGFiZWwsIHZhbHVlLCBleHBlY3RlZCkge1xuICAgICAgICBmb3IgKGxldCBuYW1lIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKSkge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QobGFiZWwgKyAnLCBwcm9wZXJ0eSBuYW1lIFwiJyArIG5hbWUgKyAnXCInLCBuYW1lKS5lcXVhbEluKGV4cGVjdGVkKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgd3JpdGFibGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHdyaXRhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgd3JpdGFibGUobGFiZWwsIHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpLndyaXRhYmxlKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBiZSB3cml0YWJsZVwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgbm90V3JpdGFibGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdFdyaXRhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgbm90V3JpdGFibGUobGFiZWwsIHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUsIGtleSkud3JpdGFibGUpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IG5vdCBiZSB3cml0YWJsZVwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZW51bWVyYWJsZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZW51bWVyYWJsZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIGVudW1lcmFibGUobGFiZWwsIHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsIGtleSkpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IGJlIGVudW1lcmFibGVcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdEVudW1lcmFibGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdEVudW1lcmFibGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICBub3RFbnVtZXJhYmxlKGxhYmVsLCB2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsIGtleSkpIHtcbiAgICAgICAgICAgIGVycm9yKGxhYmVsLCB2YWx1ZSwgXCJtdXN0IG5vdCBiZSBlbnVtZXJhYmxlXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBjb25maWd1cmFibGVcbiAgICAgKiBAbWVtYmVyT2YgSkZhY3RvcnlFeHBlY3QjXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgICAqIEByZXR1cm4gSkZhY3RvcnlFeHBlY3RcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGNvbmZpZ3VyYWJsZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIGNvbmZpZ3VyYWJsZShsYWJlbCwgdmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUsIGtleSkuY29uZmlndXJhYmxlKSB7XG4gICAgICAgICAgICBlcnJvcihsYWJlbCwgdmFsdWUsIFwibXVzdCBiZSBjb25maWd1cmFibGVcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIG5vdENvbmZpZ3VyYWJsZVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgbm90Q29uZmlndXJhYmxlXG4gICAgICogQG1lbWJlck9mIEpGYWN0b3J5RXhwZWN0XG4gICAgICovXG4gICAgbm90Q29uZmlndXJhYmxlKGxhYmVsLCB2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcIm11c3Qgbm90IGJlIGNvbmZpZ3VyYWJsZVwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgcmVzZXJ2ZWRQcm9wZXJ0eVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdCNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgICogQHJldHVybiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgcmVzZXJ2ZWRQcm9wZXJ0eVxuICAgICAqIEBtZW1iZXJPZiBKRmFjdG9yeUV4cGVjdFxuICAgICAqL1xuICAgIHJlc2VydmVkUHJvcGVydHkobGFiZWwsIHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKGtleSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgZXJyb3IobGFiZWwsIHZhbHVlLCBcImlzIGEgcmVzZXJ2ZWQgcHJvcGVydHlcIilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbn07XG5cbmpGYWN0b3J5TG9hZGVyLm9uSW5pdChmdW5jdGlvbigpIHtcbiAgICBPYmplY3QuYXNzaWduKEpGYWN0b3J5RXhwZWN0LCBzdGF0aWNNZXRob2RzKTtcbiAgICAvLyBHZW5lcmF0ZSBtZW1iZXJzIGZyb20gc3RhdGljIG1ldGhvZHNcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc3RhdGljTWV0aG9kcykpIHtcbiAgICAgICAgSkZhY3RvcnlFeHBlY3QucHJvdG90eXBlW25hbWVdID1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhbGxTdGF0aWMoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0W25hbWVdKHRoaXMubGFiZWwsIHRoaXMudmFsdWUsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXG4gICAgICAgICAgICB9XG4gICAgfVxufSk7IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IEpGQUNUT1JZX0RFViwgakZhY3RvcnlDb25maWcgfSBmcm9tIFwiLi9qRmFjdG9yeS1lbnZcIjtcbmltcG9ydCB7IEpGYWN0b3J5RXhwZWN0IH0gZnJvbSBcIi4vSkZhY3RvcnlFeHBlY3RcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeVRyYWl0c1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlUcmFpdHMge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7SkZhY3RvcnlDb3JlT2JqZWN0fE9iamVjdH0gY2FsbGVySW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0NsYXNzfEZ1bmN0aW9ufSBjYWxsZXJDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2FsbGVySW5zdGFuY2UsIGNhbGxlckNvbnN0cnVjdG9yLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtKRmFjdG9yeUNvcmVPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbGxlckluc3RhbmNlID0gY2FsbGVySW5zdGFuY2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtDbGFzc3xGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FsbGVyQ29uc3RydWN0b3IgPSBjYWxsZXJDb25zdHJ1Y3RvcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuXG4gICAgdXNlKHRyYWl0LCAuLi50cmFpdEFyZ3MpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeVRyYWl0cyh0cmFpdClcIiwgdHJhaXQpLnR5cGVGdW5jdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FsbGVyQ29uc3RydWN0b3IgaXMgbm90IGFsd2F5cyB0aGUgY2FsbGVySW5zdGFuY2UuY29uc3RydWN0b3I6XG4gICAgICAgIC8vIFRoZSBUcmFpdCBjYW4gYmUgaW5qZWN0ZWQgaW4gYW4gaW5oZXJpdGVkIGNvbnN0cnVjdG9yIGZyb20gc3VwZXIoKSBhdCBjYWxsIHRpbWVcbiAgICAgICAgbGV0IHsgY2FsbGVySW5zdGFuY2UsIGNhbGxlckNvbnN0cnVjdG9yIH0gPSB0aGlzO1xuXG4gICAgICAgIC8vIERldGVjdCBpbXByb3BlciBkdXBsaWNhdGlvbiAoY2FuIGJlIGEgdHJhaXQgYWxyZWFkeSBjYWxsZWQgYnkgYSBzdXBlciBjbGFzcylcbiAgICAgICAgbGV0IGNhY2hlID0gSkZhY3RvcnlUcmFpdHMuQ0FDSEUuZ2V0KGNhbGxlckluc3RhbmNlKTtcblxuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIGlmIChjYWNoZS5oYXModHJhaXQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGpGYWN0b3J5Q29uZmlnLlRyYWl0TG9nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgJHt0cmFpdC5uYW1lfSBhbHJlYWR5IGNhbGxlZCBvbmAsIGNhbGxlckluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhY2hlLmFkZCh0cmFpdClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEpGYWN0b3J5VHJhaXRzLkNBQ0hFLnNldChjYWxsZXJJbnN0YW5jZSwgbmV3IFdlYWtTZXQoW3RyYWl0XSkpXG4gICAgICAgIH1cblxuICAgICAgICAhY2FsbGVyQ29uc3RydWN0b3IuSkZhY3RvcnlUcmFpdCAmJiAoY2FsbGVyQ29uc3RydWN0b3IuSkZhY3RvcnlUcmFpdCA9IG5ldyBXZWFrU2V0KTtcblxuICAgICAgICBpZiAoIWNhbGxlckNvbnN0cnVjdG9yLkpGYWN0b3J5VHJhaXQuaGFzKHRyYWl0KSkge1xuICAgICAgICAgICAgY2FsbGVyQ29uc3RydWN0b3IuSkZhY3RvcnlUcmFpdC5hZGQodHJhaXQpO1xuICAgICAgICAgICAgdGhpcy5leHBvcnQodHJhaXQucHJvdG90eXBlLCBjYWxsZXJDb25zdHJ1Y3Rvci5wcm90b3R5cGUpO1xuICAgICAgICAgICAgdGhpcy5leHBvcnQodHJhaXQsIGNhbGxlckNvbnN0cnVjdG9yLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluIGEgVHJhaXQuY29uc3RydWN0b3IoY2FsbGVySW5zdGFuY2UsIC4uLmFyZ3MpIDogdGhpcyAhPSBjYWxsZXJJbnN0YW5jZVxuICAgICAgICAvLyBJbiBhIFRyYWl0LnRyYWl0X2NvbnN0cnVjdG9yKC4uLmFyZ3MpIDogdGhpcyA9PSBjYWxsZXJJbnN0YW5jZSAodHJhaXRzIGlzIGluamVjdGVkIGFuZCBhdmFpbGFibGUpXG5cbiAgICAgICAgLy8gVHJhaXRzIGFyZSBpbmplY3Rpb25zLiBUaGV5IGFyZSBub3QgZHluYW1pYyBpbmhlcml0YW5jZS5cbiAgICAgICAgLy8gU28gdGhlIFRyYWl0LmNvbnN0cnVjdG9yKCkgZG9lc24ndCBzaGFyZSB0aGUgXCJ0aGlzXCIga2V5d29yZCB3aXRoIGl0cyBjYWxsZXIuXG5cbiAgICAgICAgLy8gI2xpbWl0YXRpb24jIE5vIHdheSB0byBiaW5kIGFuIEVTNiBjbGFzcyBjb25zdHJ1Y3RvciB0byBhbiBvYmplY3RcbiAgICAgICAgLy8gPT4gSW1wbGVtZW50ZXIgY2FuIGRlZmluZSBhIFwidHJhaXRfY29uc3RydWN0b3IoKVwiIHRoYXQgaXMgYXV0b21hdGljYWxseSBib3VuZCB0byBcImNhbGxlckluc3RhbmNlXCJcbiAgICAgICAgLy8gYW5kIGNhbGxlZCBhZnRlciB0aGUgbmF0aXZlIHRyYWl0IGNvbnN0cnVjdG9yKCkuXG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbiAgICAgICAgbGV0IHRyYWl0SW5zdGFuY2UgPSBuZXcgdHJhaXQoY2FsbGVySW5zdGFuY2UsIC4uLnRyYWl0QXJncyk7XG4gICAgICAgIGlmICh0cmFpdEluc3RhbmNlLnRyYWl0X2NvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICB0cmFpdEluc3RhbmNlLnRyYWl0X2NvbnN0cnVjdG9yLmFwcGx5KGNhbGxlckluc3RhbmNlLCB0cmFpdEFyZ3MpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBleHBvcnQoc291cmNlLCB0YXJnZXQsIGlzU3RhdGljKSB7XG4gICAgICAgIGxldCBzb3VyY2VEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKTtcblxuICAgICAgICBmb3IgKGxldCBwcm9wZXJ0eU5hbWUgb2YgT2JqZWN0LmtleXMoc291cmNlRGVzY3JpcHRvcikpIHtcbiAgICAgICAgICAgIGxldCBwcmVmaXggPSBKRmFjdG9yeVRyYWl0cy5nZXRQcmVmaXgocHJvcGVydHlOYW1lKTtcblxuICAgICAgICAgICAgaWYgKEpGYWN0b3J5VHJhaXRzLmdldFRhcmdldChwcm9wZXJ0eU5hbWUsIHRhcmdldCwgcHJlZml4KSkge1xuICAgICAgICAgICAgICAgIGxldCBwcm9wZXJ0eURlc2NyaXB0b3IgPSBzb3VyY2VEZXNjcmlwdG9yW3Byb3BlcnR5TmFtZV07XG4gICAgICAgICAgICAgICAgbGV0IHBhcnNlZCA9ICh0aGlzLm9wdGlvbnMucGFyc2VyIHx8IEpGYWN0b3J5VHJhaXRzLmRlZmF1bHRQYXJzZXIpKFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5RGVzY3JpcHRvciwgc291cmNlLCB0YXJnZXQsIGlzU3RhdGljXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICh7IHByb3BlcnR5TmFtZSwgcHJvcGVydHlEZXNjcmlwdG9yIH0gPSBwYXJzZWQpO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5RGVzY3JpcHRvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQYXJzZXIocHJvcGVydHlOYW1lLCBwcm9wZXJ0eURlc2NyaXB0b3IsIHNvdXJjZSwgdGFyZ2V0LCBpc1N0YXRpYykge1xuICAgICAgICBsZXQgdmFsdWUgPSBwcm9wZXJ0eURlc2NyaXB0b3IudmFsdWU7XG5cbiAgICAgICAgaWYgKGlzU3RhdGljKSB7cmV0dXJuIG51bGx9IC8vIGRvbid0IGV4cG9ydCBzdGF0aWMgbWVtYmVyc1xuXG4gICAgICAgIGlmIChwcm9wZXJ0eU5hbWUgaW4gdGFyZ2V0KSB7IC8vIHNraXAgZXhpc3RpbmcgcHJvcGVydGllc1xuICAgICAgICAgICAgaWYgKGpGYWN0b3J5Q29uZmlnLlRyYWl0TG9nKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgICBgJHt0YXJnZXQuY29uc3RydWN0b3IubmFtZX0+IHNraXBwaW5nIGV4cG9ydCBvZiBleGlzdGluZyBwcm9wZXJ0eSBcIiR7cHJvcGVydHlOYW1lfVwiYCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHsgLy8gcHJldmVudCBzaGFyZWQgb2JqZWN0IGV4cG9ydGF0aW9uXG4gICAgICAgICAgICBpZiAoakZhY3RvcnlDb25maWcuVHJhaXRMb2cpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgICAgIGAke3RhcmdldC5jb25zdHJ1Y3Rvci5uYW1lfT4gc2tpcHBpbmcgZXhwb3J0IG9mIHNoYXJlZCBvYmplY3QgXCIke3Byb3BlcnR5TmFtZX1cImAsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eURlc2NyaXB0b3IgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXRQcmVmaXgoa2V5KSB7XG4gICAgICAgIGxldCBzcGxpdCA9IGtleS5zcGxpdChcIl9cIik7XG4gICAgICAgIHJldHVybiBzcGxpdC5sZW5ndGggPiAxID8gc3BsaXRbMF0gOiBudWxsO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRUYXJnZXQoa2V5LCB0YXJnZXQsIHByZWZpeCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBKRmFjdG9yeVRyYWl0cy5FWENMVURFUy5pbmNsdWRlcyhrZXkpIHx8XG4gICAgICAgICAgICBwcmVmaXggPT09IFwidHJhaXRcIlxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0XG4gICAgfVxufVxuXG5KRmFjdG9yeVRyYWl0cy5DQUNIRSA9IG5ldyBXZWFrTWFwO1xuSkZhY3RvcnlUcmFpdHMuRVhDTFVERVMgPSBbXCJjb25zdHJ1Y3RvclwiLCBcInByb3RvdHlwZVwiLCBcImxlbmd0aFwiLCBcInNpemVcIl07IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IEpGQUNUT1JZX0RFViwgakZhY3RvcnlDb25maWcgfSBmcm9tIFwiLi9qRmFjdG9yeS1lbnZcIjtcbmltcG9ydCB7IEpGYWN0b3J5RXhwZWN0IH0gZnJvbSBcIi4vSkZhY3RvcnlFeHBlY3RcIjtcbmltcG9ydCB7IGpGYWN0b3J5RXJyb3IgfSBmcm9tIFwiLi9KRmFjdG9yeUVycm9yXCI7XG5pbXBvcnQgeyBzZXRGdW5jdGlvbk5hbWUgfSBmcm9tIFwiLi9qRmFjdG9yeS1oZWxwZXJzXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlGdW5jdGlvbkNvbXBvc2VyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXIge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIH1cblxuICAgICogW1N5bWJvbC5pdGVyYXRvcl0oaGFuZGxlckdyb3VwcyA9IFtdKSB7XG5cbiAgICAgICAgaWYgKCFoYW5kbGVyR3JvdXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgaGFuZGxlckdyb3VwcyA9IE9iamVjdC5rZXlzKHRoaXMuaGFuZGxlcnMpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYW5kbGVyR3JvdXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgaGFuZGxlckdyb3VwcyA9IFtcImRlZmF1bHRcIl1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGhhbmRsZXJHcm91cCBvZiBoYW5kbGVyR3JvdXBzKSB7XG4gICAgICAgICAgICBpZiAoaGFuZGxlckdyb3VwIGluIHRoaXMuaGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCogdGhpcy5oYW5kbGVyc1toYW5kbGVyR3JvdXBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogQHJldHVybiB7SkZhY3RvcnlGdW5jdGlvbkNvbXBvc2VyfSAqL1xuICAgIGZpcnN0KGhhbmRsZXJHcm91cCwgaGFuZGxlcikge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgW2hhbmRsZXJHcm91cCwgaGFuZGxlcl0gPSBbXCJkZWZhdWx0XCIsIGhhbmRsZXJHcm91cF1cbiAgICAgICAgfVxuICAgICAgICAodGhpcy5oYW5kbGVyc1toYW5kbGVyR3JvdXBdIHx8ICh0aGlzLmhhbmRsZXJzW2hhbmRsZXJHcm91cF0gPSBbXSkpLnVuc2hpZnQoaGFuZGxlcik7XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqIEByZXR1cm4ge0pGYWN0b3J5RnVuY3Rpb25Db21wb3Nlcn0gKi9cbiAgICBsYXN0KGhhbmRsZXJHcm91cCwgaGFuZGxlcikge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgW2hhbmRsZXJHcm91cCwgaGFuZGxlcl0gPSBbXCJkZWZhdWx0XCIsIGhhbmRsZXJHcm91cF1cbiAgICAgICAgfVxuICAgICAgICAodGhpcy5oYW5kbGVyc1toYW5kbGVyR3JvdXBdIHx8ICh0aGlzLmhhbmRsZXJzW2hhbmRsZXJHcm91cF0gPSBbXSkpLnB1c2goaGFuZGxlcik7XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqIEByZXR1cm4geyhmdW5jdGlvbigpOiAqKSAmIHtjb21wb3NlcjogSkZhY3RvcnlGdW5jdGlvbkNvbXBvc2VyfX0gKi9cbiAgICBjb21wb3NlKC4uLmhhbmRsZXJHcm91cHMpIHtcbiAgICAgICAgbGV0IGNvbXBvc2VyID0gdGhpcztcbiAgICAgICAgbGV0IGNvbXBvc2l0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gISEhIS0tISEhIS0tISEhIS0tISEhIS0tISEhIS0tISEhIS0tISEhIS0tISEhISAvL1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgd3JhcHBlZCBmdW5jdGlvbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgWW91IHNob3VsZCBCbGFja2JveCBKRmFjdG9yeUZ1bmN0aW9uLm1qcyAgICAvL1xuICAgICAgICAgICAgLy8gICAgdG8gc2ltcGxpZnkgZGVidWdnaW5nICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gISEhIS0tISEhIS0tISEhIS0tISEhIS0tISEhIS0tISEhIS0tISEhIS0tISEhISAvL1xuICAgICAgICAgICAgbGV0IGNvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IEFycmF5LmZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICByZXN1bHQ6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBpdGVyYXRvciA9IGNvbXBvc2VyW1N5bWJvbC5pdGVyYXRvcl0oaGFuZGxlckdyb3Vwcyk7XG4gICAgICAgICAgICBsZXQgaXRlcmF0aW9uID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIEpGYWN0b3J5RnVuY3Rpb25Db21wb3Nlci5jb21wb3NpdGVfaXRlcmF0b3IoXG4gICAgICAgICAgICAgICAgdGhpcyAvKiBwcmVzZXJ2ZSBjYWxsIHNjb3BlICovLCBjb250ZXh0LCBpdGVyYXRpb24sIGl0ZXJhdG9yKVxuICAgICAgICB9O1xuICAgICAgICBjb21wb3NpdGUuY29tcG9zZXIgPSBjb21wb3NlcjtcbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9XG5cbiAgICAvLyBTUEVDOiBDb21wb3NpdGUgZnVuY3Rpb25zIHJldHVybnMgcHJvbWlzZSAqb25seSogaWYgYXQgbGVhc3RcbiAgICAvLyBvbmUgaGFuZGxlciByZXR1cm5zIGEgcHJvbWlzZSAoYXN5bmMgZnVuY3Rpb24gb3IgcHJvbWlzZSByZXR1cm4pXG4gICAgLy8gU28gd2UgY2Fubm90IGp1c3QgaXRlcmF0ZSB1c2luZyBhbiBcImF3YWl0IGZvciBvZlwiXG4gICAgc3RhdGljIGNvbXBvc2l0ZV9pdGVyYXRvcihzY29wZSwgY29udGV4dCwgaXRlcmF0aW9uLCBoYW5kbGVycykge1xuICAgICAgICBsZXQgaGFuZGxlcixcbiAgICAgICAgICAgIHJlc3VsdDtcblxuICAgICAgICB3aGlsZSAoIWNvbnRleHQuY2FuY2VsZWQgJiYgIWl0ZXJhdGlvbi5kb25lKSB7XG4gICAgICAgICAgICBoYW5kbGVyID0gaXRlcmF0aW9uLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gaGFuZGxlci5jYWxsKHNjb3BlLCBjb250ZXh0LCAuLi5jb250ZXh0LnBhcmFtZXRlcnMpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIoY29udGV4dCwgLi4uY29udGV4dC5wYXJhbWV0ZXJzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlcmF0aW9uID0gaGFuZGxlcnMubmV4dCgpOyAvLyBwcmVwYXJlcyBuZXh0IGl0ZXJhdGlvbiB0byBrbm93IGlmIFwiZG9uZVwiXG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYXRpb24uZG9uZVxuICAgICAgICAgICAgICAgICAgICAvLyBjYXNlIG9mIGxhc3QgaGFuZGxlciByZXR1cm5pbmcgYSBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgIC8vICNsaW1pdGF0aW9uIyBub3cgd2F5IHRvIGRldGVjdCBpZiB0aGUgcHJvbWlzZSBpcyB0aGUgcmV0dXJuZWQgdmFsdWUgb3IgYW4gXCJhd2FpdFwiXG4gICAgICAgICAgICAgICAgICAgIC8vICh3ZSBkb24ndCB3YW50IHRvIGNoYW5nZSB0aGUgdmFsdWUgb2YgY29udGV4dC5yZXN1bHQgZHVyaW5nIGEgcGVuZGluZyBoYW5kbGVyKVxuICAgICAgICAgICAgICAgICAgICAvLyA9PiBuYXRpdmUgUHJvbWlzZSBhcmUgYWx3YXlzIGNoYWluZWRcbiAgICAgICAgICAgICAgICAgICAgJiYgcmVzdWx0LmNvbnN0cnVjdG9yICE9PSBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdWx0ID0gcmVzdWx0IC8vIHdlIGNhbiBzYWZlbHkgc2V0IHRoZSBuZXcgcmVzdWx0XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKHNldEZ1bmN0aW9uTmFtZShcbiAgICAgICAgICAgICAgICAgICAgICAgIFtoYW5kbGVyLm5hbWUsIFwiW2NvbXBvc2l0ZUFzeW5jSGFuZGxlcl1cIl0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXIuY29tcG9zaXRlX2l0ZXJhdG9yKHNjb3BlLCBjb250ZXh0LCBpdGVyYXRpb24sIGhhbmRsZXJzKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5yZXN1bHQgPSByZXN1bHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGV4dC5yZXN1bHRcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlGdW5jdGlvbkV4cGlyYWJsZSAtIEV4cGlyYWJsZSBGdW5jdGlvbiBQYXR0ZXJuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGZ1bmN0aW9uIGpGYWN0b3J5RnVuY3Rpb25FeHBpcmFibGUob3JpZ2luYWxIYW5kbGVyKSB7XG4gICAgcmV0dXJuIG5ldyBKRmFjdG9yeUZ1bmN0aW9uRXhwaXJhYmxlKG9yaWdpbmFsSGFuZGxlcikuY29tcG9zZSgpXG59XG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUZ1bmN0aW9uRXhwaXJhYmxlIHtcblxuICAgIGNvbnN0cnVjdG9yKG9yaWdpbmFsSGFuZGxlcikge1xuICAgICAgICB0aGlzLm9yaWdpbmFsSGFuZGxlciA9IG9yaWdpbmFsSGFuZGxlcjtcbiAgICAgICAgdGhpcy5leHBpcmVkQ2FsbHMgPSAwO1xuICAgICAgICB0aGlzLmNvbXBvc2VyID0gbmV3IEpGYWN0b3J5RnVuY3Rpb25Db21wb3NlcjtcblxuICAgICAgICBsZXQgaXNFeHBpcmVkID0gdGhpcy5jb21wb3Nlci5jb21wb3NlKFwiY29uZGl0aW9uc1wiKTtcbiAgICAgICAgbGV0IGV4cGlyYWJsZSA9IHRoaXM7XG4gICAgICAgIGxldCBleHBpcmVkO1xuXG4gICAgICAgIC8vIGNhbm5vdCB1c2UgYSByZWFsIGFjY2Vzc29yIGhlcmUgKGNvbmRpdGlvbnMgY2FuIGJlIHNjb3BlZCwgc28gaXNFeHBpcmVkIHRvbylcbiAgICAgICAgdGhpcy5pc0V4cGlyZWQgPSBzY29wZSA9PiBleHBpcmVkIHx8IGlzRXhwaXJlZC5jYWxsKHNjb3BlKSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5zZXRFeHBpcmVkID0gdmFsdWUgPT4gZXhwaXJlZCA9IHZhbHVlID9cbiAgICAgICAgICAgIHZhbHVlIGluc3RhbmNlb2YgRXJyb3IgPyB2YWx1ZSA6IG5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfQ0FMTCh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLm9yaWdpbmFsSGFuZGxlcixcbiAgICAgICAgICAgICAgICByZWFzb246IFwibWFudWFsbHkgZXhwaXJlZFwiXG4gICAgICAgICAgICB9KSA6IEJvb2xlYW4odGhpcy5leHBpcmVkQ2FsbHMgPSAwKTtcblxuICAgICAgICB0aGlzLmFkZEV4cGlyZUNvbmRpdGlvbiA9IGZ1bmN0aW9uKGNvbmRpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb21wb3Nlci5sYXN0KFwiY29uZGl0aW9uc1wiLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGRvbmUgPSBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUZ1bmN0aW9uRXhwaXJhYmxlLmFkZEV4cGlyZUNvbmRpdGlvbigpLCByZXN1bHRcIiwgcmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50eXBlKEJvb2xlYW4sIEVycm9yKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBpcmFibGUuc2V0RXhwaXJlZChyZXN1bHQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbnRleHQuY2FuY2VsZWQgPSB0cnVlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfQ0FMTCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogZXhwaXJhYmxlLm9yaWdpbmFsSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcImNvbmRpdGlvbmFsbHkgZXhwaXJlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBjb25kaXRpb24uYXBwbHkodGhpcywgY29udGV4dC5wYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSA/IHJlc3VsdC50aGVuKGRvbmUpIDogZG9uZShyZXN1bHQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb21wb3NlKCkge1xuICAgICAgICBsZXQgZXhwaXJhYmxlID0gdGhpcztcbiAgICAgICAgbGV0IGNvbXBvc2l0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGV0IGlzRXhwaXJlZCA9IGV4cGlyYWJsZS5pc0V4cGlyZWQodGhpcyk7XG4gICAgICAgICAgICBsZXQgY2FsbCA9IGV4cGlyYWJsZS5jb25zdHJ1Y3Rvci5jYWxsLmJpbmQodW5kZWZpbmVkLCBleHBpcmFibGUsIHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICByZXR1cm4gaXNFeHBpcmVkIGluc3RhbmNlb2YgUHJvbWlzZSA/IGlzRXhwaXJlZC50aGVuKGNhbGwpIDogY2FsbChpc0V4cGlyZWQpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihjb21wb3NpdGUsIHtcbiAgICAgICAgICAgIGV4cGlyYWJsZTogdGhpcyxcbiAgICAgICAgICAgIGlzRXhwaXJlZDogZiA9PiB0aGlzLmlzRXhwaXJlZChmKSxcbiAgICAgICAgICAgIHNldEV4cGlyZWQ6IGYgPT4gdGhpcy5zZXRFeHBpcmVkKGYpLFxuICAgICAgICAgICAgYWRkRXhwaXJlQ29uZGl0aW9uOiBmID0+IHt0aGlzLmFkZEV4cGlyZUNvbmRpdGlvbihmKTsgcmV0dXJuIGNvbXBvc2l0ZX1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNhbGwoZXhwaXJhYmxlLCBzY29wZSwgYXJncywgaXNFeHBpcmVkKSB7XG4gICAgICAgIHJldHVybiBpc0V4cGlyZWQgPyBleHBpcmFibGUub25FeHBpcmVkKGlzRXhwaXJlZCkgOiBleHBpcmFibGUub25Ob3RFeHBpcmVkKHNjb3BlLCBhcmdzKTtcbiAgICB9XG5cbiAgICBvbkV4cGlyZWQoZXhwaXJlZCkge1xuICAgICAgICBpZiAodGhpcy5leHBpcmVkQ2FsbHMgPCBKRmFjdG9yeUZ1bmN0aW9uRXhwaXJhYmxlLk1heFdhcm5pbmdFeHBpcmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmV4cGlyZWRDYWxscysrO1xuICAgICAgICAgICAgaWYgKGpGYWN0b3J5Q29uZmlnLlRyYWl0TG9nKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKC4uLm5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfQ0FMTCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmV4cGlyZWQuJGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogZXhwaXJlZC4kZGF0YS5yZWFzb25cbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCI7IGV4cGlyZWRDYWxscz1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyB0aGlzLmV4cGlyZWRDYWxsc1xuICAgICAgICAgICAgICAgICAgICAgICAgKyAodGhpcy5leHBpcmVkQ2FsbHMgPT09IEpGYWN0b3J5RnVuY3Rpb25FeHBpcmFibGUuTWF4V2FybmluZ0V4cGlyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiOyBNYXggV2FybmluZyBFeGNlZWRlZFwiIDogXCJcIilcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4cGlyZWRcbiAgICB9XG5cbiAgICBvbk5vdEV4cGlyZWQoc2NvcGUsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxIYW5kbGVyLmFwcGx5KHNjb3BlLCBhcmdzKVxuICAgIH1cbn1cblxuSkZhY3RvcnlGdW5jdGlvbkV4cGlyYWJsZS5NYXhXYXJuaW5nRXhwaXJhdGlvbiA9IDEwO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5RnVuY3Rpb25Db25kaXRpb25hbCAtIENvbmRpdGlvbmFsIEZ1bmN0aW9uIFBhdHRlcm5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgZnVuY3Rpb24gakZhY3RvcnlGdW5jdGlvbkNvbmRpdGlvbmFsKG9yaWdpbmFsSGFuZGxlcikge1xuICAgIHJldHVybiBuZXcgSkZhY3RvcnlGdW5jdGlvbkNvbmRpdGlvbmFsKG9yaWdpbmFsSGFuZGxlcikuY29tcG9zZSgpXG59XG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUZ1bmN0aW9uQ29uZGl0aW9uYWwge1xuXG4gICAgY29uc3RydWN0b3Iob3JpZ2luYWxIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxIYW5kbGVyID0gb3JpZ2luYWxIYW5kbGVyO1xuICAgICAgICB0aGlzLmNvbXBvc2VyID0gbmV3IEpGYWN0b3J5RnVuY3Rpb25Db21wb3NlcjtcbiAgICAgICAgdGhpcy5jb21wb3Nlci5maXJzdChcIm9yaWdpbmFsXCIsIHNldEZ1bmN0aW9uTmFtZShcbiAgICAgICAgICAgIFtvcmlnaW5hbEhhbmRsZXIubmFtZSwgXCJbY29uZGl0aW9uXVwiXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIiksXG4gICAgICAgICAgICBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsSGFuZGxlci5hcHBseSh0aGlzLCBjb250ZXh0LnBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjb21wb3NlKCkge1xuICAgICAgICBsZXQgY29tcG9zaXRlID0gdGhpcy5jb21wb3Nlci5jb21wb3NlKFwiY29uZGl0aW9uc1wiLCBcIm9yaWdpbmFsXCIpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihjb21wb3NpdGUsIHtcbiAgICAgICAgICAgIGNvbmRpdGlvbmFsOiB0aGlzLFxuICAgICAgICAgICAgYWRkQ29uZGl0aW9uOiBmID0+IHt0aGlzLmFkZENvbmRpdGlvbihmKTsgcmV0dXJuIGNvbXBvc2l0ZX1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYWRkQ29uZGl0aW9uKGNvbmRpdGlvbikge1xuICAgICAgICB0aGlzLmNvbXBvc2VyLmxhc3QoXCJjb25kaXRpb25zXCIsIGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgICAgICAgIGxldCBoYW5kbGUgPSBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlGdW5jdGlvbkNvbmRpdGlvbmFsLmFkZENvbmRpdGlvbigpLCByZXN1bHRcIiwgcmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnR5cGVCb29sZWFuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICFyZXN1bHQgJiYgKGNvbnRleHQuY2FuY2VsZWQgPSB0cnVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gY29uZGl0aW9uLmFwcGx5KHRoaXMsIGNvbnRleHQucGFyYW1ldGVycyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSA/IHJlc3VsdC50aGVuKGhhbmRsZSkgOiBoYW5kbGUocmVzdWx0KTtcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlGdW5jdGlvbldyYXBwYWJsZSAtIFdyYXBwYWJsZSBGdW5jdGlvbiBQYXR0ZXJuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGZ1bmN0aW9uIGpGYWN0b3J5RnVuY3Rpb25XcmFwcGFibGUob3JpZ2luYWxIYW5kbGVyKSB7XG4gICAgcmV0dXJuIG5ldyBKRmFjdG9yeUZ1bmN0aW9uV3JhcHBhYmxlKG9yaWdpbmFsSGFuZGxlcikuY29tcG9zZSgpXG59XG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUZ1bmN0aW9uV3JhcHBhYmxlIHtcblxuICAgIGNvbnN0cnVjdG9yKG9yaWdpbmFsSGFuZGxlcikge1xuICAgICAgICB0aGlzLm9yaWdpbmFsSGFuZGxlciA9IG9yaWdpbmFsSGFuZGxlcjtcbiAgICAgICAgdGhpcy5jb21wb3NlciA9IG5ldyBKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXI7XG4gICAgICAgIHRoaXMuY29tcG9zZXIuZmlyc3QoXCJvcmlnaW5hbFwiLCBzZXRGdW5jdGlvbk5hbWUoXG4gICAgICAgICAgICBbb3JpZ2luYWxIYW5kbGVyLm5hbWUsIFwiW3dyYXBwZWRdXCJdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxIYW5kbGVyLmFwcGx5KHRoaXMsIGNvbnRleHQucGFyYW1ldGVycyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGNvbXBvc2UoKSB7XG4gICAgICAgIGxldCBjb21wb3NpdGUgPSB0aGlzLmNvbXBvc2VyLmNvbXBvc2UoXCJiZWZvcmVcIiwgXCJvcmlnaW5hbFwiLCBcImFmdGVyXCIpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihjb21wb3NpdGUsIHtcbiAgICAgICAgICAgIHdyYXBwYWJsZTogdGhpcyxcbiAgICAgICAgICAgIGJlZm9yZUFsbDogZiA9PiB7dGhpcy5iZWZvcmVBbGwoZik7IHJldHVybiBjb21wb3NpdGV9LFxuICAgICAgICAgICAganVzdEJlZm9yZTogZiA9PiB7dGhpcy5qdXN0QmVmb3JlKGYpOyByZXR1cm4gY29tcG9zaXRlfSxcbiAgICAgICAgICAgIGp1c3RBZnRlcjogZiA9PiB7dGhpcy5qdXN0QWZ0ZXIoZik7IHJldHVybiBjb21wb3NpdGV9LFxuICAgICAgICAgICAgYWZ0ZXJBbGw6IGYgPT4ge3RoaXMuYWZ0ZXJBbGwoZik7IHJldHVybiBjb21wb3NpdGV9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGJlZm9yZUFsbChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuY29tcG9zZXIuZmlyc3QoXCJiZWZvcmVcIiwgaGFuZGxlcik7XG4gICAgfVxuXG4gICAganVzdEJlZm9yZShoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuY29tcG9zZXIubGFzdChcImJlZm9yZVwiLCBoYW5kbGVyKTtcbiAgICB9XG5cbiAgICBqdXN0QWZ0ZXIoaGFuZGxlcikge1xuICAgICAgICB0aGlzLmNvbXBvc2VyLmZpcnN0KFwiYWZ0ZXJcIiwgaGFuZGxlcik7XG4gICAgfVxuXG4gICAgYWZ0ZXJBbGwoaGFuZGxlcikge1xuICAgICAgICB0aGlzLmNvbXBvc2VyLmxhc3QoXCJhZnRlclwiLCBoYW5kbGVyKTtcbiAgICB9XG59IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IGpGYWN0b3J5RXJyb3IgfSBmcm9tIFwiLi9KRmFjdG9yeUVycm9yXCI7XG5pbXBvcnQgeyBKRmFjdG9yeVRyYWl0cyB9IGZyb20gXCIuL0pGYWN0b3J5VHJhaXRzXCI7XG5pbXBvcnQgeyBqRmFjdG9yeUZ1bmN0aW9uV3JhcHBhYmxlIH0gZnJvbSBcIi4vSkZhY3RvcnlGdW5jdGlvblwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGpGYWN0b3J5VHJhaXRzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQmV0YVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBqRmFjdG9yeVRyYWl0cyhjYWxsZXJJbnN0YW5jZSwgY2FsbGVyQ29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gbmV3IEpGYWN0b3J5VHJhaXRzKGNhbGxlckluc3RhbmNlLCBjYWxsZXJDb25zdHJ1Y3Rvciwge1xuXG4gICAgICAgIHBhcnNlcihwcm9wZXJ0eU5hbWUsIHByb3BlcnR5RGVzY3JpcHRvci8qLCBzb3VyY2UsIHRhcmdldCwgaXNTdGF0aWMgKi8pIHtcbiAgICAgICAgICAgIGxldCBwYXJzZWQgPSBKRmFjdG9yeVRyYWl0cy5kZWZhdWx0UGFyc2VyKC4uLmFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgIGlmIChwYXJzZWQpIHtcbiAgICAgICAgICAgICAgICAoeyBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5RGVzY3JpcHRvciB9ID0gcGFyc2VkKTtcblxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IHByb3BlcnR5RGVzY3JpcHRvci52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh2YWx1ZS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiJGluc3RhbGxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIkdW5pbnN0YWxsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiJGVuYWJsZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiRkaXNhYmxlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiJHN0YXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5RGVzY3JpcHRvci52YWx1ZSA9IGpGYWN0b3J5RnVuY3Rpb25XcmFwcGFibGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5iZWZvcmVBbGwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuJC5zdGF0ZXMuZW5hYmxlZCAmJiB0aGlzLiQuc2VydmljZS5waGFzZSA9PT0gXCJQSEFTRV9OT05FXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZSA9IG5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfQ0FMTCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IFwiY29tcG9uZW50IGRpc2FibGVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRsb2dFcnIoLi4uZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eURlc2NyaXB0b3IgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcbn0iLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgakZhY3RvcnlUcmFpdHMgfSBmcm9tIFwiLi9qRmFjdG9yeS10cmFpdHNcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBQcmVkZWZpbmVkIENvbXBvbmVudHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBAbWl4ZXMgVHJhaXRDb3JlXG4gKiBAbWl4ZXMgVHJhaXRBYm91dFxuICogQG1peGVzIFRyYWl0TG9nXG4gKiBAbWl4ZXMgVHJhaXRFdmVudHNcbiAqIEBtaXhlcyBUcmFpdFN0YXRlXG4gKiBAbWl4ZXMgVHJhaXRTZXJ2aWNlXG4gKiBAbWl4ZXMgVHJhaXRUYXNrXG4gKi9cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUNvcmVPYmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgSkZhY3RvcnlDb3JlT2JqZWN0LmluamVjdCh0aGlzLCBKRmFjdG9yeUNvcmVPYmplY3QsIG5hbWUpXG4gICAgfVxuXG4gICAgc3RhdGljIGluamVjdCh0YXJnZXQsIGNvbnN0cnVjdG9yLCBuYW1lKSB7XG4gICAgICAgIGpGYWN0b3J5VHJhaXRzKHRhcmdldCwgY29uc3RydWN0b3IpXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0Q29yZSlcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRBYm91dCwgeyBuYW1lIH0pXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0TG9nKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdEV2ZW50cylcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRTdGF0ZSlcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRTZXJ2aWNlKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdFRhc2spO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbWl4ZXMgVHJhaXRGZXRjaFxuICogQG1peGVzIFRyYWl0RE9NXG4gKiBAbWl4ZXMgVHJhaXRDU1NcbiAqIEBtaXhlcyBUcmFpdE11dGF0aW9uXG4gKiBAbWl4ZXMgVHJhaXRUaW1lb3V0XG4gKiBAbWl4ZXMgVHJhaXRJbnRlcnZhbFxuICogQG1peGVzIFRyYWl0TGliVnVlXG4gKiBAbWl4ZXMgVHJhaXRMaWJSZWFjdFxuICovXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlDb21wb25lbnQgZXh0ZW5kcyBKRmFjdG9yeUNvcmVPYmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG4gICAgICAgIEpGYWN0b3J5Q29tcG9uZW50LmluamVjdCh0aGlzLCBKRmFjdG9yeUNvbXBvbmVudClcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5qZWN0KHRhcmdldCwgY29uc3RydWN0b3IpIHtcbiAgICAgICAgakZhY3RvcnlUcmFpdHModGFyZ2V0LCBjb25zdHJ1Y3RvcilcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRGZXRjaClcbiAgICAgICAgICAgIC51c2UoakZhY3RvcnkuVHJhaXRET00pXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0Q1NTKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdE11dGF0aW9uKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdFRpbWVvdXQpXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0SW50ZXJ2YWwpXG4gICAgICAgICAgICAudXNlKGpGYWN0b3J5LlRyYWl0TGliVnVlKVxuICAgICAgICAgICAgLnVzZShqRmFjdG9yeS5UcmFpdExpYlJlYWN0KTtcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3Rvcnlcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKiogQHJldHVybiB7SkZhY3RvcnlDb21wb25lbnR9ICovXG5leHBvcnQgY29uc3QgakZhY3RvcnkgPSAobmFtZSwgcHJvcGVydGllcykgPT4gT2JqZWN0LmFzc2lnbihuZXcgSkZhY3RvcnlDb21wb25lbnQobmFtZSksIHByb3BlcnRpZXMpOyIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgeyBqRmFjdG9yeUxvYWRlciB9IGZyb20gXCIuL2pGYWN0b3J5LWxvYWRlclwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGpGYWN0b3J5T2JqZWN0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXR1czogQWxwaGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlPYmplY3Qge1xuXG4gICAgc3RhdGljIGNyZWF0ZURlc2NyaXB0b3JzKGRlc2NyaXB0b3JQcm90b3R5cGUgPSBKRmFjdG9yeU9iamVjdC5ERVNDUklQVE9SU19QUk9UT1RZUEUpIHtcbiAgICAgICAgbGV0IGNyZWF0ZSA9IEpGYWN0b3J5T2JqZWN0LmNyZWF0ZShkZXNjcmlwdG9yUHJvdG90eXBlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgbGV0IG8gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgICAgIG8uTk9ORSA9IGNyZWF0ZSgpO1xuXG4gICAgICAgIG8uV1JJVEFCTEUgICAgID0gY3JlYXRlKHsgd3JpdGFibGU6IHRydWUgfSk7XG4gICAgICAgIG8uRU5VTUVSQUJMRSAgID0gY3JlYXRlKHsgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgby5DT05GSUdVUkFCTEUgPSBjcmVhdGUoeyBjb25maWd1cmFibGU6IHRydWUgfSk7XG5cbiAgICAgICAgby5DT05GSUdVUkFCTEVfV1JJVEFCTEUgICA9XG4gICAgICAgIG8uV1JJVEFCTEVfQ09ORklHVVJBQkxFICAgPSBjcmVhdGUoeyB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xuXG4gICAgICAgIG8uQ09ORklHVVJBQkxFX0VOVU1FUkFCTEUgPVxuICAgICAgICBvLkVOVU1FUkFCTEVfQ09ORklHVVJBQkxFID0gY3JlYXRlKHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xuXG4gICAgICAgIG8uRU5VTUVSQUJMRV9XUklUQUJMRSAgICAgPVxuICAgICAgICBvLldSSVRBQkxFX0VOVU1FUkFCTEUgICAgID0gY3JlYXRlKHsgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUgfSk7XG5cbiAgICAgICAgby5XUklUQUJMRV9FTlVNRVJBQkxFX0NPTkZJR1VSQUJMRSA9XG4gICAgICAgIG8uV1JJVEFCTEVfQ09ORklHVVJBQkxFX0VOVU1FUkFCTEUgPVxuICAgICAgICBvLkVOVU1FUkFCTEVfQ09ORklHVVJBQkxFX1dSSVRBQkxFID1cbiAgICAgICAgby5FTlVNRVJBQkxFX1dSSVRBQkxFX0NPTkZJR1VSQUJMRSA9XG4gICAgICAgIG8uQ09ORklHVVJBQkxFX1dSSVRBQkxFX0VOVU1FUkFCTEUgPVxuICAgICAgICBvLkNPTkZJR1VSQUJMRV9FTlVNRVJBQkxFX1dSSVRBQkxFID0gY3JlYXRlKHsgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcblxuICAgICAgICAvLyBTaG9ydGN1dHNcbiAgICAgICAgby5SRUFET05MWSA9IGNyZWF0ZSh7IHdyaXRhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogZmFsc2UgfSk7XG5cbiAgICAgICAgcmV0dXJuIG9cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGFzc2lnbihvYmosICdteVByb3BlcnR5JywgMTIzLCB7d3JpdGFibGU6ZmFsc2V9KVxuICAgICAqIGFzc2lnbihvYmosIHthOjEsIGI6Mn0nLCB7d3JpdGFibGU6ZmFsc2V9KVxuICAgICAqXG4gICAgICogZGVwcmVjYXRlZFxuICAgICAqIGFzc2lnbihvYmosICdteVByb3BlcnR5Jywge3ZhbHVlOlwib2tcIiwgd3JpdGFibGU6ZmFsc2V9KSA9PiBub3Qgc3RyaWN0XG4gICAgICogYXNzaWduKG9iaiwgJ215UHJvcGVydHknLCAxMjMpID0+IHVzZSBuYXRpdmUgaW5zdGVhZFxuICAgICAqIGFzc2lnbihvYmosIHthOjEsIGI6Mn0pID0+IHVzZSBuYXRpdmUgaW5zdGVhZFxuICAgICAqL1xuICAgIHN0YXRpYyBhc3NpZ24odGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgbGV0IGRlc2NyaXB0b3JzID0ge307XG5cbiAgICAgICAgc3dpdGNoICh0eXBlb2YgcHJvcGVydHkpIHtcblxuICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgLy8gYXNzaWduKG9iaiwgJ215UHJvcGVydHknLCAxMjMsIHt3cml0YWJsZTpmYWxzZX0pXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgICAgICBpZiAoIWRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWlzc2luZyBkZXNjcmlwdG9yIGFyZ3VtZW50OyB1c2UgT2JqZWN0LmFzc2lnbiBpbnN0ZWFkXCIpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvciA9IE9iamVjdC5jcmVhdGUoZGVzY3JpcHRvcik7IC8vIGF2b2lkIGRlc2NyaXB0b3IgY29ycnVwdGlvblxuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG5cbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAvLyBhc3NpZ24ob2JqLCB7YToxLCBiOjJ9Jywge3dyaXRhYmxlOmZhbHNlfSlcbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAgICAgICAgIFt2YWx1ZSwgZGVzY3JpcHRvcl0gPSBbcHJvcGVydHksIHZhbHVlXTtcblxuICAgICAgICAgICAgICAgIGlmICghZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIGRlc2NyaXB0b3IgYXJndW1lbnQ7IHVzZSBPYmplY3QuYXNzaWduIGluc3RlYWRcIilcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBuYW1lIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yc1tuYW1lXSA9IE9iamVjdC5jcmVhdGUoZGVzY3JpcHRvcik7IC8vIGF2b2lkIGRlc2NyaXB0b3IgY29ycnVwdGlvblxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yc1tuYW1lXS52YWx1ZSA9IHZhbHVlW25hbWVdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IG5hbWUgb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvcnNbbmFtZV0gPSBPYmplY3QuY3JlYXRlKGRlc2NyaXB0b3IpOyAvLyBhdm9pZCBkZXNjcmlwdG9yIGNvcnJ1cHRpb25cbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvcnNbbmFtZV0udmFsdWUgPSB2YWx1ZVtuYW1lXVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgZGVzY3JpcHRvcnMpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwcm9wZXJ0eSBhcmd1bWVudFwiKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldFxuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGUocHJvdG90eXBlLCBmbGF0ID0gZmFsc2UsIGRpc2luaGVyaXQgPSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGlmIChmbGF0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZGlzaW5oZXJpdCA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fSwgcHJvdG90eXBlLCBwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKFxuICAgICAgICAgICAgICAgICAgICBkaXNpbmhlcml0ID8gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCBwcm90b3R5cGUpIDogcHJvdG90eXBlXG4gICAgICAgICAgICAgICAgKSwgcHJvcGVydGllcylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBkaXNpbmhlcml0KG9iamVjdCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCBvYmplY3QpO1xuICAgIH1cbn1cblxuSkZhY3RvcnlPYmplY3QuREVTQ1JJUFRPUlNfUFJPVE9UWVBFID0geyB3cml0YWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IGZhbHNlIH07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gakZhY3RvcnlPYmplY3Rcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5qRmFjdG9yeUxvYWRlci5vbkluaXQoZnVuY3Rpb24oKSB7XG4gICAgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMgPSBKRmFjdG9yeU9iamVjdC5jcmVhdGVEZXNjcmlwdG9ycygpXG59KTsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgSkZBQ1RPUllfREVWIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBKRmFjdG9yeUV4cGVjdCB9IGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5pbXBvcnQgeyBoZWxwZXJfY2FtZWxDYXNlIH0gZnJvbSBcIi4vakZhY3RvcnktaGVscGVyc1wiO1xuaW1wb3J0IHsgSkZhY3RvcnlPYmplY3QgfSBmcm9tIFwiLi9KRmFjdG9yeU9iamVjdFwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5QWJvdXRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuY29uc3QgbW9kdWxlR2VuSWQgPSAoKSA9PiArK21vZHVsZUdlbklkLnVpZDsgbW9kdWxlR2VuSWQudWlkID0gMDtcblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5QWJvdXQge1xuICAgIGNvbnN0cnVjdG9yKG93bmVyLCBhYm91dCA9IHt9KSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlBYm91dChvd25lcilcIiwgb3duZXIpLnR5cGUoT2JqZWN0KTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlBYm91dChhYm91dClcIiwgYWJvdXQpXG4gICAgICAgICAgICAgICAgLnR5cGVQbGFpbk9iamVjdCgpXG4gICAgICAgICAgICAgICAgLnJlc2VydmVkUHJvcGVydHkoXCJ1aWRcIilcbiAgICAgICAgICAgICAgICAucmVzZXJ2ZWRQcm9wZXJ0eShcImZpbmdlcnByaW50XCIpO1xuICAgICAgICAgICAgaWYgKFwibmFtZVwiIGluIGFib3V0KSB7XG4gICAgICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUFib3V0KGFib3V0Lm5hbWUpXCIsIGFib3V0Lm5hbWUpXG4gICAgICAgICAgICAgICAgICAgIC50eXBlU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgLm5vdEVtcHR5U3RyaW5nKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuYW1lO1xuICAgICAgICBsZXQgZmluZ2VycHJpbnQ7XG4gICAgICAgIGxldCB1aWQgPSBtb2R1bGVHZW5JZCgpO1xuXG4gICAgICAgIGlmIChhYm91dC5uYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gYWJvdXQubmFtZTtcbiAgICAgICAgICAgIGRlbGV0ZSBhYm91dC5uYW1lO1xuICAgICAgICAgICAgZmluZ2VycHJpbnQgPSBcImpGYWN0b3J5XCIgKyBcIl9cIiArIGhlbHBlcl9jYW1lbENhc2UobmFtZS50b0xvd2VyQ2FzZSgpKSArIFwiX1wiICsgdWlkXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgYWJvdXQubmFtZTtcbiAgICAgICAgICAgIG5hbWUgPSBgWyR7b3duZXIuY29uc3RydWN0b3IubmFtZX0jJHt1aWR9XWA7XG4gICAgICAgICAgICBmaW5nZXJwcmludCA9IFwiakZhY3RvcnlcIiArIFwiX1wiICsgb3duZXIuY29uc3RydWN0b3IubmFtZSArIFwiX1wiICsgdWlkO1xuICAgICAgICB9XG5cbiAgICAgICAgSkZhY3RvcnlPYmplY3QuYXNzaWduKHRoaXMsIC8qKiBAbGVuZHMgSkZhY3RvcnlBYm91dCMgKi8ge1xuICAgICAgICAgICAgdWlkLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGZpbmdlcnByaW50XG4gICAgICAgIH0sIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLkVOVU1FUkFCTEUpO1xuXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgYWJvdXQpO1xuXG4gICAgICAgIC8vIC0tLVxuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlBYm91dC5uYW1lXCIsIHRoaXMubmFtZSlcbiAgICAgICAgICAgICAgICAubWF0Y2hSZWcoL15bXFx3W1xcXSNdKyQvKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlBYm91dC5maW5nZXJwcmludFwiLCB0aGlzLmZpbmdlcnByaW50KVxuICAgICAgICAgICAgICAgIC5tYXRjaFJlZygvXltcXHddKyQvKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuaW1wb3J0IHsgSkZBQ1RPUllfREVWIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBKRmFjdG9yeUV4cGVjdCB9IGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5pbXBvcnQgeyBqRmFjdG9yeUVycm9yIH0gZnJvbSBcIi4vSkZhY3RvcnlFcnJvclwiO1xuaW1wb3J0IHsgakZhY3RvcnlUcmFjZSB9IGZyb20gXCIuL0pGYWN0b3J5VHJhY2VcIjtcbmltcG9ydCB7IGpRdWVyeSwgaGVscGVyX2lzTmF0aXZlIH0gZnJvbSBcIi4vakZhY3RvcnktaGVscGVyc1wiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5UHJvbWlzZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBQcm92aWRlcyBhd2FpdGFibGUsIGV4cGlyYWJsZSwgZGVidWdnYWJsZSBwcm9taXNlIGNoYWluc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEV4cGVyaW1lbnRhbCBEcmFmdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vICNsaW1pdGF0aW9uIyBhc3luYyBmdW5jdGlvbnMgYWx3YXlzIHVzZSB0aGUgbmF0aXZlIFByb21pc2UgY29uc3RydWN0b3IgZXZlbiBpZiBuYXRpdmUgUHJvbWlzZSBjbGFzcyBpcyBvdmVycmlkZGVuXG4vLyAjbGltaXRhdGlvbiMgYXN5bmMgZnVuY3Rpb25zIGFsd2F5cyByZXR1cm5zIGEgbmF0aXZlIFByb21pc2UgZXZlbiBpZiByZXR1cm5pbmcgYW4gZXh0ZW5kZWQgUHJvbWlzZVxuLy8gI2xpbWl0YXRpb24jIGFzeW5jIGZ1bmN0aW9ucyBhbHdheXMgcmV0dXJucyBhIHBlbmRpbmcgUHJvbWlzZSBldmVuIGlmIHJldHVybmluZyBhIHJlc29sdmVkIFByb21pc2VcblxuY29uc3QgbW9kdWxlR2VuSWQgPSAoKSA9PiArK21vZHVsZUdlbklkLnVpZDsgbW9kdWxlR2VuSWQudWlkID0gMDtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeVByb21pc2Vcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlQcm9taXNlIGV4dGVuZHMgUHJvbWlzZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGNvbmZpZywgdHJhY2VTb3VyY2UgfSwgZXhlY3V0b3IpIHtcblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgW25hbWUsIGNvbmZpZywgZXhlY3V0b3JdID0gW251bGwsIG51bGwsIGFyZ3VtZW50c1swXV1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNoYWluSWQgPSBtb2R1bGVHZW5JZCgpO1xuICAgICAgICBjb25maWcgPSB7IC4uLkpGYWN0b3J5UHJvbWlzZS5ERUZBVUxUX0NPTkZJRywgLi4uY29uZmlnIH07XG4gICAgICAgIG5hbWUgPSBuYW1lIHx8IFwidW5uYW1lZFwiO1xuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwibmFtZVwiLCBuYW1lKVxuICAgICAgICAgICAgICAgIC50eXBlKFN0cmluZywgTnVtYmVyKVxuICAgICAgICAgICAgICAgIC5tYXRjaFJlZygvXlteLiBdKyQvKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiY29uZmlnXCIsIGNvbmZpZykudHlwZVBsYWluT2JqZWN0KCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImV4ZWN1dG9yXCIsIGV4ZWN1dG9yKS50eXBlRnVuY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXNvbHZlO1xuICAgICAgICBsZXQgcmVqZWN0O1xuXG4gICAgICAgIHN1cGVyKChfcmVzb2x2ZSwgX3JlamVjdCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSA9IF9yZXNvbHZlO1xuICAgICAgICAgICAgcmVqZWN0ID0gX3JlamVjdDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgY2hhaW4gPSBuZXcgSkZhY3RvcnlQcm9taXNlQ2hhaW4odGhpcywgY2hhaW5JZCwgbmFtZSwgY29uZmlnKTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgICAgICAkY2hhaW46IHtcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBjaGFpblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICR0eXBlOiB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwicHJvbWlzZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICRpc1NldHRsZWQ6IHtcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAkaXNSZWplY3RlZDoge1xuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJGlzRnVsZmlsbGVkOiB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAkaXNFeHBpcmVkOiB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJGlzQWJvcnRlZDoge1xuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgICAgICAgICAgJGRldl9uYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5hbWUgKyBcIltcIiArIGNoYWluSWQgKyBcIjowXVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAkZGV2X3BhdGg6IHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBuZXcgSkZhY3RvcnlQcm9taXNlUGF0aCh0aGlzKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJGRldl9wb3NpdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghaGVscGVyX2lzTmF0aXZlKGV4ZWN1dG9yKSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgJGRldl9zb3VyY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBleGVjdXRvclxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBqRmFjdG9yeVRyYWNlLnRyYWNlci5hdHRhY2hUcmFjZSh0aGlzLCB0cmFjZVNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0cnlBdXRvQ29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJGNoYWluLmlzUGVuZGluZykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGNoYWluQ29tcGxldGUoXCJhdXRvLWNvbXBsZXRlZFwiKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhc2Ugb2YgZXJyb3IgaW4gXCJjb21wbGV0ZVwiIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhdGNoIHRoZSBleGNlcHRpb24gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyBhbHJlYWR5IGZ1bGZpbGxlZFxuICAgICAgICAgICAgICAgICAgICAvLyBGdXJ0aGVybW9yZSB0aGlzIGlzc3VlIG11c3QgYmUgaGFuZGxlZCBieSB0aGUgY2hhaW4sIG5vdCB0aGUgY3VycmVudCBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSkgLy8gcHJpbnQgdGhlIGVycm9yIG90aGVyd2lzZSBub3RoaW5nIGhhcHBlbnNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgb25SZXNvbHZlID0gdmFsdWUgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ29uUmVzb2x2ZScsdGhpcy4kZGV2X25hbWUpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiRpc1NldHRsZWQpIHtcbiAgICAgICAgICAgICAgICAvLyAyLjMuMS4gSWYgcHJvbWlzZSBhbmQgeCByZWZlciB0byB0aGUgc2FtZSBvYmplY3QsIHJlamVjdCBwcm9taXNlIHdpdGggYSBUeXBlRXJyb3IgYXMgdGhlIHJlYXNvbi5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgb25SZWplY3QobmV3IFR5cGVFcnJvcihcIkNoYWluaW5nIGN5Y2xlIGRldGVjdGVkIGZvciBwcm9taXNlIFwiICsgdGhpcy4kZGV2X25hbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCB0aGVuO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgfHwgdHlwZW9mIHggPT0gXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyAyLjMuMy4yLiBJZiByZXRyaWV2aW5nIHRoZSBwcm9wZXJ0eSB4LnRoZW4gcmVzdWx0cyBpbiBhIHRocm93biBleGNlcHRpb24gZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVqZWN0IHByb21pc2Ugd2l0aCBlIGFzIHRoZSByZWFzb24uXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVuID0gdmFsdWUudGhlbjtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25SZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoZW4gPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc29sdmVQcm9taXNlID0gZnVuY3Rpb24oeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMi4zLjMuMy4xLiBJZi93aGVuIHJlc29sdmVQcm9taXNlIGlzIGNhbGxlZCB3aXRoIGEgdmFsdWUgeSwgcnVuIFtbUmVzb2x2ZV1dKHByb21pc2UsIHkpLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVzb2x2ZSh5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlamVjdFByb21pc2UgPSBmdW5jdGlvbihyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAyLjMuMy4zLjIuIElmL3doZW4gcmVqZWN0UHJvbWlzZSBpcyBjYWxsZWQgd2l0aCBhIHJlYXNvbiByLCByZWplY3QgcHJvbWlzZSB3aXRoIHIuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZWplY3Qocik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgcmVzb2x2ZVByb21pc2UsIHJlamVjdFByb21pc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7IC8vIDIuMy4zLjMuNC4gSWYgY2FsbGluZyB0aGVuIHRocm93cyBhbiBleGNlcHRpb24gZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDIuMy4zLjMuNC4xLiBJZiByZXNvbHZlUHJvbWlzZSBvciByZWplY3RQcm9taXNlIGhhdmUgYmVlbiBjYWxsZWQsIGlnbm9yZSBpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMi4zLjMuMy40LjIuIE90aGVyd2lzZSwgcmVqZWN0IHByb21pc2Ugd2l0aCBlIGFzIHRoZSByZWFzb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGlzUmVqZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaXNGdWxmaWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuJGNoYWluLmVycm9yRXhwaXJlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgb25TZXR0bGUodmFsdWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG9uUmVqZWN0ID0gcmVhc29uID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdvblJlamVjdCcsdGhpcy4kZGV2X25hbWUpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiRpc1NldHRsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRpc1JlamVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLiRpc0Z1bGZpbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgICAgICAgICAgIG9uU2V0dGxlKHJlYXNvbilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBvblNldHRsZSA9IHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMuJHZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLiRpc1NldHRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy4kY2hhaW4uY2hhaW5NYXAuc2V0KHRoaXMsIHRydWUpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy4kY2hhaW4uY2hhaW5Db25maWcuY2hhaW5BdXRvQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kY2hhaW4uY2hhaW5NYXAuc2l6ZSA9PT0gMSAmJiAhdGhpcy4kaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVuc3VyZXMgdGhhdCB0cnlBdXRvQ29tcGxldGUoKSB3aWxsIGJlIGNhbGxlZCBhc3luY2hyb25vdXNseSAodGhlbigpIGNhbGxiYWNrIGlzIGFzeW5jaHJvbm91cylcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FzZSBvZiBwcm9taXNlLnJlc29sdmUocHJpbWl0aXZlKSwgcHJldmVudHMgZm9sbG93aW5nIHRoZW4oKSBmcm9tIGJlaW5nIGltbWVkaWF0ZWx5IGxvY2tlZFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRoZW4odHJ5QXV0b0NvbXBsZXRlKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeUF1dG9Db21wbGV0ZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBfY2hhaW5BdXRvQ29tcGxldGUgPSBjb25maWcuY2hhaW5BdXRvQ29tcGxldGU7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25maWcsIFwiY2hhaW5BdXRvQ29tcGxldGVcIiwge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiBfY2hhaW5BdXRvQ29tcGxldGUsXG4gICAgICAgICAgICBzZXQ6IHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoX2NoYWluQXV0b0NvbXBsZXRlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBfY2hhaW5BdXRvQ29tcGxldGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnlBdXRvQ29tcGxldGUoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjaGFpbi5jaGFpbk1hcC5zZXQodGhpcywgZmFsc2UpO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICAgICAgIF9fcmVzb2x2ZV9fOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IG9uUmVzb2x2ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fcmVqZWN0X186IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogb25SZWplY3RcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV4ZWN1dG9yKG9uUmVzb2x2ZSwgb25SZWplY3QpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBvblJlamVjdChlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgZm9yY2VUeXBlKSB7XG4gICAgICAgIGxldCB3cmFwcGVkRnVsZmlsbGVkO1xuICAgICAgICBsZXQgd3JhcHBlZFJlamVjdGVkO1xuICAgICAgICBsZXQgbmV3UHJvbWlzZTtcbiAgICAgICAgbGV0IGlzTmF0aXZlID0gaGVscGVyX2lzTmF0aXZlKG9uRnVsZmlsbGVkKSAmJiAhb25GdWxmaWxsZWQubmFtZS5zdGFydHNXaXRoKFwiYm91bmQgXCIpO1xuXG4gICAgICAgIGlmIChvbkZ1bGZpbGxlZCAmJiB0eXBlb2Ygb25GdWxmaWxsZWQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgd3JhcHBlZEZ1bGZpbGxlZCA9IGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgICAgICAvLyBcImF3YWl0XCIgbXVzdCBhbHdheXMgcnVuIHRoZSBuYXRpdmUgaGFuZGxlclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBcImF3YWl0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU1BFQzogXCJhd2FpdFwiIHRocm93cyB0aGUgZXJyb3JFeHBpcmVkIGlmICRpc0Fib3J0ZWQgaXMgdHJ1ZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3dzIGFzeW5jIGZ1bmN0aW9uIHRvIHRyeSBjYXRjaCB0aGUgYXdhaXRlZCBhYm9ydGVkIHByb21pc2VcbiAgICAgICAgICAgICAgICAgICAgLy8gb3IsIGlmIG5vdCBjYXVnaHQsIGJyZWFrcyBhbmQgaWdub3JlIHRoZSByZXN0IG9mIHRoZSBhc3luYyBmdW5jdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb21pc2UuJGlzQWJvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uUmVqZWN0ZWQobmV3UHJvbWlzZS4kY2hhaW4uZXJyb3JFeHBpcmVkKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uRnVsZmlsbGVkKHIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGRvbid0IGNhbGwgdGhlIGhhbmRsZXIgaWYgZXhwaXJlZFxuICAgICAgICAgICAgICAgIGlmICghbmV3UHJvbWlzZS4kaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdQcm9taXNlLiRpc1NldHRsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1kZWJ1Z2dlclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWdnZXJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25GdWxmaWxsZWQocilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uUmVqZWN0ZWQgJiYgdHlwZW9mIG9uUmVqZWN0ZWQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgd3JhcHBlZFJlamVjdGVkID0gZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgICAgIGlmIChuZXdQcm9taXNlLiRpc1NldHRsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyXG4gICAgICAgICAgICAgICAgICAgIGRlYnVnZ2VyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmICghbmV3UHJvbWlzZS4kaXNTZXR0bGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9uUmVqZWN0ZWQocilcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdHlwZSA9IGZvcmNlVHlwZSB8fCAoaXNOYXRpdmUgPyBcImF3YWl0XCIgOiBvbkZ1bGZpbGxlZCA9PT0gdW5kZWZpbmVkID8gXCJjYXRjaFwiIDogXCJ0aGVuXCIpO1xuICAgICAgICBuZXdQcm9taXNlID0gT2JqZWN0LmFzc2lnbihzdXBlci50aGVuKHdyYXBwZWRGdWxmaWxsZWQsIHdyYXBwZWRSZWplY3RlZCksIHRoaXMpO1xuICAgICAgICBtb2R1bGVHZW5JZC51aWQtLTsgLy8gcmV2ZXJzZSBiZWNhdXNlIG5vdCBhIG5ldyBjaGFpblxuICAgICAgICBuZXdQcm9taXNlLiR0eXBlID0gdHlwZTtcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBuZXdQcm9taXNlLiRkZXZfcG9zaXRpb24gPSB0aGlzLiRjaGFpbi5jaGFpbk1hcC5zaXplO1xuICAgICAgICAgICAgbGV0IGZOYW1lcyA9IFwiXCI7XG4gICAgICAgICAgICBpZiAob25GdWxmaWxsZWQgJiYgb25GdWxmaWxsZWQubmFtZSkge1xuICAgICAgICAgICAgICAgIGZOYW1lcyArPSBvbkZ1bGZpbGxlZC5uYW1lXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25SZWplY3RlZCAmJiBvblJlamVjdGVkLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBmTmFtZXMgKz0gXCIsXCIgKyBvblJlamVjdGVkLm5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG5ld1Byb21pc2UsIHtcbiAgICAgICAgICAgICAgICAkZGV2X25hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRjaGFpbi5jaGFpbk5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCJbXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgdGhpcy4kY2hhaW4uY2hhaW5JZFxuICAgICAgICAgICAgICAgICAgICAgICAgKyBcIjpcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyB0aGlzLiRkZXZfcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCJdXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCIuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgbmV3UHJvbWlzZS4kdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoZk5hbWVzID8gXCIoXCIgKyBmTmFtZXMgKyBcIilcIiA6IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICArIFwiW1wiXG4gICAgICAgICAgICAgICAgICAgICAgICArIG5ld1Byb21pc2UuJGNoYWluLmNoYWluSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICsgXCI6XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgbmV3UHJvbWlzZS4kZGV2X3Bvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICArIFwiXVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAkZGV2X3BhdGg6IHsgdmFsdWU6IG5ldyBKRmFjdG9yeVByb21pc2VQYXRoKHRoaXMuJGRldl9wYXRoLCBuZXdQcm9taXNlKSB9LFxuICAgICAgICAgICAgICAgICRkZXZfb25GdWxmaWxsZWQ6IHsgdmFsdWU6IG9uRnVsZmlsbGVkIH0sXG4gICAgICAgICAgICAgICAgJGRldl9vblJlamVjdGVkOiB7IHZhbHVlOiBvblJlamVjdGVkIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3UHJvbWlzZS4kY2hhaW4uY2hhaW5NYXAuc2V0KG5ld1Byb21pc2UsIGZhbHNlKTtcblxuICAgICAgICBpZiAodGhpcy4kaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAvLyBjYXNlOiBwMC50aGVuKCk7IGNoYWluQWJvcnQoKTsgcDEudGhlbigpXG4gICAgICAgICAgICAvLyA9PiB0aGUgbmV3IHByb21pc2UgbXVzdCBiZSBleHBpcmVkXG4gICAgICAgICAgICAvLyBpZiBwYXJlbnQgcHJvbWlzZSBpcyBqdXN0IGV4cGlyZWQsIGFib3J0IHNpbGVudGx5XG4gICAgICAgICAgICAvLyBpZiBwYXJlbnQgcHJvbWlzZSBpcyBhYm9ydGVkLCBhYm9ydCBleHBsaWNpdGx5XG4gICAgICAgICAgICBKRmFjdG9yeVByb21pc2Uuc2V0RXhwaXJlZChuZXdQcm9taXNlLCB0cnVlLCAhdGhpcy4kaXNBYm9ydGVkLCB0aGlzLiRjaGFpbi5lcnJvckV4cGlyZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld1Byb21pc2VcbiAgICB9XG5cbiAgICAkY2F0Y2hFeHBpcmVkKG9uRXhwaXJlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aGVuKHIgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuJGNoYWluLmNoYWluUm9vdC4kaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9uRXhwaXJlZChyKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gclxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB1bmRlZmluZWQsIFwiJGNhdGNoRXhwaXJlZFwiKVxuICAgIH1cblxuICAgIHN0YXRpYyByZXNvbHZlKG9wdGlvbmFsQXJncywgdmFsdWUpIHtcbiAgICAgICAgLy8gcmVzb2x2ZSgpXG4gICAgICAgIC8vIHJlc29sdmUob3B0aW9uYWxBcmdzLCB2YWx1ZSlcbiAgICAgICAgLy8gcmVzb2x2ZSh2YWx1ZSlcblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgW29wdGlvbmFsQXJncywgdmFsdWVdID0gW3t9LCBvcHRpb25hbEFyZ3NdXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25hbEFyZ3MpIHtcbiAgICAgICAgICAgIG9wdGlvbmFsQXJncyA9IHt9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgdGhpcyAmJiBhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAvLyBSZXR1cm5zIHRoZSBwcm9taXNlIGFzIGlzIChuYXRpdmUgc3BlYylcbiAgICAgICAgICAgIC8vIGJ1dCBvbmx5IGlmIG5vIG9wdGlvbmFsQXJnc1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMob3B0aW9uYWxBcmdzLCBmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHJlamVjdChvcHRpb25hbEFyZ3MsIHJlYXNvbikge1xuICAgICAgICAvLyByZWplY3QoKVxuICAgICAgICAvLyByZWplY3Qob3B0aW9uYWxBcmdzLCByZWFzb24pXG4gICAgICAgIC8vIHJlamVjdChyZWFzb24pXG5cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIFtvcHRpb25hbEFyZ3MsIHJlYXNvbl0gPSBbe30sIG9wdGlvbmFsQXJnc11cbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdGlvbmFsQXJncykge1xuICAgICAgICAgICAgb3B0aW9uYWxBcmdzID0ge31cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IHRoaXMob3B0aW9uYWxBcmdzLCBmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHJlamVjdChyZWFzb24pXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICR0b1Byb21pc2UoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcylcbiAgICB9XG5cbiAgICAvLyBDb21wbGV0ZXMgYW4gZXhwaXJlcyB0aGUgd2hvbGUgY2hhaW4gYmVmb3JlIGl0cyBub3JtYWwgZW5kXG4gICAgLy8gU2V0cyB0aGUgJGlzQWJvcnRlZCB0byB0cnVlIG9uIGFib3J0ZWQgcHJvbWlzZXNcbiAgICAkY2hhaW5BYm9ydChyZWFzb24gPSBcIiRjaGFpbkFib3J0KClcIikge1xuICAgICAgICB0aGlzLiRjaGFpbi5jb21wbGV0ZShyZWFzb24sIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8vIE1hbnVhbGx5IGNvbXBsZXRlcyBhbiBleHBpcmVzIHRoZSB3aG9sZSBjaGFpblxuICAgIC8vIE9ubHkgcmVxdWlyZWQgaWYgYXdhaXRpbmcgXCJteVByb21pc2UuJGNoYWluXCJcbiAgICAvLyB3aGVuIHRoZSBhdXRvY29tcGxldGUgd2F0Y2hlciBpcyBub3QgdXNlZFxuICAgICRjaGFpbkNvbXBsZXRlKHJlYXNvbiA9IFwiJGNoYWluQ29tcGxldGUoKVwiKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLiRjaGFpbi5jb21wbGV0ZShyZWFzb24sIGZhbHNlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBqRmFjdG9yeUVycm9yLklOVkFMSURfQ0FMTCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfQ0FMTCh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogZS4kZGF0YS50YXJnZXQsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogXCJUcnlpbmcgdG8gY29tcGxldGUgYSBwZW5kaW5nIGNoYWluLiBVc2UgJGNoYWluQWJvcnQoKSBpZiB5b3Ugd2FudCB0byBzdG9wIGl0LlwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgICRjaGFpbkF1dG9Db21wbGV0ZSgpIHtcbiAgICAgICAgdGhpcy4kY2hhaW4uY2hhaW5Db25maWcuY2hhaW5BdXRvQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXRFeHBpcmVkKHByb21pc2UsIGFib3J0LCBzaWxlbnQsIHJlYXNvbikge1xuICAgICAgICBpZiAoIXByb21pc2UuJGlzU2V0dGxlZCkge1xuICAgICAgICAgICAgaWYgKGFib3J0KSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZS4kaXNBYm9ydGVkID0gIXNpbGVudDtcbiAgICAgICAgICAgICAgICBwcm9taXNlLl9fcmVzb2x2ZV9fKHJlYXNvbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfQ0FMTCh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogcHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcInByb21pc2UgbXVzdCBiZSBhYm9ydGVkIG9yIHNldHRsZWQgYmVmb3JlIHNldHRpbmcgaXQgdG8gZXhwaXJlZC5cIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb21pc2UuJGlzRXhwaXJlZCA9IHRydWU7XG4gICAgfVxufVxuXG5KRmFjdG9yeVByb21pc2UuREVGQVVMVF9DT05GSUcgPSB7XG4gICAgY2hhaW5BdXRvQ29tcGxldGU6IGZhbHNlXG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5UHJvbWlzZUNoYWluXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5UHJvbWlzZUNoYWluIHtcblxuICAgIGNvbnN0cnVjdG9yKGNoYWluUm9vdCwgY2hhaW5JZCwgY2hhaW5OYW1lLCBjaGFpbkNvbmZpZykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgICAgICBjaGFpbkNvbmZpZzogeyB2YWx1ZTogY2hhaW5Db25maWcgfSxcbiAgICAgICAgICAgIGNoYWluUm9vdDogeyB2YWx1ZTogY2hhaW5Sb290IH0sXG4gICAgICAgICAgICBjaGFpbklkOiB7IHZhbHVlOiBjaGFpbklkIH0sXG4gICAgICAgICAgICBjaGFpbk5hbWU6IHsgdmFsdWU6IGNoYWluTmFtZSB9LFxuICAgICAgICAgICAgY2hhaW5NYXA6IHsgdmFsdWU6IG5ldyBNYXAgfSxcbiAgICAgICAgICAgIGlzQ29tcGxldGVkOiB7IHZhbHVlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlIH0sXG4gICAgICAgICAgICBkYXRhOiB7IHZhbHVlOiB7fSB9LFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbiAgICAgICAgICAgIF9fZGVmZXJyZWRfXzogeyB2YWx1ZTogalF1ZXJ5LkRlZmVycmVkKCkgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGdldCBpc1BlbmRpbmcoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuY2hhaW5NYXAudmFsdWVzKCkpLmluY2x1ZGVzKGZhbHNlKVxuICAgIH1cblxuICAgIHRoZW4ob25SZXNvbHZlKSB7IC8vID0+IFwiYXdhaXQgY2hhaW5cIlxuICAgICAgICB0aGlzLl9fZGVmZXJyZWRfXy5kb25lKG9uUmVzb2x2ZSk7XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgY29tcGxldGUocmVhc29uID0gXCJjaGFpbi5jb21wbGV0ZSgpXCIsIGFib3J0ICkge1xuICAgICAgICBsZXQgY2hhaW5Sb290ID0gdGhpcy5jaGFpblJvb3Q7XG4gICAgICAgIGlmICghY2hhaW5Sb290LiRpc0V4cGlyZWQpIHtcbiAgICAgICAgICAgIGxldCBlcnJvckV4cGlyZWQgPSBjaGFpblJvb3QuJGNoYWluLmVycm9yRXhwaXJlZCA9IG5ldyBqRmFjdG9yeUVycm9yLlBST01JU0VfRVhQSVJFRCh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBjaGFpblJvb3QsXG4gICAgICAgICAgICAgICAgcmVhc29uXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbGV0IG1hcCA9IHRoaXMuY2hhaW5NYXA7XG4gICAgICAgICAgICBmb3IgKGxldCBpdGVtIG9mIG1hcC5rZXlzKCkpIHtcbiAgICAgICAgICAgICAgICBKRmFjdG9yeVByb21pc2Uuc2V0RXhwaXJlZChpdGVtLCBhYm9ydCwgZmFsc2UsIGVycm9yRXhwaXJlZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzQ29tcGxldGVkXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgICAgICAgICB0aGlzLl9fZGVmZXJyZWRfXy5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlQcm9taXNlUGF0aFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeVByb21pc2VQYXRoIGV4dGVuZHMgQXJyYXkge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGZvciAobGV0IGkgb2YgYXJndW1lbnRzKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaCguLi5pKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2goaSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBwcmludGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcCgodiwgaSkgPT4gaSA9PT0gMCA/IHYuJGRldl9uYW1lIDogdi4kZGV2X25hbWUuc3BsaXQoXCIuXCIpWzFdKS5qb2luKFwiLlwiKVxuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge3JldHVybiB0aGlzLnByaW50YWJsZX1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKRmFjdG9yeVByb21pc2VTeW5jXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFByb21pc2UgdGhhdCB0cmllcyB0byByZXNvbHZlIHN5bmNocm9ub3VzbHlcbi8vIGFsbG93aW5nIHN5bmNocm9ub3VzIHN0YXRlcyBhbmQgcmVzdWx0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5UHJvbWlzZVN5bmMgZXh0ZW5kcyBQcm9taXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKGV4ZWN1dG9yKSB7XG5cbiAgICAgICAgbGV0IHN0YXRlcyA9IHtcbiAgICAgICAgICAgICRpc1NldHRsZWQ6IGZhbHNlLCAvLyB0cnVlID0gbm90IHBlbmRpbmdcbiAgICAgICAgICAgICRpc1JlamVjdGVkOiBudWxsLCAvLyB0cnVlID0gbm90IHBlbmRpbmcgKyByZWplY3RlZFxuICAgICAgICAgICAgJHZhbHVlOiB1bmRlZmluZWRcbiAgICAgICAgfTtcblxuICAgICAgICBzdXBlcigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgbGV0IG9uUmVzb2x2ZSA9IHIgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICBKRmFjdG9yeVByb21pc2VTeW5jLnJlc29sdmUocilcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKG9uUmVzb2x2ZSwgb25SZWplY3QpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZXMuJGlzU2V0dGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZXMuJGlzUmVqZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlcy4kdmFsdWUgPSByO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgbGV0IG9uUmVqZWN0ID0gciA9PiB7XG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgcmVzb2x2ZSBwZW5kaW5nIHByb21pc2VcbiAgICAgICAgICAgICAgICAvLyB0byBrZWVwIG5hdGl2ZSBzcGVjaWZpY2F0aW9uXG4gICAgICAgICAgICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVzLiRpc1NldHRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZXMuJGlzUmVqZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZXMuJHZhbHVlID0gcjtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBleGVjdXRvcihvblJlc29sdmUsIG9uUmVqZWN0KVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIG9uUmVqZWN0KGUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgc3RhdGVzKTtcbiAgICAgICAgc3RhdGVzID0gdGhpc1xuICAgIH1cblxuICAgIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcblxuICAgICAgICBpZiAodGhpcy4kaXNTZXR0bGVkKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLiR2YWx1ZTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kaXNSZWplY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjYW5jZWwgYW55IHVuY2F1Z2h0IHJlamVjdGVkIHJlc3VsdCBmcm9tIHRoaXMgcHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAvLyBiZWZvcmUgcmV0dXJuaW5nIHRoZSBuZXcgb25lXG4gICAgICAgICAgICAgICAgICAgIHN1cGVyLnRoZW4odW5kZWZpbmVkLCAoKSA9PiBudWxsKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob25SZWplY3RlZCAmJiB0eXBlb2Ygb25SZWplY3RlZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG9uUmVqZWN0ZWQodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSkZhY3RvcnlQcm9taXNlU3luYy5yZWplY3QodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAob25GdWxmaWxsZWQgJiYgdHlwZW9mIG9uRnVsZmlsbGVkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gb25GdWxmaWxsZWQodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpGYWN0b3J5UHJvbWlzZVN5bmMucmVqZWN0KGUpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBKRmFjdG9yeVByb21pc2VTeW5jLnJlc29sdmUodmFsdWUpXG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHJlc29sdmUodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgSkZhY3RvcnlQcm9taXNlU3luYykge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBKRmFjdG9yeVByb21pc2VTeW5jKHZhbHVlLnRoZW4uYmluZCh2YWx1ZSkpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSkZhY3RvcnlQcm9taXNlU3luYyhyID0+IHIodmFsdWUpKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgeyBKRkFDVE9SWV9ERVYgfSBmcm9tIFwiLi9qRmFjdG9yeS1lbnZcIjtcbmltcG9ydCB7IEpGYWN0b3J5RXhwZWN0IH0gZnJvbSBcIi4vSkZhY3RvcnlFeHBlY3RcIjtcbmltcG9ydCB7IEpGYWN0b3J5UHJvbWlzZVN5bmMgfSBmcm9tIFwiLi9KRmFjdG9yeVByb21pc2VcIjtcbmltcG9ydCB7IEpGYWN0b3J5RnVuY3Rpb25Db21wb3NlciB9IGZyb20gXCIuL0pGYWN0b3J5RnVuY3Rpb25cIjtcbmltcG9ydCB7IGpGYWN0b3J5RXJyb3IgfSBmcm9tIFwiLi9KRmFjdG9yeUVycm9yXCI7XG5pbXBvcnQgeyBqUXVlcnksIGhlbHBlcl9pc1BsYWluT2JqZWN0IH0gZnJvbSBcIi4vakZhY3RvcnktaGVscGVyc1wiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5RXZlbnRzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGh0dHBzOi8vbGVhcm4uanF1ZXJ5LmNvbS9ldmVudHMvZXZlbnQtZXh0ZW5zaW9ucy9cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdHVzOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5RXZlbnRzIHtcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIGpRdWVyeSBkb2Vzbid0IGhhbmRsZSBhc3luYyB0cmlnZ2VyIHNvIGpGYWN0b3J5IHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgOlxuICAgIC8vXG4gICAgLy8gLSB0cmlnZ2VyUGFyYWxsZWwoKTogdGhlIHRyaWdnZXIgZnVuY3Rpb24gcmV0dXJucyBhIFByb21pc2UuYWxsKHBlbmRpbmdBcnJheSlcbiAgICAvLyAgIHdoZXJlIHBlbmRpbmdBcnJheSBpcyBmaWxsZWQgYnkgYW55IGFzeW5jIHJ1bm5pbmcgaGFuZGxlci5cbiAgICAvLyAgIE5vdCByZWNvbW1lbmRlZCBiZWNhdXNlIGl0J3MgdGhlIGJlc3Qgd2F5IHRvIHByb2R1Y2UgdW5wcmVkaWN0YWJsZSBhc3luYyBzaWRlIGVmZmVjdHNcbiAgICAvL1xuICAgIC8vIC0gdHJpZ2dlclNlcmllcygpOiBoYW5kbGVycyBhcmUgcnVuIGluIGEgc3luY2hyb25vdXMgb3JkZXIsIHdpdGggXCJhd2FpdFwiXG4gICAgLy8gICBUaGlzIGF2b2lkcyB1bnByZWRpY3RhYmxlIGFzeW5jIHJhY2UgY29uZGl0aW9uXG4gICAgLy9cbiAgICAvLyAgQm90aCByZXR1cm5zIGEgSkZhY3RvcnlQcm9taXNlU3luYyB0aGF0IGNvbnRhaW5zIHRoZSBqRmFjdG9yeV9mdWxmaWxsZWQgZmxhZ1xuICAgIC8vICBUaGlzIGZsYWcgaXMgaW1tZWRpYXRlbHkgKG5vdCBhc3luYykgc2V0IHRvIHRydWUgaWYgbm8gYXN5bmMgaGFuZGxlciBpcyBzdGlsbCBwZW5kaW5nXG4gICAgLy9cbiAgICAvLyA9PiBoYW5kbGVycyBhcmUgd3JhcHBlZC4gT3JpZ2luYWxIYW5kbGVycyBhbmQgd3JhcHBlZEhhbmRsZXJzIHJlbGF0aW9ucyBhcmUgc3RvcmVkIGluIGEgV2Vha01hcFxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywgLyoqIEBsZW5kcyBKRmFjdG9yeUV2ZW50cyMgKi8ge1xuICAgICAgICAgICAgcmVnaXN0cnk6IHsgdmFsdWU6IGpRdWVyeShPYmplY3QuY3JlYXRlKG51bGwpKSB9LFxuICAgICAgICAgICAgaGFuZGxlcnM6IHsgdmFsdWU6IG5ldyBXZWFrTWFwIH0sXG4gICAgICAgICAgICBvbkxpc3RlbmVyVXBkYXRlOiB7IHZhbHVlOiBudWxsLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgICAgICAgICAgb25PYnNlcnZlclVwZGF0ZTogeyB2YWx1ZTogbnVsbCwgd3JpdGFibGU6IHRydWUgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbih7IGV2ZW50cywgaGFuZGxlciwgdGFyZ2V0LCBzZWxlY3RvciB9KSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlU2VsZWN0b3IoZXZlbnRzKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlFdmVudHMub24oe2hhbmRsZXJ9KVwiLCBoYW5kbGVyKS50eXBlRnVuY3Rpb24oKTtcbiAgICAgICAgICAgIHRhcmdldCAmJiBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5RXZlbnRzLm9uKHt0YXJnZXR9KVwiLCB0YXJnZXQpLnR5cGUoU3RyaW5nLCBqUXVlcnksIEhUTUxFbGVtZW50KTtcbiAgICAgICAgICAgIHNlbGVjdG9yICYmIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlFdmVudHMub24oe3NlbGVjdG9yfSlcIiwgdGFyZ2V0KS50eXBlU3RyaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgd3JhcHBlZEhhbmRsZXIgPSB0aGlzLmhhbmRsZXJzLmdldChoYW5kbGVyKTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byB3cmFwIERPTSBoYW5kbGVyc1xuICAgICAgICAgICAgaWYgKCF3cmFwcGVkSGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGhhbmRsZXIsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5KHRhcmdldCkub24oZXZlbnRzLCBzZWxlY3RvciwgaGFuZGxlcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGpRdWVyeSh0YXJnZXQpLm9uKGV2ZW50cywgaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vbkxpc3RlbmVyVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkxpc3RlbmVyVXBkYXRlKGFyZ3VtZW50cylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghd3JhcHBlZEhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZXJzLnNldChoYW5kbGVyLCB3cmFwcGVkSGFuZGxlciA9IGZ1bmN0aW9uKGUsIHsgZGF0YSwgc3RhY2sgfSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKCgpID0+IGhhbmRsZXIoZSwgZGF0YSkpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgd3JhcHBlZEhhbmRsZXIub3JpZ2luYWxIYW5kbGVyID0gaGFuZGxlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVnaXN0cnkub24oZXZlbnRzLCB3cmFwcGVkSGFuZGxlcik7XG4gICAgICAgICAgICBpZiAodGhpcy5vbk9ic2VydmVyVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk9ic2VydmVyVXBkYXRlKGFyZ3VtZW50cylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9mZih7IGV2ZW50cywgaGFuZGxlciwgdGFyZ2V0LCBzZWxlY3RvciB9KSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkgeyAvLyBvZmYoKSBpcyB2YWxpZFxuICAgICAgICAgICAgICAgIEpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlU2VsZWN0b3IoZXZlbnRzKTtcbiAgICAgICAgICAgICAgICBoYW5kbGVyICYmIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlFdmVudHMub2ZmKHtoYW5kbGVyfSlcIiwgaGFuZGxlcikudHlwZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ICYmIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlFdmVudHMub2ZmKHt0YXJnZXR9KVwiLCB0YXJnZXQpLnR5cGUoU3RyaW5nLCBqUXVlcnksIEhUTUxFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBzZWxlY3RvciAmJiBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5RXZlbnRzLm9mZih7c2VsZWN0b3J9KVwiLCB0YXJnZXQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIGpRdWVyeSh0YXJnZXQpLm9mZihldmVudHMsIHNlbGVjdG9yLCBoYW5kbGVyKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkodGFyZ2V0KS5vZmYoZXZlbnRzLCBoYW5kbGVyKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgalF1ZXJ5KFwiKlwiKS5vZmYoZXZlbnRzLCBoYW5kbGVyKTtcblxuICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyID0gdGhpcy5oYW5kbGVycy5nZXQoaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfVkFMVUUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcImhhbmRsZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogXCJub3QgcmVnaXN0ZXJlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IGhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5Lm9mZihldmVudHMsIGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9uT2JzZXJ2ZXJVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMub25PYnNlcnZlclVwZGF0ZShhcmd1bWVudHMpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub25MaXN0ZW5lclVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5vbkxpc3RlbmVyVXBkYXRlKGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJ1biBpbiBwYXJhbGxlbC4gRG9uJ3QgXCJhd2FpdFwiIGZvciBhc3luYyBoYW5kbGVyc1xuICAgICAqIE9idmlvdXNseSBwcm9kdWNlcyB1bnByZWRpY3RhYmxlIHJhY2UgY29uZGl0aW9uc1xuICAgICAqL1xuICAgIHRyaWdnZXJQYXJhbGxlbCh7IGV2ZW50cywgZGF0YSwgdGFyZ2V0IH0pIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFdmVudHMudmFsaWRhdGVTZWxlY3RvcihldmVudHMpO1xuICAgICAgICAgICAgdGFyZ2V0XG4gICAgICAgICAgICAgICAgJiYgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUV2ZW50cy50cmlnZ2VyUGFyYWxsZWwoe3RhcmdldH0pXCIsIHRhcmdldCkudHlwZShTdHJpbmcsIGpRdWVyeSwgSFRNTEVsZW1lbnQpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGFjayA9IFtdO1xuICAgICAgICBjb25zdCBwZW5kaW5nID0gW107XG4gICAgICAgIGV2ZW50cyA9IGV2ZW50cy5zcGxpdChcIiBcIik7XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgZm9yIChsZXQgZXZlbnQgb2YgZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5KHRhcmdldCkudHJpZ2dlcihldmVudCwgeyBkYXRhLCBzdGFjayB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGV2ZW50IG9mIGV2ZW50cykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cnkudHJpZ2dlckhhbmRsZXIoZXZlbnQsIHsgZGF0YSwgc3RhY2sgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGhhbmRsZXIgb2Ygc3RhY2spIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBoYW5kbGVyKCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZVxuICAgICAgICAgICAgICAgICYmICFyZXN1bHQuJGlzU2V0dGxlZCAvLyBkb24ndCBuZWVkIHRvIGF3YWl0XG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nLnB1c2gocmVzdWx0KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBlbmRpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBKRmFjdG9yeVByb21pc2VTeW5jLnJlc29sdmUoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUnVuIGluIGRlY2xhcmF0aW9uIG9yZGVyIHN5bmNocm9ub3VzbHkuIFdpbGwgXCJhd2FpdFwiIGZvciBhc3luYyBoYW5kbGVyc1xuICAgICAqIFByZXZlbnRzIHVucHJlZGljdGFibGUgcmFjZSBjb25kaXRpb25zXG4gICAgICovXG4gICAgdHJpZ2dlclNlcmllcyh7IGV2ZW50cywgZGF0YSwgdGFyZ2V0IH0pIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFdmVudHMudmFsaWRhdGVTZWxlY3RvcihldmVudHMpO1xuICAgICAgICAgICAgdGFyZ2V0ICYmIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlFdmVudHMudHJpZ2dlclNlcmllcyh7dGFyZ2V0fSlcIiwgdGFyZ2V0KS50eXBlKFN0cmluZywgalF1ZXJ5LCBIVE1MRWxlbWVudClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgSkZhY3RvcnlQcm9taXNlU3luYyhhc3luYyByZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gW107XG4gICAgICAgICAgICBldmVudHMgPSBldmVudHMuc3BsaXQoXCIgXCIpO1xuXG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZXZlbnQgb2YgZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0YXJnZXQpLnRyaWdnZXIoZXZlbnQsIHsgZGF0YSwgc3RhY2sgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBldmVudCBvZiBldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS50cmlnZ2VySGFuZGxlcihldmVudCwgeyBkYXRhLCBzdGFjayB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaGFuZGxlciBvZiBzdGFjaykge1xuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBoYW5kbGVyKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2VcbiAgICAgICAgICAgICAgICAgICAgJiYgIXJlc3VsdC4kaXNTZXR0bGVkIC8vIGRvbid0IG5lZWQgdG8gYXdhaXRcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVzdWx0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlFdmVudHNNYW5hZ2VyIGV4dGVuZHMgSkZhY3RvcnlFdmVudHMge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgICAgICBwYXJlbnQ6IHsgdmFsdWU6IHBhcmVudCB9LFxuICAgICAgICAgICAgYWZmaWxpYXRlUnVsZXM6IHsgdmFsdWU6IG5ldyBKRmFjdG9yeUZ1bmN0aW9uQ29tcG9zZXIoKS5jb21wb3NlKCkgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZmZpbGlhdGVBZGRSdWxlKEpGYWN0b3J5RXZlbnRzTWFuYWdlci5ydWxlX25hbWVzcGFjZSlcbiAgICB9XG5cbiAgICBhZmZpbGlhdGUoZXZlbnRzID0gXCJcIiwgbmFtZXNwYWNlcyA9IFwiXCIsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHBhcnNlciA9IG5ldyBKRmFjdG9yeUV2ZW50U2VsZWN0b3JQYXJzZXIoZXZlbnRzKTtcbiAgICAgICAgZm9yIChsZXQgcGFyc2VkRXZlbnQgb2YgcGFyc2VyLmV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5hZmZpbGlhdGVSdWxlcyhwYXJzZWRFdmVudCwgbmFtZXNwYWNlcywgb3B0aW9ucylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VyLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgYWZmaWxpYXRlQWRkUnVsZShoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuYWZmaWxpYXRlUnVsZXMuY29tcG9zZXIubGFzdChoYW5kbGVyKVxuICAgIH1cblxuICAgIHN0YXRpYyBydWxlX25hbWVzcGFjZShjb250ZXh0LCBwYXJzZWRFdmVudCwgbmFtZXNwYWNlcykge1xuICAgICAgICBuYW1lc3BhY2VzID0gbmFtZXNwYWNlcy5zcGxpdChcIi5cIik7XG4gICAgICAgIGZvciAobGV0IG5hbWVzcGFjZSBvZiBuYW1lc3BhY2VzKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgJiYgcGFyc2VkRXZlbnQuYWRkTmFtZXNwYWNlKG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbihldmVudHMsIHRhcmdldCwgc2VsZWN0b3IsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gT2JzZXJ2ZXJzOlxuICAgICAgICAvLyBldmVudHMsIGhhbmRsZXJcbiAgICAgICAgLy8gZXZlbnRzLCBoYW5kbGVyLCBvcHRpb25zXG5cbiAgICAgICAgLy8gRE9NIEV2ZW50czpcbiAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIGhhbmRsZXJcbiAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIGhhbmRsZXIsIG9wdGlvbnNcbiAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yLCBoYW5kbGVyLFxuICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgc2VsZWN0b3IsIGhhbmRsZXIsIG9wdGlvbnNcblxuICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAvLyBldmVudHMsIGhhbmRsZXJcbiAgICAgICAgICAgICAgICBbaGFuZGxlciwgdGFyZ2V0XSA9IFt0YXJnZXQvKiwgdW5kZWZpbmVkKi9dO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzJdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIGhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICAgW2hhbmRsZXIsIHNlbGVjdG9yXSA9IFtzZWxlY3Rvci8qLCB1bmRlZmluZWQqL107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnRzLCBoYW5kbGVyLCBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgIFtoYW5kbGVyLCBvcHRpb25zLCB0YXJnZXQsIHNlbGVjdG9yXSA9IFt0YXJnZXQsIHNlbGVjdG9yLyosIHVuZGVmaW5lZCwgdW5kZWZpbmVkKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1szXSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgaGFuZGxlciwgb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICBbb3B0aW9ucywgaGFuZGxlciwgc2VsZWN0b3JdID0gW2hhbmRsZXIsIHNlbGVjdG9yLyosIHVuZGVmaW5lZCovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBldmVudHMgPSB0aGlzLmFmZmlsaWF0ZShldmVudHMsIHRoaXMucGFyZW50LiQuYWJvdXQuZmluZ2VycHJpbnQsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRhcmdldCA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgIHN1cGVyLm9uKHsgZXZlbnRzLCBoYW5kbGVyIH0pIDpcbiAgICAgICAgICAgIHN1cGVyLm9uKHsgZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yLCBoYW5kbGVyLyosIG9wdGlvbnMqLyB9KVxuICAgIH1cblxuICAgIG9mZihldmVudHMsIHRhcmdldCwgc2VsZWN0b3IsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQm90aDpcbiAgICAgICAgLy8gZXZlbnRzIChjYW4gYmUgbmFtZXNwYWNlcylcbiAgICAgICAgLy8gZXZlbnRzLCBvcHRpb25zXG4gICAgICAgIC8vIG9wdGlvbnMgKGNhbiBiZSByZW1vdmFsKVxuXG4gICAgICAgIC8vIE9ic2VydmVyOlxuICAgICAgICAvLyBldmVudHMsIGhhbmRsZXJcbiAgICAgICAgLy8gZXZlbnRzLCBoYW5kbGVyLCBvcHRpb25zXG5cbiAgICAgICAgLy8gRE9NIEV2ZW50czpcbiAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIGhhbmRsZXJcbiAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIGhhbmRsZXIsIG9wdGlvbnNcbiAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yXG4gICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBzZWxlY3RvciwgaGFuZGxlcixcbiAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yLCBoYW5kbGVyLCBvcHRpb25zXG5cbiAgICAgICAgY29uc3QgYXJnTCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHN3aXRjaCAoYXJnTCkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgW29wdGlvbnMsIGV2ZW50c10gPSBbZXZlbnRzLyosIHVuZGVmaW5lZCovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZWxzZSBldmVudHMgKGNhbiBuYW1lc3BhY2VzKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzFdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnRzLCBoYW5kbGVyXG4gICAgICAgICAgICAgICAgICAgIFtoYW5kbGVyLCB0YXJnZXRdID0gW3RhcmdldC8qLCB1bmRlZmluZWQqL107XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoZWxwZXJfaXNQbGFpbk9iamVjdChhcmd1bWVudHNbMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICBbb3B0aW9ucywgdGFyZ2V0XSA9IFt0YXJnZXQvKiwgdW5kZWZpbmVkKi9dXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVsc2UgZXZlbnRzLCB0YXJnZXRcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1syXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgdGFyZ2V0LCBoYW5kbGVyXG4gICAgICAgICAgICAgICAgICAgIFtoYW5kbGVyLCBzZWxlY3Rvcl0gPSBbc2VsZWN0b3IvKiwgdW5kZWZpbmVkKi9dO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50c1sxXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50cywgaGFuZGxlciwgb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICBbaGFuZGxlciwgb3B0aW9ucywgdGFyZ2V0LCBzZWxlY3Rvcl0gPSBbdGFyZ2V0LCBzZWxlY3Rvci8qLCB1bmRlZmluZWQsIHVuZGVmaW5lZCovXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudHMsIHRhcmdldCwgc2VsZWN0b3JcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbM10gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIGhhbmRsZXIsIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgW29wdGlvbnMsIGhhbmRsZXIsIHNlbGVjdG9yXSA9IFtoYW5kbGVyLCBzZWxlY3Rvci8qLCB1bmRlZmluZWQqL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgZXZlbnRzID0gdGhpcy5hZmZpbGlhdGUoZXZlbnRzLCB0aGlzLnBhcmVudC4kLmFib3V0LmZpbmdlcnByaW50LCBvcHRpb25zKTtcblxuICAgICAgICBpZiAoYXJnTCA8IDIpIHtcbiAgICAgICAgICAgIHN1cGVyLm9mZih7IGV2ZW50cyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldCA/XG4gICAgICAgICAgICAgICAgc3VwZXIub2ZmKHsgZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yLCBoYW5kbGVyLyosIG9wdGlvbnMqLyB9KSA6XG4gICAgICAgICAgICAgICAgc3VwZXIub2ZmKHsgZXZlbnRzLCBoYW5kbGVyIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0cmlnZ2VyKGV2ZW50cywgdGFyZ2V0LCBkYXRhKSB7XG4gICAgICAgIC8vIGV2ZW50c1xuICAgICAgICAvLyBldmVudHMsIHRhcmdldFxuICAgICAgICAvLyBldmVudHMsIGRhdGFcbiAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIGRhdGFcblxuICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIiAmJiAhdGFyZ2V0LmpxdWVyeSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudHMsIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgW2RhdGEsIHRhcmdldF0gPSBbdGFyZ2V0XVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBldmVudHMsIHRhcmdldFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0ID9cbiAgICAgICAgICAgIHN1cGVyLnRyaWdnZXJTZXJpZXMoeyBldmVudHMsIHRhcmdldCwgZGF0YSB9KSA6XG4gICAgICAgICAgICBzdXBlci50cmlnZ2VyU2VyaWVzKHsgZXZlbnRzLCBkYXRhIH0pXG4gICAgfVxuXG4gICAgdHJpZ2dlclBhcmFsbGVsKGV2ZW50cywgdGFyZ2V0LCBkYXRhKSB7XG4gICAgICAgIC8vIGV2ZW50c1xuICAgICAgICAvLyBldmVudHMsIHRhcmdldFxuICAgICAgICAvLyBldmVudHMsIGRhdGFcbiAgICAgICAgLy8gZXZlbnRzLCB0YXJnZXQsIGRhdGFcblxuICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIiAmJiAhdGFyZ2V0LmpxdWVyeSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudHMsIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgW2RhdGEsIHRhcmdldF0gPSBbdGFyZ2V0XVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBldmVudHMsIHRhcmdldFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0ID9cbiAgICAgICAgICAgIHN1cGVyLnRyaWdnZXJQYXJhbGxlbCh7IGV2ZW50cywgdGFyZ2V0LCBkYXRhIH0pIDpcbiAgICAgICAgICAgIHN1cGVyLnRyaWdnZXJQYXJhbGxlbCh7IGV2ZW50cywgZGF0YSB9KVxuICAgIH1cblxuICAgIC8vICN1bm9wdGltaXplZCBkcmFmdCNcbiAgICAvLyBJdCdzIG5vdCBlYXN5IHRvIGtlZXAgdGhpcyBsaXN0IHVwIHRvIGRhdGUgYmVjYXVzZTpcbiAgICAvLyAtIGxpc3RlbmVycyBjYW4gYmUgcmVtb3ZlZCBieSBleHRlcm5hbCBkb20gbXV0YXRpb25zXG4gICAgLy8gLSBsaXN0ZW5lcnMgY2FuIGJlIGRlbGVnYXRlZFxuICAgIC8vIC0gb2ZmKCkgbWV0aG9kIGNhbiByZW1vdmUgbGlzdGVuZXJzIGdsb2JhbGx5XG4gICAgZ2V0RG9tTGlzdGVuZXJzKG5hbWVzcGFjZSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGxldCBlbG0gb2YgalF1ZXJ5KFwiKlwiKSkge1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBqUXVlcnkuX2RhdGEoZWxtLCBcImV2ZW50c1wiKTtcbiAgICAgICAgICAgIGlmIChkYXRhKSB7Ly8gZGF0YSA9IHtjbGljazogW3t9XSwgLi4uIH1cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBlbnRyaWVzIG9mIE9iamVjdC52YWx1ZXMoZGF0YSkpIHsvLyBlbnRyaWVzID0gW3t0eXBlOi4uLn1dXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGVudHJ5IG9mIGVudHJpZXMpIHsvLyBlbnRyeSA9IHt0eXBlLCBuYW1lc3BhY2UsIGhhbmRsZXIsIC4uLn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJzZXIgPSBuZXcgSkZhY3RvcnlFdmVudFNlbGVjdG9yKGVudHJ5Lm5hbWVzcGFjZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VyLmhhc05hbWVzcGFjZShuYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodHlwZXMgPSByZXN1bHQuZ2V0KGVsbSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zZXQoZWxtLCB0eXBlcyA9IHt9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IHR5cGVzW2VudHJ5LnR5cGVdIHx8ICh0eXBlc1tlbnRyeS50eXBlXSA9IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi5lbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6IGVudHJ5LnNlbGVjdG9yIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGVudHJ5LmhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZTogZW50cnkubmFtZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cblxuICAgIC8vICN1bm9wdGltaXplZCBkcmFmdCNcbiAgICBnZXRPYnNlcnZlcnMoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgTWFwKCk7XG4gICAgICAgIGxldCBldmVudHMgPSB0aGlzLnJlZ2lzdHJ5Ll9ldmVudHM7XG5cbiAgICAgICAgaWYgKCFldmVudHMpIHtcbiAgICAgICAgICAgIGxldCByZWdpc3RyeSA9IE9iamVjdC52YWx1ZXModGhpcy5yZWdpc3RyeSlbMF07XG4gICAgICAgICAgICBsZXQgZXhwYW5kbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHJlZ2lzdHJ5KS5maW5kKGsgPT4gay5pbmRleE9mKFwialF1ZXJ5XCIpID09PSAwKTtcbiAgICAgICAgICAgIGlmIChyZWdpc3RyeSAmJiBleHBhbmRvKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRzID0gdGhpcy5yZWdpc3RyeS5fZXZlbnRzID0gcmVnaXN0cnlbZXhwYW5kb10uZXZlbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50cykge1xuICAgICAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhldmVudHMpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50ID0gcmVzdWx0LmdldChrZXkpO1xuICAgICAgICAgICAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldChrZXksIGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZXZlbnRUeXBlRW50cnkgb2YgdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogZXZlbnRUeXBlRW50cnkuaGFuZGxlci5vcmlnaW5hbEhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IGV2ZW50VHlwZUVudHJ5Lm5hbWVzcGFjZVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeUV2ZW50U2VsZWN0b3JQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9ycykge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZVNlbGVjdG9yKHNlbGVjdG9ycyk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIEFycmF5PEpGYWN0b3J5RXZlbnRTZWxlY3Rvcj5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXZlbnRzID0gc2VsZWN0b3JzLnNwbGl0KFwiIFwiKS5tYXAoc2VsZWN0b3IgPT4gbmV3IEpGYWN0b3J5RXZlbnRTZWxlY3RvcihzZWxlY3RvcikpXG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGxldCBzID0gW107XG4gICAgICAgIGZvciAobGV0IGV2ZW50IG9mIHRoaXMuZXZlbnRzKSB7XG4gICAgICAgICAgICBzLnB1c2goZXZlbnQudG9TdHJpbmcoKSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcy5qb2luKFwiIFwiKVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5RXZlbnRTZWxlY3RvciB7XG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcbiAgICAgICAgbGV0IFtldmVudCwgLi4ubmFtZXNwYWNlXSA9IHNlbGVjdG9yLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgdGhpcy5ldmVudCA9IGV2ZW50O1xuICAgICAgICB0aGlzLm5hbWVzcGFjZSA9IG5ldyBTZXQobmFtZXNwYWNlKVxuICAgIH1cblxuICAgIC8qKiBAcmV0dXJuIHtCb29sZWFufFN0cmluZ30gKi9cbiAgICBoYXNOYW1lc3BhY2UobmFtZXNwYWNlcykge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobmFtZXNwYWNlcykpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZXMgPSBbbmFtZXNwYWNlc11cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBuYW1lc3BhY2Ugb2YgbmFtZXNwYWNlcykge1xuICAgICAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgICAgIGlmICghL15bXFx3Ol0rJC8udGVzdChuYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfVkFMVUUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIm5hbWVzcGFjZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcIm11c3QgYmUgYWxwaGFudW1lcmljLCB1bmRlcnNjb3JlIGFuZCBjb2xvbiBjaGFyYWN0ZXJzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnaXZlbjogbmFtZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5hbWVzcGFjZSAmJiB0aGlzLm5hbWVzcGFjZS5oYXMobmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuYW1lc3BhY2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBhZGROYW1lc3BhY2UobmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIGlmICghL15bXFx3Ol0rJC8udGVzdChuYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuSU5WQUxJRF9WQUxVRSh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJuYW1lc3BhY2VcIixcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcIm11c3QgYmUgYWxwaGFudW1lcmljLCB1bmRlcnNjb3JlIGFuZCBjb2xvbiBjaGFyYWN0ZXJzXCIsXG4gICAgICAgICAgICAgICAgICAgIGdpdmVuOiBuYW1lc3BhY2VcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZXNwYWNlLmFkZChuYW1lc3BhY2UpXG4gICAgfVxuXG4gICAgZGVsZXRlTmFtZXNwYWNlKG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBpZiAoIS9eW1xcdzpdKyQvLnRlc3QobmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfVkFMVUUoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwibmFtZXNwYWNlXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogXCJtdXN0IGJlIGFscGhhbnVtZXJpYywgdW5kZXJzY29yZSBhbmQgY29sb24gY2hhcmFjdGVyc1wiLFxuICAgICAgICAgICAgICAgICAgICBnaXZlbjogbmFtZXNwYWNlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWVzcGFjZS5kZWxldGUobmFtZXNwYWNlKVxuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lc3BhY2Uuc2l6ZSA/IHRoaXMuZXZlbnQgKyBcIi5cIiArIEFycmF5LmZyb20odGhpcy5uYW1lc3BhY2UudmFsdWVzKCkpLmpvaW4oXCIuXCIpIDogdGhpcy5ldmVudDtcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5pZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgSkZhY3RvcnlFdmVudHMudmFsaWRhdGVTZWxlY3RvciA9IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlFdmVudHMudmFsaWRhdGVTZWxlY3RvcihzZWxlY3RvcilcIiwgc2VsZWN0b3IpXG4gICAgICAgICAgICAgICAgLm5vdFVuZGVmaW5lZCgpXG4gICAgICAgICAgICAgICAgLnZhbGlkU3BhY2VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBbZXZlbnQsIG5zXSBvZiBzZWxlY3Rvci5zcGxpdChcIiBcIilcbiAgICAgICAgICAgIC5tYXAodiA9PiB2LnNwbGl0KFwiLlwiKSlcbiAgICAgICAgICAgIC5tYXAodiA9PiBbdi5zaGlmdCgpLCB2LmpvaW4oXCIuXCIpXSkpIHtcbiAgICAgICAgICAgIGV2ZW50ICYmIEpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgbnMgJiYgSkZhY3RvcnlFdmVudHMudmFsaWRhdGVOYW1lc3BhY2UobnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfTtcblxuICAgIEpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlRXZlbnQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlRXZlbnQoZXZlbnQpXCIsIGV2ZW50KVxuICAgICAgICAgICAgICAgIC5ub3RVbmRlZmluZWQoKVxuICAgICAgICAgICAgICAgIC5ub3RFbXB0eVN0cmluZygpXG4gICAgICAgICAgICAgICAgLnZhbGlkU3BhY2VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIS9eW1xcdzpdKyQvLnRlc3QoZXZlbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5JTlZBTElEX1ZBTFVFKHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiSkZhY3RvcnlFdmVudHMudmFsaWRhdGVFdmVudChldmVudClcIixcbiAgICAgICAgICAgICAgICByZWFzb246IFwibXVzdCBiZSBhbHBoYW51bWVyaWMsIHVuZGVyc2NvcmUgYW5kIGNvbG9uIGNoYXJhY3RlcnNcIixcbiAgICAgICAgICAgICAgICBnaXZlbjogZXZlbnRcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH07XG5cbiAgICBKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZU5hbWVzcGFjZSA9IGZ1bmN0aW9uKG5hbWVzcGFjZSkgeyAvLyBleDogbnMubnMyLm5zM1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5RXZlbnRzLnZhbGlkYXRlTmFtZXNwYWNlKG5hbWVzcGFjZSlcIiwgbmFtZXNwYWNlKVxuICAgICAgICAgICAgICAgIC5ub3RVbmRlZmluZWQoKVxuICAgICAgICAgICAgICAgIC5ub3RFbXB0eVN0cmluZygpXG4gICAgICAgICAgICAgICAgLnZhbGlkU3BhY2VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIS9eW1xcdzouXSskLy50ZXN0KG5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLklOVkFMSURfVkFMVUUoe1xuICAgICAgICAgICAgICAgIHRhcmdldDogXCJKRmFjdG9yeUV2ZW50cy52YWxpZGF0ZU5hbWVzcGFjZShuYW1lc3BhY2UpXCIsXG4gICAgICAgICAgICAgICAgcmVhc29uOiBcIm11c3QgYmUgYWxwaGFudW1lcmljLCB1bmRlcnNjb3JlLCBkb3QgYW5kIGNvbG9uIGNoYXJhY3RlcnNcIixcbiAgICAgICAgICAgICAgICBnaXZlbjogbmFtZXNwYWNlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9O1xufSIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG5pbXBvcnQgeyBKRmFjdG9yeVByb21pc2UgfSBmcm9tIFwiLi9KRmFjdG9yeVByb21pc2VcIjtcbmltcG9ydCB7IGpGYWN0b3J5RXJyb3IgfSBmcm9tIFwiLi9KRmFjdG9yeUVycm9yXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSkZhY3RvcnlGZXRjaFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlGZXRjaCBleHRlbmRzIEpGYWN0b3J5UHJvbWlzZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25hbEFyZ3MsIHVybCwgZmV0Y2hPcHRpb25zID0ge30pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25hbEFyZ3MgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgc3VwZXIob3B0aW9uYWxBcmdzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uYWxBcmdzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgW29wdGlvbmFsQXJncywgdXJsLCBmZXRjaE9wdGlvbnNdID0gW3t9LCBhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXV1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGZldGNoUmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHVybCwgZmV0Y2hPcHRpb25zKTtcblxuICAgICAgICAgICAgc3VwZXIob3B0aW9uYWxBcmdzLCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHByb21pc2UgPSBmZXRjaChmZXRjaFJlcXVlc3QpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGNoYWluLmZldGNoUmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihyZXNwb25zZS5zdGF0dXMgKyBcIjpcIiArIHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZldGNoT3B0aW9ucy4kdHlwZVRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZSA9IHByb21pc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHIgPT4gdGhpcy4kY2hhaW4ucmVzcG9uc2VUZXh0ID0gcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZldGNoT3B0aW9ucy4kdHlwZUpTT04pIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZSA9IHByb21pc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHIgPT4gdGhpcy4kY2hhaW4ucmVzcG9uc2VKU09OID0gcik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcHJvbWlzZSA9IHByb21pc2UuY2F0Y2gocmVhc29uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuUkVRVUVTVF9FUlJPUih7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IHJlYXNvbi5tZXNzYWdlIHx8IHJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy4kY2hhaW4uZmV0Y2hSZXNwb25zZSAmJiB0aGlzLiRjaGFpbi5mZXRjaFJlc3BvbnNlLnVybCB8fCB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBvd25lcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoUmVxdWVzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoUmVzcG9uc2U6IHRoaXMuJGNoYWluLmZldGNoUmVzcG9uc2UgfHwgbnVsbFxuICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25hbEFyZ3MudHJhY2VTb3VyY2UpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuJGNoYWluLmZldGNoT3B0aW9ucyA9IGZldGNoT3B0aW9ucztcbiAgICAgICAgICAgIHRoaXMuJGNoYWluLmZldGNoUmVxdWVzdCA9IGZldGNoUmVxdWVzdDtcblxuICAgICAgICAgICAgbGV0IGFib3J0Q3RybCA9IGZldGNoT3B0aW9ucy5hYm9ydENvbnRyb2xsZXIgfHwgbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgICAgZmV0Y2hPcHRpb25zLnNpZ25hbCA9IGFib3J0Q3RybC5zaWduYWw7XG4gICAgICAgICAgICB0aGlzLiRjaGFpbi5mZXRjaEFib3J0Q29udHJvbGxlciA9IGFib3J0Q3RybDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICRjaGFpbkFib3J0KHJlYXNvbiA9IFwicmVxdWVzdCBhYm9ydGVkXCIpIHtcbiAgICAgICAgc3VwZXIuJGNoYWluQWJvcnQocmVhc29uKTtcbiAgICAgICAgdGhpcy4kY2hhaW4uZmV0Y2hBYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG59IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbmltcG9ydCB7IEpGQUNUT1JZX0RFViwgSkZBQ1RPUllfQ0xJIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBKRmFjdG9yeUV4cGVjdCB9IGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5pbXBvcnQgeyBqRmFjdG9yeUZ1bmN0aW9uQ29uZGl0aW9uYWwgfSBmcm9tIFwiLi9KRmFjdG9yeUZ1bmN0aW9uXCI7XG5pbXBvcnQgeyBoZWxwZXJfZGVmYXVsdHNEZWVwLCBOT09QIH0gZnJvbSBcIi4vakZhY3RvcnktaGVscGVyc1wiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5TG9nZ2VyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEEgY29udGV4dHVhbCBsb2dnZXIgdGhhdCBwcmVwZW5kcyBhIGxhYmVsIGFuZCBhbGxvd3MgcnVudGltZSBmaWx0ZXJpbmcgd2hpbGUgcHJlc2VydmluZyB0aGUgY2FsbGVyIGxpbmUgbnVtYmVyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGxvZ2dlci5jcmVhdGVTdWJMb2dnZXIobGFiZWwpIGNyZWF0ZSBhIHN1Yi1sb2dnZXIgb2YgbG9nZ2VyOyBcImxvZ2dlclwiIGNhbiBiZSBhIHN1Yi1sb2dnZXIuXG4vLyBsb2dnZXIuZGlzYWJsZSgpIGRpc2FibGUgY29uc29sZSBmb3IgaXRzZWxmIGFuZCBzdWItbG9nZ2Vyc1xuLy8gbG9nZ2VyLmRpc2FsbG93KCdsb2cnKSBkaXNhbGxvdyBsb2dnZXIubG9nKCkgb25seVxuLy8gbG9nZ2VyLmRpc2FsbG93KCdsb2cnLCBzdWJMb2dnZXIubGFiZWwpIGRpc2FsbG93IHN1Yi1sb2dnZXIubG9nKCkgb25seS4gVGhpcyBpcyBjYWxsYWJsZSBmcm9tIGFueSBsb2dnZXIvc3ViLWxvZ2dlclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXMgOiBCZXRhXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuY29uc3QgU1lNQk9MX0VOQUJMRUQgPSBTeW1ib2woKTtcblxuZXhwb3J0IGNsYXNzIEpGYWN0b3J5TG9nZ2VyIHtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFViAmJiBvcHRpb25zKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5TG9nZ2VyKG9wdGlvbnMpXCIsIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgLnByb3BlcnRpZXMoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoSkZhY3RvcnlMb2dnZXIuREVGQVVMVF9DT05GSUcpKVxuICAgICAgICB9XG4gICAgICAgIGhlbHBlcl9kZWZhdWx0c0RlZXAodGhpcywgb3B0aW9ucywgSkZhY3RvcnlMb2dnZXIuREVGQVVMVF9DT05GSUcpO1xuICAgICAgICB0aGlzLmNvbmRpdGlvbiA9IGpGYWN0b3J5RnVuY3Rpb25Db25kaXRpb25hbChKRmFjdG9yeUxvZ2dlci5ERUZBVUxUX0NPTkRJVElPTik7XG4gICAgICAgIHRoaXMuaW5zdGFsbEFjY2Vzc29yKFwibG9nXCIpO1xuICAgICAgICB0aGlzLmluc3RhbGxBY2Nlc3NvcihcIndhcm5cIik7XG4gICAgICAgIHRoaXMuaW5zdGFsbEFjY2Vzc29yKFwiZXJyb3JcIilcbiAgICB9XG5cbiAgICBnZXQgZW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbU1lNQk9MX0VOQUJMRURdICYmICh0aGlzLnBhcmVudExvZ2dlciA/IHRoaXMucGFyZW50TG9nZ2VyLmVuYWJsZWQgOiB0cnVlKVxuICAgIH1cblxuICAgIHNldCBlbmFibGVkKHYpIHtcbiAgICAgICAgdiA/IHRoaXMuZW5hYmxlKCkgOiB0aGlzLmRpc2FibGUoKVxuICAgIH1cblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgaWYgKHRoaXNbU1lNQk9MX0VOQUJMRURdICE9PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzW1NZTUJPTF9FTkFCTEVEXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBpZiAodGhpc1tTWU1CT0xfRU5BQkxFRF0gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzW1NZTUJPTF9FTkFCTEVEXSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzYWxsb3cobmF0aXZlTmFtZSwgbGFiZWwgPSB0aGlzLmxhYmVsKSB7XG4gICAgICAgIGlmICghdGhpcy5maWx0ZXJzW2xhYmVsXSkge3RoaXMuZmlsdGVyc1tsYWJlbF0gPSB7fX1cbiAgICAgICAgdGhpcy5maWx0ZXJzW2xhYmVsXVtuYXRpdmVOYW1lXSA9IHRydWVcbiAgICB9XG5cbiAgICBhbGxvdyhuYXRpdmVOYW1lLCBsYWJlbCA9IHRoaXMubGFiZWwpIHtcbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyc1tsYWJlbF0pIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmZpbHRlcnNbbGFiZWxdW25hdGl2ZU5hbWVdXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbnN0YWxsQWNjZXNzb3IobmF0aXZlTmFtZSwgdGFyZ2V0TmFtZSA9IG5hdGl2ZU5hbWUsIHRhcmdldCA9IHRoaXMpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJKRmFjdG9yeUxvZ2dlcihuYXRpdmVOYW1lKVwiLCBuYXRpdmVOYW1lKS5lcXVhbEluKFtcImxvZ1wiLCBcIndhcm5cIiwgXCJlcnJvclwiXSk7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCB7XG4gICAgICAgICAgICBbdGFyZ2V0TmFtZV06IHtcbiAgICAgICAgICAgICAgICBnZXQ6IHRoaXMuYWNjZXNzb3IuYmluZCh0aGlzLCBuYXRpdmVOYW1lLyosIHRhcmdldCovKSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBhY2Nlc3NvcihuYXRpdmVOYW1lLyosIHRhcmdldCovKSB7XG4gICAgICAgIGlmICghdGhpc1tTWU1CT0xfRU5BQkxFRF0pIHtcbiAgICAgICAgICAgIHJldHVybiBOT09QO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmRpdGlvbihuYXRpdmVOYW1lKSAmJiB0aGlzLmZvcm1hdHRlcltuYXRpdmVOYW1lXSh0aGlzKSB8fCBOT09QXG4gICAgfVxuXG4gICAgY3JlYXRlU3ViTG9nZ2VyKGxhYmVsKSB7XG4gICAgICAgIC8qKiBAdHlwZSBKRmFjdG9yeUxvZ2dlciAqL1xuICAgICAgICBsZXQgc3ViID0gbmV3IEpGYWN0b3J5TG9nZ2VyKHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRoaXMuZW5hYmxlZCxcbiAgICAgICAgICAgIGxhYmVsOiB0aGlzLmxhYmVsICsgXCIuXCIgKyBsYWJlbCxcbiAgICAgICAgICAgIHN0eWxlc19jc3M6IHRoaXMuc3R5bGVzX2NzcyxcbiAgICAgICAgICAgIHN0eWxlc19jbGk6IHRoaXMuc3R5bGVzX2NsaSxcbiAgICAgICAgICAgIGNvbnNvbGU6IHRoaXMuY29uc29sZSxcbiAgICAgICAgICAgIGZvcm1hdHRlcjogdGhpcy5mb3JtYXR0ZXJcbiAgICAgICAgfSk7XG4gICAgICAgIHN1Yi5wYXJlbnRMb2dnZXIgPSB0aGlzO1xuICAgICAgICBzdWIuY29uZGl0aW9uLmFkZENvbmRpdGlvbigoKSA9PiB0aGlzLmVuYWJsZWQpO1xuICAgICAgICBzdWIuZmlsdGVycyA9IHRoaXMuZmlsdGVyczsgLy8gc2hhcmVkIHRvIGFsbG93L2Rpc2FsbG93IGZyb20gYW55d2hlcmVcbiAgICAgICAgcmV0dXJuIHN1YlxuICAgIH1cbn1cblxuLy8gI2xpbWl0YXRpb24jIFRvIHByZXNlcnZlIHRoZSBsaW5lIG51bWJlciwgd2UgY2FuIG9ubHkgdXNlIG5hdGl2ZSBmdW5jdGlvbnMsIGxpa2UgYmluZFxuLy8gI2xpbWl0YXRpb24jIEJlY2F1c2Ugd2UgdXNlIGJpbmQoKSwgb25seSB0aGUgc3R5bGUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgY2FuIGJlIGVmZmljaWVudGx5IGRlZmluZWRcblxuSkZhY3RvcnlMb2dnZXIuRk9STUFUVEVSX05BVElWRSA9IHtcbiAgICBsb2c6IGxvZ2dlciA9PiBsb2dnZXIuY29uc29sZS5sb2cuYmluZChsb2dnZXIuY29uc29sZSwgbG9nZ2VyLmxhYmVsICsgXCI+XCIpLFxuICAgIHdhcm46IGxvZ2dlciA9PiBsb2dnZXIuY29uc29sZS53YXJuLmJpbmQobG9nZ2VyLmNvbnNvbGUsIGxvZ2dlci5sYWJlbCArIFwiPlwiKSxcbiAgICBlcnJvcjogbG9nZ2VyID0+IGxvZ2dlci5jb25zb2xlLmVycm9yLmJpbmQobG9nZ2VyLmNvbnNvbGUsIGxvZ2dlci5sYWJlbCArIFwiPlwiKVxufTtcblxuSkZhY3RvcnlMb2dnZXIuRk9STUFUVEVSX0NMSSA9IHtcbiAgICBsb2c6IGxvZ2dlciA9PiBsb2dnZXIuY29uc29sZS5sb2cuYmluZChsb2dnZXIuY29uc29sZSwgbG9nZ2VyLnN0eWxlc19jbGkubGFiZWwsIGxvZ2dlci5sYWJlbCArIFwiPlwiKSxcbiAgICB3YXJuOiBsb2dnZXIgPT4gbG9nZ2VyLmNvbnNvbGUud2Fybi5iaW5kKGxvZ2dlci5jb25zb2xlLCBsb2dnZXIuc3R5bGVzX2NsaS5sYWJlbCwgbG9nZ2VyLmxhYmVsICsgXCI+XCIpLFxuICAgIGVycm9yOiBsb2dnZXIgPT4gbG9nZ2VyLmNvbnNvbGUuZXJyb3IuYmluZChsb2dnZXIuY29uc29sZSwgbG9nZ2VyLnN0eWxlc19jbGkubGFiZWwsIGxvZ2dlci5sYWJlbCArIFwiPlwiKVxufTtcblxuSkZhY3RvcnlMb2dnZXIuRk9STUFUVEVSX0JST1dTRVIgPSB7XG4gICAgbG9nOiBsb2dnZXIgPT4gbG9nZ2VyLmNvbnNvbGUubG9nLmJpbmQobG9nZ2VyLmNvbnNvbGUsIFwiJWNcIiArIGxvZ2dlci5sYWJlbCArIFwiPlwiLCBsb2dnZXIuc3R5bGVzX2Nzcy5sYWJlbCksXG4gICAgd2FybjogbG9nZ2VyID0+IGxvZ2dlci5jb25zb2xlLndhcm4uYmluZChsb2dnZXIuY29uc29sZSwgXCIlY1wiICsgbG9nZ2VyLmxhYmVsICsgXCI+XCIsIGxvZ2dlci5zdHlsZXNfY3NzLmxhYmVsKSxcbiAgICBlcnJvcjogbG9nZ2VyID0+IGxvZ2dlci5jb25zb2xlLmVycm9yLmJpbmQobG9nZ2VyLmNvbnNvbGUsIFwiJWNcIiArIGxvZ2dlci5sYWJlbCArIFwiPlwiLCBsb2dnZXIuc3R5bGVzX2Nzcy5sYWJlbClcbn07XG5cbi8qKiBAcmV0dXJuIHtib29sZWFufSAqL1xuSkZhY3RvcnlMb2dnZXIuREVGQVVMVF9DT05ESVRJT04gPSBmdW5jdGlvbihuYXRpdmVOYW1lKSB7XG4gICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICBKRmFjdG9yeUV4cGVjdChcIkpGYWN0b3J5TG9nZ2VyLmNvbmRpdGlvbihuYXRpdmVOYW1lKVwiLCBuYXRpdmVOYW1lKS5lcXVhbEluKFtcImxvZ1wiLCBcIndhcm5cIiwgXCJlcnJvclwiXSk7XG4gICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiSkZhY3RvcnlMb2dnZXIuZW5hYmxlZFwiLCB0aGlzLmVuYWJsZWQpLmVxdWFsKHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gISh0aGlzLmZpbHRlcnNbdGhpcy5sYWJlbF0gJiYgdGhpcy5maWx0ZXJzW3RoaXMubGFiZWxdW25hdGl2ZU5hbWVdKVxufTtcblxuSkZhY3RvcnlMb2dnZXIuREVGQVVMVF9DT05GSUcgPSAvKiogQGxlbmRzIEpGYWN0b3J5TG9nZ2VyIyAqLyB7XG4gICAgbGFiZWw6IFwiXCIsXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICBwYXJlbnRMb2dnZXI6IG51bGwsXG4gICAgZm9ybWF0dGVyOiBKRkFDVE9SWV9DTEkgP1xuICAgICAgICBKRmFjdG9yeUxvZ2dlci5GT1JNQVRURVJfQ0xJIDpcbiAgICAgICAgSkZhY3RvcnlMb2dnZXIuRk9STUFUVEVSX0JST1dTRVIsXG4gICAgY29uc29sZSxcbiAgICBmaWx0ZXJzOiB7XG4gICAgfSxcbiAgICBzdHlsZXNfY2xpOiB7XG4gICAgICAgIGxhYmVsOiBcIlxceDFiWzE7MzBtJXNcXHgxYlswbVwiXG4gICAgfSxcbiAgICBzdHlsZXNfY3NzOiB7XG4gICAgICAgIGxhYmVsOiBcImNvbG9yOiBncmF5XCJcbiAgICB9XG59OyIsIi8qIGpGYWN0b3J5LCBDb3B5cmlnaHQgKGMpIDIwMTksIFN0w6lwaGFuZSBQbGF6aXMsIGh0dHBzOi8vZ2l0aHViLmNvbS9qZmFjdG9yeS1lcy9qZmFjdG9yeS9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpGYWN0b3J5VGltZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0dXM6IEJldGFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgSkZhY3RvcnlUaW1lIGV4dGVuZHMgRGF0ZSB7XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvTG9jYWxlVGltZVN0cmluZygpICsgXCIsIFwiICsgdGhpcy5nZXRVVENNaWxsaXNlY29uZHMoKSArIFwibXMgKFwiICsgdGhpcy52YWx1ZU9mKCkgKyBcIilcIlxuICAgIH1cbiAgICAkdG9EdXJhdGlvblN0cmluZygpIHtcbiAgICAgICAgbGV0IGhvdXJzID0gdGhpcy5nZXRVVENIb3VycygpO1xuICAgICAgICBsZXQgbWludXRlcyA9IHRoaXMuZ2V0VVRDTWludXRlcygpO1xuICAgICAgICBsZXQgc2Vjb25kcyA9IHRoaXMuZ2V0VVRDU2Vjb25kcygpO1xuICAgICAgICBsZXQgbWlsbGlzZWNvbmRzID0gdGhpcy5nZXRVVENNaWxsaXNlY29uZHMoKTtcblxuICAgICAgICBsZXQgYSA9IFtdO1xuICAgICAgICBpZiAoaG91cnMpIHtcbiAgICAgICAgICAgIGEucHVzaChob3VycyArIFwiaFwiKVxuICAgICAgICB9XG4gICAgICAgIGlmIChtaW51dGVzKSB7XG4gICAgICAgICAgICBhLnB1c2gobWludXRlcyArIFwibWluXCIpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlY29uZHMpIHtcbiAgICAgICAgICAgIGEucHVzaChzZWNvbmRzICsgXCJzXCIpXG4gICAgICAgIH1cbiAgICAgICAgYS5wdXNoKG1pbGxpc2Vjb25kcyArIFwibXNcIik7XG4gICAgICAgIGlmIChhLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGFbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYS5qb2luKFwiLFwiKSArIFwiIChcIiArIHRoaXMudmFsdWVPZigpICsgXCIpXCI7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBKRmFjdG9yeVRpbWVUcmFjZSBleHRlbmRzIERhdGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmVsYXBzZWQgPSBudWxsO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgICAgICB0MTogeyB2YWx1ZTogbnVsbCwgd3JpdGFibGU6IHRydWUgfSxcbiAgICAgICAgICAgIHQwOiB7IHZhbHVlOiBuZXcgSkZhY3RvcnlUaW1lKCkgfVxuICAgICAgICB9KVxuICAgIH1cbiAgICBlbmQoKSB7XG4gICAgICAgIHRoaXMudDEgPSBuZXcgSkZhY3RvcnlUaW1lKCk7XG4gICAgICAgIHRoaXMuZWxhcHNlZCA9IG5ldyBKRmFjdG9yeVRpbWUodGhpcy50MSAtIHRoaXMudDApLiR0b0R1cmF0aW9uU3RyaW5nKClcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsYXBzZWRcbiAgICB9XG59IiwiLyogakZhY3RvcnksIENvcHlyaWdodCAoYykgMjAxOSwgU3TDqXBoYW5lIFBsYXppcywgaHR0cHM6Ly9naXRodWIuY29tL2pmYWN0b3J5LWVzL2pmYWN0b3J5L2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdENvcmVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmltcG9ydCB7IEpGQUNUT1JZX0RFViwgakZhY3RvcnlDb25maWcgfSBmcm9tIFwiLi9qRmFjdG9yeS1lbnZcIjtcbmltcG9ydCB7IGpGYWN0b3J5RXJyb3IsIEpGYWN0b3J5RXJyb3IgfSBmcm9tIFwiLi9KRmFjdG9yeUVycm9yXCI7XG5pbXBvcnQgeyBqRmFjdG9yeSB9IGZyb20gXCIuL2pGYWN0b3J5XCI7XG5pbXBvcnQgeyBKRmFjdG9yeUV4cGVjdCB9IGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5pbXBvcnQgeyBKRmFjdG9yeUFib3V0IH0gZnJvbSBcIi4vSkZhY3RvcnlBYm91dFwiO1xuaW1wb3J0IHsgSkZhY3RvcnlMb2dnZXIgfSBmcm9tIFwiLi9KRmFjdG9yeUxvZ2dlclwiO1xuaW1wb3J0IHsgSkZhY3RvcnlQcm9taXNlLCBKRmFjdG9yeVByb21pc2VTeW5jIH0gZnJvbSBcIi4vSkZhY3RvcnlQcm9taXNlXCI7XG5pbXBvcnQgeyBKRmFjdG9yeUV2ZW50c01hbmFnZXIgfSBmcm9tIFwiLi9KRmFjdG9yeUV2ZW50c1wiO1xuaW1wb3J0IHsgSkZhY3RvcnlPYmplY3QgfSBmcm9tIFwiLi9KRmFjdG9yeU9iamVjdFwiO1xuaW1wb3J0IHsgSkZhY3RvcnlUaW1lVHJhY2UgfSBmcm9tIFwiLi9KRmFjdG9yeVRpbWVcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBPYmplY3Rcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRDb3JlIHtcbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3Qgb3duZXIgPSB0aGlzO1xuXG4gICAgICAgIGNsYXNzIFN1Yk1hcCBleHRlbmRzIE1hcCB7XG4gICAgICAgICAgICAkcmVnaXN0ZXJTeW5jKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgc3ViID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoe30sIHtcbiAgICAgICAgICAgICAgICAgICAgJHZhbHVlOiB7IHZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICRwaGFzZVJlbW92ZTogeyB2YWx1ZTogVHJhaXRTZXJ2aWNlLmdldENvbnRleHR1YWxSZW1vdmVQaGFzZShvd25lcikgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgc3ViKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3ViXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkcmVnaXN0ZXJBc3luYyhrZXksIHRhc2tOYW1lLCBwcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRhc2sgPSBvd25lci4kdGFzayh0YXNrTmFtZSwgcHJvbWlzZS4kY2hhaW4pO1xuXG4gICAgICAgICAgICAgICAgLy8gRW5kIG9mIHByb21pc2UgY2hhaW4gbXVzdCBjb21wbGV0ZSB0aGUgdGFza1xuICAgICAgICAgICAgICAgIHByb21pc2UuJGNoYWluLnRoZW4oKCkgPT4geyAvLyBzeW5jaHJvbm91cyB0aGVuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRhc2suJGNoYWluQ29tcGxldGUoXCJ0YXNrIGNvbXBsZXRlZFwiKVxuICAgICAgICAgICAgICAgICAgICB0YXNrLiRjaGFpbkF1dG9Db21wbGV0ZSgpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBBYm9ydGVkIHRhc2sgbXVzdCBhYm9ydCB0aGUgcHJvbWlzZSBpZiBzdGlsbCBydW5uaW5nXG4gICAgICAgICAgICAgICAgdGFzay4kY2hhaW4udGhlbigoKSA9PiB7Ly8gc3luY2hyb25vdXMgdGhlblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb21pc2UuJGNoYWluLmlzQ29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLiRjaGFpbkFib3J0KFwiYWJvcnRlZCBieSB0YXNrXCIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIiRwaGFzZVJlbW92ZVwiLCB7IHZhbHVlOiB0YXNrLiRwaGFzZVJlbW92ZSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChrZXksIHByb21pc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcm90byA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShudWxsKSwge1xuICAgICAgICAgICAgW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV06IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICAgICAgICBhc3NpZ246IGZ1bmN0aW9uKHByb3BlcnR5LCB2YWx1ZSwgZGVzY3JpcHRvcikge0pGYWN0b3J5T2JqZWN0LmFzc2lnbih0aGlzLCBwcm9wZXJ0eSwgdmFsdWUsIGRlc2NyaXB0b3IpfSxcbiAgICAgICAgICAgIGNyZWF0ZVN1Yk1hcDogKCkgPT4gbmV3IFN1Yk1hcCgpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIiRcIiwgeyB2YWx1ZTogT2JqZWN0LmNyZWF0ZShwcm90bykgfSk7XG5cbiAgICAgICAgLy8gcHJlLWRlZmluZSBtb3N0IGltcG9ydGFudCBwcm9wZXJ0aWVzXG4gICAgICAgIC8vIHRvIG9yZGVyIHRoZW0gZmlyc3QgaW4gZGV2dG9vbCAocmVkdWNlZCBmb3JtIG9ubHkpXG4gICAgICAgIHRoaXMuJC5hc3NpZ24oe1xuICAgICAgICAgICAgdGFza3M6IG51bGwsXG4gICAgICAgICAgICByZXF1ZXN0czogbnVsbFxuICAgICAgICB9LCBKRmFjdG9yeU9iamVjdC5kZXNjcmlwdG9ycy5FTlVNRVJBQkxFX1dSSVRBQkxFKTtcbiAgICB9XG59XG5cblRyYWl0Q29yZS5TWU1CT0xfUFJJVkFURSA9IFN5bWJvbChcIl9cIik7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgQWJvdXRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRBYm91dCB7XG5cbiAgICB0cmFpdF9jb25zdHJ1Y3RvcihhYm91dCkge1xuICAgICAgICBKRmFjdG9yeU9iamVjdC5hc3NpZ24odGhpcy4kLCBcImFib3V0XCIsXG4gICAgICAgICAgICBuZXcgSkZhY3RvcnlBYm91dCh0aGlzLCBhYm91dCksIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLlJFQURPTkxZKVxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBMb2dcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRMb2cge1xuXG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGxldCBjb25maWcgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGxhYmVsOiB0aGlzLiQuYWJvdXQubmFtZVxuICAgICAgICB9LCBqRmFjdG9yeUNvbmZpZy5UcmFpdExvZyB8fCB7XG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgbG9nZ2VyID0gbmV3IEpGYWN0b3J5TG9nZ2VyKGNvbmZpZyk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuJCwgXCJsb2dnZXJcIiwgeyB2YWx1ZTogbG9nZ2VyIH0pO1xuXG4gICAgICAgIGxvZ2dlci5pbnN0YWxsQWNjZXNzb3IoXCJsb2dcIiwgICBcIiRsb2dcIiwgICAgIHRoaXMpO1xuICAgICAgICBsb2dnZXIuaW5zdGFsbEFjY2Vzc29yKFwid2FyblwiLCAgXCIkbG9nV2FyblwiLCB0aGlzKTtcbiAgICAgICAgbG9nZ2VyLmluc3RhbGxBY2Nlc3NvcihcImVycm9yXCIsIFwiJGxvZ0VyclwiLCAgdGhpcyk7XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0IFRhc2tzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFRyYWl0VGFzayB7XG5cbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gY29uc3Qga2VybmVsID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmtlcm5lbDtcbiAgICAgICAgLy8ga2VybmVsLm9uKFwiZGlzYWJsZVwiLCAoKSA9PiB7XG4gICAgICAgIC8vICAgICBpZiAodGhpcy4kLnRhc2tzLnNpemUpIHtkZWJ1Z2dlcn1cbiAgICAgICAgLy8gICAgIC8vIHRoaXMuJHRhc2tSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpXG4gICAgICAgIC8vIH0pO1xuICAgICAgICAvLyBrZXJuZWwub24oXCJ1bmluc3RhbGxcIiwgKCkgPT4ge1xuICAgICAgICAvLyAgICAgaWYgKHRoaXMuJC50YXNrcy5zaXplKSB7ZGVidWdnZXJ9XG4gICAgICAgIC8vICAgICAvLyB0aGlzLiR0YXNrUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEwpXG4gICAgICAgIC8vIH0pO1xuICAgICAgICB0aGlzLiQuYXNzaWduKFwidGFza3NcIiwgbmV3IE1hcCwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuRU5VTUVSQUJMRSk7XG4gICAgfVxuXG4gICAgJHRhc2soaWQsIGV4ZWN1dG9yT3JWYWx1ZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiR0YXNrKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkdGFzayhleGVjdXRvck9yVmFsdWUpXCIsIGV4ZWN1dG9yT3JWYWx1ZSkubm90VW5kZWZpbmVkKCk7XG4gICAgICAgICAgICBpZiAodGhpcy4kLnRhc2tzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfRFVQTElDQVRFRCh7IHRhcmdldDogXCIkdGFzayhpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGFzaztcblxuICAgICAgICBpZiAodHlwZW9mIGV4ZWN1dG9yT3JWYWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0YXNrICA9IG5ldyBKRmFjdG9yeVByb21pc2UoeyBuYW1lOiBpZCwgb3duZXI6IHRoaXMgfSwgZXhlY3V0b3JPclZhbHVlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFzayA9IEpGYWN0b3J5UHJvbWlzZS5yZXNvbHZlKHsgbmFtZTogaWQsIG93bmVyOiB0aGlzIH0sIGV4ZWN1dG9yT3JWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0YXNrLiRwaGFzZVJlbW92ZSA9IFRyYWl0U2VydmljZS5nZXRDb250ZXh0dWFsUmVtb3ZlUGhhc2UodGhpcyk7XG5cbiAgICAgICAgbGV0IG1ldHJpY3M7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIG1ldHJpY3MgPSBuZXcgSkZhY3RvcnlUaW1lVHJhY2UoKTtcbiAgICAgICAgICAgIHRhc2suJHRhc2tNZXRyaWNzID0geyAkZGV2X3RpbWluZzogbWV0cmljcyB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGFzay4kY2hhaW4udGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICAgICAgbWV0cmljcy5lbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLiQudGFza3MuZ2V0KGlkKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHRhc2tSZW1vdmUoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiQudGFza3Muc2V0KGlkLCB0YXNrKTtcbiAgICAgICAgcmV0dXJuIHRhc2tcbiAgICB9XG5cbiAgICAkdGFza1JlbW92ZShpZCwgcmVhc29uKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJHRhc2tSZW1vdmUoaWQpXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICByZWFzb24gJiYgSkZhY3RvcnlFeHBlY3QoXCIkdGFza1JlbW92ZShyZWFzb24pXCIsIHJlYXNvbikudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiQudGFza3MuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9NSVNTSU5HKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIiR0YXNrUmVtb3ZlKGlkKVwiLFxuICAgICAgICAgICAgICAgICAgICBnaXZlbjogaWRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyXG4gICAgICAgICAgICBpZiAodGhpcy4kLnRhc2tzLmdldChpZCkuX2NhbGxlZCkge2RlYnVnZ2VyfVxuICAgICAgICAgICAgdGhpcy4kLnRhc2tzLmdldChpZCkuX2NhbGxlZCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlbnRyeSA9IHRoaXMuJC50YXNrcy5nZXQoaWQpO1xuICAgICAgICAvLyBkZWxldGluZyBiZWZvcmUgY2hhaW5BYm9ydCgpIHRvIHByZXZlbnQgcmVtb3ZlKCkgcmVjYWxsXG4gICAgICAgIHRoaXMuJC50YXNrcy5kZWxldGUoaWQpO1xuICAgICAgICBlbnRyeS4kY2hhaW5BYm9ydChyZWFzb24gfHwgXCIkdGFza1JlbW92ZSgpXCIpO1xuICAgIH1cblxuICAgICR0YXNrUmVtb3ZlQWxsKHJlbW92ZVBoYXNlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJHRhc2tSZW1vdmVBbGwocmVtb3ZlUGhhc2UpXCIsIHJlbW92ZVBoYXNlKVxuICAgICAgICAgICAgICAgIC5lcXVhbEluKFRyYWl0U2VydmljZS5QSEFTRVMpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRhc2tzID0gdGhpcy4kLnRhc2tzO1xuICAgICAgICBpZiAodGFza3Muc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB0YXNrXSBvZiB0YXNrcykge1xuICAgICAgICAgICAgICAgIGlmICh0YXNrLiRwaGFzZVJlbW92ZSA9PT0gcmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGFza1JlbW92ZShrZXksIFwiJHRhc2tSZW1vdmVBbGwoXCIgKyByZW1vdmVQaGFzZSArIFwiKVwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgICR0YXNrUHJvbWlzZUFsbChhdXRvQ29tcGxldGUgPSBmYWxzZSkge1xuICAgICAgICBsZXQgcGVuZGluZyA9IFtdO1xuICAgICAgICBpZiAodGhpcy4kLnRhc2tzLnNpemUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHRhc2sgb2YgdGhpcy4kLnRhc2tzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF1dG9Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZXNvbHZlcyB0aGUgY2hhaW4gYXMgc29vbiBhcyBubyBtb3JlIHBlbmRpbmcgcHJvbWlzZSBpbiB0aGUgY2hhaW5cbiAgICAgICAgICAgICAgICAgICAgdGFzay4kY2hhaW4uY2hhaW5Db25maWcuY2hhaW5BdXRvQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzdGlsbCBwZW5kaW5nID9cbiAgICAgICAgICAgICAgICBpZiAodGFzay4kY2hhaW4uaXNQZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmcucHVzaCh0YXNrLiRjaGFpbilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBlbmRpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gSkZhY3RvcnlQcm9taXNlU3luYy5yZXNvbHZlKClcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBFdmVudHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRFdmVudHMge1xuXG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGFzc2lnblByaXZhdGUodGhpcywgXCJldmVudHNcIiwge1xuICAgICAgICAgICAgY3VzdG9tOiBuZXcgSkZhY3RvcnlFdmVudHNNYW5hZ2VyKHRoaXMpLFxuICAgICAgICAgICAga2VybmVsOiBuZXcgSkZhY3RvcnlFdmVudHNNYW5hZ2VyKHRoaXMpXG4gICAgICAgIH0sIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLk5PTkUpO1xuXG4gICAgICAgIGxldCBldmVudE1hbmFnZXIgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMuY3VzdG9tO1xuXG4gICAgICAgIC8vIGlmIChKRkFDVE9SWV9ERVYpIHsgLy8gdmVyeSBzbG93OyByZXF1aXJlcyBvcHRpbWl6YXRpb25cbiAgICAgICAgLy8gICAgIC8vIHJlZ2lzdHJ5IGFyZSBhdXRvIHVwZGF0ZWQgaW4gZGV2IG1vZGUgKHVub3B0aW1pemVkIGltcGxlbWVudGF0aW9uKVxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgbGV0IGxpc3RlbmVyVXBkYXRlID0gKCkgPT4ge1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuJC5saXN0ZW5lcnMgPSBldmVudE1hbmFnZXIuZ2V0RG9tTGlzdGVuZXJzKHRoaXMuJC5hYm91dC5maW5nZXJwcmludCk7XG4gICAgICAgIC8vICAgICB9O1xuICAgICAgICAvLyAgICAgbGV0IG9ic2VydmVyVXBkYXRlID0gKCkgPT4ge1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuJC5vYnNlcnZlcnMgPSBldmVudE1hbmFnZXIuZ2V0T2JzZXJ2ZXJzKCk7XG4gICAgICAgIC8vICAgICB9O1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgZXZlbnRNYW5hZ2VyLm9uTGlzdGVuZXJVcGRhdGUgPSBsaXN0ZW5lclVwZGF0ZTtcbiAgICAgICAgLy8gICAgIGV2ZW50TWFuYWdlci5vbk9ic2VydmVyVXBkYXRlID0gb2JzZXJ2ZXJVcGRhdGU7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihsaXN0ZW5lclVwZGF0ZSk7XG4gICAgICAgIC8vICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwge2NoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZX0pO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgbGlzdGVuZXJVcGRhdGUoKTtcbiAgICAgICAgLy8gICAgIG9ic2VydmVyVXBkYXRlKCk7XG4gICAgICAgIC8vIH0gZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLiQsIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBldmVudE1hbmFnZXIuZ2V0RG9tTGlzdGVuZXJzLmJpbmQoZXZlbnRNYW5hZ2VyLCB0aGlzLiQuYWJvdXQuZmluZ2VycHJpbnQpLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvYnNlcnZlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBldmVudE1hbmFnZXIuZ2V0T2JzZXJ2ZXJzLmJpbmQoZXZlbnRNYW5hZ2VyKSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkb24oLyogZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yLCBoYW5kbGVyLCBvcHRpb25zICovKSB7XG4gICAgICAgIHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5jdXN0b20ub24oLi4uYXJndW1lbnRzKVxuICAgIH1cblxuICAgICRvZmYoLyogZXZlbnRzLCB0YXJnZXQsIHNlbGVjdG9yLCBoYW5kbGVyLCBvcHRpb25zICovKSB7XG4gICAgICAgIHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5jdXN0b20ub2ZmKC4uLmFyZ3VtZW50cylcbiAgICB9XG5cbiAgICAkdHJpZ2dlcigvKiBldmVudHMsIHRhcmdldCwgZGF0YSAqLykge1xuICAgICAgICByZXR1cm4gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmN1c3RvbS50cmlnZ2VyKC4uLmFyZ3VtZW50cylcbiAgICB9XG5cbiAgICAkdHJpZ2dlclBhcmFsbGVsKC8qIGV2ZW50cywgdGFyZ2V0LCBkYXRhICovKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMuY3VzdG9tLnRyaWdnZXJQYXJhbGxlbCguLi5hcmd1bWVudHMpXG4gICAgfVxuXG4gICAgJG5vdGlmeShldmVudHMsIGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHRyaWdnZXIoZXZlbnRzLCBkYXRhKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmtlcm5lbC50cmlnZ2VyKGV2ZW50cywgZGF0YSkpXG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0IFN0YXRlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBUcmFpdFN0YXRlIHtcblxuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBzdGF0ZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBjb25zdCBzdGF0ZVJvdXRlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGNvbnN0IGtlcm5lbCA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5rZXJuZWw7XG5cbiAgICAgICAgYXNzaWduUHJpdmF0ZSh0aGlzLCB7IHN0YXRlcywgc3RhdGVSb3V0ZXMgfSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuUkVBRE9OTFkpO1xuXG4gICAgICAgIEpGYWN0b3J5T2JqZWN0LmFzc2lnbih0aGlzLiQsIFwic3RhdGVzXCIsIG5ldyBQcm94eShzdGF0ZXMsIHtcbiAgICAgICAgICAgIHNldDogKHRhcmdldCwga2V5LCB2YWwpID0+IHRoaXMuJHN0YXRlKGtleSwgdmFsKSxcbiAgICAgICAgICAgIGdldDogKHRhcmdldCwga2V5KSA9PiBzdGF0ZXNba2V5XVxuICAgICAgICB9KSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuUkVBRE9OTFkpO1xuXG4gICAgICAgIGtlcm5lbC5vbihcImJlZm9yZVN0YXRlQ2hhbmdlXCIsIChlLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICBsZXQgaDtcbiAgICAgICAgICAgIGlmIChzdGF0ZVJvdXRlc1tkYXRhLmtleV0gJiYgc3RhdGVSb3V0ZXNbZGF0YS5rZXldLmJlZm9yZVxuICAgICAgICAgICAgICAgICYmIChoID0gc3RhdGVSb3V0ZXNbZGF0YS5rZXldLmJlZm9yZShkYXRhLnZhbCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG5vdGlmeShoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAga2VybmVsLm9uKFwiYWZ0ZXJTdGF0ZUNoYW5nZVwiLCAoZSwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgbGV0IGg7XG4gICAgICAgICAgICBpZiAoc3RhdGVSb3V0ZXNbZGF0YS5rZXldICYmIHN0YXRlUm91dGVzW2RhdGEua2V5XS5hZnRlclxuICAgICAgICAgICAgICAgICYmIChoID0gc3RhdGVSb3V0ZXNbZGF0YS5rZXldLmFmdGVyKGRhdGEudmFsKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kbm90aWZ5KGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkc3RhdGUoa2V5LCB2YWwsIG5vdGlmeSA9IHRydWUpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkc3RhdGUoa2V5KVwiLCBrZXkpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJHN0YXRlKG5vdGlmeSlcIiwgbm90aWZ5KS50eXBlQm9vbGVhbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBKRmFjdG9yeVByb21pc2VTeW5jKGFzeW5jIHJlc29sdmUgPT4ge1xuXG4gICAgICAgICAgICBsZXQgc3RhdGVzID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uc3RhdGVzO1xuICAgICAgICAgICAgbGV0IHByZXZpb3VzVmFsID0gc3RhdGVzW2tleV07XG4gICAgICAgICAgICBsZXQgcGVuZGluZztcblxuICAgICAgICAgICAgaWYgKCEoa2V5IGluIHN0YXRlcykgfHwgcHJldmlvdXNWYWwgIT09IHZhbCkge1xuXG4gICAgICAgICAgICAgICAgcGVuZGluZyA9IG5vdGlmeSAmJiB0aGlzLiRub3RpZnkoXCJiZWZvcmVTdGF0ZUNoYW5nZVwiLCB7IGtleSwgdmFsLCBwcmV2aW91c1ZhbCB9KTtcbiAgICAgICAgICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmcgJiYgSkZhY3RvcnlFeHBlY3QoXCJiZWZvcmVTdGF0ZUNoYW5nZSByZXN1bHRcIiwgcGVuZGluZykudHlwZShKRmFjdG9yeVByb21pc2VTeW5jKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocGVuZGluZyAmJiAhcGVuZGluZy4kaXNTZXR0bGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlc1trZXldID0gcGVuZGluZztcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGVuZGluZztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHN0YXRlc1trZXldXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVzW2tleV0gPSB2YWw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGVuZGluZyA9IG5vdGlmeSAmJiB0aGlzLiRub3RpZnkoXCJhZnRlclN0YXRlQ2hhbmdlXCIsIHsga2V5LCB2YWwsIHByZXZpb3VzVmFsIH0pO1xuICAgICAgICAgICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZyAmJiBKRmFjdG9yeUV4cGVjdChcImFmdGVyU3RhdGVDaGFuZ2UgcmVzdWx0XCIsIHBlbmRpbmcpLnR5cGUoSkZhY3RvcnlQcm9taXNlU3luYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGVuZGluZykge1xuICAgICAgICAgICAgICAgIHBlbmRpbmcudGhlbihyZXNvbHZlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBTZXJ2aWNlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFRyYWl0U2VydmljZSB7XG5cbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIHRoaXMuJC5zZXJ2aWNlXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBKRmFjdG9yeU9iamVjdC5hc3NpZ24odGhpcy4kLCBcInNlcnZpY2VcIiwgT2JqZWN0LmNyZWF0ZShudWxsKSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuUkVBRE9OTFkpO1xuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZSA9IFRyYWl0U2VydmljZS5QSEFTRS5OT05FO1xuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlID0gSkZhY3RvcnlQcm9taXNlLnJlc29sdmUoeyBuYW1lOiBcInBoYXNlUXVldWVcIiB9LCBudWxsKTtcbiAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VUYXNrID0gbnVsbDtcbiAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAgPSB7XG4gICAgICAgICAgICBpbnN0YWxsOiBuZXcgU2V0KCksXG4gICAgICAgICAgICBlbmFibGU6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgIGRpc2FibGU6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgIHVuaW5zdGFsbDogbmV3IFNldCgpXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU2V0IGluaXRpYWwgc3RhdGVzIGJ1dCBkb24ndCB0cmlnZ2VyIGV2ZW50c1xuICAgICAgICB0aGlzLiRzdGF0ZShcImluc3RhbGxlZFwiLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLiRzdGF0ZShcImVuYWJsZWRcIiwgZmFsc2UsIGZhbHNlKTtcblxuICAgICAgICAvLyBEZWZpbmUgdGhlIGV2ZW50cyB0byBub3RpZnkgYmVmb3JlL2FmdGVyIGEgc3RhdGUgY2hhbmdlXG4gICAgICAgIC8vIHN0YXRlTmFtZSA6IHtiZWZvcmUgOiBldmVudE5hbWUsIGFmdGVyIDogZXZlbnROYW1lfVxuXG4gICAgICAgIC8vIFNQRUNcbiAgICAgICAgLy8gc3RhdCBpcyBjaGFuZ2VkIGJlZm9yZSBjYWxsaW5nIGhhbmRsZXJzIGV2ZW4gaWYgcGVuZGluZ1xuXG4gICAgICAgIGFzc2lnblByaXZhdGVNZW1iZXIodGhpcywgXCJzdGF0ZVJvdXRlc1wiLCB7XG4gICAgICAgICAgICBpbnN0YWxsZWQ6IHsgYWZ0ZXI6IHZhbCA9PiB2YWwgPyBcImluc3RhbGxcIiA6IFwidW5pbnN0YWxsXCIgfSxcbiAgICAgICAgICAgIGVuYWJsZWQ6IHsgYWZ0ZXI6IHZhbCA9PiB2YWwgPyBcImVuYWJsZVwiICA6IFwiZGlzYWJsZVwiIH1cbiAgICAgICAgfSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuTk9ORSk7XG5cbiAgICAgICAgbGV0IGN1c3RvbSA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5jdXN0b207XG4gICAgICAgIGxldCBrZXJuZWwgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMua2VybmVsO1xuXG4gICAgICAgIC8vIEF0dGFjaCBhIHJlbW92ZSBwaGFzZSBuYW1lc3BhY2VzIG9uIGV2ZW50c1xuICAgICAgICBjdXN0b20uYWZmaWxpYXRlQWRkUnVsZSgoY29udGV4dCwgcGFyc2VkRXZlbnQsIG5hbWVzcGFjZXMsIG9wdGlvbnMpID0+XG4gICAgICAgICAgICBUcmFpdFNlcnZpY2Uuc2V0RXZlbnROYW1lc3BhY2VSZW1vdmVQaGFzZSh0aGlzLCBwYXJzZWRFdmVudCwgb3B0aW9ucylcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBBdHRhY2ggbW9kdWxlIGV2ZW50IGhhbmRsZXJzXG5cbiAgICAgICAgLyoqIEBuYW1lIEpGYWN0b3J5Q29yZU9iamVjdCNvbkluc3RhbGwgKi9cbiAgICAgICAgLyoqIEBuYW1lIEpGYWN0b3J5Q29yZU9iamVjdCNvbkVuYWJsZSAqL1xuICAgICAgICAvKiogQG5hbWUgSkZhY3RvcnlDb3JlT2JqZWN0I29uRGlzYWJsZSAqL1xuICAgICAgICAvKiogQG5hbWUgSkZhY3RvcnlDb3JlT2JqZWN0I29uVW5pbnN0YWxsICovXG5cbiAgICAgICAgbGV0IHBoYXNlUmVzb2x2ZSA9IGhhbmRsZXIgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuJC50YXNrcy5zaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kdGFza1JlbW92ZUFsbCh0aGlzLiQuc2VydmljZS5waGFzZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwcm9taXNlID0gSkZhY3RvcnlQcm9taXNlU3luYy5yZXNvbHZlKCk7XG4gICAgICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IGhhbmRsZXIuY2FsbCh0aGlzKSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kdGFza1Byb21pc2VBbGwodHJ1ZSkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZVxuICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoLyp0aGlzLiQuc2VydmljZS5pc1BoYXNlS2lsbGluZyAmJiovIGUgaW5zdGFuY2VvZiBqRmFjdG9yeUVycm9yLlBST01JU0VfRVhQSVJFRCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGxvZ0VycihcInVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiBpbiBcIiArIHRoaXMuJC5zZXJ2aWNlLnBoYXNlICsgXCI7XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZSBpbnN0YW5jZW9mIEpGYWN0b3J5RXJyb3IgPyBlIDogW2VdKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAga2VybmVsLm9uKFwiaW5zdGFsbFwiLCAoKSA9PiBwaGFzZVJlc29sdmUodGhpcy5vbkluc3RhbGwpKTtcbiAgICAgICAga2VybmVsLm9uKFwiZW5hYmxlXCIsICgpID0+IHBoYXNlUmVzb2x2ZSh0aGlzLm9uRW5hYmxlKSk7XG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgKCkgPT4gcGhhc2VSZXNvbHZlKHRoaXMub25EaXNhYmxlKSk7XG4gICAgICAgIGtlcm5lbC5vbihcInVuaW5zdGFsbFwiLCAoKSA9PiBwaGFzZVJlc29sdmUodGhpcy5vblVuaW5zdGFsbCkpO1xuXG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgICAoKSA9PiB0aGlzLiRvZmYoeyByZW1vdmFsOiBUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSB9KSk7XG4gICAgICAgIGtlcm5lbC5vbihcInVuaW5zdGFsbFwiLCAoKSA9PiB0aGlzLiRvZmYoeyByZW1vdmFsOiBUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMIH0pKTtcbiAgICB9XG5cbiAgICAkaW5zdGFsbChlbmFibGUpIHtcbiAgICAgICAgbGV0IHJlc29sdmU7XG4gICAgICAgIGNvbnN0IHAgPSBuZXcgSkZhY3RvcnlQcm9taXNlKFxuICAgICAgICAgICAgeyBuYW1lOiBcImluc3RhbGxcIiwgY29uZmlnOiB7IGNoYWluQXV0b0NvbXBsZXRlOiB0cnVlIH0gfSxcbiAgICAgICAgICAgIF9yZXNvbHZlID0+IHJlc29sdmUgPSBfcmVzb2x2ZSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuJC5zdGF0ZXMuaW5zdGFsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLklOU1RBTEw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdGF0ZShcImluc3RhbGxlZFwiLCB0cnVlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlTWFwLmluc3RhbGwuYWRkKHApO1xuICAgICAgICBwLiRjaGFpbi50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlVGFzayA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZU1hcC5pbnN0YWxsLmRlbGV0ZShwKTtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLk5PTkVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZSA9IHRoaXMuJC5zZXJ2aWNlLnBoYXNlUXVldWUudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVRhc2sgPSBwO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHAuJGNoYWluXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBlbmFibGVcbiAgICAgICAgaWYgKGVuYWJsZSkge3JldHVybiB0aGlzLiRlbmFibGUoKX1cbiAgICAgICAgcmV0dXJuIHBcbiAgICB9XG5cbiAgICAkZW5hYmxlKCkge1xuICAgICAgICBsZXQgcmVzb2x2ZTtcbiAgICAgICAgY29uc3QgcCA9IG5ldyBKRmFjdG9yeVByb21pc2UoXG4gICAgICAgICAgICB7IG5hbWU6IFwiZW5hYmxlXCIsIGNvbmZpZzogeyBjaGFpbkF1dG9Db21wbGV0ZTogdHJ1ZSB9IH0sXG4gICAgICAgICAgICBfcmVzb2x2ZSA9PiByZXNvbHZlID0gX3Jlc29sdmUpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJC5zdGF0ZXMuaW5zdGFsbGVkICYmICF0aGlzLiQuc3RhdGVzLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuRU5BQkxFO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RhdGUoXCJlbmFibGVkXCIsIHRydWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuZW5hYmxlLmFkZChwKTtcbiAgICAgICAgcC4kY2hhaW4udGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVRhc2sgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuZW5hYmxlLmRlbGV0ZShwKTtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLk5PTkVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZSA9IHRoaXMuJC5zZXJ2aWNlLnBoYXNlUXVldWUudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVRhc2sgPSBwO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHAuJGNoYWluXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcFxuICAgIH1cblxuICAgICRkaXNhYmxlKCkge1xuICAgICAgICBsZXQgcmVzb2x2ZTtcbiAgICAgICAgY29uc3QgcCA9IG5ldyBKRmFjdG9yeVByb21pc2UoXG4gICAgICAgICAgICB7IG5hbWU6IFwiZGlzYWJsZVwiLCBjb25maWc6IHsgY2hhaW5BdXRvQ29tcGxldGU6IHRydWUgfSB9LFxuICAgICAgICAgICAgX3Jlc29sdmUgPT4gcmVzb2x2ZSA9IF9yZXNvbHZlKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiQuc3RhdGVzLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0YXRlKFwiZW5hYmxlZFwiLCBmYWxzZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZU1hcC5kaXNhYmxlLmFkZChwKTtcbiAgICAgICAgcC4kY2hhaW4udGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVRhc2sgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuZGlzYWJsZS5kZWxldGUocCk7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZSA9IFRyYWl0U2VydmljZS5QSEFTRS5OT05FXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGlmICh0aGlzLiQuc2VydmljZS5waGFzZSA9PT0gVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpIHtcbiAgICAgICAgLy8gICAgIC8vIHBoYXNlIGtpbGxcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIGV4cGlyZXMgYWxsIHN0YWNrZWQgZW5hYmxlXG4gICAgICAgIGZvciAobGV0IFtrZXksIHZhbF0gb2YgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuZW5hYmxlLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHZhbCA9PT0gdGhpcy4kLnNlcnZpY2UucGhhc2VUYXNrKSB7XG4gICAgICAgICAgICAgICAgVHJhaXRTZXJ2aWNlLnBoYXNlS2lsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbC4kY2hhaW5BYm9ydCgpO1xuICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuZW5hYmxlLmRlbGV0ZShrZXkpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlID0gdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlVGFzayA9IHA7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICByZXR1cm4gcC4kY2hhaW5cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwXG4gICAgfVxuXG4gICAgJHVuaW5zdGFsbCgpIHtcbiAgICAgICAgbGV0IHJlc29sdmU7XG4gICAgICAgIGNvbnN0IHAgPSBuZXcgSkZhY3RvcnlQcm9taXNlKFxuICAgICAgICAgICAgeyBuYW1lOiBcInVuaW5zdGFsbFwiLCBjb25maWc6IHsgY2hhaW5BdXRvQ29tcGxldGU6IHRydWUgfSB9LFxuICAgICAgICAgICAgX3Jlc29sdmUgPT4gcmVzb2x2ZSA9IF9yZXNvbHZlKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiQuc3RhdGVzLmluc3RhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZSA9IFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdGF0ZShcImluc3RhbGxlZFwiLCBmYWxzZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZU1hcC51bmluc3RhbGwuYWRkKHApO1xuICAgICAgICBwLiRjaGFpbi50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlVGFzayA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZU1hcC51bmluc3RhbGwuZGVsZXRlKHApO1xuICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuTk9ORVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBpZiAodGhpcy4kLnNlcnZpY2UucGhhc2UgPT09IFRyYWl0U2VydmljZS5QSEFTRS5ESVNBQkxFKSB7XG4gICAgICAgIC8vICAgICAvLyB3YWl0IHRoZW5cbiAgICAgICAgLy8gICAgIC8vIHBoYXNlIGtpbGxcbiAgICAgICAgLy8gfVxuICAgICAgICAvL1xuICAgICAgICAvLyBpZiAodGhpcy4kLnNlcnZpY2UucGhhc2UgPT09IFRyYWl0U2VydmljZS5QSEFTRS5JTlNUQUxMKSB7XG4gICAgICAgIC8vICAgICAvLyBwaGFzZSBraWxsXG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBleHBpcmVzIGFsbCBzdGFja2VkIGluc3RhbGxcbiAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsXSBvZiB0aGlzLiQuc2VydmljZS5waGFzZU1hcC5pbnN0YWxsLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHZhbCA9PT0gdGhpcy4kLnNlcnZpY2UucGhhc2VUYXNrKSB7XG4gICAgICAgICAgICAgICAgVHJhaXRTZXJ2aWNlLnBoYXNlS2lsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbC4kY2hhaW5BYm9ydCgpO1xuICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2VNYXAuaW5zdGFsbC5kZWxldGUoa2V5KVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcXVldWUgZGlzYWJsZSBiZWZvcmUgdW5pbnN0YWxsXG4gICAgICAgIHRoaXMuJGRpc2FibGUoKTtcblxuICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlID0gdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlVGFzayA9IHA7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICByZXR1cm4gcC4kY2hhaW5cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwXG4gICAgfVxuXG4gICAgc3RhdGljIHBoYXNlS2lsbChjb21wb25lbnQpIHtcbiAgICAgICAgLy8gY29tcG9uZW50LiQuc2VydmljZS5pc1BoYXNlS2lsbGluZyA9IHRydWU7XG4gICAgICAgIGlmIChjb21wb25lbnQuJC50YXNrcy5zaXplKSB7XG4gICAgICAgICAgICBjb21wb25lbnQuJHRhc2tSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLmdldENvbnRleHR1YWxSZW1vdmVQaGFzZShjb21wb25lbnQpKTtcbiAgICAgICAgfVxuICAgICAgICBjb21wb25lbnQuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLk5PTkU7XG4gICAgfVxuXG5cblxuICAgIC8vICRpbnN0YWxsKGVuYWJsZSkge1xuICAgIC8vICAgICBjb25zdCBfaW5zdGFsbCA9IGVuYWJsZSA9PiB7XG4gICAgLy8gICAgICAgICByZXR1cm4gdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZSA9IG5ldyBKRmFjdG9yeVByb21pc2UoeyBuYW1lOiBcInBoYXNlUXVldWVcIiB9LCByZXNvbHZlID0+IHtcbiAgICAvLyAgICAgICAgICAgICBpZiAoIXRoaXMuJC5zdGF0ZXMuaW5zdGFsbGVkKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLklOU1RBTEw7XG4gICAgLy8gICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy4kc3RhdGUoXCJpbnN0YWxsZWRcIiwgdHJ1ZSkpXG4gICAgLy8gICAgICAgICAgICAgfSBlbHNlIHtyZXNvbHZlKCl9XG4gICAgLy8gICAgICAgICB9KVxuICAgIC8vICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZSAmJiAhdGhpcy4kLnN0YXRlcy5lbmFibGVkKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLiQuc2VydmljZS5waGFzZSA9IFRyYWl0U2VydmljZS5QSEFTRS5FTkFCTEU7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RhdGUoXCJlbmFibGVkXCIsIHRydWUpXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgICAgICB9KVxuICAgIC8vICAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLk5PTkUpO1xuICAgIC8vICAgICB9O1xuICAgIC8vICAgICBpZiAodGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZS4kY2hhaW4uaXNQZW5kaW5nKSB7XG4gICAgLy8gICAgICAgICByZXR1cm4gdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZS50aGVuKCgpID0+IF9pbnN0YWxsKGVuYWJsZSkpXG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgcmV0dXJuIF9pbnN0YWxsKGVuYWJsZSlcbiAgICAvLyB9XG4gICAgLy9cbiAgICAvLyAkZW5hYmxlKCkge1xuICAgIC8vICAgICBjb25zdCBfZW5hYmxlID0gKCkgPT4ge1xuICAgIC8vICAgICAgICAgcmV0dXJuIHRoaXMuJC5zZXJ2aWNlLnBoYXNlUXVldWUgPSBuZXcgSkZhY3RvcnlQcm9taXNlKHsgbmFtZTogXCJwaGFzZVF1ZXVlXCIgfSwgcmVzb2x2ZSA9PiB7XG4gICAgLy8gICAgICAgICAgICAgaWYgKHRoaXMuJC5zdGF0ZXMuaW5zdGFsbGVkICYmICF0aGlzLiQuc3RhdGVzLmVuYWJsZWQpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuRU5BQkxFO1xuICAgIC8vICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuJHN0YXRlKFwiZW5hYmxlZFwiLCB0cnVlKSlcbiAgICAvLyAgICAgICAgICAgICB9IGVsc2Uge3Jlc29sdmUoKX1cbiAgICAvLyAgICAgICAgIH0pXG4gICAgLy8gICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuTk9ORSk7XG4gICAgLy8gICAgIH07XG4gICAgLy8gICAgIGlmICh0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlLiRjaGFpbi5pc1BlbmRpbmcpIHtcbiAgICAvLyAgICAgICAgIHJldHVybiB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlLnRoZW4oKCkgPT4gX2VuYWJsZSgpKVxuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHJldHVybiBfZW5hYmxlKClcbiAgICAvLyB9XG4gICAgLy9cbiAgICAvLyAkZGlzYWJsZSgpIHtcbiAgICAvLyAgICAgY29uc3QgX2Rpc2FibGUgPSAoKSA9PiB7XG4gICAgLy8gICAgICAgICByZXR1cm4gdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZSA9IG5ldyBKRmFjdG9yeVByb21pc2UoeyBuYW1lOiBcInBoYXNlUXVldWVcIiB9LCByZXNvbHZlID0+IHtcbiAgICAvLyAgICAgICAgICAgICBpZiAodGhpcy4kLnN0YXRlcy5lbmFibGVkKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEU7XG4gICAgLy8gICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy4kc3RhdGUoXCJlbmFibGVkXCIsIGZhbHNlKSlcbiAgICAvLyAgICAgICAgICAgICB9IGVsc2Uge3Jlc29sdmUoKX1cbiAgICAvLyAgICAgICAgIH0pXG4gICAgLy8gICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuTk9ORSk7XG4gICAgLy8gICAgIH07XG4gICAgLy8gICAgIGlmICh0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlLiRjaGFpbi5pc1BlbmRpbmcpIHtcbiAgICAvLyAgICAgICAgIHJldHVybiB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlLnRoZW4oKCkgPT4gX2Rpc2FibGUoKSlcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICByZXR1cm4gX2Rpc2FibGUoKVxuICAgIC8vIH1cbiAgICAvL1xuICAgIC8vICR1bmluc3RhbGwoKSB7XG4gICAgLy8gICAgIGNvbnN0IF91bmluc3RhbGwgPSAoKSA9PiB7XG4gICAgLy8gICAgICAgICByZXR1cm4gdGhpcy4kLnNlcnZpY2UucGhhc2VRdWV1ZSA9IG5ldyBKRmFjdG9yeVByb21pc2UoeyBuYW1lOiBcInBoYXNlUXVldWVcIiB9LCByZXNvbHZlID0+IHtcbiAgICAvLyAgICAgICAgICAgICBpZiAodGhpcy4kLnN0YXRlcy5lbmFibGVkKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEU7XG4gICAgLy8gICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy4kc3RhdGUoXCJlbmFibGVkXCIsIGZhbHNlKSlcbiAgICAvLyAgICAgICAgICAgICB9IGVsc2Uge3Jlc29sdmUoKX1cbiAgICAvLyAgICAgICAgIH0pXG4gICAgLy8gICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgIC8vICAgICAgICAgICAgICAgICBpZiAodGhpcy4kLnN0YXRlcy5pbnN0YWxsZWQpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuJC5zZXJ2aWNlLnBoYXNlID0gVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTDtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdGF0ZShcImluc3RhbGxlZFwiLCBmYWxzZSlcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgICAgIH0pXG4gICAgLy8gICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kLnNlcnZpY2UucGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuTk9ORSk7XG4gICAgLy8gICAgIH07XG4gICAgLy8gICAgIGlmICh0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlLiRjaGFpbi5pc1BlbmRpbmcpIHtcbiAgICAvLyAgICAgICAgIHJldHVybiB0aGlzLiQuc2VydmljZS5waGFzZVF1ZXVlLnRoZW4oKCkgPT4gX3VuaW5zdGFsbCgpKVxuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHJldHVybiBfdW5pbnN0YWxsKClcbiAgICAvLyB9XG5cbiAgICBzdGF0aWMgZ2V0Q29udGV4dHVhbFJlbW92ZVBoYXNlKGpGYWN0b3J5Q29yZU9iamVjdCkge1xuICAgICAgICByZXR1cm4gVHJhaXRTZXJ2aWNlLlBIQVNFX1JFVkVSVFtqRmFjdG9yeUNvcmVPYmplY3QuJC5zZXJ2aWNlLnBoYXNlXVxuICAgIH1cblxuICAgIHN0YXRpYyBzZXRFdmVudE5hbWVzcGFjZVJlbW92ZVBoYXNlKGpGYWN0b3J5Q29yZU9iamVjdCwgcGFyc2VkRXZlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGN1clJlbW92ZVBoYXNlID0gcGFyc2VkRXZlbnQuaGFzTmFtZXNwYWNlKFRyYWl0U2VydmljZS5QSEFTRVMpO1xuICAgICAgICBsZXQgbmV3UmVtb3ZlUGhhc2UgPSBvcHRpb25zICYmIG9wdGlvbnMucmVtb3ZhbDtcblxuICAgICAgICBpZiAoIW5ld1JlbW92ZVBoYXNlKSB7XG4gICAgICAgICAgICBuZXdSZW1vdmVQaGFzZSA9IFRyYWl0U2VydmljZS5nZXRDb250ZXh0dWFsUmVtb3ZlUGhhc2UoakZhY3RvcnlDb3JlT2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNwZWNpYWwgY2FzZSA6IG9uKFwidW5pbnN0YWxsXCIpIHdpdGggcmVtb3ZhbCA9IERJU0FCTEUgKHRoZSBkZWZhdWx0IHZhbHVlKVxuICAgICAgICAvLyA9PiBkaXNhYmxlKCkgaXMgYWx3YXlzIGNhbGxlZCBiZWZvcmUgdW5pbnN0YWxsKCkgY2F1c2luZyB0aGUgZXZlbnQgdG8gYmUgcmVtb3ZlZCB0b28gZWFybHlcbiAgICAgICAgaWYgKHBhcnNlZEV2ZW50LmV2ZW50ID09PSBcInVuaW5zdGFsbFwiICYmIG5ld1JlbW92ZVBoYXNlID09PSBUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSkge1xuICAgICAgICAgICAgbmV3UmVtb3ZlUGhhc2UgPSBUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VyUmVtb3ZlUGhhc2UgIT09IG5ld1JlbW92ZVBoYXNlKSB7XG4gICAgICAgICAgICBwYXJzZWRFdmVudC5kZWxldGVOYW1lc3BhY2UoY3VyUmVtb3ZlUGhhc2UpO1xuICAgICAgICAgICAgcGFyc2VkRXZlbnQuYWRkTmFtZXNwYWNlKG5ld1JlbW92ZVBoYXNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnNlZEV2ZW50LmFkZE5hbWVzcGFjZShuZXdSZW1vdmVQaGFzZSk7XG4gICAgfVxufVxuXG5UcmFpdFNlcnZpY2UuUEhBU0UgPSB7XG4gICAgTk9ORTogXCJQSEFTRV9OT05FXCIsXG4gICAgSU5TVEFMTDogXCJQSEFTRV9JTlNUQUxMXCIsXG4gICAgRU5BQkxFOiBcIlBIQVNFX0VOQUJMRVwiLFxuICAgIERJU0FCTEU6IFwiUEhBU0VfRElTQUJMRVwiLFxuICAgIFVOSU5TVEFMTDogXCJQSEFTRV9VTklOU1RBTExcIlxufTtcblxuVHJhaXRTZXJ2aWNlLlBIQVNFX1JFVkVSVCA9IHtcbiAgICBbVHJhaXRTZXJ2aWNlLlBIQVNFLklOU1RBTExdOiBUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMLFxuICAgIFtUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMXTogVHJhaXRTZXJ2aWNlLlBIQVNFLklOU1RBTEwsXG4gICAgW1RyYWl0U2VydmljZS5QSEFTRS5ESVNBQkxFXTogVHJhaXRTZXJ2aWNlLlBIQVNFLkVOQUJMRSxcbiAgICBbVHJhaXRTZXJ2aWNlLlBIQVNFLkVOQUJMRV06IFRyYWl0U2VydmljZS5QSEFTRS5ESVNBQkxFLFxuICAgIFtUcmFpdFNlcnZpY2UuUEhBU0UuTk9ORV06IFRyYWl0U2VydmljZS5QSEFTRS5ESVNBQkxFXG59O1xuXG5UcmFpdFNlcnZpY2UuUEhBU0VTID0gT2JqZWN0LnZhbHVlcyhUcmFpdFNlcnZpY2UuUEhBU0UpO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduUHJpdmF0ZShzY29wZSwgcHJvcGVydHksIHZhbHVlLCBkZXNjcmlwdG9yKSB7XG4gICAgSkZhY3RvcnlPYmplY3QuYXNzaWduKHNjb3BlLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXSwgcHJvcGVydHksIHZhbHVlLCBkZXNjcmlwdG9yKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduUHJpdmF0ZU1lbWJlcihzY29wZSwgcHJvcGVydHksIHZhbHVlLCBkZXNjcmlwdG9yKSB7XG4gICAgSkZhY3RvcnlPYmplY3QuYXNzaWduKHNjb3BlLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXVtwcm9wZXJ0eV0sIHZhbHVlLCBkZXNjcmlwdG9yKVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuakZhY3RvcnkuUEhBU0UgPSBKRmFjdG9yeU9iamVjdC5kaXNpbmhlcml0KFRyYWl0U2VydmljZS5QSEFTRSk7XG5cbmpGYWN0b3J5LlRyYWl0Q29yZSA9IFRyYWl0Q29yZTtcbmpGYWN0b3J5LlRyYWl0QWJvdXQgPSBUcmFpdEFib3V0O1xuakZhY3RvcnkuVHJhaXRMb2cgPSBUcmFpdExvZztcbmpGYWN0b3J5LlRyYWl0RXZlbnRzID0gVHJhaXRFdmVudHM7XG5qRmFjdG9yeS5UcmFpdFN0YXRlID0gVHJhaXRTdGF0ZTtcbmpGYWN0b3J5LlRyYWl0U2VydmljZSA9IFRyYWl0U2VydmljZTtcbmpGYWN0b3J5LlRyYWl0VGFzayA9IFRyYWl0VGFzazsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0Q29tcG9uZW50c1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuaW1wb3J0IHsgakZhY3RvcnkgfSBmcm9tIFwiLi9qRmFjdG9yeVwiO1xuaW1wb3J0IHsgSkZBQ1RPUllfREVWIH0gZnJvbSBcIi4vakZhY3RvcnktZW52XCI7XG5pbXBvcnQgeyBqRmFjdG9yeUVycm9yIH0gZnJvbSBcIi4vSkZhY3RvcnlFcnJvclwiO1xuaW1wb3J0IHsgSkZhY3RvcnlFeHBlY3QgfSBmcm9tIFwiLi9KRmFjdG9yeUV4cGVjdFwiO1xuaW1wb3J0IHsgVHJhaXRDb3JlLCBUcmFpdFNlcnZpY2UgfSBmcm9tIFwiLi9UcmFpdHNDb3JlXCI7XG5pbXBvcnQgeyBKRmFjdG9yeUZldGNoIH0gZnJvbSBcIi4vSkZhY3RvcnlGZXRjaFwiO1xuaW1wb3J0IHsgSkZhY3RvcnlQcm9taXNlIH0gZnJvbSBcIi4vSkZhY3RvcnlQcm9taXNlXCI7XG5pbXBvcnQgeyBKRmFjdG9yeU9iamVjdCB9IGZyb20gXCIuL0pGYWN0b3J5T2JqZWN0XCI7XG5pbXBvcnQgeyBqRmFjdG9yeVRyYWNlIH0gZnJvbSBcIi4vSkZhY3RvcnlUcmFjZVwiO1xuaW1wb3J0IHsgaGVscGVyX2lzUGxhaW5PYmplY3QsIGhlbHBlcl91cmxfYWJzLCBqUXVlcnkgfSBmcm9tIFwiLi9qRmFjdG9yeS1oZWxwZXJzXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgRmV0Y2hcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRGZXRjaCB7XG4gICAgdHJhaXRfY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGtlcm5lbCA9IHRoaXMuJFtUcmFpdENvcmUuU1lNQk9MX1BSSVZBVEVdLmV2ZW50cy5rZXJuZWw7XG4gICAgICAgIGtlcm5lbC5vbihcImRpc2FibGVcIiwgKCkgPT4gdGhpcy4kZmV0Y2hSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpKTtcbiAgICAgICAga2VybmVsLm9uKFwidW5pbnN0YWxsXCIsICgpID0+IHRoaXMuJGZldGNoUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEwpKTtcbiAgICAgICAgdGhpcy4kLmFzc2lnbihcInJlcXVlc3RzXCIsIHRoaXMuJC5jcmVhdGVTdWJNYXAoKSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuRU5VTUVSQUJMRSk7XG4gICAgfVxuXG4gICAgJGZldGNoKGlkLCB1cmwsIGZldGNoT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJGZldGNoKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkZmV0Y2godXJsKVwiLCB1cmwpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJGZldGNoKGZldGNoT3B0aW9ucylcIiwgZmV0Y2hPcHRpb25zKS50eXBlUGxhaW5PYmplY3QoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLiQucmVxdWVzdHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiRmZXRjaChpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcHJvbWlzZSA9IG5ldyBKRmFjdG9yeUZldGNoKHtcbiAgICAgICAgICAgIG5hbWU6IGlkLFxuICAgICAgICAgICAgdHJhY2VTb3VyY2U6IGpGYWN0b3J5VHJhY2UudHJhY2VyLmNhcHR1cmVUcmFjZVNvdXJjZShcIiRmZXRjaFwiKSxcbiAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgIGNoYWluQXV0b0NvbXBsZXRlOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHVybCwgZmV0Y2hPcHRpb25zKTtcblxuICAgICAgICB0aGlzLiQucmVxdWVzdHMuJHJlZ2lzdGVyQXN5bmMoaWQsICckZmV0Y2goXCInICsgaWQgKyAnXCIpJywgcHJvbWlzZSk7XG5cbiAgICAgICAgcHJvbWlzZS4kY2hhaW4udGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy4kLnJlcXVlc3RzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRmZXRjaFJlbW92ZShpZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG4gICAgJGZldGNoVGV4dChpZCwgdXJsLCBmZXRjaE9wdGlvbnMgPSB7fSkge1xuICAgICAgICByZXR1cm4gdGhpcy4kZmV0Y2goaWQsIHVybCwgeyAuLi5mZXRjaE9wdGlvbnMsICR0eXBlVGV4dDogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICAkZmV0Y2hKU09OKGlkLCB1cmwsIGZldGNoT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRmZXRjaChpZCwgdXJsLCB7IC4uLmZldGNoT3B0aW9ucywgJHR5cGVKU09OOiB0cnVlIH0pO1xuICAgIH1cblxuICAgICRmZXRjaFJlbW92ZShpZCwgcmVhc29uKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJGZldGNoUmVtb3ZlKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgcmVhc29uICYmIEpGYWN0b3J5RXhwZWN0KFwiJGZldGNoUmVtb3ZlKHJlYXNvbilcIiwgcmVhc29uKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJC5yZXF1ZXN0cy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX01JU1NJTkcoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiJGZldGNoUmVtb3ZlKGlkKVwiLFxuICAgICAgICAgICAgICAgICAgICBnaXZlbjogaWRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyLGJyYWNlLXN0eWxlXG4gICAgICAgICAgICBpZiAodGhpcy4kLnJlcXVlc3RzLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQpIHtkZWJ1Z2dlcn1cbiAgICAgICAgICAgIHRoaXMuJC5yZXF1ZXN0cy5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGVudHJ5ID0gdGhpcy4kLnJlcXVlc3RzLmdldChpZCk7XG4gICAgICAgIHRoaXMuJC5yZXF1ZXN0cy5kZWxldGUoaWQpO1xuICAgICAgICBlbnRyeS4kY2hhaW5BYm9ydChyZWFzb24gfHwgXCIkZmV0Y2hSZW1vdmUoKVwiKTtcbiAgICB9XG5cbiAgICAkZmV0Y2hSZW1vdmVBbGwocmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJyZW1vdmVQaGFzZVwiLCByZW1vdmVQaGFzZSlcbiAgICAgICAgICAgICAgICAuZXF1YWxJbihUcmFpdFNlcnZpY2UuUEhBU0VTKVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdWJzID0gdGhpcy4kLnJlcXVlc3RzO1xuICAgICAgICBpZiAoc3Vicy5zaXplKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHN1Yl0gb2Ygc3Vicykge1xuICAgICAgICAgICAgICAgIGlmIChzdWIuJHBoYXNlUmVtb3ZlID09PSByZW1vdmVQaGFzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRmZXRjaFJlbW92ZShrZXksIFwiJGZldGNoUmVtb3ZlQWxsKFwiICsgcmVtb3ZlUGhhc2UgKyBcIilcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJhaXQgVGltZW91dFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBUcmFpdFRpbWVvdXQge1xuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBrZXJuZWwgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMua2VybmVsO1xuICAgICAgICBrZXJuZWwub24oXCJkaXNhYmxlXCIsICgpID0+IHRoaXMuJHRpbWVvdXRSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpKTtcbiAgICAgICAga2VybmVsLm9uKFwidW5pbnN0YWxsXCIsICgpID0+IHRoaXMuJHRpbWVvdXRSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTCkpO1xuICAgICAgICB0aGlzLiQuYXNzaWduKFwidGltZW91dHNcIiwgdGhpcy4kLmNyZWF0ZVN1Yk1hcCgpLCBKRmFjdG9yeU9iamVjdC5kZXNjcmlwdG9ycy5FTlVNRVJBQkxFKTtcbiAgICB9XG5cbiAgICAkdGltZW91dChpZCwgZGVsYXksIGhhbmRsZXIgPSBudWxsLCAuLi5hcmdzKSB7XG4gICAgICAgIC8vIGlkXG4gICAgICAgIC8vIGlkLCBkZWxheVxuICAgICAgICAvLyBpZCwgZGVsYXksIGhhbmRsZXIsIC4uLmFyZ3NcblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImRlbGF5XCIsIGRlbGF5KS50eXBlTnVtYmVyKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImhhbmRsZXJcIiwgaGFuZGxlcikudHlwZShGdW5jdGlvbiwgbnVsbCk7XG4gICAgICAgICAgICBpZiAodGhpcy4kLnRpbWVvdXRzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfRFVQTElDQVRFRCh7IHRhcmdldDogXCIkdGltZW91dChpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGltZXI7XG4gICAgICAgIGxldCBwcm9taXNlID0gbmV3IEpGYWN0b3J5UHJvbWlzZShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBpZCxcbiAgICAgICAgICAgICAgICB0cmFjZVNvdXJjZTogakZhY3RvcnlUcmFjZS50cmFjZXIuY2FwdHVyZVRyYWNlU291cmNlKFwiJHRpbWVvdXRcIiksXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNoYWluQXV0b0NvbXBsZXRlOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvbWlzZS4kaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGhhbmRsZXIgPyBoYW5kbGVyKC4uLmFyZ3MpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGRlbGF5KVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHByb21pc2UuJGNoYWluLmRhdGEudGltZXIgPSB0aW1lcjtcbiAgICAgICAgdGhpcy4kLnRpbWVvdXRzLiRyZWdpc3RlckFzeW5jKGlkLCAnJHRpbWVvdXQoXCInICsgaWQgKyAnXCIpJywgcHJvbWlzZSk7XG5cbiAgICAgICAgcHJvbWlzZS4kY2hhaW4udGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy4kLnRpbWVvdXRzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiR0aW1lb3V0UmVtb3ZlKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG4gICAgJHRpbWVvdXRSZW1vdmUoaWQsIHJlYXNvbikge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiR0aW1lb3V0UmVtb3ZlKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgcmVhc29uICYmIEpGYWN0b3J5RXhwZWN0KFwiJHRpbWVvdXRSZW1vdmUocmVhc29uKVwiLCByZWFzb24pLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy4kLnRpbWVvdXRzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfTUlTU0lORyh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCIkdGltZW91dFJlbW92ZShpZClcIixcbiAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IGlkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1kZWJ1Z2dlcixicmFjZS1zdHlsZVxuICAgICAgICAgICAgaWYgKHRoaXMuJC50aW1lb3V0cy5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkKSB7ZGVidWdnZXJ9XG4gICAgICAgICAgICB0aGlzLiQudGltZW91dHMuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZW50cnkgPSB0aGlzLiQudGltZW91dHMuZ2V0KGlkKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGVudHJ5LiRjaGFpbi5kYXRhLnRpbWVyKTtcbiAgICAgICAgLy8gZGVsZXRpbmcgYmVmb3JlIGNoYWluQWJvcnQoKSB0byBwcmV2ZW50IHJlbW92ZSgpIHJlY2FsbFxuICAgICAgICB0aGlzLiQudGltZW91dHMuZGVsZXRlKGlkKTtcbiAgICAgICAgZW50cnkuJGNoYWluQWJvcnQocmVhc29uIHx8IFwiJHRpbWVvdXRSZW1vdmUoKVwiKTtcbiAgICB9XG5cbiAgICAkdGltZW91dFJlbW92ZUFsbChyZW1vdmVQaGFzZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcInJlbW92ZVBoYXNlXCIsIHJlbW92ZVBoYXNlKVxuICAgICAgICAgICAgICAgIC5lcXVhbEluKFRyYWl0U2VydmljZS5QSEFTRVMpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdWJzID0gdGhpcy4kLnRpbWVvdXRzO1xuICAgICAgICBpZiAoc3Vicy5zaXplKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHN1Yl0gb2Ygc3Vicykge1xuICAgICAgICAgICAgICAgIGlmIChzdWIuJHBoYXNlUmVtb3ZlID09PSByZW1vdmVQaGFzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiR0aW1lb3V0UmVtb3ZlKGtleSwgXCIkdGltZW91dFJlbW92ZUFsbCgpXCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0IEludGVydmFsXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFRyYWl0SW50ZXJ2YWwge1xuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBrZXJuZWwgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMua2VybmVsO1xuICAgICAgICBrZXJuZWwub24oXCJkaXNhYmxlXCIsICgpID0+IHRoaXMuJGludGVydmFsUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5ESVNBQkxFKSk7XG4gICAgICAgIGtlcm5lbC5vbihcInVuaW5zdGFsbFwiLCAoKSA9PiB0aGlzLiRpbnRlcnZhbFJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMKSk7XG4gICAgICAgIHRoaXMuJC5hc3NpZ24oXCJ0aW1laW50c1wiLCB0aGlzLiQuY3JlYXRlU3ViTWFwKCksIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLkVOVU1FUkFCTEUpO1xuICAgIH1cblxuICAgICRpbnRlcnZhbChpZCwgZGVsYXksIGhhbmRsZXIsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJpZFwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJoYW5kbGVyXCIsIGhhbmRsZXIpLnR5cGVGdW5jdGlvbigpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJkZWxheVwiLCBkZWxheSkudHlwZU51bWJlcigpO1xuICAgICAgICAgICAgaWYgKHRoaXMuJC50aW1laW50cy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX0RVUExJQ0FURUQoeyB0YXJnZXQ6IFwiJGludGVydmFsKGlkKVwiLCBnaXZlbjogaWQgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgdGltZXIgPSBzZXRJbnRlcnZhbChoYW5kbGVyLCBkZWxheSwgLi4uYXJncyk7XG4gICAgICAgIHRoaXMuJC50aW1laW50cy4kcmVnaXN0ZXJTeW5jKGlkLCB0aW1lcilcbiAgICB9XG5cbiAgICAkaW50ZXJ2YWxSZW1vdmUoaWQpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkaW50ZXJ2YWxSZW1vdmUoaWQpXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJC50aW1laW50cy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX01JU1NJTkcoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiJGludGVydmFsUmVtb3ZlKGlkKVwiLFxuICAgICAgICAgICAgICAgICAgICBnaXZlbjogaWRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyLGJyYWNlLXN0eWxlXG4gICAgICAgICAgICBpZiAodGhpcy4kLnRpbWVpbnRzLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQpIHtkZWJ1Z2dlcn1cbiAgICAgICAgICAgIHRoaXMuJC50aW1laW50cy5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy4kLnRpbWVpbnRzLmdldChpZCkuJHZhbHVlKTtcbiAgICAgICAgdGhpcy4kLnRpbWVpbnRzLmRlbGV0ZShpZClcbiAgICB9XG5cbiAgICAkaW50ZXJ2YWxSZW1vdmVBbGwocmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJyZW1vdmVQaGFzZVwiLCByZW1vdmVQaGFzZSlcbiAgICAgICAgICAgICAgICAuZXF1YWxJbihUcmFpdFNlcnZpY2UuUEhBU0VTKVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdWJzID0gdGhpcy4kLnRpbWVpbnRzO1xuICAgICAgICBpZiAoc3Vicy5zaXplKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHN1Yl0gb2Ygc3Vicykge1xuICAgICAgICAgICAgICAgIGlmIChzdWIuJHBoYXNlUmVtb3ZlID09PSByZW1vdmVQaGFzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpbnRlcnZhbFJlbW92ZShrZXkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRyYWl0IE11dGF0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBUcmFpdE11dGF0aW9uIHtcbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3Qga2VybmVsID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmtlcm5lbDtcbiAgICAgICAga2VybmVsLm9uKFwiZGlzYWJsZVwiLCAoKSA9PiB0aGlzLiRtdXRhdGlvblJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSkpO1xuICAgICAgICBrZXJuZWwub24oXCJ1bmluc3RhbGxcIiwgKCkgPT4gdGhpcy4kbXV0YXRpb25SZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTCkpO1xuICAgICAgICB0aGlzLiQuYXNzaWduKFwibXV0YXRpb25zXCIsIHRoaXMuJC5jcmVhdGVTdWJNYXAoKSwgSkZhY3RvcnlPYmplY3QuZGVzY3JpcHRvcnMuRU5VTUVSQUJMRSk7XG4gICAgfVxuXG4gICAgJG11dGF0aW9uKGlkLCBwYXJlbnQsIGNvbmZpZywgaGFuZGxlcikge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcInBhcmVudFwiLCBwYXJlbnQpLnR5cGUoSFRNTEVsZW1lbnQsIERvY3VtZW50KTtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiY29uZmlnXCIsIGNvbmZpZykudHlwZVBsYWluT2JqZWN0KCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImhhbmRsZXJcIiwgaGFuZGxlcikudHlwZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICBpZiAodGhpcy4kLm11dGF0aW9ucy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX0RVUExJQ0FURUQoeyB0YXJnZXQ6IFwiJG11dGF0aW9uKGlkKVwiLCBnaXZlbjogaWQgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihoYW5kbGVyKTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShwYXJlbnQsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMuJC5tdXRhdGlvbnMuJHJlZ2lzdGVyU3luYyhpZCwgb2JzZXJ2ZXIpO1xuICAgIH1cblxuICAgICRtdXRhdGlvblJlbW92ZShpZCwgcmVhc29uKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJG11dGF0aW9uUmVtb3ZlKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgcmVhc29uICYmIEpGYWN0b3J5RXhwZWN0KFwiJG11dGF0aW9uUmVtb3ZlKHJlYXNvbilcIiwgcmVhc29uKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJC5tdXRhdGlvbnMuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9NSVNTSU5HKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIiRtdXRhdGlvblJlbW92ZShpZClcIixcbiAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IGlkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1kZWJ1Z2dlcixicmFjZS1zdHlsZVxuICAgICAgICAgICAgaWYgKHRoaXMuJC5tdXRhdGlvbnMuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCkge2RlYnVnZ2VyfVxuICAgICAgICAgICAgdGhpcy4kLm11dGF0aW9ucy5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuJC5tdXRhdGlvbnMuZ2V0KGlkKS4kdmFsdWUuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLiQubXV0YXRpb25zLmRlbGV0ZShpZClcbiAgICB9XG5cbiAgICAkbXV0YXRpb25SZW1vdmVBbGwocmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJyZW1vdmVQaGFzZVwiLCByZW1vdmVQaGFzZSlcbiAgICAgICAgICAgICAgICAuZXF1YWxJbihUcmFpdFNlcnZpY2UuUEhBU0VTKVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdWJzID0gdGhpcy4kLm11dGF0aW9ucztcbiAgICAgICAgaWYgKHN1YnMuc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBzdWJdIG9mIHN1YnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ViLiRwaGFzZVJlbW92ZSA9PT0gcmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbXV0YXRpb25SZW1vdmUoa2V5KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFpdCBET01cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgVHJhaXRET00ge1xuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBrZXJuZWwgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMua2VybmVsO1xuICAgICAgICBrZXJuZWwub24oXCJkaXNhYmxlXCIsICgpID0+IHRoaXMuJGRvbVJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSkpO1xuICAgICAgICBrZXJuZWwub24oXCJ1bmluc3RhbGxcIiwgKCkgPT4gdGhpcy4kZG9tUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEwpKTtcbiAgICAgICAgdGhpcy4kLmFzc2lnbihcImRvbVwiLCB0aGlzLiQuY3JlYXRlU3ViTWFwKCksIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLkVOVU1FUkFCTEUpO1xuICAgIH1cblxuICAgICRkb20oaWQsIGpRdWVyeUFyZ3VtZW50LCBhcHBlbmRUbykge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImpRdWVyeUFyZ3VtZW50XCIsIGpRdWVyeUFyZ3VtZW50KS50eXBlKFN0cmluZywgT2JqZWN0KTtcbiAgICAgICAgICAgIGFwcGVuZFRvICYmIEpGYWN0b3J5RXhwZWN0KFwiYXBwZW5kVG9cIiwgYXBwZW5kVG8pLnR5cGUoU3RyaW5nLCBPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRvbUlkO1xuICAgICAgICBpZiAoaWRbMF0gPT09IFwiI1wiKSB7XG4gICAgICAgICAgICBpZCA9IGlkLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIGRvbUlkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFViAmJiB0aGlzLiQuZG9tLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9EVVBMSUNBVEVEKHsgdGFyZ2V0OiBcIiRkb20oaWQpXCIsIGdpdmVuOiBpZCB9KVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRvbSA9IGpRdWVyeShqUXVlcnlBcmd1bWVudCk7XG5cbiAgICAgICAgaWYgKGRvbVswXS50YWdOYW1lID09PSBcIlRFTVBMQVRFXCIpIHtcbiAgICAgICAgICAgIGRvbSA9IGpRdWVyeShqUXVlcnkoZG9tWzBdKS5odG1sKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRvbUlkKSB7XG4gICAgICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRvbVswXS5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuSU5WQUxJRF9WQUxVRSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiJGRvbSgjaWQpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnaXZlbjogZG9tLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcImNhbm5vdCBzZXQgdGhlIGRvbSBpZDogdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIHNlbGVjdGlvbiBpc24ndCBhbiBFTEVNRU5UX05PREVcIlxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvbVswXS5pZCA9IGlkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXBwZW5kVG8pIHtcbiAgICAgICAgICAgIGRvbS5hcHBlbmRUbyhhcHBlbmRUbylcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLiQuZG9tLiRyZWdpc3RlclN5bmMoaWQsIGRvbSkuJHZhbHVlO1xuICAgIH1cblxuICAgICRkb21GZXRjaChpZCwgdXJsLCBmZXRjaE9wdGlvbnMsIGFwcGVuZFRvKSB7XG4gICAgICAgIGlmIChmZXRjaE9wdGlvbnMgJiYgIWhlbHBlcl9pc1BsYWluT2JqZWN0KGZldGNoT3B0aW9ucykpIHtcbiAgICAgICAgICAgIFtmZXRjaE9wdGlvbnMsIGFwcGVuZFRvXSA9IFt7fSwgZmV0Y2hPcHRpb25zXVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJpZFwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJ1cmxcIiwgdXJsKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBhcHBlbmRUbyAmJiBKRmFjdG9yeUV4cGVjdChcImFwcGVuZFRvXCIsIGFwcGVuZFRvKS50eXBlKFN0cmluZywgT2JqZWN0KTtcbiAgICAgICAgICAgIGZldGNoT3B0aW9ucyAmJiBKRmFjdG9yeUV4cGVjdChcImZldGNoT3B0aW9uc1wiLCBmZXRjaE9wdGlvbnMpLnR5cGUoT2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkb21JZDtcbiAgICAgICAgaWYgKGlkWzBdID09PSBcIiNcIikge1xuICAgICAgICAgICAgaWQgPSBpZC5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICBkb21JZCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYgJiYgdGhpcy4kLmRvbS5oYXMoaWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfRFVQTElDQVRFRCh7IHRhcmdldDogXCIkZG9tRmV0Y2goaWQpXCIsIGdpdmVuOiBpZCB9KVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHByb21pc2UgPSB0aGlzLiRmZXRjaFRleHQoJyRkb21GZXRjaChcIicgKyBpZCArICdcIiknLCB1cmwsIGZldGNoT3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKHIgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBkb20gPSBqUXVlcnkocik7XG4gICAgICAgICAgICAgICAgaWYgKGRvbUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbVswXS5pZCA9IGlkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhcHBlbmRUbykge1xuICAgICAgICAgICAgICAgICAgICBkb20uYXBwZW5kVG8oYXBwZW5kVG8pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBkb21cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuJC5kb20uJHJlZ2lzdGVyQXN5bmMoaWQsICckZG9tRmV0Y2goXCInICsgaWQgKyAnXCIpJywgcHJvbWlzZSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlXG4gICAgfVxuXG4gICAgJGRvbVJlbW92ZShpZCwgcmVhc29uKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwiJGRvbVJlbW92ZShpZClcIiwgaWQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIHJlYXNvbiAmJiBKRmFjdG9yeUV4cGVjdChcIiRkb21SZW1vdmUocmVhc29uKVwiLCByZWFzb24pLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy4kLmRvbS5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX01JU1NJTkcoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiJGRvbVJlbW92ZShpZClcIixcbiAgICAgICAgICAgICAgICAgICAgZ2l2ZW46IGlkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1kZWJ1Z2dlcixicmFjZS1zdHlsZVxuICAgICAgICAgICAgaWYgKHRoaXMuJC5kb20uZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCkge2RlYnVnZ2VyfVxuICAgICAgICAgICAgdGhpcy4kLmRvbS5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGVudHJ5ID0gdGhpcy4kLmRvbS5nZXQoaWQpO1xuICAgICAgICBsZXQgdmFsdWUgPSBlbnRyeS4kdmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGpRdWVyeSkge1xuICAgICAgICAgICAgdmFsdWUucmVtb3ZlKClcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW50cnkgaW5zdGFuY2VvZiBKRmFjdG9yeUZldGNoKSB7XG4gICAgICAgICAgICBlbnRyeS4kY2hhaW5BYm9ydChyZWFzb24gfHwgXCIkZG9tUmVtb3ZlKClcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kLmRvbS5kZWxldGUoaWQpXG4gICAgfVxuXG4gICAgJGRvbVJlbW92ZUFsbChyZW1vdmVQaGFzZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcInJlbW92ZVBoYXNlXCIsIHJlbW92ZVBoYXNlKVxuICAgICAgICAgICAgICAgIC5lcXVhbEluKFRyYWl0U2VydmljZS5QSEFTRVMpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN1YnMgPSB0aGlzLiQuZG9tO1xuICAgICAgICBpZiAoc3Vicy5zaXplKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHN1Yl0gb2Ygc3Vicykge1xuICAgICAgICAgICAgICAgIGlmIChzdWIuJHBoYXNlUmVtb3ZlID09PSByZW1vdmVQaGFzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRkb21SZW1vdmUoa2V5KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAgVHJhaXQgQ1NTXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFRyYWl0Q1NTIHtcbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3Qga2VybmVsID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmtlcm5lbDtcbiAgICAgICAga2VybmVsLm9uKFwiZGlzYWJsZVwiLCAoKSA9PiB0aGlzLiRjc3NSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLkRJU0FCTEUpKTtcbiAgICAgICAga2VybmVsLm9uKFwidW5pbnN0YWxsXCIsICgpID0+IHRoaXMuJGNzc1JlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuVU5JTlNUQUxMKSk7XG4gICAgICAgIHRoaXMuJC5hc3NpZ24oXCJjc3NcIiwgdGhpcy4kLmNyZWF0ZVN1Yk1hcCgpLCBKRmFjdG9yeU9iamVjdC5kZXNjcmlwdG9ycy5FTlVNRVJBQkxFKTtcbiAgICB9XG5cbiAgICAkY3NzKGlkLCBzdHlsZUJvZHkpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJpZFwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJjc3NcIiwgc3R5bGVCb2R5KS50eXBlU3RyaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3NzSWQ7XG4gICAgICAgIGlmIChpZFswXSA9PT0gXCIjXCIpIHtcbiAgICAgICAgICAgIGlkID0gaWQuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgY3NzSWQgPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWICYmIHRoaXMuJC5jc3MuaGFzKGlkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX0RVUExJQ0FURUQoeyB0YXJnZXQ6IFwiJGNzcyhpZClcIiwgZ2l2ZW46IGlkIH0pXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy4kLmNzcy4kcmVnaXN0ZXJTeW5jKGlkLFxuICAgICAgICAgICAgalF1ZXJ5KFwiPHN0eWxlPlwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKGNzc0lkID8geyBpZCB9IDoge30pXG4gICAgICAgICAgICAgICAgLmh0bWwoc3R5bGVCb2R5KVxuICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhcImhlYWRcIilcbiAgICAgICAgKS4kdmFsdWU7XG4gICAgfVxuXG4gICAgJGNzc0ZldGNoKGlkLCB1cmwsIGFwcGVuZFRvID0gXCJoZWFkXCIpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJpZFwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJ1cmxcIiwgdXJsKS50eXBlU3RyaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3NzSWQ7XG4gICAgICAgIGlmIChpZFswXSA9PT0gXCIjXCIpIHtcbiAgICAgICAgICAgIGlkID0gaWQuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgY3NzSWQgPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWICYmIHRoaXMuJC5jc3MuaGFzKGlkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGpGYWN0b3J5RXJyb3IuS0VZX0RVUExJQ0FURUQoeyB0YXJnZXQ6IFwiJGNzc0ZldGNoKGlkKVwiLCBnaXZlbjogaWQgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHVybCA9IGhlbHBlcl91cmxfYWJzKHVybCk7XG5cbiAgICAgICAgbGV0IGV4aXN0ID0galF1ZXJ5KGFwcGVuZFRvKS5maW5kKGBsaW5rW2hyZWY9XCIke3VybH1cIl1gKVswXTtcbiAgICAgICAgaWYgKGV4aXN0KSB7XG4gICAgICAgICAgICBleGlzdC5kYXRhc2V0LnVzYWdlID0gcGFyc2VJbnQoZXhpc3QuZGF0YXNldC51c2FnZSkgKyAxO1xuICAgICAgICAgICAgbGV0IGRvbSA9IGpRdWVyeShleGlzdCk7XG5cbiAgICAgICAgICAgIGxldCBwcm9taXNlID0gSkZhY3RvcnlQcm9taXNlLnJlc29sdmUoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiB7IGNoYWluQXV0b0NvbXBsZXRlOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIHRyYWNlU291cmNlOiBqRmFjdG9yeVRyYWNlLnRyYWNlci5jYXB0dXJlVHJhY2VTb3VyY2UoXCIkY3NzRmV0Y2hcIilcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRvbVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHByb21pc2UuJGNoYWluLmRhdGEuZG9tID0gZG9tO1xuICAgICAgICAgICAgdGhpcy4kLmNzcy4kcmVnaXN0ZXJBc3luYyhpZCwgJyRjc3NGZXRjaChcIicgKyBpZCArICdcIiknLCBwcm9taXNlKTtcblxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkb207XG4gICAgICAgICAgICBsZXQgcHJvbWlzZSA9IG5ldyBKRmFjdG9yeVByb21pc2UoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiB7IGNoYWluQXV0b0NvbXBsZXRlOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIHRyYWNlU291cmNlOiBqRmFjdG9yeVRyYWNlLnRyYWNlci5jYXB0dXJlVHJhY2VTb3VyY2UoXCIkY3NzRmV0Y2hcIilcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlc29sdmUgPT4gZG9tID0galF1ZXJ5KFwiPGxpbms+XCIsXG4gICAgICAgICAgICAgICAgICAgIHsgaWQ6IGNzc0lkID8gaWQgOiBcIlwiLCByZWw6IFwic3R5bGVzaGVldFwiLCB0eXBlOiBcInRleHQvY3NzXCIsIFwiZGF0YS11c2FnZVwiOiBcIjFcIiB9KVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oYXBwZW5kVG8pXG4gICAgICAgICAgICAgICAgICAgIC5vbihcImxvYWRcIiwgKCkgPT4gcmVzb2x2ZShkb20pKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImhyZWZcIiwgdXJsKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcHJvbWlzZS4kY2hhaW4uZGF0YS5kb20gPSBkb207XG4gICAgICAgICAgICB0aGlzLiQuY3NzLiRyZWdpc3RlckFzeW5jKGlkLCAnJGNzc0ZldGNoKFwiJyArIGlkICsgJ1wiKScsIHByb21pc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VcbiAgICAgICAgfVxuICAgIH1cblxuICAgICRjc3NSZW1vdmUoaWQsIHJlYXNvbikge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiRjc3NSZW1vdmUoaWQpXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICByZWFzb24gJiYgSkZhY3RvcnlFeHBlY3QoXCIkY3NzUmVtb3ZlKHJlYXNvbilcIiwgcmVhc29uKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJC5jc3MuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBqRmFjdG9yeUVycm9yLktFWV9NSVNTSU5HKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIiRjc3NSZW1vdmUoaWQpXCIsXG4gICAgICAgICAgICAgICAgICAgIGdpdmVuOiBpZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXIsYnJhY2Utc3R5bGVcbiAgICAgICAgICAgIGlmICh0aGlzLiQuY3NzLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQpIHtkZWJ1Z2dlcn1cbiAgICAgICAgICAgIHRoaXMuJC5jc3MuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlbnRyeSA9IHRoaXMuJC5jc3MuZ2V0KGlkKTtcbiAgICAgICAgbGV0IHZhbHVlID0gZW50cnkuJGNoYWluICYmIGVudHJ5LiRjaGFpbi5kYXRhLmRvbSB8fCBlbnRyeS4kdmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGpRdWVyeSkge1xuICAgICAgICAgICAgbGV0IHVzYWdlID0gcGFyc2VJbnQodmFsdWVbMF0uZGF0YXNldC51c2FnZSkgLSAxO1xuICAgICAgICAgICAgaWYgKHVzYWdlKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVbMF0uZGF0YXNldC51c2FnZSA9IHVzYWdlXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlLnJlbW92ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVudHJ5IGluc3RhbmNlb2YgSkZhY3RvcnlQcm9taXNlKSB7XG4gICAgICAgICAgICBlbnRyeS4kY2hhaW5BYm9ydChyZWFzb24gfHwgXCIkY3NzUmVtb3ZlKClcIilcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiQuY3NzLmRlbGV0ZShpZClcbiAgICB9XG5cbiAgICAkY3NzUmVtb3ZlQWxsKHJlbW92ZVBoYXNlKSB7XG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYpIHtcbiAgICAgICAgICAgIEpGYWN0b3J5RXhwZWN0KFwicmVtb3ZlUGhhc2VcIiwgcmVtb3ZlUGhhc2UpXG4gICAgICAgICAgICAgICAgLmVxdWFsSW4oVHJhaXRTZXJ2aWNlLlBIQVNFUylcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3VicyA9IHRoaXMuJC5jc3M7XG4gICAgICAgIGlmIChzdWJzLnNpemUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgc3ViXSBvZiBzdWJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1Yi4kcGhhc2VSZW1vdmUgPT09IHJlbW92ZVBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGNzc1JlbW92ZShrZXkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVHJhaXRMaWJWdWUge1xuICAgIHRyYWl0X2NvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBrZXJuZWwgPSB0aGlzLiRbVHJhaXRDb3JlLlNZTUJPTF9QUklWQVRFXS5ldmVudHMua2VybmVsO1xuICAgICAgICBrZXJuZWwub24oXCJkaXNhYmxlXCIsICgpID0+IHRoaXMuJHZ1ZVJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSkpO1xuICAgICAgICBrZXJuZWwub24oXCJ1bmluc3RhbGxcIiwgKCkgPT4gdGhpcy4kdnVlUmVtb3ZlQWxsKFRyYWl0U2VydmljZS5QSEFTRS5VTklOU1RBTEwpKTtcbiAgICAgICAgdGhpcy4kLmFzc2lnbihcInZ1ZVwiLCB0aGlzLiQuY3JlYXRlU3ViTWFwKCksIEpGYWN0b3J5T2JqZWN0LmRlc2NyaXB0b3JzLkVOVU1FUkFCTEUpO1xuICAgIH1cblxuICAgICR2dWUoaWQsIHZ1ZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcInZ1ZVwiLCB2dWUpLnR5cGUoT2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChKRkFDVE9SWV9ERVYgJiYgdGhpcy4kLnZ1ZS5oYXMoaWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfRFVQTElDQVRFRCh7IHRhcmdldDogXCIkdnVlKGlkKVwiLCBnaXZlbjogaWQgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLiQudnVlLiRyZWdpc3RlclN5bmMoaWQsIHZ1ZSkuJHZhbHVlO1xuICAgIH1cblxuICAgICR2dWVSZW1vdmUoaWQpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCIkdnVlUmVtb3ZlKGlkKVwiLCBpZCkudHlwZVN0cmluZygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiQudnVlLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfTUlTU0lORyh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCIkdnVlUmVtb3ZlKGlkKVwiLFxuICAgICAgICAgICAgICAgICAgICBnaXZlbjogaWRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWRlYnVnZ2VyLGJyYWNlLXN0eWxlXG4gICAgICAgICAgICBpZiAodGhpcy4kLnZ1ZS5nZXQoaWQpLl9kZWJ1Z19yZW1vdmVfY2FsbGVkKSB7ZGVidWdnZXJ9XG4gICAgICAgICAgICB0aGlzLiQudnVlLmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQgPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZW50cnkgPSB0aGlzLiQudnVlLmdldChpZCk7XG4gICAgICAgIGpRdWVyeShlbnRyeS4kdmFsdWUuJGVsKS5yZW1vdmUoKTtcbiAgICAgICAgZW50cnkuJHZhbHVlLiRkZXN0cm95KCk7XG4gICAgICAgIHRoaXMuJC52dWUuZGVsZXRlKGlkKVxuICAgIH1cblxuICAgICR2dWVSZW1vdmVBbGwocmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgSkZhY3RvcnlFeHBlY3QoXCJyZW1vdmVQaGFzZVwiLCByZW1vdmVQaGFzZSlcbiAgICAgICAgICAgICAgICAuZXF1YWxJbihUcmFpdFNlcnZpY2UuUEhBU0VTKVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdWJzID0gdGhpcy4kLnZ1ZTtcbiAgICAgICAgaWYgKHN1YnMuc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBzdWJdIG9mIHN1YnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ViLiRwaGFzZVJlbW92ZSA9PT0gcmVtb3ZlUGhhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kdnVlUmVtb3ZlKGtleSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUcmFpdExpYlJlYWN0IHtcbiAgICB0cmFpdF9jb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3Qga2VybmVsID0gdGhpcy4kW1RyYWl0Q29yZS5TWU1CT0xfUFJJVkFURV0uZXZlbnRzLmtlcm5lbDtcbiAgICAgICAga2VybmVsLm9uKFwiZGlzYWJsZVwiLCAoKSA9PiB0aGlzLiRyZWFjdFJlbW92ZUFsbChUcmFpdFNlcnZpY2UuUEhBU0UuRElTQUJMRSkpO1xuICAgICAgICBrZXJuZWwub24oXCJ1bmluc3RhbGxcIiwgKCkgPT4gdGhpcy4kcmVhY3RSZW1vdmVBbGwoVHJhaXRTZXJ2aWNlLlBIQVNFLlVOSU5TVEFMTCkpO1xuICAgICAgICB0aGlzLiQuYXNzaWduKFwicmVhY3RcIiwgdGhpcy4kLmNyZWF0ZVN1Yk1hcCgpLCBKRmFjdG9yeU9iamVjdC5kZXNjcmlwdG9ycy5FTlVNRVJBQkxFKTtcbiAgICB9XG5cbiAgICAkcmVhY3QoaWQsIGNvbnRhaW5lciwgZWxlbWVudCwgLi4ucmVuZGVyT3RoZXJBcmd1bWVudHMpIHtcbiAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgaWYgKCFqRmFjdG9yeS5SZWFjdERPTSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImpGYWN0b3J5LlJlYWN0RE9NPVJlYWN0RE9NIG11c3QgYmUgc2V0IGJlZm9yZSB1c2luZyB0aGUgUmVhY3QgVHJhaXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImlkXCIsIGlkKS50eXBlU3RyaW5nKCk7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcImNvbnRhaW5lclwiLCBjb250YWluZXIpLnR5cGUoSFRNTEVsZW1lbnQsIGpRdWVyeSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoSkZBQ1RPUllfREVWICYmIHRoaXMuJC5yZWFjdC5oYXMoaWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfRFVQTElDQVRFRCh7IHRhcmdldDogXCIkcmVhY3QoaWQpXCIsIGdpdmVuOiBpZCB9KVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyID0galF1ZXJ5KGNvbnRhaW5lcilbMF07XG4gICAgICAgIGxldCB2aWV3ID0gakZhY3RvcnkuUmVhY3RET00ucmVuZGVyKGVsZW1lbnQsIGNvbnRhaW5lciwgLi4ucmVuZGVyT3RoZXJBcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gdGhpcy4kLnJlYWN0LiRyZWdpc3RlclN5bmMoaWQsIHsgY29udGFpbmVyLCB2aWV3IH0pLiR2YWx1ZS52aWV3O1xuICAgIH1cblxuICAgICRyZWFjdFJlbW92ZShpZCkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcIiRyZWFjdFJlbW92ZShpZClcIiwgaWQpLnR5cGVTdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy4kLnJlYWN0LmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgakZhY3RvcnlFcnJvci5LRVlfTUlTU0lORyh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCIkcmVhY3RSZW1vdmUoaWQpXCIsXG4gICAgICAgICAgICAgICAgICAgIGdpdmVuOiBpZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXIsYnJhY2Utc3R5bGVcbiAgICAgICAgICAgIGlmICh0aGlzLiQucmVhY3QuZ2V0KGlkKS5fZGVidWdfcmVtb3ZlX2NhbGxlZCkge2RlYnVnZ2VyfVxuICAgICAgICAgICAgdGhpcy4kLnJlYWN0LmdldChpZCkuX2RlYnVnX3JlbW92ZV9jYWxsZWQgPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLiQucmVhY3QuZ2V0KGlkKS4kdmFsdWU7XG4gICAgICAgIGxldCBlbCA9IHZhbHVlLmNvbnRhaW5lcjtcbiAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICBpZiAoIWpGYWN0b3J5LlJlYWN0RE9NLnVubW91bnRDb21wb25lbnRBdE5vZGUoZWwpKSB7XG4gICAgICAgICAgICAgICAgaWYgKEpGQUNUT1JZX0RFVikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRsb2dXYXJuKFwidW5tb3VudENvbXBvbmVudEF0Tm9kZSBmYWlsZWQgdG8gdW5tb3VudFwiLCBlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgalF1ZXJ5KGVsKS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiQucmVhY3QuZGVsZXRlKGlkKVxuICAgIH1cblxuICAgICRyZWFjdFJlbW92ZUFsbChyZW1vdmVQaGFzZSkge1xuICAgICAgICBpZiAoSkZBQ1RPUllfREVWKSB7XG4gICAgICAgICAgICBKRmFjdG9yeUV4cGVjdChcInJlbW92ZVBoYXNlXCIsIHJlbW92ZVBoYXNlKVxuICAgICAgICAgICAgICAgIC5lcXVhbEluKFRyYWl0U2VydmljZS5QSEFTRVMpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN1YnMgPSB0aGlzLiQucmVhY3Q7XG4gICAgICAgIGlmIChzdWJzLnNpemUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgc3ViXSBvZiBzdWJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1Yi4kcGhhc2VSZW1vdmUgPT09IHJlbW92ZVBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlYWN0UmVtb3ZlKGtleSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5qRmFjdG9yeS5UcmFpdEZldGNoID0gVHJhaXRGZXRjaDtcbmpGYWN0b3J5LlRyYWl0VGltZW91dCA9IFRyYWl0VGltZW91dDtcbmpGYWN0b3J5LlRyYWl0SW50ZXJ2YWwgPSBUcmFpdEludGVydmFsO1xuakZhY3RvcnkuVHJhaXRNdXRhdGlvbiA9IFRyYWl0TXV0YXRpb247XG5qRmFjdG9yeS5UcmFpdERPTSA9IFRyYWl0RE9NO1xuakZhY3RvcnkuVHJhaXRDU1MgPSBUcmFpdENTUztcbmpGYWN0b3J5LlRyYWl0TGliVnVlID0gVHJhaXRMaWJWdWU7XG5qRmFjdG9yeS5UcmFpdExpYlJlYWN0ID0gVHJhaXRMaWJSZWFjdDsiLCIvKiBqRmFjdG9yeSwgQ29weXJpZ2h0IChjKSAyMDE5LCBTdMOpcGhhbmUgUGxhemlzLCBodHRwczovL2dpdGh1Yi5jb20vamZhY3RvcnktZXMvamZhY3RvcnkvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBqRmFjdG9yeSBidW5kbGUgaW5kZXggKHNlZSBwYWNrYWdlLmpzb24gc2NyaXB0cyB0byBjb21waWxlIHRoZSAvZGlzdClcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVXNlZCBieSB0aGUgYnVpbGQgc2NyaXB0cyB0byBjb21waWxlIG1vZHVsZXMgdGFyZ2V0aW5nIHRoZSBjb25maWd1cmF0aW9uIChwcm9kdWN0aW9uLCBkZXZlbG9wbWVudCwgZGVidWcuLi4pXG4vLyBBbG1vc3QgZXZlcnl0aGluZyBpcyBleHBvcnRlZDsgVGhlIHJlc3VsdGluZyBtb2R1bGVzIHNob3VsZCBiZSBpbXBvcnRlZCBieSBhIGJ1bmRsZXIgdGhhdCBzdXBwb3J0cyBUcmVlIFNoYWNraW5nLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmltcG9ydCB7IGpGYWN0b3J5TG9hZGVyIH0gZnJvbSBcIi4vakZhY3RvcnktbG9hZGVyXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2pGYWN0b3J5XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9qRmFjdG9yeS1lbnZcIjtcblxuZXhwb3J0ICogZnJvbSBcIi4vakZhY3RvcnktdHJhaXRzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9qRmFjdG9yeS1sb2FkZXJcIjtcblxuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlBYm91dFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlFcnJvclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlFdmVudHNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0pGYWN0b3J5RXhwZWN0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeUZldGNoXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeUZ1bmN0aW9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeUxvZ2dlclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlPYmplY3RcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0pGYWN0b3J5UHJvbWlzZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vSkZhY3RvcnlUaW1lXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeVRyYWNlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9KRmFjdG9yeVRyYWl0c1wiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9UcmFpdHNDb3JlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9UcmFpdHNDb21wb25lbnRzXCI7XG5cbmlmICh0eXBlb2YgakZhY3RvcnlPdmVycmlkZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhakZhY3RvcnlPdmVycmlkZSkge1xuICAgIGpGYWN0b3J5TG9hZGVyLmluaXQoKTtcbn0iXSwibmFtZXMiOlsiSkZBQ1RPUllfREVWIiwiSkZBQ1RPUllfREVCVUciLCJKRkFDVE9SWV9DTEkiLCJwcm9jZXNzIiwidmVyc2lvbnMiLCJub2RlIiwiakZhY3RvcnlDb25maWciLCJUcmFpdExvZyIsIkpGYWN0b3J5RXJyb3IiLCJrZXlzIiwiSkZhY3RvcnlUcmFjZSIsImxpYk9wdGlvbnMiLCJvZmZsaW5lIiwiQm9vbGVhbiIsImdsb2JhbFRoaXMiLCJjaHJvbWUiLCJmaWx0ZXIiLCJ2YWx1ZSIsImxpbmVOdW1iZXIiLCJqRmFjdG9yeURldiIsInJlcXVpcmVDb21wYXRpYmlsaXR5IiwidGVzdCIsImluZm8iLCJmZXRjaCIsIlJlcXVlc3QiLCJBYm9ydENvbnRyb2xsZXIsIEFib3J0U2lnbmFsIiwiQWJvcnRDb250cm9sbGVyIiwic2lnbmFsIiwiTXV0YXRpb25PYnNlcnZlciIsImpGYWN0b3J5TG9hZGVyIiwic2VxIiwiW29iamVjdCBPYmplY3RdIiwidGhpcyIsIm1vZHVsZSIsImpGYWN0b3J5T3ZlcnJpZGUiLCJoYW5kbGVyIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJuYW1lIiwiZW50cnkiLCJPYmplY3QiLCJlbnRyaWVzIiwicGFzcyIsImlnbm9yZSIsIndhcm4iLCJqRmFjdG9yeUluaXQiLCJvbkluaXQiLCJqUXVlcnkiLCIkIiwiaGVscGVyX2lzTmF0aXZlIiwiXyIsImlzTmF0aXZlIiwiaGVscGVyX2lzU3RyaW5nIiwiaXNTdHJpbmciLCJoZWxwZXJfaXNOdW1iZXIiLCJpc051bWJlciIsImhlbHBlcl9pc1BsYWluT2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsImhlbHBlcl9kZWZhdWx0c0RlZXAiLCJkZWZhdWx0c0RlZXAiLCJoZWxwZXJfbG93ZXJGaXJzdCIsImxvd2VyRmlyc3QiLCJoZWxwZXJfZ2V0IiwiZ2V0IiwiaGVscGVyX3RlbXBsYXRlIiwidGVtcGxhdGUiLCJoZWxwZXJfY2FtZWxDYXNlIiwiY2FtZWxDYXNlIiwiaGVscGVyX3VybF9hYnMiLCJ1cmwiLCJhIiwiaHJlZiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIk5PT1AiLCJzZXRGdW5jdGlvbk5hbWUiLCJmIiwiZGVmaW5lUHJvcGVydHkiLCJKRmFjdG9yeVRyYWNlX05PRklMVEVSIiwibGFiZWwiLCJzdGFja1RyYWNlTGltaXQiLCJJbmZpbml0eSIsIm9taXRBYm92ZUZ1bmN0aW9uTmFtZSIsIm9taXRTZWxmIiwiX3N0YWNrVHJhY2VMaW1pdCIsIkVycm9yIiwidHJhY2VTb3VyY2UiLCJzb3VyY2UiLCJ0YXJnZXRPYmplY3QiLCJjYXB0dXJlVHJhY2VTb3VyY2UiLCJ0cmFjZSIsInRvUHJpbnRhYmxlVHJhY2UiLCJ0aGVuIiwiciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsIkpGYWN0b3J5VHJhY2VfTElCX1NUQUNLVFJBQ0UiLCJjb25maWciLCJzdXBlciIsIlN0YWNrVHJhY2UiLCJmcm9tRXJyb3IiLCJ0cmFjZUZyYW1lcyIsInNsaWNlIiwiZmluZEluZGV4IiwiZnVuY3Rpb25OYW1lIiwiZW5kc1dpdGgiLCJmb3JtYXRUcmFjZUZyYW1lcyIsImhlYWRlciIsImxpbmVQcmVmaXgiLCJ3aW5kb3ciLCJtYXAiLCJzZiIsInRvU3RyaW5nIiwiam9pbiIsImpGYWN0b3J5VHJhY2UiLCJ1c2UiLCJjb25zdHJ1Y3RvciIsInRyYWNlciIsImF0dGFjaFRyYWNlIiwibWVzc2FnZSIsImRhdGEiLCJhc3NpZ24iLCJjcmVhdGUiLCJ0b1ByaW50YWJsZSIsIiRkYXRhIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJvYmplY3QiLCJERUZBVUxUX0tFWVMiLCJmaW5kIiwia2V5IiwidmFsIiwidGVtcGxhdGVEYXRhIiwibnYiLCJ1bmRlZmluZWQiLCJnZXRJZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJsZW5ndGgiLCJKU09OX01BWCIsInN1YnN0cmluZyIsImUiLCJTdHJpbmciLCJ0ZW1wbGF0ZU1lc3NhZ2UiLCJwYXJ0Iiwic3BsaXQiLCJwbGFjZWhvbGRlciIsIlJFX1BMQUNFSE9MREVSIiwibGFzdEluZGV4IiwiZXhlYyIsInRyaW0iLCJ0b1ByaW50YWJsZURhdGEiLCJqRmFjdG9yeUVycm9yIiwiUHJveHkiLCJzZXQiLCJ0YXJnZXQiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsIkpGYWN0b3J5RXhwZWN0IiwiSU5WQUxJRF9WQUxVRSIsIklOVkFMSURfQ0FMTCIsIlBST01JU0VfRVhQSVJFRCIsIlJFUVVFU1RfRVJST1IiLCJLRVlfRFVQTElDQVRFRCIsIktFWV9NSVNTSU5HIiwiZXJyb3IiLCJyZWFzb24iLCJnaXZlbiIsInN0YXRpY01ldGhvZHMiLCJub3RVbmRlZmluZWQiLCJub3RFbXB0eVN0cmluZyIsIm5vdEZhbHN5IiwidmFsaWRTcGFjZXMiLCJyZXBsYWNlIiwibWF0Y2hSZWciLCJyZWciLCJleHBlY3RlZCIsIm9rIiwidHlwZU51bGwiLCJ0eXBlQm9vbGVhbiIsInR5cGVTdHJpbmciLCJ0eXBlTnVtYmVyIiwidHlwZUZ1bmN0aW9uIiwidHlwZVBsYWluT2JqZWN0IiwiZXF1YWxJbiIsIkFycmF5IiwiaXNBcnJheSIsInZhbHVlcyIsImluY2x1ZGVzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIndyaXRhYmxlIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwibm90V3JpdGFibGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsImNhbGwiLCJub3RFbnVtZXJhYmxlIiwibm90Q29uZmlndXJhYmxlIiwicmVzZXJ2ZWRQcm9wZXJ0eSIsImFyZ3MiLCJKRmFjdG9yeVRyYWl0cyIsImNhbGxlckluc3RhbmNlIiwiY2FsbGVyQ29uc3RydWN0b3IiLCJvcHRpb25zIiwidHJhaXQiLCJ0cmFpdEFyZ3MiLCJjYWNoZSIsIkNBQ0hFIiwiaGFzIiwiYWRkIiwiV2Vha1NldCIsIkpGYWN0b3J5VHJhaXQiLCJleHBvcnQiLCJ0cmFpdEluc3RhbmNlIiwidHJhaXRfY29uc3RydWN0b3IiLCJhcHBseSIsImlzU3RhdGljIiwic291cmNlRGVzY3JpcHRvciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJwcm9wZXJ0eU5hbWUiLCJwcmVmaXgiLCJnZXRQcmVmaXgiLCJnZXRUYXJnZXQiLCJwcm9wZXJ0eURlc2NyaXB0b3IiLCJwYXJzZWQiLCJwYXJzZXIiLCJkZWZhdWx0UGFyc2VyIiwiRVhDTFVERVMiLCJXZWFrTWFwIiwiSkZhY3RvcnlGdW5jdGlvbkNvbXBvc2VyIiwiaGFuZGxlcnMiLCJoYW5kbGVyR3JvdXBzIiwiaGFuZGxlckdyb3VwIiwiYXJndW1lbnRzIiwidW5zaGlmdCIsImNvbXBvc2VyIiwiY29tcG9zaXRlIiwiY29udGV4dCIsImNhbmNlbGVkIiwicGFyYW1ldGVycyIsImZyb20iLCJyZXN1bHQiLCJpdGVyYXRpb24iLCJuZXh0IiwiY29tcG9zaXRlX2l0ZXJhdG9yIiwic2NvcGUiLCJkb25lIiwiakZhY3RvcnlGdW5jdGlvbkV4cGlyYWJsZSIsIm9yaWdpbmFsSGFuZGxlciIsIkpGYWN0b3J5RnVuY3Rpb25FeHBpcmFibGUiLCJjb21wb3NlIiwiZXhwaXJlZENhbGxzIiwiZXhwaXJlZCIsImlzRXhwaXJlZCIsImV4cGlyYWJsZSIsInNldEV4cGlyZWQiLCJhZGRFeHBpcmVDb25kaXRpb24iLCJjb25kaXRpb24iLCJsYXN0IiwidHlwZSIsImJpbmQiLCJvbkV4cGlyZWQiLCJvbk5vdEV4cGlyZWQiLCJNYXhXYXJuaW5nRXhwaXJhdGlvbiIsImpGYWN0b3J5RnVuY3Rpb25Db25kaXRpb25hbCIsIkpGYWN0b3J5RnVuY3Rpb25Db25kaXRpb25hbCIsImZpcnN0IiwiY29uZGl0aW9uYWwiLCJhZGRDb25kaXRpb24iLCJoYW5kbGUiLCJqRmFjdG9yeUZ1bmN0aW9uV3JhcHBhYmxlIiwiSkZhY3RvcnlGdW5jdGlvbldyYXBwYWJsZSIsIndyYXBwYWJsZSIsImJlZm9yZUFsbCIsImp1c3RCZWZvcmUiLCJqdXN0QWZ0ZXIiLCJhZnRlckFsbCIsImpGYWN0b3J5VHJhaXRzIiwic3RhdGVzIiwiZW5hYmxlZCIsInNlcnZpY2UiLCJwaGFzZSIsIm93bmVyIiwiJGxvZ0VyciIsIkpGYWN0b3J5Q29yZU9iamVjdCIsImluamVjdCIsImpGYWN0b3J5IiwiVHJhaXRDb3JlIiwiVHJhaXRBYm91dCIsIlRyYWl0RXZlbnRzIiwiVHJhaXRTdGF0ZSIsIlRyYWl0U2VydmljZSIsIlRyYWl0VGFzayIsIkpGYWN0b3J5Q29tcG9uZW50IiwiVHJhaXRGZXRjaCIsIlRyYWl0RE9NIiwiVHJhaXRDU1MiLCJUcmFpdE11dGF0aW9uIiwiVHJhaXRUaW1lb3V0IiwiVHJhaXRJbnRlcnZhbCIsIlRyYWl0TGliVnVlIiwiVHJhaXRMaWJSZWFjdCIsInByb3BlcnRpZXMiLCJKRmFjdG9yeU9iamVjdCIsImRlc2NyaXB0b3JQcm90b3R5cGUiLCJERVNDUklQVE9SU19QUk9UT1RZUEUiLCJvIiwiTk9ORSIsIldSSVRBQkxFIiwiRU5VTUVSQUJMRSIsIkNPTkZJR1VSQUJMRSIsIkNPTkZJR1VSQUJMRV9XUklUQUJMRSIsIldSSVRBQkxFX0NPTkZJR1VSQUJMRSIsIkNPTkZJR1VSQUJMRV9FTlVNRVJBQkxFIiwiRU5VTUVSQUJMRV9DT05GSUdVUkFCTEUiLCJFTlVNRVJBQkxFX1dSSVRBQkxFIiwiV1JJVEFCTEVfRU5VTUVSQUJMRSIsIldSSVRBQkxFX0VOVU1FUkFCTEVfQ09ORklHVVJBQkxFIiwiV1JJVEFCTEVfQ09ORklHVVJBQkxFX0VOVU1FUkFCTEUiLCJFTlVNRVJBQkxFX0NPTkZJR1VSQUJMRV9XUklUQUJMRSIsIkVOVU1FUkFCTEVfV1JJVEFCTEVfQ09ORklHVVJBQkxFIiwiQ09ORklHVVJBQkxFX1dSSVRBQkxFX0VOVU1FUkFCTEUiLCJDT05GSUdVUkFCTEVfRU5VTUVSQUJMRV9XUklUQUJMRSIsIlJFQURPTkxZIiwiZGVzY3JpcHRvciIsImRlc2NyaXB0b3JzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZGVmaW5lUHJvcGVydGllcyIsImZsYXQiLCJkaXNpbmhlcml0IiwiY3JlYXRlRGVzY3JpcHRvcnMiLCJtb2R1bGVHZW5JZCIsInVpZCIsIkpGYWN0b3J5QWJvdXQiLCJhYm91dCIsImZpbmdlcnByaW50IiwidG9Mb3dlckNhc2UiLCJKRmFjdG9yeVByb21pc2UiLCJleGVjdXRvciIsImNoYWluSWQiLCJyZWplY3QiLCJERUZBVUxUX0NPTkZJRyIsIk51bWJlciIsIl9yZXNvbHZlIiwiX3JlamVjdCIsImNoYWluIiwiSkZhY3RvcnlQcm9taXNlQ2hhaW4iLCIkY2hhaW4iLCIkdHlwZSIsIiR2YWx1ZSIsIiRpc1NldHRsZWQiLCIkaXNSZWplY3RlZCIsIiRpc0Z1bGZpbGxlZCIsIiRpc0V4cGlyZWQiLCIkaXNBYm9ydGVkIiwiJGRldl9uYW1lIiwiJGRldl9wYXRoIiwiSkZhY3RvcnlQcm9taXNlUGF0aCIsIiRkZXZfcG9zaXRpb24iLCIkZGV2X3NvdXJjZSIsInRyeUF1dG9Db21wbGV0ZSIsImlzUGVuZGluZyIsIiRjaGFpbkNvbXBsZXRlIiwib25SZXNvbHZlIiwib25SZWplY3QiLCJUeXBlRXJyb3IiLCJ4IiwiY2FsbGVkIiwicmVzb2x2ZVByb21pc2UiLCJ5IiwicmVqZWN0UHJvbWlzZSIsImVycm9yRXhwaXJlZCIsIm9uU2V0dGxlIiwiY2hhaW5NYXAiLCJjaGFpbkNvbmZpZyIsImNoYWluQXV0b0NvbXBsZXRlIiwic2l6ZSIsIl9jaGFpbkF1dG9Db21wbGV0ZSIsIl9fcmVzb2x2ZV9fIiwiX19yZWplY3RfXyIsIm9uRnVsZmlsbGVkIiwib25SZWplY3RlZCIsImZvcmNlVHlwZSIsIndyYXBwZWRGdWxmaWxsZWQiLCJ3cmFwcGVkUmVqZWN0ZWQiLCJuZXdQcm9taXNlIiwic3RhcnRzV2l0aCIsImZOYW1lcyIsImNoYWluTmFtZSIsIiRkZXZfb25GdWxmaWxsZWQiLCIkZGV2X29uUmVqZWN0ZWQiLCJjaGFpblJvb3QiLCJvcHRpb25hbEFyZ3MiLCJjb21wbGV0ZSIsInByb21pc2UiLCJhYm9ydCIsInNpbGVudCIsIk1hcCIsImlzQ29tcGxldGVkIiwiX19kZWZlcnJlZF9fIiwiRGVmZXJyZWQiLCJpdGVtIiwiaSIsInByaW50YWJsZSIsInYiLCJKRmFjdG9yeVByb21pc2VTeW5jIiwiSkZhY3RvcnlFdmVudHMiLCJyZWdpc3RyeSIsIm9uTGlzdGVuZXJVcGRhdGUiLCJvbk9ic2VydmVyVXBkYXRlIiwiZXZlbnRzIiwic2VsZWN0b3IiLCJ2YWxpZGF0ZVNlbGVjdG9yIiwiSFRNTEVsZW1lbnQiLCJ3cmFwcGVkSGFuZGxlciIsIm9uIiwic3RhY2siLCJvZmYiLCJwZW5kaW5nIiwiZXZlbnQiLCJ0cmlnZ2VyIiwidHJpZ2dlckhhbmRsZXIiLCJhbGwiLCJhc3luYyIsIkpGYWN0b3J5RXZlbnRzTWFuYWdlciIsInBhcmVudCIsImFmZmlsaWF0ZVJ1bGVzIiwiYWZmaWxpYXRlQWRkUnVsZSIsInJ1bGVfbmFtZXNwYWNlIiwibmFtZXNwYWNlcyIsIkpGYWN0b3J5RXZlbnRTZWxlY3RvclBhcnNlciIsInBhcnNlZEV2ZW50IiwibmFtZXNwYWNlIiwiYWRkTmFtZXNwYWNlIiwiYWZmaWxpYXRlIiwiYXJnTCIsImpxdWVyeSIsInRyaWdnZXJTZXJpZXMiLCJ0cmlnZ2VyUGFyYWxsZWwiLCJlbG0iLCJfZGF0YSIsInR5cGVzIiwiSkZhY3RvcnlFdmVudFNlbGVjdG9yIiwiaGFzTmFtZXNwYWNlIiwiX2V2ZW50cyIsImV4cGFuZG8iLCJrIiwiaW5kZXhPZiIsImV2ZW50VHlwZUVudHJ5Iiwic2VsZWN0b3JzIiwicyIsIlNldCIsImRlbGV0ZSIsIm5zIiwic2hpZnQiLCJ2YWxpZGF0ZUV2ZW50IiwidmFsaWRhdGVOYW1lc3BhY2UiLCJKRmFjdG9yeUZldGNoIiwiZmV0Y2hPcHRpb25zIiwiZmV0Y2hSZXF1ZXN0IiwicmVzcG9uc2UiLCJmZXRjaFJlc3BvbnNlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsIiR0eXBlVGV4dCIsInRleHQiLCJyZXNwb25zZVRleHQiLCIkdHlwZUpTT04iLCJqc29uIiwicmVzcG9uc2VKU09OIiwiY2F0Y2giLCJhYm9ydEN0cmwiLCJhYm9ydENvbnRyb2xsZXIiLCJmZXRjaEFib3J0Q29udHJvbGxlciIsIiRjaGFpbkFib3J0IiwiU1lNQk9MX0VOQUJMRUQiLCJKRmFjdG9yeUxvZ2dlciIsIkRFRkFVTFRfQ09ORElUSU9OIiwiaW5zdGFsbEFjY2Vzc29yIiwicGFyZW50TG9nZ2VyIiwiZW5hYmxlIiwiZGlzYWJsZSIsIm5hdGl2ZU5hbWUiLCJmaWx0ZXJzIiwidGFyZ2V0TmFtZSIsImFjY2Vzc29yIiwiZm9ybWF0dGVyIiwic3ViIiwic3R5bGVzX2NzcyIsInN0eWxlc19jbGkiLCJGT1JNQVRURVJfTkFUSVZFIiwibG9nZ2VyIiwiRk9STUFUVEVSX0NMSSIsIkZPUk1BVFRFUl9CUk9XU0VSIiwiZXF1YWwiLCJKRmFjdG9yeVRpbWUiLCJEYXRlIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiZ2V0VVRDTWlsbGlzZWNvbmRzIiwidmFsdWVPZiIsImhvdXJzIiwiZ2V0VVRDSG91cnMiLCJtaW51dGVzIiwiZ2V0VVRDTWludXRlcyIsInNlY29uZHMiLCJnZXRVVENTZWNvbmRzIiwibWlsbGlzZWNvbmRzIiwiSkZhY3RvcnlUaW1lVHJhY2UiLCJlbGFwc2VkIiwidDEiLCJ0MCIsIiR0b0R1cmF0aW9uU3RyaW5nIiwiU3ViTWFwIiwiJHBoYXNlUmVtb3ZlIiwiZ2V0Q29udGV4dHVhbFJlbW92ZVBoYXNlIiwidGFza05hbWUiLCJ0YXNrIiwiJHRhc2siLCIkY2hhaW5BdXRvQ29tcGxldGUiLCJwcm90byIsIlNZTUJPTF9QUklWQVRFIiwiY3JlYXRlU3ViTWFwIiwidGFza3MiLCJyZXF1ZXN0cyIsImlkIiwiZXhlY3V0b3JPclZhbHVlIiwibWV0cmljcyIsIiR0YXNrTWV0cmljcyIsIiRkZXZfdGltaW5nIiwiZW5kIiwiJHRhc2tSZW1vdmUiLCJfY2FsbGVkIiwicmVtb3ZlUGhhc2UiLCJQSEFTRVMiLCJhdXRvQ29tcGxldGUiLCJhc3NpZ25Qcml2YXRlIiwiY3VzdG9tIiwia2VybmVsIiwiZXZlbnRNYW5hZ2VyIiwibGlzdGVuZXJzIiwiZ2V0RG9tTGlzdGVuZXJzIiwib2JzZXJ2ZXJzIiwiZ2V0T2JzZXJ2ZXJzIiwiJHRyaWdnZXIiLCJzdGF0ZVJvdXRlcyIsIiRzdGF0ZSIsImgiLCJiZWZvcmUiLCIkbm90aWZ5IiwiYWZ0ZXIiLCJub3RpZnkiLCJwcmV2aW91c1ZhbCIsIlBIQVNFIiwicGhhc2VRdWV1ZSIsInBoYXNlVGFzayIsInBoYXNlTWFwIiwiaW5zdGFsbCIsInVuaW5zdGFsbCIsImFzc2lnblByaXZhdGVNZW1iZXIiLCJpbnN0YWxsZWQiLCJzZXRFdmVudE5hbWVzcGFjZVJlbW92ZVBoYXNlIiwicGhhc2VSZXNvbHZlIiwiJHRhc2tSZW1vdmVBbGwiLCIkdGFza1Byb21pc2VBbGwiLCJvbkluc3RhbGwiLCJvbkVuYWJsZSIsIm9uRGlzYWJsZSIsIm9uVW5pbnN0YWxsIiwiJG9mZiIsInJlbW92YWwiLCJESVNBQkxFIiwiVU5JTlNUQUxMIiwicCIsIklOU1RBTEwiLCIkZW5hYmxlIiwiRU5BQkxFIiwicGhhc2VLaWxsIiwiJGRpc2FibGUiLCJjb21wb25lbnQiLCJqRmFjdG9yeUNvcmVPYmplY3QiLCJQSEFTRV9SRVZFUlQiLCJjdXJSZW1vdmVQaGFzZSIsIm5ld1JlbW92ZVBoYXNlIiwiZGVsZXRlTmFtZXNwYWNlIiwiJGZldGNoUmVtb3ZlQWxsIiwiJHJlZ2lzdGVyQXN5bmMiLCIkZmV0Y2hSZW1vdmUiLCIkZmV0Y2giLCJfZGVidWdfcmVtb3ZlX2NhbGxlZCIsInN1YnMiLCIkdGltZW91dFJlbW92ZUFsbCIsImRlbGF5IiwiRnVuY3Rpb24iLCJ0aW1lb3V0cyIsInRpbWVyIiwic2V0VGltZW91dCIsIiR0aW1lb3V0UmVtb3ZlIiwiY2xlYXJUaW1lb3V0IiwiJGludGVydmFsUmVtb3ZlQWxsIiwidGltZWludHMiLCJzZXRJbnRlcnZhbCIsIiRyZWdpc3RlclN5bmMiLCJjbGVhckludGVydmFsIiwiJGludGVydmFsUmVtb3ZlIiwiJG11dGF0aW9uUmVtb3ZlQWxsIiwiRG9jdW1lbnQiLCJtdXRhdGlvbnMiLCJvYnNlcnZlciIsIm9ic2VydmUiLCJkaXNjb25uZWN0IiwiJG11dGF0aW9uUmVtb3ZlIiwiJGRvbVJlbW92ZUFsbCIsImpRdWVyeUFyZ3VtZW50IiwiYXBwZW5kVG8iLCJkb21JZCIsImRvbSIsInRhZ05hbWUiLCJodG1sIiwibm9kZVR5cGUiLCJOb2RlIiwiRUxFTUVOVF9OT0RFIiwiJGZldGNoVGV4dCIsInJlbW92ZSIsIiRkb21SZW1vdmUiLCIkY3NzUmVtb3ZlQWxsIiwic3R5bGVCb2R5IiwiY3NzSWQiLCJjc3MiLCJhdHRyIiwiZXhpc3QiLCJkYXRhc2V0IiwidXNhZ2UiLCJwYXJzZUludCIsInJlbCIsImRhdGEtdXNhZ2UiLCIkY3NzUmVtb3ZlIiwiJHZ1ZVJlbW92ZUFsbCIsInZ1ZSIsIiRlbCIsIiRkZXN0cm95IiwiJHZ1ZVJlbW92ZSIsIiRyZWFjdFJlbW92ZUFsbCIsImNvbnRhaW5lciIsImVsZW1lbnQiLCJyZW5kZXJPdGhlckFyZ3VtZW50cyIsIlJlYWN0RE9NIiwicmVhY3QiLCJ2aWV3IiwicmVuZGVyIiwiZWwiLCJ1bm1vdW50Q29tcG9uZW50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
